function aw(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function id(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ow(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Xm={exports:{}},Xo={},Zm={exports:{}},ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ea=Symbol.for("react.element"),lw=Symbol.for("react.portal"),cw=Symbol.for("react.fragment"),uw=Symbol.for("react.strict_mode"),dw=Symbol.for("react.profiler"),hw=Symbol.for("react.provider"),fw=Symbol.for("react.context"),pw=Symbol.for("react.forward_ref"),mw=Symbol.for("react.suspense"),gw=Symbol.for("react.memo"),yw=Symbol.for("react.lazy"),$h=Symbol.iterator;function vw(e){return e===null||typeof e!="object"?null:(e=$h&&e[$h]||e["@@iterator"],typeof e=="function"?e:null)}var eg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tg=Object.assign,rg={};function Is(e,t,r){this.props=e,this.context=t,this.refs=rg,this.updater=r||eg}Is.prototype.isReactComponent={};Is.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Is.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ng(){}ng.prototype=Is.prototype;function ad(e,t,r){this.props=e,this.context=t,this.refs=rg,this.updater=r||eg}var od=ad.prototype=new ng;od.constructor=ad;tg(od,Is.prototype);od.isPureReactComponent=!0;var Mh=Array.isArray,sg=Object.prototype.hasOwnProperty,ld={current:null},ig={key:!0,ref:!0,__self:!0,__source:!0};function ag(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)sg.call(t,n)&&!ig.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:ea,type:e,key:i,ref:a,props:s,_owner:ld.current}}function xw(e,t){return{$$typeof:ea,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ea}function ww(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Fh=/\/+/g;function Ml(e,t){return typeof e=="object"&&e!==null&&e.key!=null?ww(""+e.key):t.toString(36)}function Ka(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ea:case lw:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ml(a,0):n,Mh(s)?(r="",e!=null&&(r=e.replace(Fh,"$&/")+"/"),Ka(s,t,r,"",function(u){return u})):s!=null&&(cd(s)&&(s=xw(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Fh,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Mh(e))for(var o=0;o<e.length;o++){i=e[o];var c=n+Ml(i,o);a+=Ka(i,t,r,c,s)}else if(c=vw(e),typeof c=="function")for(e=c.call(e),o=0;!(i=e.next()).done;)i=i.value,c=n+Ml(i,o++),a+=Ka(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function wa(e,t,r){if(e==null)return e;var n=[],s=0;return Ka(e,n,"","",function(i){return t.call(r,i,s++)}),n}function bw(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ut={current:null},Ja={transition:null},jw={ReactCurrentDispatcher:ut,ReactCurrentBatchConfig:Ja,ReactCurrentOwner:ld};function og(){throw Error("act(...) is not supported in production builds of React.")}ae.Children={map:wa,forEach:function(e,t,r){wa(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return wa(e,function(){t++}),t},toArray:function(e){return wa(e,function(t){return t})||[]},only:function(e){if(!cd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ae.Component=Is;ae.Fragment=cw;ae.Profiler=dw;ae.PureComponent=ad;ae.StrictMode=uw;ae.Suspense=mw;ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jw;ae.act=og;ae.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=tg({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=ld.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)sg.call(t,c)&&!ig.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:ea,type:e.type,key:s,ref:i,props:n,_owner:a}};ae.createContext=function(e){return e={$$typeof:fw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hw,_context:e},e.Consumer=e};ae.createElement=ag;ae.createFactory=function(e){var t=ag.bind(null,e);return t.type=e,t};ae.createRef=function(){return{current:null}};ae.forwardRef=function(e){return{$$typeof:pw,render:e}};ae.isValidElement=cd;ae.lazy=function(e){return{$$typeof:yw,_payload:{_status:-1,_result:e},_init:bw}};ae.memo=function(e,t){return{$$typeof:gw,type:e,compare:t===void 0?null:t}};ae.startTransition=function(e){var t=Ja.transition;Ja.transition={};try{e()}finally{Ja.transition=t}};ae.unstable_act=og;ae.useCallback=function(e,t){return ut.current.useCallback(e,t)};ae.useContext=function(e){return ut.current.useContext(e)};ae.useDebugValue=function(){};ae.useDeferredValue=function(e){return ut.current.useDeferredValue(e)};ae.useEffect=function(e,t){return ut.current.useEffect(e,t)};ae.useId=function(){return ut.current.useId()};ae.useImperativeHandle=function(e,t,r){return ut.current.useImperativeHandle(e,t,r)};ae.useInsertionEffect=function(e,t){return ut.current.useInsertionEffect(e,t)};ae.useLayoutEffect=function(e,t){return ut.current.useLayoutEffect(e,t)};ae.useMemo=function(e,t){return ut.current.useMemo(e,t)};ae.useReducer=function(e,t,r){return ut.current.useReducer(e,t,r)};ae.useRef=function(e){return ut.current.useRef(e)};ae.useState=function(e){return ut.current.useState(e)};ae.useSyncExternalStore=function(e,t,r){return ut.current.useSyncExternalStore(e,t,r)};ae.useTransition=function(){return ut.current.useTransition()};ae.version="18.3.1";Zm.exports=ae;var j=Zm.exports;const ee=id(j),kw=aw({__proto__:null,default:ee},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw=j,_w=Symbol.for("react.element"),Nw=Symbol.for("react.fragment"),Ew=Object.prototype.hasOwnProperty,Tw=Sw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cw={key:!0,ref:!0,__self:!0,__source:!0};function lg(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Ew.call(t,n)&&!Cw.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:_w,type:e,key:i,ref:a,props:s,_owner:Tw.current}}Xo.Fragment=Nw;Xo.jsx=lg;Xo.jsxs=lg;Xm.exports=Xo;var l=Xm.exports,Dc={},cg={exports:{}},Et={},ug={exports:{}},dg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,H){var _=L.length;L.push(H);e:for(;0<_;){var C=_-1>>>1,R=L[C];if(0<s(R,H))L[C]=H,L[_]=R,_=C;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var H=L[0],_=L.pop();if(_!==H){L[0]=_;e:for(var C=0,R=L.length,V=R>>>1;C<V;){var G=2*(C+1)-1,z=L[G],re=G+1,oe=L[re];if(0>s(z,_))re<R&&0>s(oe,z)?(L[C]=oe,L[re]=_,C=re):(L[C]=z,L[G]=_,C=G);else if(re<R&&0>s(oe,_))L[C]=oe,L[re]=_,C=re;else break e}}return H}function s(L,H){var _=L.sortIndex-H.sortIndex;return _!==0?_:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],d=1,h=null,f=3,y=!1,w=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(L){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=L)n(u),H.sortIndex=H.expirationTime,t(c,H);else break;H=r(u)}}function b(L){if(x=!1,m(L),!w)if(r(c)!==null)w=!0,te(S);else{var H=r(u);H!==null&&se(b,H.startTime-L)}}function S(L,H){w=!1,x&&(x=!1,g(A),A=-1),y=!0;var _=f;try{for(m(H),h=r(c);h!==null&&(!(h.expirationTime>H)||L&&!X());){var C=h.callback;if(typeof C=="function"){h.callback=null,f=h.priorityLevel;var R=C(h.expirationTime<=H);H=e.unstable_now(),typeof R=="function"?h.callback=R:h===r(c)&&n(c),m(H)}else n(c);h=r(c)}if(h!==null)var V=!0;else{var G=r(u);G!==null&&se(b,G.startTime-H),V=!1}return V}finally{h=null,f=_,y=!1}}var T=!1,E=null,A=-1,M=5,U=-1;function X(){return!(e.unstable_now()-U<M)}function B(){if(E!==null){var L=e.unstable_now();U=L;var H=!0;try{H=E(!0,L)}finally{H?J():(T=!1,E=null)}}else T=!1}var J;if(typeof p=="function")J=function(){p(B)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Z=Y.port2;Y.port1.onmessage=B,J=function(){Z.postMessage(null)}}else J=function(){v(B,0)};function te(L){E=L,T||(T=!0,J())}function se(L,H){A=v(function(){L(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){w||y||(w=!0,te(S))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(L){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var _=f;f=H;try{return L()}finally{f=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var _=f;f=L;try{return H()}finally{f=_}},e.unstable_scheduleCallback=function(L,H,_){var C=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?C+_:C):_=C,L){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=_+R,L={id:d++,callback:H,priorityLevel:L,startTime:_,expirationTime:R,sortIndex:-1},_>C?(L.sortIndex=_,t(u,L),r(c)===null&&L===r(u)&&(x?(g(A),A=-1):x=!0,se(b,_-C))):(L.sortIndex=R,t(c,L),w||y||(w=!0,te(S))),L},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(L){var H=f;return function(){var _=f;f=H;try{return L.apply(this,arguments)}finally{f=_}}}})(dg);ug.exports=dg;var Pw=ug.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw=j,_t=Pw;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hg=new Set,Ti={};function Fn(e,t){ks(e,t),ks(e+"Capture",t)}function ks(e,t){for(Ti[e]=t,e=0;e<t.length;e++)hg.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rc=Object.prototype.hasOwnProperty,Ow=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vh={},Uh={};function Dw(e){return Rc.call(Uh,e)?!0:Rc.call(Vh,e)?!1:Ow.test(e)?Uh[e]=!0:(Vh[e]=!0,!1)}function Rw(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lw(e,t,r,n){if(t===null||typeof t>"u"||Rw(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dt(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ye[e]=new dt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ye[t]=new dt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ye[e]=new dt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ye[e]=new dt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ye[e]=new dt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ye[e]=new dt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ye[e]=new dt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ye[e]=new dt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ye[e]=new dt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ud=/[\-:]([a-z])/g;function dd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ud,dd);Ye[t]=new dt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ud,dd);Ye[t]=new dt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ud,dd);Ye[t]=new dt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ye[e]=new dt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ye.xlinkHref=new dt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ye[e]=new dt(e,1,!1,e.toLowerCase(),null,!0,!0)});function hd(e,t,r,n){var s=Ye.hasOwnProperty(t)?Ye[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lw(t,r,s,n)&&(r=null),n||s===null?Dw(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Tr=Aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ba=Symbol.for("react.element"),ts=Symbol.for("react.portal"),rs=Symbol.for("react.fragment"),fd=Symbol.for("react.strict_mode"),Lc=Symbol.for("react.profiler"),fg=Symbol.for("react.provider"),pg=Symbol.for("react.context"),pd=Symbol.for("react.forward_ref"),Ic=Symbol.for("react.suspense"),$c=Symbol.for("react.suspense_list"),md=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),mg=Symbol.for("react.offscreen"),Bh=Symbol.iterator;function Bs(e){return e===null||typeof e!="object"?null:(e=Bh&&e[Bh]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Fl;function ni(e){if(Fl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Fl=t&&t[1]||""}return`
`+Fl+e}var Vl=!1;function Ul(e,t){if(!e||Vl)return"";Vl=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Vl=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ni(e):""}function Iw(e){switch(e.tag){case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return ni("Suspense");case 19:return ni("SuspenseList");case 0:case 2:case 15:return e=Ul(e.type,!1),e;case 11:return e=Ul(e.type.render,!1),e;case 1:return e=Ul(e.type,!0),e;default:return""}}function Mc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rs:return"Fragment";case ts:return"Portal";case Lc:return"Profiler";case fd:return"StrictMode";case Ic:return"Suspense";case $c:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case pg:return(e.displayName||"Context")+".Consumer";case fg:return(e._context.displayName||"Context")+".Provider";case pd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case md:return t=e.displayName||null,t!==null?t:Mc(e.type)||"Memo";case Ir:t=e._payload,e=e._init;try{return Mc(e(t))}catch{}}return null}function $w(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mc(t);case 8:return t===fd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function rn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Mw(e){var t=gg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ja(e){e._valueTracker||(e._valueTracker=Mw(e))}function yg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=gg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ho(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Fc(e,t){var r=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=rn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function vg(e,t){t=t.checked,t!=null&&hd(e,"checked",t,!1)}function Vc(e,t){vg(e,t);var r=rn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Uc(e,t.type,r):t.hasOwnProperty("defaultValue")&&Uc(e,t.type,rn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Uc(e,t,r){(t!=="number"||ho(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var si=Array.isArray;function ys(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+rn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Bc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(D(92));if(si(r)){if(1<r.length)throw Error(D(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:rn(r)}}function xg(e,t){var r=rn(t.value),n=rn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function qh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function wg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?wg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ka,bg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ka=ka||document.createElement("div"),ka.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ka.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ci(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ui={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fw=["Webkit","ms","Moz","O"];Object.keys(ui).forEach(function(e){Fw.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ui[t]=ui[e]})});function jg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ui.hasOwnProperty(e)&&ui[e]?(""+t).trim():t+"px"}function kg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=jg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Vw=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wc(e,t){if(t){if(Vw[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function Hc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=null;function gd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Gc=null,vs=null,xs=null;function Gh(e){if(e=na(e)){if(typeof Gc!="function")throw Error(D(280));var t=e.stateNode;t&&(t=nl(t),Gc(e.stateNode,e.type,t))}}function Sg(e){vs?xs?xs.push(e):xs=[e]:vs=e}function _g(){if(vs){var e=vs,t=xs;if(xs=vs=null,Gh(e),t)for(e=0;e<t.length;e++)Gh(t[e])}}function Ng(e,t){return e(t)}function Eg(){}var Bl=!1;function Tg(e,t,r){if(Bl)return e(t,r);Bl=!0;try{return Ng(e,t,r)}finally{Bl=!1,(vs!==null||xs!==null)&&(Eg(),_g())}}function Pi(e,t){var r=e.stateNode;if(r===null)return null;var n=nl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(D(231,t,typeof r));return r}var Kc=!1;if(jr)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Kc=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Kc=!1}function Uw(e,t,r,n,s,i,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var di=!1,fo=null,po=!1,Jc=null,Bw={onError:function(e){di=!0,fo=e}};function zw(e,t,r,n,s,i,a,o,c){di=!1,fo=null,Uw.apply(Bw,arguments)}function Ww(e,t,r,n,s,i,a,o,c){if(zw.apply(this,arguments),di){if(di){var u=fo;di=!1,fo=null}else throw Error(D(198));po||(po=!0,Jc=u)}}function Vn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Cg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kh(e){if(Vn(e)!==e)throw Error(D(188))}function Hw(e){var t=e.alternate;if(!t){if(t=Vn(e),t===null)throw Error(D(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Kh(s),e;if(i===n)return Kh(s),t;i=i.sibling}throw Error(D(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(D(189))}}if(r.alternate!==n)throw Error(D(190))}if(r.tag!==3)throw Error(D(188));return r.stateNode.current===r?e:t}function Pg(e){return e=Hw(e),e!==null?Ag(e):null}function Ag(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ag(e);if(t!==null)return t;e=e.sibling}return null}var Og=_t.unstable_scheduleCallback,Jh=_t.unstable_cancelCallback,qw=_t.unstable_shouldYield,Gw=_t.unstable_requestPaint,Te=_t.unstable_now,Kw=_t.unstable_getCurrentPriorityLevel,yd=_t.unstable_ImmediatePriority,Dg=_t.unstable_UserBlockingPriority,mo=_t.unstable_NormalPriority,Jw=_t.unstable_LowPriority,Rg=_t.unstable_IdlePriority,Zo=null,ar=null;function Qw(e){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(Zo,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:Zw,Yw=Math.log,Xw=Math.LN2;function Zw(e){return e>>>=0,e===0?32:31-(Yw(e)/Xw|0)|0}var Sa=64,_a=4194304;function ii(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function go(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=ii(o):(i&=a,i!==0&&(n=ii(i)))}else a=r&~s,a!==0?n=ii(a):i!==0&&(n=ii(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Jt(t),s=1<<r,n|=e[r],t&=~s;return n}function eb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tb(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Jt(i),o=1<<a,c=s[a];c===-1?(!(o&r)||o&n)&&(s[a]=eb(o,t)):c<=t&&(e.expiredLanes|=o),i&=~o}}function Qc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Lg(){var e=Sa;return Sa<<=1,!(Sa&4194240)&&(Sa=64),e}function zl(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ta(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Jt(t),e[t]=r}function rb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Jt(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function vd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Jt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var de=0;function Ig(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $g,xd,Mg,Fg,Vg,Yc=!1,Na=[],Gr=null,Kr=null,Jr=null,Ai=new Map,Oi=new Map,Fr=[],nb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qh(e,t){switch(e){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":Ai.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oi.delete(t.pointerId)}}function Ws(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=na(t),t!==null&&xd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sb(e,t,r,n,s){switch(t){case"focusin":return Gr=Ws(Gr,e,t,r,n,s),!0;case"dragenter":return Kr=Ws(Kr,e,t,r,n,s),!0;case"mouseover":return Jr=Ws(Jr,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Ai.set(i,Ws(Ai.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Oi.set(i,Ws(Oi.get(i)||null,e,t,r,n,s)),!0}return!1}function Ug(e){var t=Sn(e.target);if(t!==null){var r=Vn(t);if(r!==null){if(t=r.tag,t===13){if(t=Cg(r),t!==null){e.blockedOn=t,Vg(e.priority,function(){Mg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Xc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);qc=n,r.target.dispatchEvent(n),qc=null}else return t=na(r),t!==null&&xd(t),e.blockedOn=r,!1;t.shift()}return!0}function Yh(e,t,r){Qa(e)&&r.delete(t)}function ib(){Yc=!1,Gr!==null&&Qa(Gr)&&(Gr=null),Kr!==null&&Qa(Kr)&&(Kr=null),Jr!==null&&Qa(Jr)&&(Jr=null),Ai.forEach(Yh),Oi.forEach(Yh)}function Hs(e,t){e.blockedOn===t&&(e.blockedOn=null,Yc||(Yc=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,ib)))}function Di(e){function t(s){return Hs(s,e)}if(0<Na.length){Hs(Na[0],e);for(var r=1;r<Na.length;r++){var n=Na[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Gr!==null&&Hs(Gr,e),Kr!==null&&Hs(Kr,e),Jr!==null&&Hs(Jr,e),Ai.forEach(t),Oi.forEach(t),r=0;r<Fr.length;r++)n=Fr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Fr.length&&(r=Fr[0],r.blockedOn===null);)Ug(r),r.blockedOn===null&&Fr.shift()}var ws=Tr.ReactCurrentBatchConfig,yo=!0;function ab(e,t,r,n){var s=de,i=ws.transition;ws.transition=null;try{de=1,wd(e,t,r,n)}finally{de=s,ws.transition=i}}function ob(e,t,r,n){var s=de,i=ws.transition;ws.transition=null;try{de=4,wd(e,t,r,n)}finally{de=s,ws.transition=i}}function wd(e,t,r,n){if(yo){var s=Xc(e,t,r,n);if(s===null)Zl(e,t,n,vo,r),Qh(e,n);else if(sb(s,e,t,r,n))n.stopPropagation();else if(Qh(e,n),t&4&&-1<nb.indexOf(e)){for(;s!==null;){var i=na(s);if(i!==null&&$g(i),i=Xc(e,t,r,n),i===null&&Zl(e,t,n,vo,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Zl(e,t,n,null,r)}}var vo=null;function Xc(e,t,r,n){if(vo=null,e=gd(n),e=Sn(e),e!==null)if(t=Vn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Cg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return vo=e,null}function Bg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kw()){case yd:return 1;case Dg:return 4;case mo:case Jw:return 16;case Rg:return 536870912;default:return 16}default:return 16}}var Wr=null,bd=null,Ya=null;function zg(){if(Ya)return Ya;var e,t=bd,r=t.length,n,s="value"in Wr?Wr.value:Wr.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Ya=s.slice(e,1<n?1-n:void 0)}function Xa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ea(){return!0}function Xh(){return!1}function Tt(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ea:Xh,this.isPropagationStopped=Xh,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),t}var $s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jd=Tt($s),ra=_e({},$s,{view:0,detail:0}),lb=Tt(ra),Wl,Hl,qs,el=_e({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qs&&(qs&&e.type==="mousemove"?(Wl=e.screenX-qs.screenX,Hl=e.screenY-qs.screenY):Hl=Wl=0,qs=e),Wl)},movementY:function(e){return"movementY"in e?e.movementY:Hl}}),Zh=Tt(el),cb=_e({},el,{dataTransfer:0}),ub=Tt(cb),db=_e({},ra,{relatedTarget:0}),ql=Tt(db),hb=_e({},$s,{animationName:0,elapsedTime:0,pseudoElement:0}),fb=Tt(hb),pb=_e({},$s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mb=Tt(pb),gb=_e({},$s,{data:0}),ef=Tt(gb),yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xb[e])?!!t[e]:!1}function kd(){return wb}var bb=_e({},ra,{key:function(e){if(e.key){var t=yb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Xa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kd,charCode:function(e){return e.type==="keypress"?Xa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jb=Tt(bb),kb=_e({},el,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=Tt(kb),Sb=_e({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kd}),_b=Tt(Sb),Nb=_e({},$s,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eb=Tt(Nb),Tb=_e({},el,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cb=Tt(Tb),Pb=[9,13,27,32],Sd=jr&&"CompositionEvent"in window,hi=null;jr&&"documentMode"in document&&(hi=document.documentMode);var Ab=jr&&"TextEvent"in window&&!hi,Wg=jr&&(!Sd||hi&&8<hi&&11>=hi),rf=" ",nf=!1;function Hg(e,t){switch(e){case"keyup":return Pb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ns=!1;function Ob(e,t){switch(e){case"compositionend":return qg(t);case"keypress":return t.which!==32?null:(nf=!0,rf);case"textInput":return e=t.data,e===rf&&nf?null:e;default:return null}}function Db(e,t){if(ns)return e==="compositionend"||!Sd&&Hg(e,t)?(e=zg(),Ya=bd=Wr=null,ns=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wg&&t.locale!=="ko"?null:t.data;default:return null}}var Rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rb[e.type]:t==="textarea"}function Gg(e,t,r,n){Sg(n),t=xo(t,"onChange"),0<t.length&&(r=new jd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var fi=null,Ri=null;function Lb(e){s0(e,0)}function tl(e){var t=as(e);if(yg(t))return e}function Ib(e,t){if(e==="change")return t}var Kg=!1;if(jr){var Gl;if(jr){var Kl="oninput"in document;if(!Kl){var af=document.createElement("div");af.setAttribute("oninput","return;"),Kl=typeof af.oninput=="function"}Gl=Kl}else Gl=!1;Kg=Gl&&(!document.documentMode||9<document.documentMode)}function of(){fi&&(fi.detachEvent("onpropertychange",Jg),Ri=fi=null)}function Jg(e){if(e.propertyName==="value"&&tl(Ri)){var t=[];Gg(t,Ri,e,gd(e)),Tg(Lb,t)}}function $b(e,t,r){e==="focusin"?(of(),fi=t,Ri=r,fi.attachEvent("onpropertychange",Jg)):e==="focusout"&&of()}function Mb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return tl(Ri)}function Fb(e,t){if(e==="click")return tl(t)}function Vb(e,t){if(e==="input"||e==="change")return tl(t)}function Ub(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yt=typeof Object.is=="function"?Object.is:Ub;function Li(e,t){if(Yt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Rc.call(t,s)||!Yt(e[s],t[s]))return!1}return!0}function lf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cf(e,t){var r=lf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lf(r)}}function Qg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Qg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yg(){for(var e=window,t=ho();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ho(e.document)}return t}function _d(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bb(e){var t=Yg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Qg(r.ownerDocument.documentElement,r)){if(n!==null&&_d(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=cf(r,i);var a=cf(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zb=jr&&"documentMode"in document&&11>=document.documentMode,ss=null,Zc=null,pi=null,eu=!1;function uf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;eu||ss==null||ss!==ho(n)||(n=ss,"selectionStart"in n&&_d(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pi&&Li(pi,n)||(pi=n,n=xo(Zc,"onSelect"),0<n.length&&(t=new jd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ss)))}function Ta(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var is={animationend:Ta("Animation","AnimationEnd"),animationiteration:Ta("Animation","AnimationIteration"),animationstart:Ta("Animation","AnimationStart"),transitionend:Ta("Transition","TransitionEnd")},Jl={},Xg={};jr&&(Xg=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function rl(e){if(Jl[e])return Jl[e];if(!is[e])return e;var t=is[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Xg)return Jl[e]=t[r];return e}var Zg=rl("animationend"),e0=rl("animationiteration"),t0=rl("animationstart"),r0=rl("transitionend"),n0=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function on(e,t){n0.set(e,t),Fn(t,[e])}for(var Ql=0;Ql<df.length;Ql++){var Yl=df[Ql],Wb=Yl.toLowerCase(),Hb=Yl[0].toUpperCase()+Yl.slice(1);on(Wb,"on"+Hb)}on(Zg,"onAnimationEnd");on(e0,"onAnimationIteration");on(t0,"onAnimationStart");on("dblclick","onDoubleClick");on("focusin","onFocus");on("focusout","onBlur");on(r0,"onTransitionEnd");ks("onMouseEnter",["mouseout","mouseover"]);ks("onMouseLeave",["mouseout","mouseover"]);ks("onPointerEnter",["pointerout","pointerover"]);ks("onPointerLeave",["pointerout","pointerover"]);Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qb=new Set("cancel close invalid load scroll toggle".split(" ").concat(ai));function hf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Ww(n,t,void 0,e),e.currentTarget=null}function s0(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==i&&s.isPropagationStopped())break e;hf(s,o,u),i=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==i&&s.isPropagationStopped())break e;hf(s,o,u),i=c}}}if(po)throw e=Jc,po=!1,Jc=null,e}function ge(e,t){var r=t[iu];r===void 0&&(r=t[iu]=new Set);var n=e+"__bubble";r.has(n)||(i0(t,e,2,!1),r.add(n))}function Xl(e,t,r){var n=0;t&&(n|=4),i0(r,e,n,t)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function Ii(e){if(!e[Ca]){e[Ca]=!0,hg.forEach(function(r){r!=="selectionchange"&&(qb.has(r)||Xl(r,!1,e),Xl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ca]||(t[Ca]=!0,Xl("selectionchange",!1,t))}}function i0(e,t,r,n){switch(Bg(t)){case 1:var s=ab;break;case 4:s=ob;break;default:s=wd}r=s.bind(null,t,r,e),s=void 0,!Kc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Zl(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Sn(o),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}o=o.parentNode}}n=n.return}Tg(function(){var u=i,d=gd(r),h=[];e:{var f=n0.get(e);if(f!==void 0){var y=jd,w=e;switch(e){case"keypress":if(Xa(r)===0)break e;case"keydown":case"keyup":y=jb;break;case"focusin":w="focus",y=ql;break;case"focusout":w="blur",y=ql;break;case"beforeblur":case"afterblur":y=ql;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=ub;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_b;break;case Zg:case e0:case t0:y=fb;break;case r0:y=Eb;break;case"scroll":y=lb;break;case"wheel":y=Cb;break;case"copy":case"cut":case"paste":y=mb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=tf}var x=(t&4)!==0,v=!x&&e==="scroll",g=x?f!==null?f+"Capture":null:f;x=[];for(var p=u,m;p!==null;){m=p;var b=m.stateNode;if(m.tag===5&&b!==null&&(m=b,g!==null&&(b=Pi(p,g),b!=null&&x.push($i(p,b,m)))),v)break;p=p.return}0<x.length&&(f=new y(f,w,null,r,d),h.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",f&&r!==qc&&(w=r.relatedTarget||r.fromElement)&&(Sn(w)||w[kr]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(w=r.relatedTarget||r.toElement,y=u,w=w?Sn(w):null,w!==null&&(v=Vn(w),w!==v||w.tag!==5&&w.tag!==6)&&(w=null)):(y=null,w=u),y!==w)){if(x=Zh,b="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=tf,b="onPointerLeave",g="onPointerEnter",p="pointer"),v=y==null?f:as(y),m=w==null?f:as(w),f=new x(b,p+"leave",y,r,d),f.target=v,f.relatedTarget=m,b=null,Sn(d)===u&&(x=new x(g,p+"enter",w,r,d),x.target=m,x.relatedTarget=v,b=x),v=b,y&&w)t:{for(x=y,g=w,p=0,m=x;m;m=qn(m))p++;for(m=0,b=g;b;b=qn(b))m++;for(;0<p-m;)x=qn(x),p--;for(;0<m-p;)g=qn(g),m--;for(;p--;){if(x===g||g!==null&&x===g.alternate)break t;x=qn(x),g=qn(g)}x=null}else x=null;y!==null&&ff(h,f,y,x,!1),w!==null&&v!==null&&ff(h,v,w,x,!0)}}e:{if(f=u?as(u):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var S=Ib;else if(sf(f))if(Kg)S=Vb;else{S=Mb;var T=$b}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Fb);if(S&&(S=S(e,u))){Gg(h,S,r,d);break e}T&&T(e,f,u),e==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&Uc(f,"number",f.value)}switch(T=u?as(u):window,e){case"focusin":(sf(T)||T.contentEditable==="true")&&(ss=T,Zc=u,pi=null);break;case"focusout":pi=Zc=ss=null;break;case"mousedown":eu=!0;break;case"contextmenu":case"mouseup":case"dragend":eu=!1,uf(h,r,d);break;case"selectionchange":if(zb)break;case"keydown":case"keyup":uf(h,r,d)}var E;if(Sd)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ns?Hg(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(Wg&&r.locale!=="ko"&&(ns||A!=="onCompositionStart"?A==="onCompositionEnd"&&ns&&(E=zg()):(Wr=d,bd="value"in Wr?Wr.value:Wr.textContent,ns=!0)),T=xo(u,A),0<T.length&&(A=new ef(A,e,null,r,d),h.push({event:A,listeners:T}),E?A.data=E:(E=qg(r),E!==null&&(A.data=E)))),(E=Ab?Ob(e,r):Db(e,r))&&(u=xo(u,"onBeforeInput"),0<u.length&&(d=new ef("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}s0(h,t)})}function $i(e,t,r){return{instance:e,listener:t,currentTarget:r}}function xo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Pi(e,r),i!=null&&n.unshift($i(e,i,s)),i=Pi(e,t),i!=null&&n.push($i(e,i,s))),e=e.return}return n}function qn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ff(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,u=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&u!==null&&(o=u,s?(c=Pi(r,i),c!=null&&a.unshift($i(r,c,o))):s||(c=Pi(r,i),c!=null&&a.push($i(r,c,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Gb=/\r\n?/g,Kb=/\u0000|\uFFFD/g;function pf(e){return(typeof e=="string"?e:""+e).replace(Gb,`
`).replace(Kb,"")}function Pa(e,t,r){if(t=pf(t),pf(e)!==t&&r)throw Error(D(425))}function wo(){}var tu=null,ru=null;function nu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var su=typeof setTimeout=="function"?setTimeout:void 0,Jb=typeof clearTimeout=="function"?clearTimeout:void 0,mf=typeof Promise=="function"?Promise:void 0,Qb=typeof queueMicrotask=="function"?queueMicrotask:typeof mf<"u"?function(e){return mf.resolve(null).then(e).catch(Yb)}:su;function Yb(e){setTimeout(function(){throw e})}function ec(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Di(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Di(t)}function Qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Ms=Math.random().toString(36).slice(2),rr="__reactFiber$"+Ms,Mi="__reactProps$"+Ms,kr="__reactContainer$"+Ms,iu="__reactEvents$"+Ms,Xb="__reactListeners$"+Ms,Zb="__reactHandles$"+Ms;function Sn(e){var t=e[rr];if(t)return t;for(var r=e.parentNode;r;){if(t=r[kr]||r[rr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gf(e);e!==null;){if(r=e[rr])return r;e=gf(e)}return t}e=r,r=e.parentNode}return null}function na(e){return e=e[rr]||e[kr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function as(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function nl(e){return e[Mi]||null}var au=[],os=-1;function ln(e){return{current:e}}function ye(e){0>os||(e.current=au[os],au[os]=null,os--)}function pe(e,t){os++,au[os]=e.current,e.current=t}var nn={},nt=ln(nn),yt=ln(!1),Rn=nn;function Ss(e,t){var r=e.type.contextTypes;if(!r)return nn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function vt(e){return e=e.childContextTypes,e!=null}function bo(){ye(yt),ye(nt)}function yf(e,t,r){if(nt.current!==nn)throw Error(D(168));pe(nt,t),pe(yt,r)}function a0(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(D(108,$w(e)||"Unknown",s));return _e({},r,n)}function jo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,Rn=nt.current,pe(nt,e),pe(yt,yt.current),!0}function vf(e,t,r){var n=e.stateNode;if(!n)throw Error(D(169));r?(e=a0(e,t,Rn),n.__reactInternalMemoizedMergedChildContext=e,ye(yt),ye(nt),pe(nt,e)):ye(yt),pe(yt,r)}var pr=null,sl=!1,tc=!1;function o0(e){pr===null?pr=[e]:pr.push(e)}function e1(e){sl=!0,o0(e)}function cn(){if(!tc&&pr!==null){tc=!0;var e=0,t=de;try{var r=pr;for(de=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pr=null,sl=!1}catch(s){throw pr!==null&&(pr=pr.slice(e+1)),Og(yd,cn),s}finally{de=t,tc=!1}}return null}var ls=[],cs=0,ko=null,So=0,Ot=[],Dt=0,Ln=null,mr=1,gr="";function yn(e,t){ls[cs++]=So,ls[cs++]=ko,ko=e,So=t}function l0(e,t,r){Ot[Dt++]=mr,Ot[Dt++]=gr,Ot[Dt++]=Ln,Ln=e;var n=mr;e=gr;var s=32-Jt(n)-1;n&=~(1<<s),r+=1;var i=32-Jt(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,mr=1<<32-Jt(t)+s|r<<s|n,gr=i+e}else mr=1<<i|r<<s|n,gr=e}function Nd(e){e.return!==null&&(yn(e,1),l0(e,1,0))}function Ed(e){for(;e===ko;)ko=ls[--cs],ls[cs]=null,So=ls[--cs],ls[cs]=null;for(;e===Ln;)Ln=Ot[--Dt],Ot[Dt]=null,gr=Ot[--Dt],Ot[Dt]=null,mr=Ot[--Dt],Ot[Dt]=null}var St=null,kt=null,xe=!1,qt=null;function c0(e,t){var r=Lt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,kt=Qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ln!==null?{id:mr,overflow:gr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Lt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,St=e,kt=null,!0):!1;default:return!1}}function ou(e){return(e.mode&1)!==0&&(e.flags&128)===0}function lu(e){if(xe){var t=kt;if(t){var r=t;if(!xf(e,t)){if(ou(e))throw Error(D(418));t=Qr(r.nextSibling);var n=St;t&&xf(e,t)?c0(n,r):(e.flags=e.flags&-4097|2,xe=!1,St=e)}}else{if(ou(e))throw Error(D(418));e.flags=e.flags&-4097|2,xe=!1,St=e}}}function wf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function Aa(e){if(e!==St)return!1;if(!xe)return wf(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!nu(e.type,e.memoizedProps)),t&&(t=kt)){if(ou(e))throw u0(),Error(D(418));for(;t;)c0(e,t),t=Qr(t.nextSibling)}if(wf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){kt=Qr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}kt=null}}else kt=St?Qr(e.stateNode.nextSibling):null;return!0}function u0(){for(var e=kt;e;)e=Qr(e.nextSibling)}function _s(){kt=St=null,xe=!1}function Td(e){qt===null?qt=[e]:qt.push(e)}var t1=Tr.ReactCurrentBatchConfig;function Gs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(D(309));var n=r.stateNode}if(!n)throw Error(D(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(D(284));if(!r._owner)throw Error(D(290,e))}return e}function Oa(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bf(e){var t=e._init;return t(e._payload)}function d0(e){function t(g,p){if(e){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function r(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=en(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,p,m,b){return p===null||p.tag!==6?(p=lc(m,g.mode,b),p.return=g,p):(p=s(p,m),p.return=g,p)}function c(g,p,m,b){var S=m.type;return S===rs?d(g,p,m.props.children,b,m.key):p!==null&&(p.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ir&&bf(S)===p.type)?(b=s(p,m.props),b.ref=Gs(g,p,m),b.return=g,b):(b=io(m.type,m.key,m.props,null,g.mode,b),b.ref=Gs(g,p,m),b.return=g,b)}function u(g,p,m,b){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=cc(m,g.mode,b),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,b,S){return p===null||p.tag!==7?(p=An(m,g.mode,b,S),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=lc(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ba:return m=io(p.type,p.key,p.props,null,g.mode,m),m.ref=Gs(g,null,p),m.return=g,m;case ts:return p=cc(p,g.mode,m),p.return=g,p;case Ir:var b=p._init;return h(g,b(p._payload),m)}if(si(p)||Bs(p))return p=An(p,g.mode,m,null),p.return=g,p;Oa(g,p)}return null}function f(g,p,m,b){var S=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return S!==null?null:o(g,p,""+m,b);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ba:return m.key===S?c(g,p,m,b):null;case ts:return m.key===S?u(g,p,m,b):null;case Ir:return S=m._init,f(g,p,S(m._payload),b)}if(si(m)||Bs(m))return S!==null?null:d(g,p,m,b,null);Oa(g,m)}return null}function y(g,p,m,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(m)||null,o(p,g,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ba:return g=g.get(b.key===null?m:b.key)||null,c(p,g,b,S);case ts:return g=g.get(b.key===null?m:b.key)||null,u(p,g,b,S);case Ir:var T=b._init;return y(g,p,m,T(b._payload),S)}if(si(b)||Bs(b))return g=g.get(m)||null,d(p,g,b,S,null);Oa(p,b)}return null}function w(g,p,m,b){for(var S=null,T=null,E=p,A=p=0,M=null;E!==null&&A<m.length;A++){E.index>A?(M=E,E=null):M=E.sibling;var U=f(g,E,m[A],b);if(U===null){E===null&&(E=M);break}e&&E&&U.alternate===null&&t(g,E),p=i(U,p,A),T===null?S=U:T.sibling=U,T=U,E=M}if(A===m.length)return r(g,E),xe&&yn(g,A),S;if(E===null){for(;A<m.length;A++)E=h(g,m[A],b),E!==null&&(p=i(E,p,A),T===null?S=E:T.sibling=E,T=E);return xe&&yn(g,A),S}for(E=n(g,E);A<m.length;A++)M=y(E,g,A,m[A],b),M!==null&&(e&&M.alternate!==null&&E.delete(M.key===null?A:M.key),p=i(M,p,A),T===null?S=M:T.sibling=M,T=M);return e&&E.forEach(function(X){return t(g,X)}),xe&&yn(g,A),S}function x(g,p,m,b){var S=Bs(m);if(typeof S!="function")throw Error(D(150));if(m=S.call(m),m==null)throw Error(D(151));for(var T=S=null,E=p,A=p=0,M=null,U=m.next();E!==null&&!U.done;A++,U=m.next()){E.index>A?(M=E,E=null):M=E.sibling;var X=f(g,E,U.value,b);if(X===null){E===null&&(E=M);break}e&&E&&X.alternate===null&&t(g,E),p=i(X,p,A),T===null?S=X:T.sibling=X,T=X,E=M}if(U.done)return r(g,E),xe&&yn(g,A),S;if(E===null){for(;!U.done;A++,U=m.next())U=h(g,U.value,b),U!==null&&(p=i(U,p,A),T===null?S=U:T.sibling=U,T=U);return xe&&yn(g,A),S}for(E=n(g,E);!U.done;A++,U=m.next())U=y(E,g,A,U.value,b),U!==null&&(e&&U.alternate!==null&&E.delete(U.key===null?A:U.key),p=i(U,p,A),T===null?S=U:T.sibling=U,T=U);return e&&E.forEach(function(B){return t(g,B)}),xe&&yn(g,A),S}function v(g,p,m,b){if(typeof m=="object"&&m!==null&&m.type===rs&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case ba:e:{for(var S=m.key,T=p;T!==null;){if(T.key===S){if(S=m.type,S===rs){if(T.tag===7){r(g,T.sibling),p=s(T,m.props.children),p.return=g,g=p;break e}}else if(T.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ir&&bf(S)===T.type){r(g,T.sibling),p=s(T,m.props),p.ref=Gs(g,T,m),p.return=g,g=p;break e}r(g,T);break}else t(g,T);T=T.sibling}m.type===rs?(p=An(m.props.children,g.mode,b,m.key),p.return=g,g=p):(b=io(m.type,m.key,m.props,null,g.mode,b),b.ref=Gs(g,p,m),b.return=g,g=b)}return a(g);case ts:e:{for(T=m.key;p!==null;){if(p.key===T)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){r(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{r(g,p);break}else t(g,p);p=p.sibling}p=cc(m,g.mode,b),p.return=g,g=p}return a(g);case Ir:return T=m._init,v(g,p,T(m._payload),b)}if(si(m))return w(g,p,m,b);if(Bs(m))return x(g,p,m,b);Oa(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(r(g,p.sibling),p=s(p,m),p.return=g,g=p):(r(g,p),p=lc(m,g.mode,b),p.return=g,g=p),a(g)):r(g,p)}return v}var Ns=d0(!0),h0=d0(!1),_o=ln(null),No=null,us=null,Cd=null;function Pd(){Cd=us=No=null}function Ad(e){var t=_o.current;ye(_o),e._currentValue=t}function cu(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function bs(e,t){No=e,Cd=us=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(gt=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(Cd!==e)if(e={context:e,memoizedValue:t,next:null},us===null){if(No===null)throw Error(D(308));us=e,No.dependencies={lanes:0,firstContext:e}}else us=us.next=e;return t}var _n=null;function Od(e){_n===null?_n=[e]:_n.push(e)}function f0(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Od(t)):(r.next=s.next,s.next=r),t.interleaved=r,Sr(e,n)}function Sr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var $r=!1;function Dd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function p0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function vr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ce&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Sr(e,r)}return s=n.interleaved,s===null?(t.next=t,Od(n)):(t.next=s.next,s.next=t),n.interleaved=t,Sr(e,r)}function Za(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vd(e,r)}}function jf(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Eo(e,t,r,n){var s=e.updateQueue;$r=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;a=0,d=u=c=null,o=i;do{var f=o.lane,y=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var w=e,x=o;switch(f=t,y=r,x.tag){case 1:if(w=x.payload,typeof w=="function"){h=w.call(y,h,f);break e}h=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,f=typeof w=="function"?w.call(y,h,f):w,f==null)break e;h=_e({},h,f);break e;case 2:$r=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[o]:f.push(o))}else y={eventTime:y,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=y,c=h):d=d.next=y,a|=f;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;f=o,o=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);$n|=a,e.lanes=a,e.memoizedState=h}}function kf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(D(191,s));s.call(n)}}}var sa={},or=ln(sa),Fi=ln(sa),Vi=ln(sa);function Nn(e){if(e===sa)throw Error(D(174));return e}function Rd(e,t){switch(pe(Vi,t),pe(Fi,e),pe(or,sa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:zc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=zc(t,e)}ye(or),pe(or,t)}function Es(){ye(or),ye(Fi),ye(Vi)}function m0(e){Nn(Vi.current);var t=Nn(or.current),r=zc(t,e.type);t!==r&&(pe(Fi,e),pe(or,r))}function Ld(e){Fi.current===e&&(ye(or),ye(Fi))}var je=ln(0);function To(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rc=[];function Id(){for(var e=0;e<rc.length;e++)rc[e]._workInProgressVersionPrimary=null;rc.length=0}var eo=Tr.ReactCurrentDispatcher,nc=Tr.ReactCurrentBatchConfig,In=0,Se=null,Ue=null,qe=null,Co=!1,mi=!1,Ui=0,r1=0;function Ze(){throw Error(D(321))}function $d(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yt(e[r],t[r]))return!1;return!0}function Md(e,t,r,n,s,i){if(In=i,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,eo.current=e===null||e.memoizedState===null?a1:o1,e=r(n,s),mi){i=0;do{if(mi=!1,Ui=0,25<=i)throw Error(D(301));i+=1,qe=Ue=null,t.updateQueue=null,eo.current=l1,e=r(n,s)}while(mi)}if(eo.current=Po,t=Ue!==null&&Ue.next!==null,In=0,qe=Ue=Se=null,Co=!1,t)throw Error(D(300));return e}function Fd(){var e=Ui!==0;return Ui=0,e}function Zt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Se.memoizedState=qe=e:qe=qe.next=e,qe}function Ft(){if(Ue===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=qe===null?Se.memoizedState:qe.next;if(t!==null)qe=t,Ue=e;else{if(e===null)throw Error(D(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},qe===null?Se.memoizedState=qe=e:qe=qe.next=e}return qe}function Bi(e,t){return typeof t=="function"?t(e):t}function sc(e){var t=Ft(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=Ue,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,c=null,u=i;do{var d=u.lane;if((In&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,a=n):c=c.next=h,Se.lanes|=d,$n|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=o,Yt(n,t.memoizedState)||(gt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Se.lanes|=i,$n|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function ic(e){var t=Ft(),r=t.queue;if(r===null)throw Error(D(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Yt(i,t.memoizedState)||(gt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function g0(){}function y0(e,t){var r=Se,n=Ft(),s=t(),i=!Yt(n.memoizedState,s);if(i&&(n.memoizedState=s,gt=!0),n=n.queue,Vd(w0.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||qe!==null&&qe.memoizedState.tag&1){if(r.flags|=2048,zi(9,x0.bind(null,r,n,s,t),void 0,null),Ge===null)throw Error(D(349));In&30||v0(r,t,s)}return s}function v0(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function x0(e,t,r,n){t.value=r,t.getSnapshot=n,b0(t)&&j0(e)}function w0(e,t,r){return r(function(){b0(t)&&j0(e)})}function b0(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yt(e,r)}catch{return!0}}function j0(e){var t=Sr(e,1);t!==null&&Qt(t,e,1,-1)}function Sf(e){var t=Zt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},t.queue=e,e=e.dispatch=i1.bind(null,Se,e),[t.memoizedState,e]}function zi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function k0(){return Ft().memoizedState}function to(e,t,r,n){var s=Zt();Se.flags|=e,s.memoizedState=zi(1|t,r,void 0,n===void 0?null:n)}function il(e,t,r,n){var s=Ft();n=n===void 0?null:n;var i=void 0;if(Ue!==null){var a=Ue.memoizedState;if(i=a.destroy,n!==null&&$d(n,a.deps)){s.memoizedState=zi(t,r,i,n);return}}Se.flags|=e,s.memoizedState=zi(1|t,r,i,n)}function _f(e,t){return to(8390656,8,e,t)}function Vd(e,t){return il(2048,8,e,t)}function S0(e,t){return il(4,2,e,t)}function _0(e,t){return il(4,4,e,t)}function N0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function E0(e,t,r){return r=r!=null?r.concat([e]):null,il(4,4,N0.bind(null,t,e),r)}function Ud(){}function T0(e,t){var r=Ft();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$d(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function C0(e,t){var r=Ft();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$d(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function P0(e,t,r){return In&21?(Yt(r,t)||(r=Lg(),Se.lanes|=r,$n|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,gt=!0),e.memoizedState=r)}function n1(e,t){var r=de;de=r!==0&&4>r?r:4,e(!0);var n=nc.transition;nc.transition={};try{e(!1),t()}finally{de=r,nc.transition=n}}function A0(){return Ft().memoizedState}function s1(e,t,r){var n=Zr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},O0(e))D0(t,r);else if(r=f0(e,t,r,n),r!==null){var s=ct();Qt(r,e,n,s),R0(r,t,n)}}function i1(e,t,r){var n=Zr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(O0(e))D0(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,Yt(o,a)){var c=t.interleaved;c===null?(s.next=s,Od(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=f0(e,t,s,n),r!==null&&(s=ct(),Qt(r,e,n,s),R0(r,t,n))}}function O0(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function D0(e,t){mi=Co=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function R0(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,vd(e,r)}}var Po={readContext:Mt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},a1={readContext:Mt,useCallback:function(e,t){return Zt().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:_f,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,to(4194308,4,N0.bind(null,t,e),r)},useLayoutEffect:function(e,t){return to(4194308,4,e,t)},useInsertionEffect:function(e,t){return to(4,2,e,t)},useMemo:function(e,t){var r=Zt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=s1.bind(null,Se,e),[n.memoizedState,e]},useRef:function(e){var t=Zt();return e={current:e},t.memoizedState=e},useState:Sf,useDebugValue:Ud,useDeferredValue:function(e){return Zt().memoizedState=e},useTransition:function(){var e=Sf(!1),t=e[0];return e=n1.bind(null,e[1]),Zt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Se,s=Zt();if(xe){if(r===void 0)throw Error(D(407));r=r()}else{if(r=t(),Ge===null)throw Error(D(349));In&30||v0(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,_f(w0.bind(null,n,i,e),[e]),n.flags|=2048,zi(9,x0.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Zt(),t=Ge.identifierPrefix;if(xe){var r=gr,n=mr;r=(n&~(1<<32-Jt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ui++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=r1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},o1={readContext:Mt,useCallback:T0,useContext:Mt,useEffect:Vd,useImperativeHandle:E0,useInsertionEffect:S0,useLayoutEffect:_0,useMemo:C0,useReducer:sc,useRef:k0,useState:function(){return sc(Bi)},useDebugValue:Ud,useDeferredValue:function(e){var t=Ft();return P0(t,Ue.memoizedState,e)},useTransition:function(){var e=sc(Bi)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:g0,useSyncExternalStore:y0,useId:A0,unstable_isNewReconciler:!1},l1={readContext:Mt,useCallback:T0,useContext:Mt,useEffect:Vd,useImperativeHandle:E0,useInsertionEffect:S0,useLayoutEffect:_0,useMemo:C0,useReducer:ic,useRef:k0,useState:function(){return ic(Bi)},useDebugValue:Ud,useDeferredValue:function(e){var t=Ft();return Ue===null?t.memoizedState=e:P0(t,Ue.memoizedState,e)},useTransition:function(){var e=ic(Bi)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:g0,useSyncExternalStore:y0,useId:A0,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function uu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var al={isMounted:function(e){return(e=e._reactInternals)?Vn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ct(),s=Zr(e),i=vr(n,s);i.payload=t,r!=null&&(i.callback=r),t=Yr(e,i,s),t!==null&&(Qt(t,e,s,n),Za(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ct(),s=Zr(e),i=vr(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Yr(e,i,s),t!==null&&(Qt(t,e,s,n),Za(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ct(),n=Zr(e),s=vr(r,n);s.tag=2,t!=null&&(s.callback=t),t=Yr(e,s,n),t!==null&&(Qt(t,e,n,r),Za(t,e,n))}};function Nf(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Li(r,n)||!Li(s,i):!0}function L0(e,t,r){var n=!1,s=nn,i=t.contextType;return typeof i=="object"&&i!==null?i=Mt(i):(s=vt(t)?Rn:nt.current,n=t.contextTypes,i=(n=n!=null)?Ss(e,s):nn),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ef(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function du(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Dd(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Mt(i):(i=vt(t)?Rn:nt.current,s.context=Ss(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(uu(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&al.enqueueReplaceState(s,s.state,null),Eo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ts(e,t){try{var r="",n=t;do r+=Iw(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ac(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function hu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var c1=typeof WeakMap=="function"?WeakMap:Map;function I0(e,t,r){r=vr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Oo||(Oo=!0,ju=n),hu(e,t)},r}function $0(e,t,r){r=vr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){hu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){hu(e,t),typeof n!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Tf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new c1;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=k1.bind(null,e,t,r),t.then(e,e))}function Cf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pf(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=vr(-1,1),t.tag=2,Yr(r,t,1))),r.lanes|=1),e)}var u1=Tr.ReactCurrentOwner,gt=!1;function ot(e,t,r,n){t.child=e===null?h0(t,null,r,n):Ns(t,e.child,r,n)}function Af(e,t,r,n,s){r=r.render;var i=t.ref;return bs(t,s),n=Md(e,t,r,n,i,s),r=Fd(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_r(e,t,s)):(xe&&r&&Nd(t),t.flags|=1,ot(e,t,n,s),t.child)}function Of(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Jd(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,M0(e,t,i,n,s)):(e=io(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Li,r(a,n)&&e.ref===t.ref)return _r(e,t,s)}return t.flags|=1,e=en(i,n),e.ref=t.ref,e.return=t,t.child=e}function M0(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Li(i,n)&&e.ref===t.ref)if(gt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(gt=!0);else return t.lanes=e.lanes,_r(e,t,s)}return fu(e,t,r,n,s)}function F0(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},pe(hs,jt),jt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,pe(hs,jt),jt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,pe(hs,jt),jt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,pe(hs,jt),jt|=n;return ot(e,t,s,r),t.child}function V0(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function fu(e,t,r,n,s){var i=vt(r)?Rn:nt.current;return i=Ss(t,i),bs(t,s),r=Md(e,t,r,n,i,s),n=Fd(),e!==null&&!gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_r(e,t,s)):(xe&&n&&Nd(t),t.flags|=1,ot(e,t,r,s),t.child)}function Df(e,t,r,n,s){if(vt(r)){var i=!0;jo(t)}else i=!1;if(bs(t,s),t.stateNode===null)ro(e,t),L0(t,r,n),du(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Mt(u):(u=vt(r)?Rn:nt.current,u=Ss(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==u)&&Ef(t,a,n,u),$r=!1;var f=t.memoizedState;a.state=f,Eo(t,n,a,s),c=t.memoizedState,o!==n||f!==c||yt.current||$r?(typeof d=="function"&&(uu(t,r,d,n),c=t.memoizedState),(o=$r||Nf(t,r,o,n,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,p0(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:zt(t.type,o),a.props=u,h=t.pendingProps,f=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Mt(c):(c=vt(r)?Rn:nt.current,c=Ss(t,c));var y=r.getDerivedStateFromProps;(d=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&Ef(t,a,n,c),$r=!1,f=t.memoizedState,a.state=f,Eo(t,n,a,s);var w=t.memoizedState;o!==h||f!==w||yt.current||$r?(typeof y=="function"&&(uu(t,r,y,n),w=t.memoizedState),(u=$r||Nf(t,r,u,n,f,w,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,w,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,w,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),a.props=n,a.state=w,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return pu(e,t,r,n,i,s)}function pu(e,t,r,n,s,i){V0(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&vf(t,r,!1),_r(e,t,i);n=t.stateNode,u1.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ns(t,e.child,null,i),t.child=Ns(t,null,o,i)):ot(e,t,o,i),t.memoizedState=n.state,s&&vf(t,r,!0),t.child}function U0(e){var t=e.stateNode;t.pendingContext?yf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yf(e,t.context,!1),Rd(e,t.containerInfo)}function Rf(e,t,r,n,s){return _s(),Td(s),t.flags|=256,ot(e,t,r,n),t.child}var mu={dehydrated:null,treeContext:null,retryLane:0};function gu(e){return{baseLanes:e,cachePool:null,transitions:null}}function B0(e,t,r){var n=t.pendingProps,s=je.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),pe(je,s&1),e===null)return lu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=cl(a,n,0,null),e=An(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=gu(r),t.memoizedState=mu,e):Bd(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return d1(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=en(s,c),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=en(o,i):(i=An(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?gu(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=mu,n}return i=e.child,e=i.sibling,n=en(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bd(e,t){return t=cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Da(e,t,r,n){return n!==null&&Td(n),Ns(t,e.child,null,r),e=Bd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function d1(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=ac(Error(D(422))),Da(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=cl({mode:"visible",children:n.children},s,0,null),i=An(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Ns(t,e.child,null,a),t.child.memoizedState=gu(a),t.memoizedState=mu,i);if(!(t.mode&1))return Da(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(D(419)),n=ac(i,n,void 0),Da(e,t,a,n)}if(o=(a&e.childLanes)!==0,gt||o){if(n=Ge,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Sr(e,s),Qt(n,e,s,-1))}return Kd(),n=ac(Error(D(421))),Da(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=S1.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,kt=Qr(s.nextSibling),St=t,xe=!0,qt=null,e!==null&&(Ot[Dt++]=mr,Ot[Dt++]=gr,Ot[Dt++]=Ln,mr=e.id,gr=e.overflow,Ln=t),t=Bd(t,n.children),t.flags|=4096,t)}function Lf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),cu(e.return,t,r)}function oc(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function z0(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(ot(e,t,n.children,r),n=je.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lf(e,r,t);else if(e.tag===19)Lf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(pe(je,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&To(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),oc(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&To(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}oc(t,!0,r,null,i);break;case"together":oc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ro(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _r(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),$n|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,r=en(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=en(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function h1(e,t,r){switch(t.tag){case 3:U0(t),_s();break;case 5:m0(t);break;case 1:vt(t.type)&&jo(t);break;case 4:Rd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;pe(_o,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(pe(je,je.current&1),t.flags|=128,null):r&t.child.childLanes?B0(e,t,r):(pe(je,je.current&1),e=_r(e,t,r),e!==null?e.sibling:null);pe(je,je.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return z0(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),pe(je,je.current),n)break;return null;case 22:case 23:return t.lanes=0,F0(e,t,r)}return _r(e,t,r)}var W0,yu,H0,q0;W0=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};yu=function(){};H0=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Nn(or.current);var i=null;switch(r){case"input":s=Fc(e,s),n=Fc(e,n),i=[];break;case"select":s=_e({},s,{value:void 0}),n=_e({},n,{value:void 0}),i=[];break;case"textarea":s=Bc(e,s),n=Bc(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=wo)}Wc(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ti.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ti.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ge("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};q0=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ks(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function f1(e,t,r){var n=t.pendingProps;switch(Ed(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return vt(t.type)&&bo(),et(t),null;case 3:return n=t.stateNode,Es(),ye(yt),ye(nt),Id(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,qt!==null&&(_u(qt),qt=null))),yu(e,t),et(t),null;case 5:Ld(t);var s=Nn(Vi.current);if(r=t.type,e!==null&&t.stateNode!=null)H0(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(D(166));return et(t),null}if(e=Nn(or.current),Aa(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[rr]=t,n[Mi]=i,e=(t.mode&1)!==0,r){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(s=0;s<ai.length;s++)ge(ai[s],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":zh(n,i),ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ge("invalid",n);break;case"textarea":Hh(n,i),ge("invalid",n)}Wc(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&Pa(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&Pa(n.textContent,o,e),s=["children",""+o]):Ti.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ge("scroll",n)}switch(r){case"input":ja(n),Wh(n,i,!0);break;case"textarea":ja(n),qh(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=wo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=wg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[rr]=t,e[Mi]=n,W0(e,t,!1,!1),t.stateNode=e;e:{switch(a=Hc(r,n),r){case"dialog":ge("cancel",e),ge("close",e),s=n;break;case"iframe":case"object":case"embed":ge("load",e),s=n;break;case"video":case"audio":for(s=0;s<ai.length;s++)ge(ai[s],e);s=n;break;case"source":ge("error",e),s=n;break;case"img":case"image":case"link":ge("error",e),ge("load",e),s=n;break;case"details":ge("toggle",e),s=n;break;case"input":zh(e,n),s=Fc(e,n),ge("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=_e({},n,{value:void 0}),ge("invalid",e);break;case"textarea":Hh(e,n),s=Bc(e,n),ge("invalid",e);break;default:s=n}Wc(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var c=o[i];i==="style"?kg(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&bg(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ci(e,c):typeof c=="number"&&Ci(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ti.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ge("scroll",e):c!=null&&hd(e,i,c,a))}switch(r){case"input":ja(e),Wh(e,n,!1);break;case"textarea":ja(e),qh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+rn(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ys(e,!!n.multiple,i,!1):n.defaultValue!=null&&ys(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=wo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)q0(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(D(166));if(r=Nn(Vi.current),Nn(or.current),Aa(t)){if(n=t.stateNode,r=t.memoizedProps,n[rr]=t,(i=n.nodeValue!==r)&&(e=St,e!==null))switch(e.tag){case 3:Pa(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Pa(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rr]=t,t.stateNode=n}return et(t),null;case 13:if(ye(je),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&kt!==null&&t.mode&1&&!(t.flags&128))u0(),_s(),t.flags|=98560,i=!1;else if(i=Aa(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(D(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[rr]=t}else _s(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;et(t),i=!1}else qt!==null&&(_u(qt),qt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?ze===0&&(ze=3):Kd())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return Es(),yu(e,t),e===null&&Ii(t.stateNode.containerInfo),et(t),null;case 10:return Ad(t.type._context),et(t),null;case 17:return vt(t.type)&&bo(),et(t),null;case 19:if(ye(je),i=t.memoizedState,i===null)return et(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Ks(i,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=To(e),a!==null){for(t.flags|=128,Ks(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return pe(je,je.current&1|2),t.child}e=e.sibling}i.tail!==null&&Te()>Cs&&(t.flags|=128,n=!0,Ks(i,!1),t.lanes=4194304)}else{if(!n)if(e=To(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ks(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!xe)return et(t),null}else 2*Te()-i.renderingStartTime>Cs&&r!==1073741824&&(t.flags|=128,n=!0,Ks(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Te(),t.sibling=null,r=je.current,pe(je,n?r&1|2:r&1),t):(et(t),null);case 22:case 23:return Gd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?jt&1073741824&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function p1(e,t){switch(Ed(t),t.tag){case 1:return vt(t.type)&&bo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Es(),ye(yt),ye(nt),Id(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ld(t),null;case 13:if(ye(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));_s()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(je),null;case 4:return Es(),null;case 10:return Ad(t.type._context),null;case 22:case 23:return Gd(),null;case 24:return null;default:return null}}var Ra=!1,rt=!1,m1=typeof WeakSet=="function"?WeakSet:Set,W=null;function ds(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ne(e,t,n)}else r.current=null}function vu(e,t,r){try{r()}catch(n){Ne(e,t,n)}}var If=!1;function g1(e,t){if(tu=yo,e=Yg(),_d(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var y;h!==r||s!==0&&h.nodeType!==3||(o=a+s),h!==i||n!==0&&h.nodeType!==3||(c=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===e)break t;if(f===r&&++u===s&&(o=a),f===i&&++d===n&&(c=a),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ru={focusedElem:e,selectionRange:r},yo=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,v=w.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:zt(t.type,x),v);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(b){Ne(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return w=If,If=!1,w}function gi(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&vu(t,r,i)}s=s.next}while(s!==n)}}function ol(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function xu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function G0(e){var t=e.alternate;t!==null&&(e.alternate=null,G0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rr],delete t[Mi],delete t[iu],delete t[Xb],delete t[Zb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function K0(e){return e.tag===5||e.tag===3||e.tag===4}function $f(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||K0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=wo));else if(n!==4&&(e=e.child,e!==null))for(wu(e,t,r),e=e.sibling;e!==null;)wu(e,t,r),e=e.sibling}function bu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(bu(e,t,r),e=e.sibling;e!==null;)bu(e,t,r),e=e.sibling}var Je=null,Wt=!1;function Or(e,t,r){for(r=r.child;r!==null;)J0(e,t,r),r=r.sibling}function J0(e,t,r){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(Zo,r)}catch{}switch(r.tag){case 5:rt||ds(r,t);case 6:var n=Je,s=Wt;Je=null,Or(e,t,r),Je=n,Wt=s,Je!==null&&(Wt?(e=Je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Je.removeChild(r.stateNode));break;case 18:Je!==null&&(Wt?(e=Je,r=r.stateNode,e.nodeType===8?ec(e.parentNode,r):e.nodeType===1&&ec(e,r),Di(e)):ec(Je,r.stateNode));break;case 4:n=Je,s=Wt,Je=r.stateNode.containerInfo,Wt=!0,Or(e,t,r),Je=n,Wt=s;break;case 0:case 11:case 14:case 15:if(!rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&vu(r,t,a),s=s.next}while(s!==n)}Or(e,t,r);break;case 1:if(!rt&&(ds(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Ne(r,t,o)}Or(e,t,r);break;case 21:Or(e,t,r);break;case 22:r.mode&1?(rt=(n=rt)||r.memoizedState!==null,Or(e,t,r),rt=n):Or(e,t,r);break;default:Or(e,t,r)}}function Mf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new m1),t.forEach(function(n){var s=_1.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ut(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Je=o.stateNode,Wt=!1;break e;case 3:Je=o.stateNode.containerInfo,Wt=!0;break e;case 4:Je=o.stateNode.containerInfo,Wt=!0;break e}o=o.return}if(Je===null)throw Error(D(160));J0(i,a,s),Je=null,Wt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ne(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Q0(t,e),t=t.sibling}function Q0(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),Xt(e),n&4){try{gi(3,e,e.return),ol(3,e)}catch(x){Ne(e,e.return,x)}try{gi(5,e,e.return)}catch(x){Ne(e,e.return,x)}}break;case 1:Ut(t,e),Xt(e),n&512&&r!==null&&ds(r,r.return);break;case 5:if(Ut(t,e),Xt(e),n&512&&r!==null&&ds(r,r.return),e.flags&32){var s=e.stateNode;try{Ci(s,"")}catch(x){Ne(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&vg(s,i),Hc(o,a);var u=Hc(o,i);for(a=0;a<c.length;a+=2){var d=c[a],h=c[a+1];d==="style"?kg(s,h):d==="dangerouslySetInnerHTML"?bg(s,h):d==="children"?Ci(s,h):hd(s,d,h,u)}switch(o){case"input":Vc(s,i);break;case"textarea":xg(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?ys(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?ys(s,!!i.multiple,i.defaultValue,!0):ys(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mi]=i}catch(x){Ne(e,e.return,x)}}break;case 6:if(Ut(t,e),Xt(e),n&4){if(e.stateNode===null)throw Error(D(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ne(e,e.return,x)}}break;case 3:if(Ut(t,e),Xt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Di(t.containerInfo)}catch(x){Ne(e,e.return,x)}break;case 4:Ut(t,e),Xt(e);break;case 13:Ut(t,e),Xt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hd=Te())),n&4&&Mf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(rt=(u=rt)||d,Ut(t,e),rt=u):Ut(t,e),Xt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(W=e,d=e.child;d!==null;){for(h=W=d;W!==null;){switch(f=W,y=f.child,f.tag){case 0:case 11:case 14:case 15:gi(4,f,f.return);break;case 1:ds(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){Ne(n,r,x)}}break;case 5:ds(f,f.return);break;case 22:if(f.memoizedState!==null){Vf(h);continue}}y!==null?(y.return=f,W=y):Vf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=jg("display",a))}catch(x){Ne(e,e.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){Ne(e,e.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ut(t,e),Xt(e),n&4&&Mf(e);break;case 21:break;default:Ut(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(K0(r)){var n=r;break e}r=r.return}throw Error(D(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ci(s,""),n.flags&=-33);var i=$f(e);bu(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=$f(e);wu(e,o,a);break;default:throw Error(D(161))}}catch(c){Ne(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function y1(e,t,r){W=e,Y0(e)}function Y0(e,t,r){for(var n=(e.mode&1)!==0;W!==null;){var s=W,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Ra;if(!a){var o=s.alternate,c=o!==null&&o.memoizedState!==null||rt;o=Ra;var u=rt;if(Ra=a,(rt=c)&&!u)for(W=s;W!==null;)a=W,c=a.child,a.tag===22&&a.memoizedState!==null?Uf(s):c!==null?(c.return=a,W=c):Uf(s);for(;i!==null;)W=i,Y0(i),i=i.sibling;W=s,Ra=o,rt=u}Ff(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,W=i):Ff(e)}}function Ff(e){for(;W!==null;){var t=W;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:rt||ol(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!rt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:zt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&kf(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kf(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Di(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}rt||t.flags&512&&xu(t)}catch(f){Ne(t,t.return,f)}}if(t===e){W=null;break}if(r=t.sibling,r!==null){r.return=t.return,W=r;break}W=t.return}}function Vf(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var r=t.sibling;if(r!==null){r.return=t.return,W=r;break}W=t.return}}function Uf(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{ol(4,t)}catch(c){Ne(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ne(t,s,c)}}var i=t.return;try{xu(t)}catch(c){Ne(t,i,c)}break;case 5:var a=t.return;try{xu(t)}catch(c){Ne(t,a,c)}}}catch(c){Ne(t,t.return,c)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var v1=Math.ceil,Ao=Tr.ReactCurrentDispatcher,zd=Tr.ReactCurrentOwner,It=Tr.ReactCurrentBatchConfig,ce=0,Ge=null,$e=null,Qe=0,jt=0,hs=ln(0),ze=0,Wi=null,$n=0,ll=0,Wd=0,yi=null,pt=null,Hd=0,Cs=1/0,hr=null,Oo=!1,ju=null,Xr=null,La=!1,Hr=null,Do=0,vi=0,ku=null,no=-1,so=0;function ct(){return ce&6?Te():no!==-1?no:no=Te()}function Zr(e){return e.mode&1?ce&2&&Qe!==0?Qe&-Qe:t1.transition!==null?(so===0&&(so=Lg()),so):(e=de,e!==0||(e=window.event,e=e===void 0?16:Bg(e.type)),e):1}function Qt(e,t,r,n){if(50<vi)throw vi=0,ku=null,Error(D(185));ta(e,r,n),(!(ce&2)||e!==Ge)&&(e===Ge&&(!(ce&2)&&(ll|=r),ze===4&&Vr(e,Qe)),xt(e,n),r===1&&ce===0&&!(t.mode&1)&&(Cs=Te()+500,sl&&cn()))}function xt(e,t){var r=e.callbackNode;tb(e,t);var n=go(e,e===Ge?Qe:0);if(n===0)r!==null&&Jh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Jh(r),t===1)e.tag===0?e1(Bf.bind(null,e)):o0(Bf.bind(null,e)),Qb(function(){!(ce&6)&&cn()}),r=null;else{switch(Ig(n)){case 1:r=yd;break;case 4:r=Dg;break;case 16:r=mo;break;case 536870912:r=Rg;break;default:r=mo}r=iy(r,X0.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function X0(e,t){if(no=-1,so=0,ce&6)throw Error(D(327));var r=e.callbackNode;if(js()&&e.callbackNode!==r)return null;var n=go(e,e===Ge?Qe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ro(e,n);else{t=n;var s=ce;ce|=2;var i=ey();(Ge!==e||Qe!==t)&&(hr=null,Cs=Te()+500,Pn(e,t));do try{b1();break}catch(o){Z0(e,o)}while(!0);Pd(),Ao.current=i,ce=s,$e!==null?t=0:(Ge=null,Qe=0,t=ze)}if(t!==0){if(t===2&&(s=Qc(e),s!==0&&(n=s,t=Su(e,s))),t===1)throw r=Wi,Pn(e,0),Vr(e,n),xt(e,Te()),r;if(t===6)Vr(e,n);else{if(s=e.current.alternate,!(n&30)&&!x1(s)&&(t=Ro(e,n),t===2&&(i=Qc(e),i!==0&&(n=i,t=Su(e,i))),t===1))throw r=Wi,Pn(e,0),Vr(e,n),xt(e,Te()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(D(345));case 2:vn(e,pt,hr);break;case 3:if(Vr(e,n),(n&130023424)===n&&(t=Hd+500-Te(),10<t)){if(go(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ct(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=su(vn.bind(null,e,pt,hr),t);break}vn(e,pt,hr);break;case 4:if(Vr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Jt(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*v1(n/1960))-n,10<n){e.timeoutHandle=su(vn.bind(null,e,pt,hr),n);break}vn(e,pt,hr);break;case 5:vn(e,pt,hr);break;default:throw Error(D(329))}}}return xt(e,Te()),e.callbackNode===r?X0.bind(null,e):null}function Su(e,t){var r=yi;return e.current.memoizedState.isDehydrated&&(Pn(e,t).flags|=256),e=Ro(e,t),e!==2&&(t=pt,pt=r,t!==null&&_u(t)),e}function _u(e){pt===null?pt=e:pt.push.apply(pt,e)}function x1(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Yt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vr(e,t){for(t&=~Wd,t&=~ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Jt(t),n=1<<r;e[r]=-1,t&=~n}}function Bf(e){if(ce&6)throw Error(D(327));js();var t=go(e,0);if(!(t&1))return xt(e,Te()),null;var r=Ro(e,t);if(e.tag!==0&&r===2){var n=Qc(e);n!==0&&(t=n,r=Su(e,n))}if(r===1)throw r=Wi,Pn(e,0),Vr(e,t),xt(e,Te()),r;if(r===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vn(e,pt,hr),xt(e,Te()),null}function qd(e,t){var r=ce;ce|=1;try{return e(t)}finally{ce=r,ce===0&&(Cs=Te()+500,sl&&cn())}}function Mn(e){Hr!==null&&Hr.tag===0&&!(ce&6)&&js();var t=ce;ce|=1;var r=It.transition,n=de;try{if(It.transition=null,de=1,e)return e()}finally{de=n,It.transition=r,ce=t,!(ce&6)&&cn()}}function Gd(){jt=hs.current,ye(hs)}function Pn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Jb(r)),$e!==null)for(r=$e.return;r!==null;){var n=r;switch(Ed(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bo();break;case 3:Es(),ye(yt),ye(nt),Id();break;case 5:Ld(n);break;case 4:Es();break;case 13:ye(je);break;case 19:ye(je);break;case 10:Ad(n.type._context);break;case 22:case 23:Gd()}r=r.return}if(Ge=e,$e=e=en(e.current,null),Qe=jt=t,ze=0,Wi=null,Wd=ll=$n=0,pt=yi=null,_n!==null){for(t=0;t<_n.length;t++)if(r=_n[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}_n=null}return e}function Z0(e,t){do{var r=$e;try{if(Pd(),eo.current=Po,Co){for(var n=Se.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Co=!1}if(In=0,qe=Ue=Se=null,mi=!1,Ui=0,zd.current=null,r===null||r.return===null){ze=1,Wi=t,$e=null;break}e:{var i=e,a=r.return,o=r,c=t;if(t=Qe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Cf(a);if(y!==null){y.flags&=-257,Pf(y,a,o,i,t),y.mode&1&&Tf(i,u,t),t=y,c=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(c),t.updateQueue=x}else w.add(c);break e}else{if(!(t&1)){Tf(i,u,t),Kd();break e}c=Error(D(426))}}else if(xe&&o.mode&1){var v=Cf(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Pf(v,a,o,i,t),Td(Ts(c,o));break e}}i=c=Ts(c,o),ze!==4&&(ze=2),yi===null?yi=[i]:yi.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=I0(i,c,t);jf(i,g);break e;case 1:o=c;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Xr===null||!Xr.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var b=$0(i,o,t);jf(i,b);break e}}i=i.return}while(i!==null)}ry(r)}catch(S){t=S,$e===r&&r!==null&&($e=r=r.return);continue}break}while(!0)}function ey(){var e=Ao.current;return Ao.current=Po,e===null?Po:e}function Kd(){(ze===0||ze===3||ze===2)&&(ze=4),Ge===null||!($n&268435455)&&!(ll&268435455)||Vr(Ge,Qe)}function Ro(e,t){var r=ce;ce|=2;var n=ey();(Ge!==e||Qe!==t)&&(hr=null,Pn(e,t));do try{w1();break}catch(s){Z0(e,s)}while(!0);if(Pd(),ce=r,Ao.current=n,$e!==null)throw Error(D(261));return Ge=null,Qe=0,ze}function w1(){for(;$e!==null;)ty($e)}function b1(){for(;$e!==null&&!qw();)ty($e)}function ty(e){var t=sy(e.alternate,e,jt);e.memoizedProps=e.pendingProps,t===null?ry(e):$e=t,zd.current=null}function ry(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=p1(r,t),r!==null){r.flags&=32767,$e=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,$e=null;return}}else if(r=f1(r,t,jt),r!==null){$e=r;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);ze===0&&(ze=5)}function vn(e,t,r){var n=de,s=It.transition;try{It.transition=null,de=1,j1(e,t,r,n)}finally{It.transition=s,de=n}return null}function j1(e,t,r,n){do js();while(Hr!==null);if(ce&6)throw Error(D(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(rb(e,i),e===Ge&&($e=Ge=null,Qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||La||(La=!0,iy(mo,function(){return js(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=It.transition,It.transition=null;var a=de;de=1;var o=ce;ce|=4,zd.current=null,g1(e,r),Q0(r,e),Bb(ru),yo=!!tu,ru=tu=null,e.current=r,y1(r),Gw(),ce=o,de=a,It.transition=i}else e.current=r;if(La&&(La=!1,Hr=e,Do=s),i=e.pendingLanes,i===0&&(Xr=null),Qw(r.stateNode),xt(e,Te()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Oo)throw Oo=!1,e=ju,ju=null,e;return Do&1&&e.tag!==0&&js(),i=e.pendingLanes,i&1?e===ku?vi++:(vi=0,ku=e):vi=0,cn(),null}function js(){if(Hr!==null){var e=Ig(Do),t=It.transition,r=de;try{if(It.transition=null,de=16>e?16:e,Hr===null)var n=!1;else{if(e=Hr,Hr=null,Do=0,ce&6)throw Error(D(331));var s=ce;for(ce|=4,W=e.current;W!==null;){var i=W,a=i.child;if(W.flags&16){var o=i.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(W=u;W!==null;){var d=W;switch(d.tag){case 0:case 11:case 15:gi(8,d,i)}var h=d.child;if(h!==null)h.return=d,W=h;else for(;W!==null;){d=W;var f=d.sibling,y=d.return;if(G0(d),d===u){W=null;break}if(f!==null){f.return=y,W=f;break}W=y}}}var w=i.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}W=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,W=a;else e:for(;W!==null;){if(i=W,i.flags&2048)switch(i.tag){case 0:case 11:case 15:gi(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,W=g;break e}W=i.return}}var p=e.current;for(W=p;W!==null;){a=W;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,W=m;else e:for(a=p;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ol(9,o)}}catch(S){Ne(o,o.return,S)}if(o===a){W=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,W=b;break e}W=o.return}}if(ce=s,cn(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(Zo,e)}catch{}n=!0}return n}finally{de=r,It.transition=t}}return!1}function zf(e,t,r){t=Ts(r,t),t=I0(e,t,1),e=Yr(e,t,1),t=ct(),e!==null&&(ta(e,1,t),xt(e,t))}function Ne(e,t,r){if(e.tag===3)zf(e,e,r);else for(;t!==null;){if(t.tag===3){zf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Xr===null||!Xr.has(n))){e=Ts(r,e),e=$0(t,e,1),t=Yr(t,e,1),e=ct(),t!==null&&(ta(t,1,e),xt(t,e));break}}t=t.return}}function k1(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ct(),e.pingedLanes|=e.suspendedLanes&r,Ge===e&&(Qe&r)===r&&(ze===4||ze===3&&(Qe&130023424)===Qe&&500>Te()-Hd?Pn(e,0):Wd|=r),xt(e,t)}function ny(e,t){t===0&&(e.mode&1?(t=_a,_a<<=1,!(_a&130023424)&&(_a=4194304)):t=1);var r=ct();e=Sr(e,t),e!==null&&(ta(e,t,r),xt(e,r))}function S1(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ny(e,r)}function _1(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(D(314))}n!==null&&n.delete(t),ny(e,r)}var sy;sy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||yt.current)gt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return gt=!1,h1(e,t,r);gt=!!(e.flags&131072)}else gt=!1,xe&&t.flags&1048576&&l0(t,So,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ro(e,t),e=t.pendingProps;var s=Ss(t,nt.current);bs(t,r),s=Md(null,t,n,e,s,r);var i=Fd();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,vt(n)?(i=!0,jo(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Dd(t),s.updater=al,t.stateNode=s,s._reactInternals=t,du(t,n,e,r),t=pu(null,t,n,!0,i,r)):(t.tag=0,xe&&i&&Nd(t),ot(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ro(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=E1(n),e=zt(n,e),s){case 0:t=fu(null,t,n,e,r);break e;case 1:t=Df(null,t,n,e,r);break e;case 11:t=Af(null,t,n,e,r);break e;case 14:t=Of(null,t,n,zt(n.type,e),r);break e}throw Error(D(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zt(n,s),fu(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zt(n,s),Df(e,t,n,s,r);case 3:e:{if(U0(t),e===null)throw Error(D(387));n=t.pendingProps,i=t.memoizedState,s=i.element,p0(e,t),Eo(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ts(Error(D(423)),t),t=Rf(e,t,n,r,s);break e}else if(n!==s){s=Ts(Error(D(424)),t),t=Rf(e,t,n,r,s);break e}else for(kt=Qr(t.stateNode.containerInfo.firstChild),St=t,xe=!0,qt=null,r=h0(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_s(),n===s){t=_r(e,t,r);break e}ot(e,t,n,r)}t=t.child}return t;case 5:return m0(t),e===null&&lu(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,nu(n,s)?a=null:i!==null&&nu(n,i)&&(t.flags|=32),V0(e,t),ot(e,t,a,r),t.child;case 6:return e===null&&lu(t),null;case 13:return B0(e,t,r);case 4:return Rd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ns(t,null,n,r):ot(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zt(n,s),Af(e,t,n,s,r);case 7:return ot(e,t,t.pendingProps,r),t.child;case 8:return ot(e,t,t.pendingProps.children,r),t.child;case 12:return ot(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,pe(_o,n._currentValue),n._currentValue=a,i!==null)if(Yt(i.value,a)){if(i.children===s.children&&!yt.current){t=_r(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=vr(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),cu(i.return,r,t),o.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(D(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),cu(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}ot(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,bs(t,r),s=Mt(s),n=n(s),t.flags|=1,ot(e,t,n,r),t.child;case 14:return n=t.type,s=zt(n,t.pendingProps),s=zt(n.type,s),Of(e,t,n,s,r);case 15:return M0(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zt(n,s),ro(e,t),t.tag=1,vt(n)?(e=!0,jo(t)):e=!1,bs(t,r),L0(t,n,s),du(t,n,s,r),pu(null,t,n,!0,e,r);case 19:return z0(e,t,r);case 22:return F0(e,t,r)}throw Error(D(156,t.tag))};function iy(e,t){return Og(e,t)}function N1(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,r,n){return new N1(e,t,r,n)}function Jd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function E1(e){if(typeof e=="function")return Jd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===pd)return 11;if(e===md)return 14}return 2}function en(e,t){var r=e.alternate;return r===null?(r=Lt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function io(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Jd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case rs:return An(r.children,s,i,t);case fd:a=8,s|=8;break;case Lc:return e=Lt(12,r,t,s|2),e.elementType=Lc,e.lanes=i,e;case Ic:return e=Lt(13,r,t,s),e.elementType=Ic,e.lanes=i,e;case $c:return e=Lt(19,r,t,s),e.elementType=$c,e.lanes=i,e;case mg:return cl(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fg:a=10;break e;case pg:a=9;break e;case pd:a=11;break e;case md:a=14;break e;case Ir:a=16,n=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=Lt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function An(e,t,r,n){return e=Lt(7,e,n,t),e.lanes=r,e}function cl(e,t,r,n){return e=Lt(22,e,n,t),e.elementType=mg,e.lanes=r,e.stateNode={isHidden:!1},e}function lc(e,t,r){return e=Lt(6,e,null,t),e.lanes=r,e}function cc(e,t,r){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function T1(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zl(0),this.expirationTimes=zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zl(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qd(e,t,r,n,s,i,a,o,c){return e=new T1(e,t,r,o,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Lt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dd(i),e}function C1(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ts,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function ay(e){if(!e)return nn;e=e._reactInternals;e:{if(Vn(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(vt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var r=e.type;if(vt(r))return a0(e,r,t)}return t}function oy(e,t,r,n,s,i,a,o,c){return e=Qd(r,n,!0,e,s,i,a,o,c),e.context=ay(null),r=e.current,n=ct(),s=Zr(r),i=vr(n,s),i.callback=t??null,Yr(r,i,s),e.current.lanes=s,ta(e,s,n),xt(e,n),e}function ul(e,t,r,n){var s=t.current,i=ct(),a=Zr(s);return r=ay(r),t.context===null?t.context=r:t.pendingContext=r,t=vr(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Yr(s,t,a),e!==null&&(Qt(e,s,a,i),Za(e,s,a)),a}function Lo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Wf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Yd(e,t){Wf(e,t),(e=e.alternate)&&Wf(e,t)}function P1(){return null}var ly=typeof reportError=="function"?reportError:function(e){console.error(e)};function Xd(e){this._internalRoot=e}dl.prototype.render=Xd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));ul(e,t,null,null)};dl.prototype.unmount=Xd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mn(function(){ul(null,e,null,null)}),t[kr]=null}};function dl(e){this._internalRoot=e}dl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Fr.length&&t!==0&&t<Fr[r].priority;r++);Fr.splice(r,0,e),r===0&&Ug(e)}};function Zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hf(){}function A1(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Lo(a);i.call(u)}}var a=oy(t,n,e,0,null,!1,!1,"",Hf);return e._reactRootContainer=a,e[kr]=a.current,Ii(e.nodeType===8?e.parentNode:e),Mn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Lo(c);o.call(u)}}var c=Qd(e,0,!1,null,null,!1,!1,"",Hf);return e._reactRootContainer=c,e[kr]=c.current,Ii(e.nodeType===8?e.parentNode:e),Mn(function(){ul(t,c,r,n)}),c}function fl(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var c=Lo(a);o.call(c)}}ul(t,a,e,s)}else a=A1(r,t,e,s,n);return Lo(a)}$g=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ii(t.pendingLanes);r!==0&&(vd(t,r|1),xt(t,Te()),!(ce&6)&&(Cs=Te()+500,cn()))}break;case 13:Mn(function(){var n=Sr(e,1);if(n!==null){var s=ct();Qt(n,e,1,s)}}),Yd(e,1)}};xd=function(e){if(e.tag===13){var t=Sr(e,134217728);if(t!==null){var r=ct();Qt(t,e,134217728,r)}Yd(e,134217728)}};Mg=function(e){if(e.tag===13){var t=Zr(e),r=Sr(e,t);if(r!==null){var n=ct();Qt(r,e,t,n)}Yd(e,t)}};Fg=function(){return de};Vg=function(e,t){var r=de;try{return de=e,t()}finally{de=r}};Gc=function(e,t,r){switch(t){case"input":if(Vc(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=nl(n);if(!s)throw Error(D(90));yg(n),Vc(n,s)}}}break;case"textarea":xg(e,r);break;case"select":t=r.value,t!=null&&ys(e,!!r.multiple,t,!1)}};Ng=qd;Eg=Mn;var O1={usingClientEntryPoint:!1,Events:[na,as,nl,Sg,_g,qd]},Js={findFiberByHostInstance:Sn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D1={bundleType:Js.bundleType,version:Js.version,rendererPackageName:Js.rendererPackageName,rendererConfig:Js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Pg(e),e===null?null:e.stateNode},findFiberByHostInstance:Js.findFiberByHostInstance||P1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ia=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ia.isDisabled&&Ia.supportsFiber)try{Zo=Ia.inject(D1),ar=Ia}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O1;Et.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Zd(t))throw Error(D(200));return C1(e,t,null,r)};Et.createRoot=function(e,t){if(!Zd(e))throw Error(D(299));var r=!1,n="",s=ly;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Qd(e,1,!1,null,null,r,!1,n,s),e[kr]=t.current,Ii(e.nodeType===8?e.parentNode:e),new Xd(t)};Et.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Pg(t),e=e===null?null:e.stateNode,e};Et.flushSync=function(e){return Mn(e)};Et.hydrate=function(e,t,r){if(!hl(t))throw Error(D(200));return fl(null,e,t,!0,r)};Et.hydrateRoot=function(e,t,r){if(!Zd(e))throw Error(D(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=ly;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=oy(t,null,e,1,r??null,s,!1,i,a),e[kr]=t.current,Ii(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new dl(t)};Et.render=function(e,t,r){if(!hl(t))throw Error(D(200));return fl(null,e,t,!1,r)};Et.unmountComponentAtNode=function(e){if(!hl(e))throw Error(D(40));return e._reactRootContainer?(Mn(function(){fl(null,null,e,!1,function(){e._reactRootContainer=null,e[kr]=null})}),!0):!1};Et.unstable_batchedUpdates=qd;Et.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!hl(r))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return fl(e,t,r,!1,n)};Et.version="18.3.1-next-f1338f8080-20240426";function cy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(cy)}catch(e){console.error(e)}}cy(),cg.exports=Et;var R1=cg.exports,qf=R1;Dc.createRoot=qf.createRoot,Dc.hydrateRoot=qf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hi(){return Hi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hi.apply(this,arguments)}var qr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(qr||(qr={}));const Gf="popstate";function L1(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Nu("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:dy(s)}return $1(t,r,null,e)}function Me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function uy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function I1(){return Math.random().toString(36).substr(2,8)}function Kf(e,t){return{usr:e.state,key:e.key,idx:t}}function Nu(e,t,r,n){return r===void 0&&(r=null),Hi({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Fs(t):t,{state:r,key:t&&t.key||n||I1()})}function dy(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Fs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function $1(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=qr.Pop,c=null,u=d();u==null&&(u=0,a.replaceState(Hi({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=qr.Pop;let v=d(),g=v==null?null:v-u;u=v,c&&c({action:o,location:x.location,delta:g})}function f(v,g){o=qr.Push;let p=Nu(x.location,v,g);u=d()+1;let m=Kf(p,u),b=x.createHref(p);try{a.pushState(m,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(b)}i&&c&&c({action:o,location:x.location,delta:1})}function y(v,g){o=qr.Replace;let p=Nu(x.location,v,g);u=d();let m=Kf(p,u),b=x.createHref(p);a.replaceState(m,"",b),i&&c&&c({action:o,location:x.location,delta:0})}function w(v){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof v=="string"?v:dy(v);return p=p.replace(/ $/,"%20"),Me(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let x={get action(){return o},get location(){return e(s,a)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Gf,h),c=v,()=>{s.removeEventListener(Gf,h),c=null}},createHref(v){return t(s,v)},createURL:w,encodeLocation(v){let g=w(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:y,go(v){return a.go(v)}};return x}var Jf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Jf||(Jf={}));function M1(e,t,r){return r===void 0&&(r="/"),F1(e,t,r)}function F1(e,t,r,n){let s=typeof t=="string"?Fs(t):t,i=py(s.pathname||"/",r);if(i==null)return null;let a=hy(e);V1(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let u=X1(i);o=J1(a[c],u)}return o}function hy(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let c={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};c.relativePath.startsWith("/")&&(Me(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=On([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(Me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),hy(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:G1(u,i.index),routesMeta:d})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let c of fy(i.path))s(i,a,c)}),t}function fy(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=fy(n.join("/")),o=[];return o.push(...a.map(c=>c===""?i:[i,c].join("/"))),s&&o.push(...a),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function V1(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:K1(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const U1=/^:[\w-]+$/,B1=3,z1=2,W1=1,H1=10,q1=-2,Qf=e=>e==="*";function G1(e,t){let r=e.split("/"),n=r.length;return r.some(Qf)&&(n+=q1),t&&(n+=z1),r.filter(s=>!Qf(s)).reduce((s,i)=>s+(U1.test(i)?B1:i===""?W1:H1),n)}function K1(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function J1(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],u=o===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",h=Q1({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h)return null;Object.assign(s,h.params),a.push({params:s,pathname:On([i,h.pathname]),pathnameBase:rj(On([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=On([i,h.pathnameBase]))}return a}function Q1(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Y1(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let x=o[h]||"";a=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const w=o[h];return y&&!w?u[f]=void 0:u[f]=(w||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Y1(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),uy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function X1(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return uy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function py(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Z1(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Fs(e):e;return{pathname:r?r.startsWith("/")?r:ej(r,t):t,search:nj(n),hash:sj(s)}}function ej(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function uc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tj(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function my(e,t){let r=tj(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function gy(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Fs(e):(s=Hi({},e),Me(!s.pathname||!s.pathname.includes("?"),uc("?","pathname","search",s)),Me(!s.pathname||!s.pathname.includes("#"),uc("#","pathname","hash",s)),Me(!s.search||!s.search.includes("#"),uc("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let h=t.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}o=h>=0?t[h]:"/"}let c=Z1(s,o),u=a&&a!=="/"&&a.endsWith("/"),d=(i||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const On=e=>e.join("/").replace(/\/\/+/g,"/"),rj=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nj=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sj=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ij(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const yy=["post","put","patch","delete"];new Set(yy);const aj=["get",...yy];new Set(aj);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qi(){return qi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qi.apply(this,arguments)}const eh=j.createContext(null),oj=j.createContext(null),ia=j.createContext(null),pl=j.createContext(null),Un=j.createContext({outlet:null,matches:[],isDataRoute:!1}),vy=j.createContext(null);function aa(){return j.useContext(pl)!=null}function oa(){return aa()||Me(!1),j.useContext(pl).location}function xy(e){j.useContext(ia).static||j.useLayoutEffect(e)}function ml(){let{isDataRoute:e}=j.useContext(Un);return e?wj():lj()}function lj(){aa()||Me(!1);let e=j.useContext(eh),{basename:t,future:r,navigator:n}=j.useContext(ia),{matches:s}=j.useContext(Un),{pathname:i}=oa(),a=JSON.stringify(my(s,r.v7_relativeSplatPath)),o=j.useRef(!1);return xy(()=>{o.current=!0}),j.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=gy(u,JSON.parse(a),i,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:On([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,a,i,e])}function cj(e,t){return uj(e,t)}function uj(e,t,r,n){aa()||Me(!1);let{navigator:s}=j.useContext(ia),{matches:i}=j.useContext(Un),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let u=oa(),d;if(t){var h;let v=typeof t=="string"?Fs(t):t;c==="/"||(h=v.pathname)!=null&&h.startsWith(c)||Me(!1),d=v}else d=u;let f=d.pathname||"/",y=f;if(c!=="/"){let v=c.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let w=M1(e,{pathname:y}),x=mj(w&&w.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:On([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:On([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&x?j.createElement(pl.Provider,{value:{location:qi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:qr.Pop}},x):x}function dj(){let e=xj(),t=ij(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),r?j.createElement("pre",{style:s},r):null,null)}const hj=j.createElement(dj,null);class fj extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?j.createElement(Un.Provider,{value:this.props.routeContext},j.createElement(vy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pj(e){let{routeContext:t,match:r,children:n}=e,s=j.useContext(eh);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Un.Provider,{value:t},n)}function mj(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Me(!1),a=a.slice(0,Math.min(a.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:y}=r,w=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||w){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let y,w=!1,x=null,v=null;r&&(y=o&&h.route.id?o[h.route.id]:void 0,x=h.route.errorElement||hj,c&&(u<0&&f===0?(bj("route-fallback"),w=!0,v=null):u===f&&(w=!0,v=h.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,f+1)),p=()=>{let m;return y?m=x:w?m=v:h.route.Component?m=j.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,j.createElement(pj,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:m})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(fj,{location:r.location,revalidation:r.revalidation,component:x,error:y,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var wy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wy||{}),by=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(by||{});function gj(e){let t=j.useContext(eh);return t||Me(!1),t}function yj(e){let t=j.useContext(oj);return t||Me(!1),t}function vj(e){let t=j.useContext(Un);return t||Me(!1),t}function jy(e){let t=vj(),r=t.matches[t.matches.length-1];return r.route.id||Me(!1),r.route.id}function xj(){var e;let t=j.useContext(vy),r=yj(),n=jy();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function wj(){let{router:e}=gj(wy.UseNavigateStable),t=jy(by.UseNavigateStable),r=j.useRef(!1);return xy(()=>{r.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,qi({fromRouteId:t},i)))},[e,t])}const Yf={};function bj(e,t,r){Yf[e]||(Yf[e]=!0)}function jj(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function kj(e){let{to:t,replace:r,state:n,relative:s}=e;aa()||Me(!1);let{future:i,static:a}=j.useContext(ia),{matches:o}=j.useContext(Un),{pathname:c}=oa(),u=ml(),d=gy(t,my(o,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return j.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function oi(e){Me(!1)}function Sj(e){let{basename:t="/",children:r=null,location:n,navigationType:s=qr.Pop,navigator:i,static:a=!1,future:o}=e;aa()&&Me(!1);let c=t.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:i,static:a,future:qi({v7_relativeSplatPath:!1},o)}),[c,o,i,a]);typeof n=="string"&&(n=Fs(n));let{pathname:d="/",search:h="",hash:f="",state:y=null,key:w="default"}=n,x=j.useMemo(()=>{let v=py(d,c);return v==null?null:{location:{pathname:v,search:h,hash:f,state:y,key:w},navigationType:s}},[c,d,h,f,y,w,s]);return x==null?null:j.createElement(ia.Provider,{value:u},j.createElement(pl.Provider,{children:r,value:x}))}function _j(e){let{children:t,location:r}=e;return cj(Eu(t),r)}new Promise(()=>{});function Eu(e,t){t===void 0&&(t=[]);let r=[];return j.Children.forEach(e,(n,s)=>{if(!j.isValidElement(n))return;let i=[...t,s];if(n.type===j.Fragment){r.push.apply(r,Eu(n.props.children,i));return}n.type!==oi&&Me(!1),!n.props.index||!n.props.children||Me(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Eu(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tu(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function Nj(e,t){let r=Tu(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(i=>{r.append(s,i)})}),r}const Ej="6";try{window.__reactRouterVersion=Ej}catch{}const Tj="startTransition",Xf=kw[Tj];function Cj(e){let{basename:t,children:r,future:n,window:s}=e,i=j.useRef();i.current==null&&(i.current=L1({window:s,v5Compat:!0}));let a=i.current,[o,c]=j.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=j.useCallback(h=>{u&&Xf?Xf(()=>c(h)):c(h)},[c,u]);return j.useLayoutEffect(()=>a.listen(d),[a,d]),j.useEffect(()=>jj(n),[n]),j.createElement(Sj,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var Zf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Zf||(Zf={}));var ep;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ep||(ep={}));function Pj(e){let t=j.useRef(Tu(e)),r=j.useRef(!1),n=oa(),s=j.useMemo(()=>Nj(n.search,r.current?null:t.current),[n.search]),i=ml(),a=j.useCallback((o,c)=>{const u=Tu(typeof o=="function"?o(s):o);r.current=!0,i("?"+u,c)},[i,s]);return[s,a]}var tp={},Aj="@vercel/analytics",Oj="1.5.0",Dj=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function ky(){return typeof window<"u"}function Sy(){try{const e="production"}catch{}return"production"}function Rj(e="auto"){if(e==="auto"){window.vam=Sy();return}window.vam=e}function Lj(){return(ky()?window.vam:Sy())||"production"}function Cu(){return Lj()==="development"}function Ij(e){return e.scriptSrc?e.scriptSrc:Cu()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function $j(e={debug:!0}){var t;if(!ky())return;Rj(e.mode),Dj(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const r=Ij(e);if(document.head.querySelector(`script[src*="${r}"]`))return;const n=document.createElement("script");n.src=r,n.defer=!0,n.dataset.sdkn=Aj+(e.framework?`/${e.framework}`:""),n.dataset.sdkv=Oj,e.disableAutoTrack&&(n.dataset.disableAutoTrack="1"),e.endpoint?n.dataset.endpoint=e.endpoint:e.basePath&&(n.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(n.dataset.dsn=e.dsn),n.onerror=()=>{const s=Cu()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${r}. ${s}`)},Cu()&&e.debug===!1&&(n.dataset.debug="false"),document.head.appendChild(n)}function Mj({route:e,path:t}){var r;(r=window.va)==null||r.call(window,"pageview",{route:e,path:t})}function Fj(){if(!(typeof process>"u"||typeof tp>"u"))return tp.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function Vj(e){return j.useEffect(()=>{var t;e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),j.useEffect(()=>{$j({framework:e.framework||"react",basePath:e.basePath??Fj(),...e.route!==void 0&&{disableAutoTrack:!0},...e})},[]),j.useEffect(()=>{e.route&&e.path&&Mj({route:e.route,path:e.path})},[e.route,e.path]),null}let Uj={data:""},Bj=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Uj,zj=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Wj=/\/\*[^]*?\*\/|  +/g,rp=/\n+/g,Ur=(e,t)=>{let r="",n="",s="";for(let i in e){let a=e[i];i[0]=="@"?i[1]=="i"?r=i+" "+a+";":n+=i[1]=="f"?Ur(a,i):i+"{"+Ur(a,i[1]=="k"?"":t)+"}":typeof a=="object"?n+=Ur(a,t?t.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Ur.p?Ur.p(i,a):i+":"+a+";")}return r+(t&&s?t+"{"+s+"}":s)+n},cr={},_y=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+_y(e[r]);return t}return e},Hj=(e,t,r,n,s)=>{let i=_y(e),a=cr[i]||(cr[i]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(i));if(!cr[a]){let c=i!==e?e:(u=>{let d,h,f=[{}];for(;d=zj.exec(u.replace(Wj,""));)d[4]?f.shift():d[3]?(h=d[3].replace(rp," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(rp," ").trim();return f[0]})(e);cr[a]=Ur(s?{["@keyframes "+a]:c}:c,r?"":"."+a)}let o=r&&cr.g?cr.g:null;return r&&(cr.g=cr[a]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(cr[a],t,n,o),a},qj=(e,t,r)=>e.reduce((n,s,i)=>{let a=t[i];if(a&&a.call){let o=a(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=c?"."+c:o&&typeof o=="object"?o.props?"":Ur(o,""):o===!1?"":o}return n+s+(a??"")},"");function gl(e){let t=this||{},r=e.call?e(t.p):e;return Hj(r.unshift?r.raw?qj(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,Bj(t.target),t.g,t.o,t.k)}let Ny,Pu,Au;gl.bind({g:1});let Nr=gl.bind({k:1});function Gj(e,t,r,n){Ur.p=t,Ny=e,Pu=r,Au=n}function un(e,t){let r=this||{};return function(){let n=arguments;function s(i,a){let o=Object.assign({},i),c=o.className||s.className;r.p=Object.assign({theme:Pu&&Pu()},o),r.o=/ *go\d+/.test(c),o.className=gl.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=o.as||e,delete o.as),Au&&u[0]&&Au(o),Ny(u,o)}return s}}var Kj=e=>typeof e=="function",Io=(e,t)=>Kj(e)?e(t):e,Jj=(()=>{let e=0;return()=>(++e).toString()})(),Ey=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Qj=20,th="default",Ty=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:n}=t;return Ty(e,{type:e.toasts.find(a=>a.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=t;return{...e,toasts:e.toasts.map(a=>a.id===s||s===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let i=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+i}))}}},ao=[],Cy={toasts:[],pausedAt:void 0,settings:{toastLimit:Qj}},nr={},Py=(e,t=th)=>{nr[t]=Ty(nr[t]||Cy,e),ao.forEach(([r,n])=>{r===t&&n(nr[t])})},Ay=e=>Object.keys(nr).forEach(t=>Py(e,t)),Yj=e=>Object.keys(nr).find(t=>nr[t].toasts.some(r=>r.id===e)),yl=(e=th)=>t=>{Py(t,e)},Xj={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Zj=(e={},t=th)=>{let[r,n]=j.useState(nr[t]||Cy),s=j.useRef(nr[t]);j.useEffect(()=>(s.current!==nr[t]&&n(nr[t]),ao.push([t,n]),()=>{let a=ao.findIndex(([o])=>o===t);a>-1&&ao.splice(a,1)}),[t]);let i=r.toasts.map(a=>{var o,c,u;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((o=e[a.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((c=e[a.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||Xj[a.type],style:{...e.style,...(u=e[a.type])==null?void 0:u.style,...a.style}}});return{...r,toasts:i}},ek=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Jj()}),la=e=>(t,r)=>{let n=ek(t,e,r);return yl(n.toasterId||Yj(n.id))({type:2,toast:n}),n.id},Be=(e,t)=>la("blank")(e,t);Be.error=la("error");Be.success=la("success");Be.loading=la("loading");Be.custom=la("custom");Be.dismiss=(e,t)=>{let r={type:3,toastId:e};t?yl(t)(r):Ay(r)};Be.dismissAll=e=>Be.dismiss(void 0,e);Be.remove=(e,t)=>{let r={type:4,toastId:e};t?yl(t)(r):Ay(r)};Be.removeAll=e=>Be.remove(void 0,e);Be.promise=(e,t,r)=>{let n=Be.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let i=t.success?Io(t.success,s):void 0;return i?Be.success(i,{id:n,...r,...r==null?void 0:r.success}):Be.dismiss(n),s}).catch(s=>{let i=t.error?Io(t.error,s):void 0;i?Be.error(i,{id:n,...r,...r==null?void 0:r.error}):Be.dismiss(n)}),e};var tk=1e3,rk=(e,t="default")=>{let{toasts:r,pausedAt:n}=Zj(e,t),s=j.useRef(new Map).current,i=j.useCallback((h,f=tk)=>{if(s.has(h))return;let y=setTimeout(()=>{s.delete(h),a({type:4,toastId:h})},f);s.set(h,y)},[]);j.useEffect(()=>{if(n)return;let h=Date.now(),f=r.map(y=>{if(y.duration===1/0)return;let w=(y.duration||0)+y.pauseDuration-(h-y.createdAt);if(w<0){y.visible&&Be.dismiss(y.id);return}return setTimeout(()=>Be.dismiss(y.id,t),w)});return()=>{f.forEach(y=>y&&clearTimeout(y))}},[r,n,t]);let a=j.useCallback(yl(t),[t]),o=j.useCallback(()=>{a({type:5,time:Date.now()})},[a]),c=j.useCallback((h,f)=>{a({type:1,toast:{id:h,height:f}})},[a]),u=j.useCallback(()=>{n&&a({type:6,time:Date.now()})},[n,a]),d=j.useCallback((h,f)=>{let{reverseOrder:y=!1,gutter:w=8,defaultPosition:x}=f||{},v=r.filter(m=>(m.position||x)===(h.position||x)&&m.height),g=v.findIndex(m=>m.id===h.id),p=v.filter((m,b)=>b<g&&m.visible).length;return v.filter(m=>m.visible).slice(...y?[p+1]:[0,p]).reduce((m,b)=>m+(b.height||0)+w,0)},[r]);return j.useEffect(()=>{r.forEach(h=>{if(h.dismissed)i(h.id,h.removeDelay);else{let f=s.get(h.id);f&&(clearTimeout(f),s.delete(h.id))}})},[r,i]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:u,calculateOffset:d}}},nk=Nr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,sk=Nr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ik=Nr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ak=un("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nk} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${sk} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${ik} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ok=Nr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lk=un("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ok} 1s linear infinite;
`,ck=Nr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,uk=Nr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,dk=un("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ck} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${uk} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hk=un("div")`
  position: absolute;
`,fk=un("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,pk=Nr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mk=un("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${pk} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gk=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?j.createElement(mk,null,t):t:r==="blank"?null:j.createElement(fk,null,j.createElement(lk,{...n}),r!=="loading"&&j.createElement(hk,null,r==="error"?j.createElement(ak,{...n}):j.createElement(dk,{...n})))},yk=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,vk=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,xk="0%{opacity:0;} 100%{opacity:1;}",wk="0%{opacity:1;} 100%{opacity:0;}",bk=un("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,jk=un("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,kk=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Ey()?[xk,wk]:[yk(r),vk(r)];return{animation:t?`${Nr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Nr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Sk=j.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?kk(e.position||t||"top-center",e.visible):{opacity:0},i=j.createElement(gk,{toast:e}),a=j.createElement(jk,{...e.ariaProps},Io(e.message,e));return j.createElement(bk,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:i,message:a}):j.createElement(j.Fragment,null,i,a))});Gj(j.createElement);var _k=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let i=j.useCallback(a=>{if(a){let o=()=>{let c=a.getBoundingClientRect().height;n(e,c)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return j.createElement("div",{ref:i,className:t,style:r},s)},Nk=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Ey()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},Ek=gl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,$a=16,Tk=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,toasterId:i,containerStyle:a,containerClassName:o})=>{let{toasts:c,handlers:u}=rk(r,i);return j.createElement("div",{"data-rht-toaster":i||"",style:{position:"fixed",zIndex:9999,top:$a,left:$a,right:$a,bottom:$a,pointerEvents:"none",...a},className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(d=>{let h=d.position||t,f=u.calculateOffset(d,{reverseOrder:e,gutter:n,defaultPosition:t}),y=Nk(h,f);return j.createElement(_k,{id:d.id,key:d.id,onHeightUpdate:u.updateHeight,className:d.visible?Ek:"",style:y},d.type==="custom"?Io(d.message,d):s?s(d):j.createElement(Sk,{toast:d,position:h}))}))},Rt=Be;const Oy=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),vl=j.createContext({}),xl=j.createContext(null),wl=typeof document<"u",rh=wl?j.useLayoutEffect:j.useEffect,Dy=j.createContext({strict:!1}),nh=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Ck="framerAppearId",Ry="data-"+nh(Ck);function Pk(e,t,r,n){const{visualElement:s}=j.useContext(vl),i=j.useContext(Dy),a=j.useContext(xl),o=j.useContext(Oy).reducedMotion,c=j.useRef();n=n||i.renderer,!c.current&&n&&(c.current=n(e,{visualState:t,parent:s,props:r,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const u=c.current;j.useInsertionEffect(()=>{u&&u.update(r,a)});const d=j.useRef(!!(r[Ry]&&!window.HandoffComplete));return rh(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),j.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function fs(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Ak(e,t,r){return j.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):fs(r)&&(r.current=n))},[t])}function Gi(e){return typeof e=="string"||Array.isArray(e)}function bl(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const sh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ih=["initial",...sh];function jl(e){return bl(e.animate)||ih.some(t=>Gi(e[t]))}function Ly(e){return!!(jl(e)||e.variants)}function Ok(e,t){if(jl(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Gi(r)?r:void 0,animate:Gi(n)?n:void 0}}return e.inherit!==!1?t:{}}function Dk(e){const{initial:t,animate:r}=Ok(e,j.useContext(vl));return j.useMemo(()=>({initial:t,animate:r}),[np(t),np(r)])}function np(e){return Array.isArray(e)?e.join(" "):e}const sp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ki={};for(const e in sp)Ki[e]={isEnabled:t=>sp[e].some(r=>!!t[r])};function Rk(e){for(const t in e)Ki[t]={...Ki[t],...e[t]}}const ah=j.createContext({}),Iy=j.createContext({}),Lk=Symbol.for("motionComponentSymbol");function Ik({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){e&&Rk(e);function i(o,c){let u;const d={...j.useContext(Oy),...o,layoutId:$k(o)},{isStatic:h}=d,f=Dk(o),y=n(o,h);if(!h&&wl){f.visualElement=Pk(s,y,d,t);const w=j.useContext(Iy),x=j.useContext(Dy).strict;f.visualElement&&(u=f.visualElement.loadFeatures(d,x,e,w))}return j.createElement(vl.Provider,{value:f},u&&f.visualElement?j.createElement(u,{visualElement:f.visualElement,...d}):null,r(s,o,Ak(y,f.visualElement,c),y,h,f.visualElement))}const a=j.forwardRef(i);return a[Lk]=s,a}function $k({layoutId:e}){const t=j.useContext(ah).id;return t&&e!==void 0?t+"-"+e:e}function Mk(e){function t(n,s={}){return Ik(e(n,s))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,s)=>(r.has(s)||r.set(s,t(s)),r.get(s))})}const Fk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function oh(e){return typeof e!="string"||e.includes("-")?!1:!!(Fk.indexOf(e)>-1||/[A-Z]/.test(e))}const $o={};function Vk(e){Object.assign($o,e)}const ca=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bn=new Set(ca);function $y(e,{layout:t,layoutId:r}){return Bn.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!$o[e]||e==="opacity")}const wt=e=>!!(e&&e.getVelocity),Uk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Bk=ca.length;function zk(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,s){let i="";for(let a=0;a<Bk;a++){const o=ca[a];if(e[o]!==void 0){const c=Uk[o]||o;i+=`${c}(${e[o]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(e,n?"":i):r&&n&&(i="none"),i}const My=e=>t=>typeof t=="string"&&t.startsWith(e),Fy=My("--"),Ou=My("var(--"),Wk=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Hk=(e,t)=>t&&typeof e=="number"?t.transform(e):e,sn=(e,t,r)=>Math.min(Math.max(r,e),t),zn={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},xi={...zn,transform:e=>sn(0,1,e)},Ma={...zn,default:1},wi=e=>Math.round(e*1e5)/1e5,kl=/(-)?([\d]*\.?[\d])+/g,Vy=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,qk=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ua(e){return typeof e=="string"}const da=e=>({test:t=>ua(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Rr=da("deg"),lr=da("%"),Q=da("px"),Gk=da("vh"),Kk=da("vw"),ip={...lr,parse:e=>lr.parse(e)/100,transform:e=>lr.transform(e*100)},ap={...zn,transform:Math.round},Uy={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,size:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,rotate:Rr,rotateX:Rr,rotateY:Rr,rotateZ:Rr,scale:Ma,scaleX:Ma,scaleY:Ma,scaleZ:Ma,skew:Rr,skewX:Rr,skewY:Rr,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:xi,originX:ip,originY:ip,originZ:Q,zIndex:ap,fillOpacity:xi,strokeOpacity:xi,numOctaves:ap};function lh(e,t,r,n){const{style:s,vars:i,transform:a,transformOrigin:o}=e;let c=!1,u=!1,d=!0;for(const h in t){const f=t[h];if(Fy(h)){i[h]=f;continue}const y=Uy[h],w=Hk(f,y);if(Bn.has(h)){if(c=!0,a[h]=w,!d)continue;f!==(y.default||0)&&(d=!1)}else h.startsWith("origin")?(u=!0,o[h]=w):s[h]=w}if(t.transform||(c||n?s.transform=zk(e.transform,r,d,n):s.transform&&(s.transform="none")),u){const{originX:h="50%",originY:f="50%",originZ:y=0}=o;s.transformOrigin=`${h} ${f} ${y}`}}const ch=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function By(e,t,r){for(const n in t)!wt(t[n])&&!$y(n,r)&&(e[n]=t[n])}function Jk({transformTemplate:e},t,r){return j.useMemo(()=>{const n=ch();return lh(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function Qk(e,t,r){const n=e.style||{},s={};return By(s,n,e),Object.assign(s,Jk(e,t,r)),e.transformValues?e.transformValues(s):s}function Yk(e,t,r){const n={},s=Qk(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const Xk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mo(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Xk.has(e)}let zy=e=>!Mo(e);function Zk(e){e&&(zy=t=>t.startsWith("on")?!Mo(t):e(t))}try{Zk(require("@emotion/is-prop-valid").default)}catch{}function eS(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(zy(s)||r===!0&&Mo(s)||!t&&!Mo(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function op(e,t,r){return typeof e=="string"?e:Q.transform(t+r*e)}function tS(e,t,r){const n=op(t,e.x,e.width),s=op(r,e.y,e.height);return`${n} ${s}`}const rS={offset:"stroke-dashoffset",array:"stroke-dasharray"},nS={offset:"strokeDashoffset",array:"strokeDasharray"};function sS(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?rS:nS;e[i.offset]=Q.transform(-n);const a=Q.transform(t),o=Q.transform(r);e[i.array]=`${a} ${o}`}function uh(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:i,pathLength:a,pathSpacing:o=1,pathOffset:c=0,...u},d,h,f){if(lh(e,u,d,f),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:w,dimensions:x}=e;y.transform&&(x&&(w.transform=y.transform),delete y.transform),x&&(s!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=tS(x,s!==void 0?s:.5,i!==void 0?i:.5)),t!==void 0&&(y.x=t),r!==void 0&&(y.y=r),n!==void 0&&(y.scale=n),a!==void 0&&sS(y,a,o,c,!1)}const Wy=()=>({...ch(),attrs:{}}),dh=e=>typeof e=="string"&&e.toLowerCase()==="svg";function iS(e,t,r,n){const s=j.useMemo(()=>{const i=Wy();return uh(i,t,{enableHardwareAcceleration:!1},dh(n),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};By(i,e.style,e),s.style={...i,...s.style}}return s}function aS(e=!1){return(r,n,s,{latestValues:i},a)=>{const c=(oh(r)?iS:Yk)(n,i,a,r),d={...eS(n,typeof r=="string",e),...c,ref:s},{children:h}=n,f=j.useMemo(()=>wt(h)?h.get():h,[h]);return j.createElement(r,{...d,children:f})}}function Hy(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const i in r)e.style.setProperty(i,r[i])}const qy=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Gy(e,t,r,n){Hy(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(qy.has(s)?s:nh(s),t.attrs[s])}function hh(e,t){const{style:r}=e,n={};for(const s in r)(wt(r[s])||t.style&&wt(t.style[s])||$y(s,e))&&(n[s]=r[s]);return n}function Ky(e,t){const r=hh(e,t);for(const n in e)if(wt(e[n])||wt(t[n])){const s=ca.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[s]=e[n]}return r}function fh(e,t,r,n={},s={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,s)),t}function Jy(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const Fo=e=>Array.isArray(e),oS=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),lS=e=>Fo(e)?e[e.length-1]||0:e;function oo(e){const t=wt(e)?e.get():e;return oS(t)?t.toValue():t}function cS({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,s,i){const a={latestValues:uS(n,s,i,e),renderState:t()};return r&&(a.mount=o=>r(n,o,a)),a}const Qy=e=>(t,r)=>{const n=j.useContext(vl),s=j.useContext(xl),i=()=>cS(e,t,n,s);return r?i():Jy(i)};function uS(e,t,r,n){const s={},i=n(e,{});for(const f in i)s[f]=oo(i[f]);let{initial:a,animate:o}=e;const c=jl(e),u=Ly(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const h=d?o:a;return h&&typeof h!="boolean"&&!bl(h)&&(Array.isArray(h)?h:[h]).forEach(y=>{const w=fh(e,y);if(!w)return;const{transitionEnd:x,transition:v,...g}=w;for(const p in g){let m=g[p];if(Array.isArray(m)){const b=d?m.length-1:0;m=m[b]}m!==null&&(s[p]=m)}for(const p in x)s[p]=x[p]}),s}const Ce=e=>e;class lp{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function dS(e){let t=new lp,r=new lp,n=0,s=!1,i=!1;const a=new WeakSet,o={schedule:(c,u=!1,d=!1)=>{const h=d&&s,f=h?t:r;return u&&a.add(c),f.add(c)&&h&&s&&(n=t.order.length),c},cancel:c=>{r.remove(c),a.delete(c)},process:c=>{if(s){i=!0;return}if(s=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let u=0;u<n;u++){const d=t.order[u];d(c),a.has(d)&&(o.schedule(d),e())}s=!1,i&&(i=!1,o.process(c))}};return o}const Fa=["prepare","read","update","preRender","render","postRender"],hS=40;function fS(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=Fa.reduce((h,f)=>(h[f]=dS(()=>r=!0),h),{}),a=h=>i[h].process(s),o=()=>{const h=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(h-s.timestamp,hS),1),s.timestamp=h,s.isProcessing=!0,Fa.forEach(a),s.isProcessing=!1,r&&t&&(n=!1,e(o))},c=()=>{r=!0,n=!0,s.isProcessing||e(o)};return{schedule:Fa.reduce((h,f)=>{const y=i[f];return h[f]=(w,x=!1,v=!1)=>(r||c(),y.schedule(w,x,v)),h},{}),cancel:h=>Fa.forEach(f=>i[f].cancel(h)),state:s,steps:i}}const{schedule:me,cancel:Er,state:tt,steps:dc}=fS(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ce,!0),pS={useVisualState:Qy({scrapeMotionValuesFromProps:Ky,createRenderState:Wy,onMount:(e,t,{renderState:r,latestValues:n})=>{me.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),me.render(()=>{uh(r,n,{enableHardwareAcceleration:!1},dh(t.tagName),e.transformTemplate),Gy(t,r)})}})},mS={useVisualState:Qy({scrapeMotionValuesFromProps:hh,createRenderState:ch})};function gS(e,{forwardMotionProps:t=!1},r,n){return{...oh(e)?pS:mS,preloadedFeatures:r,useRender:aS(t),createVisualElement:n,Component:e}}function yr(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const Yy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Sl(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const yS=e=>t=>Yy(t)&&e(t,Sl(t));function xr(e,t,r,n){return yr(e,t,yS(r),n)}const vS=(e,t)=>r=>t(e(r)),tn=(...e)=>e.reduce(vS);function Xy(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const cp=Xy("dragHorizontal"),up=Xy("dragVertical");function Zy(e){let t=!1;if(e==="y")t=up();else if(e==="x")t=cp();else{const r=cp(),n=up();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function ev(){const e=Zy(!0);return e?(e(),!1):!0}class dn{constructor(t){this.isMounted=!1,this.node=t}update(){}}function dp(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),s=(i,a)=>{if(i.pointerType==="touch"||ev())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[n]&&me.update(()=>o[n](i,a))};return xr(e.current,r,s,{passive:!e.getProps()[n]})}class xS extends dn{mount(){this.unmount=tn(dp(this.node,!0),dp(this.node,!1))}unmount(){}}class wS extends dn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tn(yr(this.node.current,"focus",()=>this.onFocus()),yr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const tv=(e,t)=>t?e===t?!0:tv(e,t.parentElement):!1;function hc(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,Sl(r))}class bS extends dn{constructor(){super(...arguments),this.removeStartListeners=Ce,this.removeEndListeners=Ce,this.removeAccessibleListeners=Ce,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),i=xr(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:h}=this.node.getProps();me.update(()=>{!h&&!tv(this.node.current,o.target)?d&&d(o,c):u&&u(o,c)})},{passive:!(n.onTap||n.onPointerUp)}),a=xr(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=tn(i,a),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||hc("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&me.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=yr(this.node.current,"keyup",a),hc("down",(o,c)=>{this.startPress(o,c)})},r=yr(this.node.current,"keydown",t),n=()=>{this.isPressing&&hc("cancel",(i,a)=>this.cancelPress(i,a))},s=yr(this.node.current,"blur",n);this.removeAccessibleListeners=tn(r,s)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&me.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!ev()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&me.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=xr(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=yr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=tn(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Du=new WeakMap,fc=new WeakMap,jS=e=>{const t=Du.get(e.target);t&&t(e)},kS=e=>{e.forEach(jS)};function SS({root:e,...t}){const r=e||document;fc.has(r)||fc.set(r,{});const n=fc.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(kS,{root:e,...t})),n[s]}function _S(e,t,r){const n=SS(t);return Du.set(e,r),n.observe(e),()=>{Du.delete(e),n.unobserve(e)}}const NS={some:0,all:1};class ES extends dn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:NS[s]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return _S(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(TS(t,r))&&this.startObserver()}unmount(){}}function TS({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const CS={inView:{Feature:ES},tap:{Feature:bS},focus:{Feature:wS},hover:{Feature:xS}};function rv(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function PS(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function AS(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function _l(e,t,r){const n=e.getProps();return fh(n,t,r!==void 0?r:n.custom,PS(e),AS(e))}let ph=Ce;const Dn=e=>e*1e3,wr=e=>e/1e3,OS={current:!1},nv=e=>Array.isArray(e)&&typeof e[0]=="number";function sv(e){return!!(!e||typeof e=="string"&&iv[e]||nv(e)||Array.isArray(e)&&e.every(sv))}const li=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,iv={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:li([0,.65,.55,1]),circOut:li([.55,0,1,.45]),backIn:li([.31,.01,.66,-.59]),backOut:li([.33,1.53,.69,.99])};function av(e){if(e)return nv(e)?li(e):Array.isArray(e)?e.map(av):iv[e]}function DS(e,t,r,{delay:n=0,duration:s,repeat:i=0,repeatType:a="loop",ease:o,times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=av(o);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"})}function RS(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const ov=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,LS=1e-7,IS=12;function $S(e,t,r,n,s){let i,a,o=0;do a=t+(r-t)/2,i=ov(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>LS&&++o<IS);return a}function ha(e,t,r,n){if(e===t&&r===n)return Ce;const s=i=>$S(i,0,1,e,r);return i=>i===0||i===1?i:ov(s(i),t,n)}const MS=ha(.42,0,1,1),FS=ha(0,0,.58,1),lv=ha(.42,0,.58,1),VS=e=>Array.isArray(e)&&typeof e[0]!="number",cv=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,uv=e=>t=>1-e(1-t),mh=e=>1-Math.sin(Math.acos(e)),dv=uv(mh),US=cv(mh),hv=ha(.33,1.53,.69,.99),gh=uv(hv),BS=cv(gh),zS=e=>(e*=2)<1?.5*gh(e):.5*(2-Math.pow(2,-10*(e-1))),WS={linear:Ce,easeIn:MS,easeInOut:lv,easeOut:FS,circIn:mh,circInOut:US,circOut:dv,backIn:gh,backInOut:BS,backOut:hv,anticipate:zS},hp=e=>{if(Array.isArray(e)){ph(e.length===4);const[t,r,n,s]=e;return ha(t,r,n,s)}else if(typeof e=="string")return WS[e];return e},yh=(e,t)=>r=>!!(ua(r)&&qk.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),fv=(e,t,r)=>n=>{if(!ua(n))return n;const[s,i,a,o]=n.match(kl);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},HS=e=>sn(0,255,e),pc={...zn,transform:e=>Math.round(HS(e))},En={test:yh("rgb","red"),parse:fv("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+pc.transform(e)+", "+pc.transform(t)+", "+pc.transform(r)+", "+wi(xi.transform(n))+")"};function qS(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Ru={test:yh("#"),parse:qS,transform:En.transform},ps={test:yh("hsl","hue"),parse:fv("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+lr.transform(wi(t))+", "+lr.transform(wi(r))+", "+wi(xi.transform(n))+")"},at={test:e=>En.test(e)||Ru.test(e)||ps.test(e),parse:e=>En.test(e)?En.parse(e):ps.test(e)?ps.parse(e):Ru.parse(e),transform:e=>ua(e)?e:e.hasOwnProperty("red")?En.transform(e):ps.transform(e)},ke=(e,t,r)=>-r*e+r*t+e;function mc(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function GS({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const o=r<.5?r*(1+t):r+t-r*t,c=2*r-o;s=mc(c,o,e+1/3),i=mc(c,o,e),a=mc(c,o,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}const gc=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},KS=[Ru,En,ps],JS=e=>KS.find(t=>t.test(e));function fp(e){const t=JS(e);let r=t.parse(e);return t===ps&&(r=GS(r)),r}const pv=(e,t)=>{const r=fp(e),n=fp(t),s={...r};return i=>(s.red=gc(r.red,n.red,i),s.green=gc(r.green,n.green,i),s.blue=gc(r.blue,n.blue,i),s.alpha=ke(r.alpha,n.alpha,i),En.transform(s))};function QS(e){var t,r;return isNaN(e)&&ua(e)&&(((t=e.match(kl))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Vy))===null||r===void 0?void 0:r.length)||0)>0}const mv={regex:Wk,countKey:"Vars",token:"${v}",parse:Ce},gv={regex:Vy,countKey:"Colors",token:"${c}",parse:at.parse},yv={regex:kl,countKey:"Numbers",token:"${n}",parse:zn.parse};function yc(e,{regex:t,countKey:r,token:n,parse:s}){const i=e.tokenised.match(t);i&&(e["num"+r]=i.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...i.map(s)))}function Vo(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&yc(r,mv),yc(r,gv),yc(r,yv),r}function vv(e){return Vo(e).values}function xv(e){const{values:t,numColors:r,numVars:n,tokenised:s}=Vo(e),i=t.length;return a=>{let o=s;for(let c=0;c<i;c++)c<n?o=o.replace(mv.token,a[c]):c<n+r?o=o.replace(gv.token,at.transform(a[c])):o=o.replace(yv.token,wi(a[c]));return o}}const YS=e=>typeof e=="number"?0:e;function XS(e){const t=vv(e);return xv(e)(t.map(YS))}const an={test:QS,parse:vv,createTransformer:xv,getAnimatableNone:XS},wv=(e,t)=>r=>`${r>0?t:e}`;function bv(e,t){return typeof e=="number"?r=>ke(e,t,r):at.test(e)?pv(e,t):e.startsWith("var(")?wv(e,t):kv(e,t)}const jv=(e,t)=>{const r=[...e],n=r.length,s=e.map((i,a)=>bv(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}},ZS=(e,t)=>{const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=bv(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}},kv=(e,t)=>{const r=an.createTransformer(t),n=Vo(e),s=Vo(t);return n.numVars===s.numVars&&n.numColors===s.numColors&&n.numNumbers>=s.numNumbers?tn(jv(n.values,s.values),r):wv(e,t)},Ji=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},pp=(e,t)=>r=>ke(e,t,r);function e_(e){return typeof e=="number"?pp:typeof e=="string"?at.test(e)?pv:kv:Array.isArray(e)?jv:typeof e=="object"?ZS:pp}function t_(e,t,r){const n=[],s=r||e_(e[0]),i=e.length-1;for(let a=0;a<i;a++){let o=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Ce:t;o=tn(c,o)}n.push(o)}return n}function Sv(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(ph(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=t_(t,n,s),o=a.length,c=u=>{let d=0;if(o>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const h=Ji(e[d],e[d+1],u);return a[d](h)};return r?u=>c(sn(e[0],e[i-1],u)):c}function r_(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Ji(0,t,n);e.push(ke(r,1,s))}}function n_(e){const t=[0];return r_(t,e.length-1),t}function s_(e,t){return e.map(r=>r*t)}function i_(e,t){return e.map(()=>t||lv).splice(0,e.length-1)}function Uo({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=VS(n)?n.map(hp):hp(n),i={done:!1,value:t[0]},a=s_(r&&r.length===t.length?r:n_(t),e),o=Sv(a,t,{ease:Array.isArray(s)?s:i_(t,s)});return{calculatedDuration:e,next:c=>(i.value=o(c),i.done=c>=e,i)}}function _v(e,t){return t?e*(1e3/t):0}const a_=5;function Nv(e,t,r){const n=Math.max(t-a_,0);return _v(r-e(n),t-n)}const vc=.001,o_=.01,l_=10,c_=.05,u_=1;function d_({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let s,i,a=1-t;a=sn(c_,u_,a),e=sn(o_,l_,wr(e)),a<1?(s=u=>{const d=u*a,h=d*e,f=d-r,y=Lu(u,a),w=Math.exp(-h);return vc-f/y*w},i=u=>{const h=u*a*e,f=h*r+r,y=Math.pow(a,2)*Math.pow(u,2)*e,w=Math.exp(-h),x=Lu(Math.pow(u,2),a);return(-s(u)+vc>0?-1:1)*((f-y)*w)/x}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-vc+d*h},i=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const o=5/e,c=f_(s,i,o);if(e=Dn(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const h_=12;function f_(e,t,r){let n=r;for(let s=1;s<h_;s++)n=n-e(n)/t(n);return n}function Lu(e,t){return e*Math.sqrt(1-t*t)}const p_=["duration","bounce"],m_=["stiffness","damping","mass"];function mp(e,t){return t.some(r=>e[r]!==void 0)}function g_(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!mp(e,m_)&&mp(e,p_)){const r=d_(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function Ev({keyframes:e,restDelta:t,restSpeed:r,...n}){const s=e[0],i=e[e.length-1],a={done:!1,value:s},{stiffness:o,damping:c,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=g_({...n,velocity:-wr(n.velocity||0)}),y=h||0,w=c/(2*Math.sqrt(o*u)),x=i-s,v=wr(Math.sqrt(o/u)),g=Math.abs(x)<5;r||(r=g?.01:2),t||(t=g?.005:.5);let p;if(w<1){const m=Lu(v,w);p=b=>{const S=Math.exp(-w*v*b);return i-S*((y+w*v*x)/m*Math.sin(m*b)+x*Math.cos(m*b))}}else if(w===1)p=m=>i-Math.exp(-v*m)*(x+(y+v*x)*m);else{const m=v*Math.sqrt(w*w-1);p=b=>{const S=Math.exp(-w*v*b),T=Math.min(m*b,300);return i-S*((y+w*v*x)*Math.sinh(T)+m*x*Math.cosh(T))/m}}return{calculatedDuration:f&&d||null,next:m=>{const b=p(m);if(f)a.done=m>=d;else{let S=y;m!==0&&(w<1?S=Nv(p,m,b):S=0);const T=Math.abs(S)<=r,E=Math.abs(i-b)<=t;a.done=T&&E}return a.value=a.done?i:b,a}}}function gp({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:o,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},y=A=>o!==void 0&&A<o||c!==void 0&&A>c,w=A=>o===void 0?c:c===void 0||Math.abs(o-A)<Math.abs(c-A)?o:c;let x=r*t;const v=h+x,g=a===void 0?v:a(v);g!==v&&(x=g-h);const p=A=>-x*Math.exp(-A/n),m=A=>g+p(A),b=A=>{const M=p(A),U=m(A);f.done=Math.abs(M)<=u,f.value=f.done?g:U};let S,T;const E=A=>{y(f.value)&&(S=A,T=Ev({keyframes:[f.value,w(f.value)],velocity:Nv(m,A,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return E(0),{calculatedDuration:null,next:A=>{let M=!1;return!T&&S===void 0&&(M=!0,b(A),E(A)),S!==void 0&&A>S?T.next(A-S):(!M&&b(A),f)}}}const y_=e=>{const t=({timestamp:r})=>e(r);return{start:()=>me.update(t,!0),stop:()=>Er(t),now:()=>tt.isProcessing?tt.timestamp:performance.now()}},yp=2e4;function vp(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<yp;)t+=r,n=e.next(t);return t>=yp?1/0:t}const v_={decay:gp,inertia:gp,tween:Uo,keyframes:Uo,spring:Ev};function Bo({autoplay:e=!0,delay:t=0,driver:r=y_,keyframes:n,type:s="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:h,...f}){let y=1,w=!1,x,v;const g=()=>{v=new Promise(C=>{x=C})};g();let p;const m=v_[s]||Uo;let b;m!==Uo&&typeof n[0]!="number"&&(b=Sv([0,100],n,{clamp:!1}),n=[0,100]);const S=m({...f,keyframes:n});let T;o==="mirror"&&(T=m({...f,keyframes:[...n].reverse(),velocity:-(f.velocity||0)}));let E="idle",A=null,M=null,U=null;S.calculatedDuration===null&&i&&(S.calculatedDuration=vp(S));const{calculatedDuration:X}=S;let B=1/0,J=1/0;X!==null&&(B=X+a,J=B*(i+1)-a);let Y=0;const Z=C=>{if(M===null)return;y>0&&(M=Math.min(M,C)),y<0&&(M=Math.min(C-J/y,M)),A!==null?Y=A:Y=Math.round(C-M)*y;const R=Y-t*(y>=0?1:-1),V=y>=0?R<0:R>J;Y=Math.max(R,0),E==="finished"&&A===null&&(Y=J);let G=Y,z=S;if(i){const Ke=Math.min(Y,J)/B;let ht=Math.floor(Ke),st=Ke%1;!st&&Ke>=1&&(st=1),st===1&&ht--,ht=Math.min(ht,i+1),!!(ht%2)&&(o==="reverse"?(st=1-st,a&&(st-=a/B)):o==="mirror"&&(z=T)),G=sn(0,1,st)*B}const re=V?{done:!1,value:n[0]}:z.next(G);b&&(re.value=b(re.value));let{done:oe}=re;!V&&X!==null&&(oe=y>=0?Y>=J:Y<=0);const we=A===null&&(E==="finished"||E==="running"&&oe);return h&&h(re.value),we&&L(),re},te=()=>{p&&p.stop(),p=void 0},se=()=>{E="idle",te(),x(),g(),M=U=null},L=()=>{E="finished",d&&d(),te(),x()},H=()=>{if(w)return;p||(p=r(Z));const C=p.now();c&&c(),A!==null?M=C-A:(!M||E==="finished")&&(M=C),E==="finished"&&g(),U=M,A=null,E="running",p.start()};e&&H();const _={then(C,R){return v.then(C,R)},get time(){return wr(Y)},set time(C){C=Dn(C),Y=C,A!==null||!p||y===0?A=C:M=p.now()-C/y},get duration(){const C=S.calculatedDuration===null?vp(S):S.calculatedDuration;return wr(C)},get speed(){return y},set speed(C){C===y||!p||(y=C,_.time=wr(Y))},get state(){return E},play:H,pause:()=>{E="paused",A=Y},stop:()=>{w=!0,E!=="idle"&&(E="idle",u&&u(),se())},cancel:()=>{U!==null&&Z(U),se()},complete:()=>{E="finished"},sample:C=>(M=0,Z(C))};return _}function x_(e){let t;return()=>(t===void 0&&(t=e()),t)}const w_=x_(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),b_=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Va=10,j_=2e4,k_=(e,t)=>t.type==="spring"||e==="backgroundColor"||!sv(t.ease);function S_(e,t,{onUpdate:r,onComplete:n,...s}){if(!(w_()&&b_.has(t)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let a=!1,o,c,u=!1;const d=()=>{c=new Promise(m=>{o=m})};d();let{keyframes:h,duration:f=300,ease:y,times:w}=s;if(k_(t,s)){const m=Bo({...s,repeat:0,delay:0});let b={done:!1,value:h[0]};const S=[];let T=0;for(;!b.done&&T<j_;)b=m.sample(T),S.push(b.value),T+=Va;w=void 0,h=S,f=T-Va,y="linear"}const x=DS(e.owner.current,t,h,{...s,duration:f,ease:y,times:w}),v=()=>{u=!1,x.cancel()},g=()=>{u=!0,me.update(v),o(),d()};return x.onfinish=()=>{u||(e.set(RS(h,s)),n&&n(),g())},{then(m,b){return c.then(m,b)},attachTimeline(m){return x.timeline=m,x.onfinish=null,Ce},get time(){return wr(x.currentTime||0)},set time(m){x.currentTime=Dn(m)},get speed(){return x.playbackRate},set speed(m){x.playbackRate=m},get duration(){return wr(f)},play:()=>{a||(x.play(),Er(v))},pause:()=>x.pause(),stop:()=>{if(a=!0,x.playState==="idle")return;const{currentTime:m}=x;if(m){const b=Bo({...s,autoplay:!1});e.setWithVelocity(b.sample(m-Va).value,b.sample(m).value,Va)}g()},complete:()=>{u||x.finish()},cancel:g}}function __({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const s=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Ce,pause:Ce,stop:Ce,then:i=>(i(),Promise.resolve()),cancel:Ce,complete:Ce});return t?Bo({keyframes:[0,1],duration:0,delay:t,onComplete:s}):s()}const N_={type:"spring",stiffness:500,damping:25,restSpeed:10},E_=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),T_={type:"keyframes",duration:.8},C_={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},P_=(e,{keyframes:t})=>t.length>2?T_:Bn.has(e)?e.startsWith("scale")?E_(t[1]):N_:C_,Iu=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(an.test(t)||t==="0")&&!t.startsWith("url(")),A_=new Set(["brightness","contrast","saturate","opacity"]);function O_(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(kl)||[];if(!n)return e;const s=r.replace(n,"");let i=A_.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const D_=/([a-z-]*)\(.*?\)/g,$u={...an,getAnimatableNone:e=>{const t=e.match(D_);return t?t.map(O_).join(" "):e}},R_={...Uy,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:$u,WebkitFilter:$u},vh=e=>R_[e];function Tv(e,t){let r=vh(e);return r!==$u&&(r=an),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Cv=e=>/^0[^.\s]+$/.test(e);function L_(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||Cv(e)}function I_(e,t,r,n){const s=Iu(t,r);let i;Array.isArray(r)?i=[...r]:i=[null,r];const a=n.from!==void 0?n.from:e.get();let o;const c=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?a:i[u-1]),L_(i[u])&&c.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(o=i[u]);if(s&&c.length&&o)for(let u=0;u<c.length;u++){const d=c[u];i[d]=Tv(t,o)}return i}function $_({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function xh(e,t){return e[t]||e.default||e}const M_={skipAnimations:!1},wh=(e,t,r,n={})=>s=>{const i=xh(n,e)||{},a=i.delay||n.delay||0;let{elapsed:o=0}=n;o=o-Dn(a);const c=I_(t,e,r,i),u=c[0],d=c[c.length-1],h=Iu(e,u),f=Iu(e,d);let y={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-o,onUpdate:w=>{t.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if($_(i)||(y={...y,...P_(e,y)}),y.duration&&(y.duration=Dn(y.duration)),y.repeatDelay&&(y.repeatDelay=Dn(y.repeatDelay)),!h||!f||OS.current||i.type===!1||M_.skipAnimations)return __(y);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const w=S_(t,e,y);if(w)return w}return Bo(y)};function zo(e){return!!(wt(e)&&e.add)}const Pv=e=>/^\-?\d*\.?\d+$/.test(e);function bh(e,t){e.indexOf(t)===-1&&e.push(t)}function jh(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class kh{constructor(){this.subscriptions=[]}add(t){return bh(this.subscriptions,t),()=>jh(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const F_=e=>!isNaN(parseFloat(e));class V_{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,s=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:a}=tt;this.lastUpdated!==a&&(this.timeDelta=i,this.lastUpdated=a,me.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>me.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=F_(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new kh);const n=this.events[t].add(r);return t==="change"?()=>{n(),me.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?_v(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ps(e,t){return new V_(e,t)}const Av=e=>t=>t.test(e),U_={test:e=>e==="auto",parse:e=>e},Ov=[zn,Q,lr,Rr,Kk,Gk,U_],Qs=e=>Ov.find(Av(e)),B_=[...Ov,at,an],z_=e=>B_.find(Av(e));function W_(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Ps(r))}function H_(e,t){const r=_l(e,t);let{transitionEnd:n={},transition:s={},...i}=r?e.makeTargetAnimatable(r,!1):{};i={...i,...n};for(const a in i){const o=lS(i[a]);W_(e,a,o)}}function q_(e,t,r){var n,s;const i=Object.keys(t).filter(o=>!e.hasValue(o)),a=i.length;if(a)for(let o=0;o<a;o++){const c=i[o],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(s=(n=r[c])!==null&&n!==void 0?n:e.readValue(c))!==null&&s!==void 0?s:t[c]),d!=null&&(typeof d=="string"&&(Pv(d)||Cv(d))?d=parseFloat(d):!z_(d)&&an.test(u)&&(d=Tv(c,u)),e.addValue(c,Ps(d,{owner:e})),r[c]===void 0&&(r[c]=d),d!==null&&e.setBaseTarget(c,d))}}function G_(e,t){return t?(t[e]||t.default||t).from:void 0}function K_(e,t,r){const n={};for(const s in e){const i=G_(s,t);if(i!==void 0)n[s]=i;else{const a=r.getValue(s);a&&(n[s]=a.get())}}return n}function J_({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Q_(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function Dv(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...o}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");n&&(i=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in o){const f=e.getValue(h),y=o[h];if(!f||y===void 0||d&&J_(d,h))continue;const w={delay:r,elapsed:0,...xh(i||{},h)};if(window.HandoffAppearAnimations){const g=e.getProps()[Ry];if(g){const p=window.HandoffAppearAnimations(g,h,f,me);p!==null&&(w.elapsed=p,w.isHandoff=!0)}}let x=!w.isHandoff&&!Q_(f,y);if(w.type==="spring"&&(f.getVelocity()||w.velocity)&&(x=!1),f.animation&&(x=!1),x)continue;f.start(wh(h,f,y,e.shouldReduceMotion&&Bn.has(h)?{type:!1}:w));const v=f.animation;zo(c)&&(c.add(h),v.then(()=>c.remove(h))),u.push(v)}return a&&Promise.all(u).then(()=>{a&&H_(e,a)}),u}function Mu(e,t,r={}){const n=_l(e,t,r.custom);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(Dv(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return Y_(e,t,u+c,d,h,r)}:()=>Promise.resolve(),{when:o}=s;if(o){const[c,u]=o==="beforeChildren"?[i,a]:[a,i];return c().then(()=>u())}else return Promise.all([i(),a(r.delay)])}function Y_(e,t,r=0,n=0,s=1,i){const a=[],o=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>o-u*n;return Array.from(e.variantChildren).sort(X_).forEach((u,d)=>{u.notify("AnimationStart",t),a.push(Mu(u,t,{...i,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(a)}function X_(e,t){return e.sortNodePosition(t)}function Z_(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>Mu(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=Mu(e,t,r);else{const s=typeof t=="function"?_l(e,t,r.custom):t;n=Promise.all(Dv(e,s,r))}return n.then(()=>e.notify("AnimationComplete",t))}const eN=[...sh].reverse(),tN=sh.length;function rN(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Z_(e,r,n)))}function nN(e){let t=rN(e);const r=iN();let n=!0;const s=(c,u)=>{const d=_l(e,u);if(d){const{transition:h,transitionEnd:f,...y}=d;c={...c,...y,...f}}return c};function i(c){t=c(e)}function a(c,u){const d=e.getProps(),h=e.getVariantContext(!0)||{},f=[],y=new Set;let w={},x=1/0;for(let g=0;g<tN;g++){const p=eN[g],m=r[p],b=d[p]!==void 0?d[p]:h[p],S=Gi(b),T=p===u?m.isActive:null;T===!1&&(x=g);let E=b===h[p]&&b!==d[p]&&S;if(E&&n&&e.manuallyAnimateOnMount&&(E=!1),m.protectedKeys={...w},!m.isActive&&T===null||!b&&!m.prevProp||bl(b)||typeof b=="boolean")continue;let M=sN(m.prevProp,b)||p===u&&m.isActive&&!E&&S||g>x&&S,U=!1;const X=Array.isArray(b)?b:[b];let B=X.reduce(s,{});T===!1&&(B={});const{prevResolvedValues:J={}}=m,Y={...J,...B},Z=te=>{M=!0,y.has(te)&&(U=!0,y.delete(te)),m.needsAnimating[te]=!0};for(const te in Y){const se=B[te],L=J[te];if(w.hasOwnProperty(te))continue;let H=!1;Fo(se)&&Fo(L)?H=!rv(se,L):H=se!==L,H?se!==void 0?Z(te):y.add(te):se!==void 0&&y.has(te)?Z(te):m.protectedKeys[te]=!0}m.prevProp=b,m.prevResolvedValues=B,m.isActive&&(w={...w,...B}),n&&e.blockInitialAnimation&&(M=!1),M&&(!E||U)&&f.push(...X.map(te=>({animation:te,options:{type:p,...c}})))}if(y.size){const g={};y.forEach(p=>{const m=e.getBaseTarget(p);m!==void 0&&(g[p]=m)}),f.push({animation:g})}let v=!!f.length;return n&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(f):Promise.resolve()}function o(c,u,d){var h;if(r[c].isActive===u)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(y=>{var w;return(w=y.animationState)===null||w===void 0?void 0:w.setActive(c,u)}),r[c].isActive=u;const f=a(d,c);for(const y in r)r[y].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:i,getState:()=>r}}function sN(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!rv(t,e):!1}function pn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function iN(){return{animate:pn(!0),whileInView:pn(),whileHover:pn(),whileTap:pn(),whileDrag:pn(),whileFocus:pn(),exit:pn()}}class aN extends dn{constructor(t){super(t),t.animationState||(t.animationState=nN(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),bl(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let oN=0;class lN extends dn{constructor(){super(...arguments),this.id=oN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const i=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const cN={animation:{Feature:aN},exit:{Feature:lN}},xp=(e,t)=>Math.abs(e-t);function uN(e,t){const r=xp(e.x,t.x),n=xp(e.y,t.y);return Math.sqrt(r**2+n**2)}class Rv{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=wc(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,y=uN(h.offset,{x:0,y:0})>=3;if(!f&&!y)return;const{point:w}=h,{timestamp:x}=tt;this.history.push({...w,timestamp:x});const{onStart:v,onMove:g}=this.handlers;f||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=xc(f,this.transformPagePoint),me.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:y,onSessionEnd:w,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=wc(h.type==="pointercancel"?this.lastMoveEventInfo:xc(f,this.transformPagePoint),this.history);this.startEvent&&y&&y(h,v),w&&w(h,v)},!Yy(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const a=Sl(t),o=xc(a,this.transformPagePoint),{point:c}=o,{timestamp:u}=tt;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,wc(o,this.history)),this.removeListeners=tn(xr(this.contextWindow,"pointermove",this.handlePointerMove),xr(this.contextWindow,"pointerup",this.handlePointerUp),xr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Er(this.updatePoint)}}function xc(e,t){return t?{point:t(e.point)}:e}function wp(e,t){return{x:e.x-t.x,y:e.y-t.y}}function wc({point:e},t){return{point:e,delta:wp(e,Lv(t)),offset:wp(e,dN(t)),velocity:hN(t,.1)}}function dN(e){return e[0]}function Lv(e){return e[e.length-1]}function hN(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=Lv(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Dn(t)));)r--;if(!n)return{x:0,y:0};const i=wr(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Nt(e){return e.max-e.min}function Fu(e,t=0,r=.01){return Math.abs(e-t)<=r}function bp(e,t,r,n=.5){e.origin=n,e.originPoint=ke(t.min,t.max,e.origin),e.scale=Nt(r)/Nt(t),(Fu(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=ke(r.min,r.max,e.origin)-e.originPoint,(Fu(e.translate)||isNaN(e.translate))&&(e.translate=0)}function bi(e,t,r,n){bp(e.x,t.x,r.x,n?n.originX:void 0),bp(e.y,t.y,r.y,n?n.originY:void 0)}function jp(e,t,r){e.min=r.min+t.min,e.max=e.min+Nt(t)}function fN(e,t,r){jp(e.x,t.x,r.x),jp(e.y,t.y,r.y)}function kp(e,t,r){e.min=t.min-r.min,e.max=e.min+Nt(t)}function ji(e,t,r){kp(e.x,t.x,r.x),kp(e.y,t.y,r.y)}function pN(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?ke(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?ke(r,e,n.max):Math.min(e,r)),e}function Sp(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function mN(e,{top:t,left:r,bottom:n,right:s}){return{x:Sp(e.x,r,s),y:Sp(e.y,t,n)}}function _p(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function gN(e,t){return{x:_p(e.x,t.x),y:_p(e.y,t.y)}}function yN(e,t){let r=.5;const n=Nt(e),s=Nt(t);return s>n?r=Ji(t.min,t.max-n,e.min):n>s&&(r=Ji(e.min,e.max-s,t.min)),sn(0,1,r)}function vN(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Vu=.35;function xN(e=Vu){return e===!1?e=0:e===!0&&(e=Vu),{x:Np(e,"left","right"),y:Np(e,"top","bottom")}}function Np(e,t,r){return{min:Ep(e,t),max:Ep(e,r)}}function Ep(e,t){return typeof e=="number"?e:e[t]||0}const Tp=()=>({translate:0,scale:1,origin:0,originPoint:0}),ms=()=>({x:Tp(),y:Tp()}),Cp=()=>({min:0,max:0}),Le=()=>({x:Cp(),y:Cp()});function At(e){return[e("x"),e("y")]}function Iv({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function wN({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function bN(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function bc(e){return e===void 0||e===1}function Uu({scale:e,scaleX:t,scaleY:r}){return!bc(e)||!bc(t)||!bc(r)}function xn(e){return Uu(e)||$v(e)||e.z||e.rotate||e.rotateX||e.rotateY}function $v(e){return Pp(e.x)||Pp(e.y)}function Pp(e){return e&&e!=="0%"}function Wo(e,t,r){const n=e-r,s=t*n;return r+s}function Ap(e,t,r,n,s){return s!==void 0&&(e=Wo(e,s,n)),Wo(e,r,n)+t}function Bu(e,t=0,r=1,n,s){e.min=Ap(e.min,t,r,n,s),e.max=Ap(e.max,t,r,n,s)}function Mv(e,{x:t,y:r}){Bu(e.x,t.translate,t.scale,t.originPoint),Bu(e.y,r.translate,r.scale,r.originPoint)}function jN(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let o=0;o<s;o++){i=r[o],a=i.projectionDelta;const c=i.instance;c&&c.style&&c.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&gs(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Mv(e,a)),n&&xn(i.latestValues)&&gs(e,i.latestValues))}t.x=Op(t.x),t.y=Op(t.y)}function Op(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Mr(e,t){e.min=e.min+t,e.max=e.max+t}function Dp(e,t,[r,n,s]){const i=t[s]!==void 0?t[s]:.5,a=ke(e.min,e.max,i);Bu(e,t[r],t[n],a,t.scale)}const kN=["x","scaleX","originX"],SN=["y","scaleY","originY"];function gs(e,t){Dp(e.x,t,kN),Dp(e.y,t,SN)}function Fv(e,t){return Iv(bN(e.getBoundingClientRect(),t))}function _N(e,t,r){const n=Fv(e,r),{scroll:s}=t;return s&&(Mr(n.x,s.offset.x),Mr(n.y,s.offset.y)),n}const Vv=({current:e})=>e?e.ownerDocument.defaultView:null,NN=new WeakMap;class EN{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Le(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Sl(d,"page").point)},i=(d,h)=>{const{drag:f,dragPropagation:y,onDragStart:w}=this.getProps();if(f&&!y&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Zy(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),At(v=>{let g=this.getAxisMotionValue(v).get()||0;if(lr.test(g)){const{projection:p}=this.visualElement;if(p&&p.layout){const m=p.layout.layoutBox[v];m&&(g=Nt(m)*(parseFloat(g)/100))}}this.originPoint[v]=g}),w&&me.update(()=>w(d,h),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},a=(d,h)=>{const{dragPropagation:f,dragDirectionLock:y,onDirectionLock:w,onDrag:x}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:v}=h;if(y&&this.currentDirection===null){this.currentDirection=TN(v),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),x&&x(d,h)},o=(d,h)=>this.stop(d,h),c=()=>At(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Rv(t,{onSessionStart:s,onStart:i,onMove:a,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Vv(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&me.update(()=>i(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!Ua(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=pN(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;r&&fs(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=mN(s.layoutBox,r):this.constraints=!1,this.elastic=xN(n),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&At(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=vN(s.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!fs(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=_N(n,s.root,this.visualElement.getTransformPagePoint());let a=gN(s.layout.layoutBox,i);if(r){const o=r(wN(a));this.hasMutatedConstraints=!!o,o&&(a=Iv(o))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=At(d=>{if(!Ua(d,r,this.currentDirection))return;let h=c&&c[d]||{};a&&(h={min:0,max:0});const f=s?200:1e6,y=s?40:1e7,w={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...h};return this.startAxisValueAnimation(d,w)});return Promise.all(u).then(o)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(wh(t,n,0,r))}stopAnimation(){At(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){At(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){At(r=>{const{drag:n}=this.getProps();if(!Ua(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:o}=s.layout.layoutBox[r];i.set(t[r]-ke(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!fs(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};At(a=>{const o=this.getAxisMotionValue(a);if(o){const c=o.get();s[a]=yN({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),At(a=>{if(!Ua(a,t,null))return;const o=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];o.set(ke(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;NN.set(this.visualElement,this);const t=this.visualElement.current,r=xr(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();fs(c)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),n();const a=yr(window,"resize",()=>this.scalePositionWithinConstraints()),o=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(At(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=Vu,dragMomentum:o=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:o}}}function Ua(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function TN(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class CN extends dn{constructor(t){super(t),this.removeGroupControls=Ce,this.removeListeners=Ce,this.controls=new EN(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ce}unmount(){this.removeGroupControls(),this.removeListeners()}}const Rp=e=>(t,r)=>{e&&me.update(()=>e(t,r))};class PN extends dn{constructor(){super(...arguments),this.removePointerDownListener=Ce}onPointerDown(t){this.session=new Rv(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Vv(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Rp(t),onStart:Rp(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&me.update(()=>s(i,a))}}}mount(){this.removePointerDownListener=xr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function AN(){const e=j.useContext(xl);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,s=j.useId();return j.useEffect(()=>n(s),[]),!t&&r?[!1,()=>r&&r(s)]:[!0]}const lo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Lp(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ys={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Q.test(e))e=parseFloat(e);else return e;const r=Lp(e,t.target.x),n=Lp(e,t.target.y);return`${r}% ${n}%`}},ON={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=an.parse(e);if(s.length>5)return n;const i=an.createTransformer(e),a=typeof s[0]!="number"?1:0,o=r.x.scale*t.x,c=r.y.scale*t.y;s[0+a]/=o,s[1+a]/=c;const u=ke(o,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};class DN extends ee.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;Vk(RN),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),lo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,a=n.projection;return a&&(a.isPresent=i,s||t.layoutDependency!==r||r===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||me.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Uv(e){const[t,r]=AN(),n=j.useContext(ah);return ee.createElement(DN,{...e,layoutGroup:n,switchLayoutGroup:j.useContext(Iy),isPresent:t,safeToRemove:r})}const RN={borderRadius:{...Ys,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ys,borderTopRightRadius:Ys,borderBottomLeftRadius:Ys,borderBottomRightRadius:Ys,boxShadow:ON},Bv=["TopLeft","TopRight","BottomLeft","BottomRight"],LN=Bv.length,Ip=e=>typeof e=="string"?parseFloat(e):e,$p=e=>typeof e=="number"||Q.test(e);function IN(e,t,r,n,s,i){s?(e.opacity=ke(0,r.opacity!==void 0?r.opacity:1,$N(n)),e.opacityExit=ke(t.opacity!==void 0?t.opacity:1,0,MN(n))):i&&(e.opacity=ke(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let a=0;a<LN;a++){const o=`border${Bv[a]}Radius`;let c=Mp(t,o),u=Mp(r,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||$p(c)===$p(u)?(e[o]=Math.max(ke(Ip(c),Ip(u),n),0),(lr.test(u)||lr.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||r.rotate)&&(e.rotate=ke(t.rotate||0,r.rotate||0,n))}function Mp(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const $N=zv(0,.5,dv),MN=zv(.5,.95,Ce);function zv(e,t,r){return n=>n<e?0:n>t?1:r(Ji(e,t,n))}function Fp(e,t){e.min=t.min,e.max=t.max}function Pt(e,t){Fp(e.x,t.x),Fp(e.y,t.y)}function Vp(e,t,r,n,s){return e-=t,e=Wo(e,1/r,n),s!==void 0&&(e=Wo(e,1/s,n)),e}function FN(e,t=0,r=1,n=.5,s,i=e,a=e){if(lr.test(t)&&(t=parseFloat(t),t=ke(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=ke(i.min,i.max,n);e===i&&(o-=t),e.min=Vp(e.min,t,r,o,s),e.max=Vp(e.max,t,r,o,s)}function Up(e,t,[r,n,s],i,a){FN(e,t[r],t[n],t[s],t.scale,i,a)}const VN=["x","scaleX","originX"],UN=["y","scaleY","originY"];function Bp(e,t,r,n){Up(e.x,t,VN,r?r.x:void 0,n?n.x:void 0),Up(e.y,t,UN,r?r.y:void 0,n?n.y:void 0)}function zp(e){return e.translate===0&&e.scale===1}function Wv(e){return zp(e.x)&&zp(e.y)}function BN(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function Hv(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function Wp(e){return Nt(e.x)/Nt(e.y)}class zN{constructor(){this.members=[]}add(t){bh(this.members,t),t.scheduleRender()}remove(t){if(jh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Hp(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y;if((s||i)&&(n=`translate3d(${s}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:c,rotateX:u,rotateY:d}=r;c&&(n+=`rotate(${c}deg) `),u&&(n+=`rotateX(${u}deg) `),d&&(n+=`rotateY(${d}deg) `)}const a=e.x.scale*t.x,o=e.y.scale*t.y;return(a!==1||o!==1)&&(n+=`scale(${a}, ${o})`),n||"none"}const WN=(e,t)=>e.depth-t.depth;class HN{constructor(){this.children=[],this.isDirty=!1}add(t){bh(this.children,t),this.isDirty=!0}remove(t){jh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(WN),this.isDirty=!1,this.children.forEach(t)}}function qN(e,t){const r=performance.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Er(n),e(i-t))};return me.read(n,!0),()=>Er(n)}function GN(e){window.MotionDebug&&window.MotionDebug.record(e)}function KN(e){return e instanceof SVGElement&&e.tagName!=="svg"}function JN(e,t,r){const n=wt(e)?e:Ps(e);return n.start(wh("",n,t,r)),n.animation}const qp=["","X","Y","Z"],QN={visibility:"hidden"},Gp=1e3;let YN=0;const wn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function qv({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},o=t==null?void 0:t()){this.id=YN++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,wn.totalNodes=wn.resolvedTargetDeltas=wn.recalculatedProjection=0,this.nodes.forEach(e2),this.nodes.forEach(i2),this.nodes.forEach(a2),this.nodes.forEach(t2),GN(wn)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new HN)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new kh),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const c=this.eventHandlers.get(a);c&&c.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=KN(a),this.instance=a;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=qN(f,250),lo.hasAnimatedSinceResize&&(lo.hasAnimatedSinceResize=!1,this.nodes.forEach(Jp))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:y,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||d2,{onLayoutAnimationStart:v,onLayoutAnimationComplete:g}=d.getProps(),p=!this.targetLayout||!Hv(this.targetLayout,w)||y,m=!f&&y;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||m||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,m);const b={...xh(x,"layout"),onPlay:v,onComplete:g};(d.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else f||Jp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Er(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(o2),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Kp);return}this.isUpdating||this.nodes.forEach(n2),this.isUpdating=!1,this.nodes.forEach(s2),this.nodes.forEach(XN),this.nodes.forEach(ZN),this.clearAllSnapshots();const o=performance.now();tt.delta=sn(0,1e3/60,o-tt.timestamp),tt.timestamp=o,tt.isProcessing=!0,dc.update.process(tt),dc.preRender.process(tt),dc.render.process(tt),tt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(r2),this.sharedNodes.forEach(l2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,me.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){me.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Le(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!Wv(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&(o||xn(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return a&&(c=this.removeTransform(c)),h2(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return Le();const o=a.measureViewportBox(),{scroll:c}=this.root;return c&&(Mr(o.x,c.offset.x),Mr(o.y,c.offset.y)),o}removeElementScroll(a){const o=Le();Pt(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:h}=u;if(u!==this.root&&d&&h.layoutScroll){if(d.isRoot){Pt(o,a);const{scroll:f}=this.root;f&&(Mr(o.x,-f.offset.x),Mr(o.y,-f.offset.y))}Mr(o.x,d.offset.x),Mr(o.y,d.offset.y)}}return o}applyTransform(a,o=!1){const c=Le();Pt(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&gs(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),xn(d.latestValues)&&gs(c,d.latestValues)}return xn(this.latestValues)&&gs(c,this.latestValues),c}removeTransform(a){const o=Le();Pt(o,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!xn(u.latestValues))continue;Uu(u.latestValues)&&u.updateSnapshot();const d=Le(),h=u.measurePageBox();Pt(d,h),Bp(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return xn(this.latestValues)&&Bp(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==tt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(a||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=tt.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),ji(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Le(),this.targetWithTransforms=Le()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pt(this.target,this.layout.layoutBox),Mv(this.target,this.targetDelta)):Pt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Le(),this.relativeTargetOrigin=Le(),ji(this.relativeTargetOrigin,this.target,y.target),Pt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}wn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Uu(this.parent.latestValues)||$v(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===tt.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Pt(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,y=this.treeScale.y;jN(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:w}=o;if(!w){this.projectionTransform&&(this.projectionDelta=ms(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ms(),this.projectionDeltaWithTransform=ms());const x=this.projectionTransform;bi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=Hp(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==f||this.treeScale.y!==y)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),wn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=ms();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Le(),y=c?c.source:void 0,w=this.layout?this.layout.source:void 0,x=y!==w,v=this.getStack(),g=!v||v.members.length<=1,p=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(u2));this.animationProgress=0;let m;this.mixTargetDelta=b=>{const S=b/1e3;Qp(h.x,a.x,S),Qp(h.y,a.y,S),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ji(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),c2(this.relativeTarget,this.relativeTargetOrigin,f,S),m&&BN(this.relativeTarget,m)&&(this.isProjectionDirty=!1),m||(m=Le()),Pt(m,this.relativeTarget)),x&&(this.animationValues=d,IN(d,u,this.latestValues,S,p,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Er(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=me.update(()=>{lo.hasAnimatedSinceResize=!0,this.currentAnimation=JN(0,Gp,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Gp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=a;if(!(!o||!c||!u)){if(this!==a&&this.layout&&u&&Gv(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Le();const h=Nt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+h;const f=Nt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+f}Pt(o,c),gs(o,d),bi(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new zN),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:c}=a;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(o=!0),!o)return;const u={};for(let d=0;d<qp.length;d++){const h="rotate"+qp[d];c[h]&&(u[h]=c[h],a.setStaticValue(h,0))}a.render();for(const d in u)a.setStaticValue(d,u[d]);a.scheduleRender()}getProjectionStyles(a){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return QN;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=oo(a==null?void 0:a.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=oo(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!xn(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Hp(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:y,y:w}=this.projectionDelta;u.transformOrigin=`${y.origin*100}% ${w.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in $o){if(f[x]===void 0)continue;const{correct:v,applyTo:g}=$o[x],p=u.transform==="none"?f[x]:v(f[x],h);if(g){const m=g.length;for(let b=0;b<m;b++)u[g[b]]=p}else u[x]=p}return this.options.layoutId&&(u.pointerEvents=h===this?oo(a==null?void 0:a.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(Kp),this.root.sharedNodes.clear()}}}function XN(e){e.updateLayout()}function ZN(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=r.source!==e.layout.source;i==="size"?At(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],y=Nt(f);f.min=n[h].min,f.max=f.min+y}):Gv(i,r.layoutBox,n)&&At(h=>{const f=a?r.measuredBox[h]:r.layoutBox[h],y=Nt(n[h]);f.max=f.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+y)});const o=ms();bi(o,n,r.layoutBox);const c=ms();a?bi(c,e.applyTransform(s,!0),r.measuredBox):bi(c,n,r.layoutBox);const u=!Wv(o);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:y}=h;if(f&&y){const w=Le();ji(w,r.layoutBox,f.layoutBox);const x=Le();ji(x,n,y.layoutBox),Hv(w,x)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=w,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function e2(e){wn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function t2(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function r2(e){e.clearSnapshot()}function Kp(e){e.clearMeasurements()}function n2(e){e.isLayoutDirty=!1}function s2(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Jp(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function i2(e){e.resolveTargetDelta()}function a2(e){e.calcProjection()}function o2(e){e.resetRotation()}function l2(e){e.removeLeadSnapshot()}function Qp(e,t,r){e.translate=ke(t.translate,0,r),e.scale=ke(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Yp(e,t,r,n){e.min=ke(t.min,r.min,n),e.max=ke(t.max,r.max,n)}function c2(e,t,r,n){Yp(e.x,t.x,r.x,n),Yp(e.y,t.y,r.y,n)}function u2(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const d2={duration:.45,ease:[.4,0,.1,1]},Xp=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),Zp=Xp("applewebkit/")&&!Xp("chrome/")?Math.round:Ce;function em(e){e.min=Zp(e.min),e.max=Zp(e.max)}function h2(e){em(e.x),em(e.y)}function Gv(e,t,r){return e==="position"||e==="preserve-aspect"&&!Fu(Wp(t),Wp(r),.2)}const f2=qv({attachResizeListener:(e,t)=>yr(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jc={current:void 0},Kv=qv({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!jc.current){const e=new f2({});e.mount(window),e.setOptions({layoutScroll:!0}),jc.current=e}return jc.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),p2={pan:{Feature:PN},drag:{Feature:CN,ProjectionNode:Kv,MeasureLayout:Uv}},m2=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function g2(e){const t=m2.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function zu(e,t,r=1){const[n,s]=g2(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return Pv(a)?parseFloat(a):a}else return Ou(s)?zu(s,t,r+1):s}function y2(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(s=>{const i=s.get();if(!Ou(i))return;const a=zu(i,n);a&&s.set(a)});for(const s in t){const i=t[s];if(!Ou(i))continue;const a=zu(i,n);a&&(t[s]=a,r||(r={}),r[s]===void 0&&(r[s]=i))}return{target:t,transitionEnd:r}}const v2=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),Jv=e=>v2.has(e),x2=e=>Object.keys(e).some(Jv),tm=e=>e===zn||e===Q,rm=(e,t)=>parseFloat(e.split(", ")[t]),nm=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/);if(s)return rm(s[1],t);{const i=n.match(/^matrix\((.+)\)$/);return i?rm(i[1],e):0}},w2=new Set(["x","y","z"]),b2=ca.filter(e=>!w2.has(e));function j2(e){const t=[];return b2.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const As={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:nm(4,13),y:nm(5,14)};As.translateX=As.x;As.translateY=As.y;const k2=(e,t,r)=>{const n=t.measureViewportBox(),s=t.current,i=getComputedStyle(s),{display:a}=i,o={};a==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(u=>{o[u]=As[u](n,i)}),t.render();const c=t.measureViewportBox();return r.forEach(u=>{const d=t.getValue(u);d&&d.jump(o[u]),e[u]=As[u](c,i)}),e},S2=(e,t,r={},n={})=>{t={...t},n={...n};const s=Object.keys(t).filter(Jv);let i=[],a=!1;const o=[];if(s.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=r[c],h=Qs(d);const f=t[c];let y;if(Fo(f)){const w=f.length,x=f[0]===null?1:0;d=f[x],h=Qs(d);for(let v=x;v<w&&f[v]!==null;v++)y?ph(Qs(f[v])===y):y=Qs(f[v])}else y=Qs(f);if(h!==y)if(tm(h)&&tm(y)){const w=u.get();typeof w=="string"&&u.set(parseFloat(w)),typeof f=="string"?t[c]=parseFloat(f):Array.isArray(f)&&y===Q&&(t[c]=f.map(parseFloat))}else h!=null&&h.transform&&(y!=null&&y.transform)&&(d===0||f===0)?d===0?u.set(y.transform(d)):t[c]=h.transform(f):(a||(i=j2(e),a=!0),o.push(c),n[c]=n[c]!==void 0?n[c]:t[c],u.jump(f))}),o.length){const c=o.indexOf("height")>=0?window.pageYOffset:null,u=k2(t,e,o);return i.length&&i.forEach(([d,h])=>{e.getValue(d).set(h)}),e.render(),wl&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:n}}else return{target:t,transitionEnd:n}};function _2(e,t,r,n){return x2(t)?S2(e,t,r,n):{target:t,transitionEnd:n}}const N2=(e,t,r,n)=>{const s=y2(e,t,n);return t=s.target,n=s.transitionEnd,_2(e,t,r,n)},Wu={current:null},Qv={current:!1};function E2(){if(Qv.current=!0,!!wl)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wu.current=e.matches;e.addListener(t),t()}else Wu.current=!1}function T2(e,t,r){const{willChange:n}=t;for(const s in t){const i=t[s],a=r[s];if(wt(i))e.addValue(s,i),zo(n)&&n.add(s);else if(wt(a))e.addValue(s,Ps(i,{owner:e})),zo(n)&&n.remove(s);else if(a!==i)if(e.hasValue(s)){const o=e.getValue(s);!o.hasAnimated&&o.set(i)}else{const o=e.getStaticValue(s);e.addValue(s,Ps(o!==void 0?o:i,{owner:e}))}}for(const s in r)t[s]===void 0&&e.removeValue(s);return t}const sm=new WeakMap,Yv=Object.keys(Ki),C2=Yv.length,im=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],P2=ih.length;class A2{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,visualState:i},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>me.render(this.render,!1,!0);const{latestValues:o,renderState:c}=i;this.latestValues=o,this.baseTarget={...o},this.initialValues=r.initial?{...o}:{},this.renderState=c,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.isControllingVariants=jl(r),this.isVariantNode=Ly(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(r,{});for(const h in d){const f=d[h];o[h]!==void 0&&wt(f)&&(f.set(o[h],!1),zo(u)&&u.add(h))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,sm.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Qv.current||E2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wu.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){sm.delete(this.current),this.projection&&this.projection.unmount(),Er(this.notifyUpdate),Er(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=Bn.has(t),s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&me.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),i=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{s(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,s,i){let a,o;for(let c=0;c<C2;c++){const u=Yv[c],{isEnabled:d,Feature:h,ProjectionNode:f,MeasureLayout:y}=Ki[u];f&&(a=f),d(r)&&(!this.features[u]&&h&&(this.features[u]=new h(this)),y&&(o=y))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:h,layoutScroll:f,layoutRoot:y}=r;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||h&&fs(h),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:y})}return o}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Le()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<im.length;n++){const s=im[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=t["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=T2(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<P2;n++){const s=ih[n],i=this.props[s];(Gi(i)||i===!1)&&(r[s]=i)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Ps(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,s=typeof n=="string"||typeof n=="object"?(r=fh(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!wt(i)?i:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new kh),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Xv extends A2{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:s},i){let a=K_(n,t||{},this);if(s&&(r&&(r=s(r)),n&&(n=s(n)),a&&(a=s(a))),i){q_(this,n,a);const o=N2(this,n,a,r);r=o.transitionEnd,n=o.target}return{transition:t,transitionEnd:r,...n}}}function O2(e){return window.getComputedStyle(e)}class D2 extends Xv{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(Bn.has(r)){const n=vh(r);return n&&n.default||0}else{const n=O2(t),s=(Fy(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Fv(t,r)}build(t,r,n,s){lh(t,r,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,r){return hh(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;wt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,s){Hy(t,r,n,s)}}class R2 extends Xv{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Bn.has(r)){const n=vh(r);return n&&n.default||0}return r=qy.has(r)?r:nh(r),t.getAttribute(r)}measureInstanceViewportBox(){return Le()}scrapeMotionValuesFromProps(t,r){return Ky(t,r)}build(t,r,n,s){uh(t,r,n,this.isSVGTag,s.transformTemplate)}renderInstance(t,r,n,s){Gy(t,r,n,s)}mount(t){this.isSVGTag=dh(t.tagName),super.mount(t)}}const L2=(e,t)=>oh(e)?new R2(t,{enableHardwareAcceleration:!1}):new D2(t,{enableHardwareAcceleration:!0}),I2={layout:{ProjectionNode:Kv,MeasureLayout:Uv}},$2={...cN,...CS,...p2,...I2},O=Mk((e,t)=>gS(e,t,$2,L2));function Zv(){const e=j.useRef(!1);return rh(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function M2(){const e=Zv(),[t,r]=j.useState(0),n=j.useCallback(()=>{e.current&&r(t+1)},[t]);return[j.useCallback(()=>me.postRender(n),[n]),t]}class F2 extends j.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function V2({children:e,isPresent:t}){const r=j.useId(),n=j.useRef(null),s=j.useRef({width:0,height:0,top:0,left:0});return j.useInsertionEffect(()=>{const{width:i,height:a,top:o,left:c}=s.current;if(t||!n.current||!i||!a)return;n.current.dataset.motionPopId=r;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),j.createElement(F2,{isPresent:t,childRef:n,sizeRef:s},j.cloneElement(e,{ref:n}))}const kc=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a})=>{const o=Jy(U2),c=j.useId(),u=j.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:d=>{o.set(d,!0);for(const h of o.values())if(!h)return;n&&n()},register:d=>(o.set(d,!1),()=>o.delete(d))}),i?void 0:[r]);return j.useMemo(()=>{o.forEach((d,h)=>o.set(h,!1))},[r]),j.useEffect(()=>{!r&&!o.size&&n&&n()},[r]),a==="popLayout"&&(e=j.createElement(V2,{isPresent:r},e)),j.createElement(xl.Provider,{value:u},e)};function U2(){return new Map}function B2(e){return j.useEffect(()=>()=>e(),[])}const bn=e=>e.key||"";function z2(e,t){e.forEach(r=>{const n=bn(r);t.set(n,r)})}function W2(e){const t=[];return j.Children.forEach(e,r=>{j.isValidElement(r)&&t.push(r)}),t}const H2=({children:e,custom:t,initial:r=!0,onExitComplete:n,exitBeforeEnter:s,presenceAffectsLayout:i=!0,mode:a="sync"})=>{const o=j.useContext(ah).forceRender||M2()[0],c=Zv(),u=W2(e);let d=u;const h=j.useRef(new Map).current,f=j.useRef(d),y=j.useRef(new Map).current,w=j.useRef(!0);if(rh(()=>{w.current=!1,z2(u,y),f.current=d}),B2(()=>{w.current=!0,y.clear(),h.clear()}),w.current)return j.createElement(j.Fragment,null,d.map(p=>j.createElement(kc,{key:bn(p),isPresent:!0,initial:r?void 0:!1,presenceAffectsLayout:i,mode:a},p)));d=[...d];const x=f.current.map(bn),v=u.map(bn),g=x.length;for(let p=0;p<g;p++){const m=x[p];v.indexOf(m)===-1&&!h.has(m)&&h.set(m,void 0)}return a==="wait"&&h.size&&(d=[]),h.forEach((p,m)=>{if(v.indexOf(m)!==-1)return;const b=y.get(m);if(!b)return;const S=x.indexOf(m);let T=p;if(!T){const E=()=>{h.delete(m);const A=Array.from(y.keys()).filter(M=>!v.includes(M));if(A.forEach(M=>y.delete(M)),f.current=u.filter(M=>{const U=bn(M);return U===m||A.includes(U)}),!h.size){if(c.current===!1)return;o(),n&&n()}};T=j.createElement(kc,{key:bn(b),isPresent:!1,onExitComplete:E,custom:t,presenceAffectsLayout:i,mode:a},b),h.set(m,T)}d.splice(S,0,T)}),d=d.map(p=>{const m=p.key;return h.has(m)?p:j.createElement(kc,{key:bn(p),isPresent:!0,presenceAffectsLayout:i,mode:a},p)}),j.createElement(j.Fragment,null,h.size?d:d.map(p=>j.cloneElement(p)))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var q2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(e,t)=>{const r=j.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,...u},d)=>j.createElement("svg",{ref:d,...q2,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${G2(e)}`,o].join(" "),...u},[...t.map(([h,f])=>j.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=le("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=le("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=le("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=le("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=le("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=le("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=le("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eE=le("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=le("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tE=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rE=le("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nE=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sE=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iE=le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=le("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aE=le("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=le("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sh=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oE=le("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ix=()=>{const[e,t]=j.useState(!1),[r,n]=j.useState(!1),s=oa();j.useEffect(()=>{const a=()=>{n(window.scrollY>50)};return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)},[]);const i=[{name:"Home",href:s.pathname==="/"?"#home":"/#home"},{name:"Events",href:s.pathname==="/"?"#events":"/events"},{name:"About",href:s.pathname==="/"?"#about":"/#about"},{name:"Contact",href:s.pathname==="/"?"#contact":"/#contact"}];return l.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 px-2 md:px-4 pt-2 md:pt-4",children:l.jsx(O.nav,{initial:{y:-100},animate:{y:0},className:`transition-all duration-500 ease-out ${r?"bg-white/80 backdrop-blur-xl shadow-2xl border-2 border-slate-200/80 rounded-2xl max-w-4xl md:max-w-7xl mx-auto":"bg-transparent max-w-4xl md:max-w-7xl mx-auto"}`,children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:[l.jsxs("div",{className:"flex items-center justify-between h-18 md:h-20 relative",children:[l.jsx("div",{className:"hidden md:flex items-center z-10",children:l.jsx("span",{className:`text-xl md:text-2xl font-bold transition-colors duration-300 ${r?"text-gray-900":"text-white drop-shadow-lg"}`,children:"Carnival LDN"})}),l.jsx(O.div,{whileHover:{scale:1.05},className:"md:absolute md:left-1/2 md:transform md:-translate-x-1/2 z-10",children:l.jsx("div",{className:"relative",children:l.jsx("img",{src:r?"/carnival-logo.svg":"/carnival-logo-w.svg",alt:"Carnival LDN Logo",className:"w-10 h-10 md:w-12 md:h-12 object-contain transition-all duration-300",style:{backgroundColor:"transparent"}})})}),l.jsx("div",{className:"flex justify-end z-10",children:l.jsx(O.button,{whileTap:{scale:.95},onClick:()=>t(!e),className:`p-4 transition-colors rounded-lg ${r?"text-gray-700 hover:text-gray-900 hover:bg-gray-100":"text-white hover:text-gray-200 hover:bg-white/10"}`,children:e?l.jsx(fa,{size:28,strokeWidth:2.5}):l.jsx(tE,{size:28,strokeWidth:2.5})})})]}),l.jsx(H2,{children:e&&l.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`md:hidden border-t mt-2 overflow-hidden ${r?"border-gray-200/50":"border-white/30"}`,children:l.jsxs("div",{className:"px-2 py-6 space-y-0",children:[i.map((a,o)=>l.jsxs("div",{children:[l.jsx(O.a,{href:a.href,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:o*.1},onClick:()=>t(!1),className:`block text-center text-lg font-medium transition-colors py-3 rounded-lg ${r?"text-gray-700 hover:text-gray-900 hover:bg-gray-50":"text-white hover:text-gray-200 hover:bg-white/10"}`,children:a.name}),o<i.length-1&&l.jsx("div",{className:`border-b mx-4 ${r?"border-gray-200":"border-white/30"}`})]},a.name)),l.jsx(O.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i.length*.1},className:`w-full py-3 rounded-lg font-medium transition-colors text-base mt-4 ${r?"bg-gray-900 hover:bg-gray-800 text-white":"bg-white/90 hover:bg-white text-gray-900"}`,children:"Book Event"})]})})})]})})})},lE=()=>l.jsx("span",{className:"inline-block px-6 py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20",children:"London's Most Professional Events Experience"}),cE=()=>{const e=j.useRef(null),[t,r]=j.useState(!1),n={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3,delayChildren:.2}}},s={hidden:{y:50,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",damping:15,stiffness:100}}};return j.useEffect(()=>{const i=()=>{if(e.current){r(!0),setTimeout(()=>{r(!1)},200);const o=Math.random()*1e3;setTimeout(i,o)}},a=setTimeout(()=>{i()},100);return()=>{clearTimeout(a)}},[]),l.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-20 md:pt-32 pb-16 md:pb-24 px-4",children:[l.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[l.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",children:l.jsx("source",{src:"/vid.mp4",type:"video/mp4"})}),l.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 text-center relative z-10",children:l.jsxs(O.div,{variants:n,initial:"hidden",animate:"visible",className:"space-y-6 md:space-y-8",children:[l.jsx(O.div,{variants:s,children:l.jsx("h1",{ref:e,className:`text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl glitch-text ${t?"glitch-active":""}`,"data-text":"CARNIVAL LDN",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"CARNIVAL LDN"})}),l.jsxs(O.div,{variants:s,className:"space-y-3 md:space-y-7",children:[l.jsx(O.h2,{className:"text-lg sm:text-xl md:text-2xl lg:text-2xl font-light max-w-4xl mx-auto leading-relaxed px-2 text-white drop-shadow-lg",children:l.jsx(lE,{})}),l.jsx(O.p,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"text-sm sm:text-base md:text-lg lg:text-xl max-w-3xl mx-auto leading-relaxed px-2 bg-gradient-to-r from-gray-200 via-white to-gray-200 bg-[length:200%_200%] bg-clip-text text-transparent drop-shadow-lg",children:"From corporate events to cultural celebrations, from exclusive parties to memorable occasions"})]}),l.jsxs(O.div,{variants:s,className:"flex flex-col sm:flex-row gap-4 md:gap-6 justify-center items-center pt-6 md:pt-8 px-4",children:[l.jsxs(O.button,{whileHover:{scale:1.05,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},whileTap:{scale:.95},className:"bg-white/90 hover:bg-white text-gray-900 font-bold text-base md:text-lg px-6 md:px-8 py-3 md:py-4 rounded-lg group w-full sm:w-auto flex items-center justify-center space-x-2 transition-all shadow-lg backdrop-blur-sm border border-white/30",children:[l.jsx("span",{children:"Explore Events"}),l.jsx(Qi,{className:"w-4 h-4 md:w-5 md:h-5 group-hover:translate-x-1 transition-transform"})]}),l.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-transparent hover:bg-white/90 text-white hover:text-gray-900 px-6 md:px-8 py-3 md:py-4 text-base md:text-lg font-semibold rounded-lg border-2 border-white/70 w-full sm:w-auto transition-all backdrop-blur-sm",children:"Book Private Event"})]})]})})]})},uE={},hm=e=>{let t;const r=new Set,n=(d,h)=>{const f=typeof d=="function"?d(t):d;if(!Object.is(f,t)){const y=t;t=h??(typeof f!="object"||f===null)?f:Object.assign({},t,f),r.forEach(w=>w(t,y))}},s=()=>t,c={setState:n,getState:s,getInitialState:()=>u,subscribe:d=>(r.add(d),()=>r.delete(d)),destroy:()=>{(uE?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(n,s,c);return c},dE=e=>e?hm(e):hm;var ax={exports:{}},ox={},lx={exports:{}},cx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ds=j;function hE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fE=typeof Object.is=="function"?Object.is:hE,pE=Ds.useState,mE=Ds.useEffect,gE=Ds.useLayoutEffect,yE=Ds.useDebugValue;function vE(e,t){var r=t(),n=pE({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return gE(function(){s.value=r,s.getSnapshot=t,Sc(s)&&i({inst:s})},[e,r,t]),mE(function(){return Sc(s)&&i({inst:s}),e(function(){Sc(s)&&i({inst:s})})},[e]),yE(r),r}function Sc(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!fE(e,r)}catch{return!0}}function xE(e,t){return t()}var wE=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?xE:vE;cx.useSyncExternalStore=Ds.useSyncExternalStore!==void 0?Ds.useSyncExternalStore:wE;lx.exports=cx;var bE=lx.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nl=j,jE=bE;function kE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var SE=typeof Object.is=="function"?Object.is:kE,_E=jE.useSyncExternalStore,NE=Nl.useRef,EE=Nl.useEffect,TE=Nl.useMemo,CE=Nl.useDebugValue;ox.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=NE(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=TE(function(){function c(y){if(!u){if(u=!0,d=y,y=n(y),s!==void 0&&a.hasValue){var w=a.value;if(s(w,y))return h=w}return h=y}if(w=h,SE(d,y))return w;var x=n(y);return s!==void 0&&s(w,x)?(d=y,w):(d=y,h=x)}var u=!1,d,h,f=r===void 0?null:r;return[function(){return c(t())},f===null?void 0:function(){return c(f())}]},[t,r,n,s]);var o=_E(e,i[0],i[1]);return EE(function(){a.hasValue=!0,a.value=o},[o]),CE(o),o};ax.exports=ox;var PE=ax.exports;const AE=id(PE),ux={},{useDebugValue:OE}=ee,{useSyncExternalStoreWithSelector:DE}=AE;let fm=!1;const RE=e=>e;function LE(e,t=RE,r){(ux?"production":void 0)!=="production"&&r&&!fm&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),fm=!0);const n=DE(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,r);return OE(n),n}const IE=e=>{(ux?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?dE(e):e,r=(n,s)=>LE(t,n,s);return Object.assign(r,t),r},$E=e=>IE,ME={};function FE(e,t){let r;try{r=e()}catch{return}return{getItem:s=>{var i;const a=c=>c===null?null:JSON.parse(c,void 0),o=(i=r.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>r.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>r.removeItem(s)}}const Xi=e=>t=>{try{const r=e(t);return r instanceof Promise?r:{then(n){return Xi(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return Xi(n)(r)}}}},VE=(e,t)=>(r,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:v=>v,version:0,merge:(v,g)=>({...g,...v}),...t},a=!1;const o=new Set,c=new Set;let u;try{u=i.getStorage()}catch{}if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...v)},n,s);const d=Xi(i.serialize),h=()=>{const v=i.partialize({...n()});let g;const p=d({state:v,version:i.version}).then(m=>u.setItem(i.name,m)).catch(m=>{g=m});if(g)throw g;return p},f=s.setState;s.setState=(v,g)=>{f(v,g),h()};const y=e((...v)=>{r(...v),h()},n,s);let w;const x=()=>{var v;if(!u)return;a=!1,o.forEach(p=>p(n()));const g=((v=i.onRehydrateStorage)==null?void 0:v.call(i,n()))||void 0;return Xi(u.getItem.bind(u))(i.name).then(p=>{if(p)return i.deserialize(p)}).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return i.migrate(p.state,p.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return p.state}).then(p=>{var m;return w=i.merge(p,(m=n())!=null?m:y),r(w,!0),h()}).then(()=>{g==null||g(w,void 0),a=!0,c.forEach(p=>p(w))}).catch(p=>{g==null||g(void 0,p)})};return s.persist={setOptions:v=>{i={...i,...v},v.getStorage&&(u=v.getStorage())},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>a,onHydrate:v=>(o.add(v),()=>{o.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},x(),w||y},UE=(e,t)=>(r,n,s)=>{let i={storage:FE(()=>localStorage),partialize:x=>x,version:0,merge:(x,v)=>({...v,...x}),...t},a=!1;const o=new Set,c=new Set;let u=i.storage;if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),r(...x)},n,s);const d=()=>{const x=i.partialize({...n()});return u.setItem(i.name,{state:x,version:i.version})},h=s.setState;s.setState=(x,v)=>{h(x,v),d()};const f=e((...x)=>{r(...x),d()},n,s);s.getInitialState=()=>f;let y;const w=()=>{var x,v;if(!u)return;a=!1,o.forEach(p=>{var m;return p((m=n())!=null?m:f)});const g=((v=i.onRehydrateStorage)==null?void 0:v.call(i,(x=n())!=null?x:f))||void 0;return Xi(u.getItem.bind(u))(i.name).then(p=>{if(p)if(typeof p.version=="number"&&p.version!==i.version){if(i.migrate)return[!0,i.migrate(p.state,p.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,p.state];return[!1,void 0]}).then(p=>{var m;const[b,S]=p;if(y=i.merge(S,(m=n())!=null?m:f),r(y,!0),b)return d()}).then(()=>{g==null||g(y,void 0),y=n(),a=!0,c.forEach(p=>p(y))}).catch(p=>{g==null||g(void 0,p)})};return s.persist={setOptions:x=>{i={...i,...x},x.storage&&(u=x.storage)},clearStorage:()=>{u==null||u.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>a,onHydrate:x=>(o.add(x),()=>{o.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},i.skipHydration||w(),y||f},BE=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((ME?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),VE(e,t)):UE(e,t),zE=BE,WE="modulepreload",HE=function(e){return"/"+e},pm={},pa=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=HE(c),c in pm)return;pm[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":WE,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,y)=>{h.addEventListener("load",f),h.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})},qE=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pa(async()=>{const{default:n}=await Promise.resolve().then(()=>Vs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class _h extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class GE extends _h{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class mm extends _h{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class gm extends _h{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Hu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Hu||(Hu={}));var KE=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class JE{constructor(t,{headers:r={},customFetch:n,region:s=Hu.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=qE(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return KE(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let o={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(x=>{throw new GE(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new mm(h);if(!h.ok)throw new gm(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return y==="application/json"?w=yield h.json():y==="application/octet-stream"?w=yield h.blob():y==="text/event-stream"?w=h:y==="multipart/form-data"?w=yield h.formData():w=yield h.text(),{data:w,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof gm||s instanceof mm?s.context:void 0}}})}}var mt={},Nh={},El={},ma={},Tl={},Cl={},QE=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Rs=QE();const YE=Rs.fetch,dx=Rs.fetch.bind(Rs),hx=Rs.Headers,XE=Rs.Request,ZE=Rs.Response,Vs=Object.freeze(Object.defineProperty({__proto__:null,Headers:hx,Request:XE,Response:ZE,default:dx,fetch:YE},Symbol.toStringTag,{value:"Module"})),eT=ow(Vs);var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});let tT=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Pl.default=tT;var fx=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cl,"__esModule",{value:!0});const rT=fx(eT),nT=fx(Pl);let sT=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=rT.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,c;let u=null,d=null,h=null,f=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");x&&v&&v.length>1&&(h=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(d=[],u=null,f=200,y="OK")}catch{i.status===404&&x===""?(f=204,y="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,y="OK"),u&&this.shouldThrowOnError)throw new nT.default(u)}return{error:u,data:d,count:h,status:f,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Cl.default=sT;var iT=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Tl,"__esModule",{value:!0});const aT=iT(Cl);let oT=class extends aT.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Tl.default=oT;var lT=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ma,"__esModule",{value:!0});const cT=lT(Tl);let uT=class extends cT.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};ma.default=uT;var dT=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(El,"__esModule",{value:!0});const Xs=dT(ma);let hT=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Xs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Xs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Xs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Xs.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};El.default=hT;var Al={},Ol={};Object.defineProperty(Ol,"__esModule",{value:!0});Ol.version=void 0;Ol.version="0.0.0-automated";Object.defineProperty(Al,"__esModule",{value:!0});Al.DEFAULT_HEADERS=void 0;const fT=Ol;Al.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${fT.version}`};var px=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nh,"__esModule",{value:!0});const pT=px(El),mT=px(ma),gT=Al;let yT=class mx{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},gT.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new pT.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new mx(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{o.searchParams.append(d,h)})):(a="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new mT.default({method:a,url:o,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Nh.default=yT;var Us=$t&&$t.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(mt,"__esModule",{value:!0});mt.PostgrestError=mt.PostgrestBuilder=mt.PostgrestTransformBuilder=mt.PostgrestFilterBuilder=mt.PostgrestQueryBuilder=mt.PostgrestClient=void 0;const gx=Us(Nh);mt.PostgrestClient=gx.default;const yx=Us(El);mt.PostgrestQueryBuilder=yx.default;const vx=Us(ma);mt.PostgrestFilterBuilder=vx.default;const xx=Us(Tl);mt.PostgrestTransformBuilder=xx.default;const wx=Us(Cl);mt.PostgrestBuilder=wx.default;const bx=Us(Pl);mt.PostgrestError=bx.default;var vT=mt.default={PostgrestClient:gx.default,PostgrestQueryBuilder:yx.default,PostgrestFilterBuilder:vx.default,PostgrestTransformBuilder:xx.default,PostgrestBuilder:wx.default,PostgrestError:bx.default};const{PostgrestClient:xT,PostgrestQueryBuilder:WA,PostgrestFilterBuilder:HA,PostgrestTransformBuilder:qA,PostgrestBuilder:GA,PostgrestError:KA}=vT;class wT{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const bT="2.15.1",jT=`realtime-js/${bT}`,kT="1.0.0",qu=1e4,ST=1e3,_T=100;var ki;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ki||(ki={}));var Fe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Fe||(Fe={}));var Ht;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ht||(Ht={}));var Gu;(function(e){e.websocket="websocket"})(Gu||(Gu={}));var kn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(kn||(kn={}));class NT{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class jx{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(fe||(fe={}));const ym=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=ET(a,e,t,s),i),{})},ET=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?kx(i,a):Ku(a)},kx=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return AT(t,r)}switch(e){case fe.bool:return TT(t);case fe.float4:case fe.float8:case fe.int2:case fe.int4:case fe.int8:case fe.numeric:case fe.oid:return CT(t);case fe.json:case fe.jsonb:return PT(t);case fe.timestamp:return OT(t);case fe.abstime:case fe.date:case fe.daterange:case fe.int4range:case fe.int8range:case fe.money:case fe.reltime:case fe.text:case fe.time:case fe.timestamptz:case fe.timetz:case fe.tsrange:case fe.tstzrange:return Ku(t);default:return Ku(t)}},Ku=e=>e,TT=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},CT=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},PT=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},AT=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>kx(t,o))}return e},OT=e=>typeof e=="string"?e.replace(" ","T"):e,Sx=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class _c{constructor(t,r,n={},s=qu){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vm||(vm={}));class Si{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Si.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=Si.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Si.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const h=i[u];if(h){const f=d.map(v=>v.presence_ref),y=h.map(v=>v.presence_ref),w=d.filter(v=>y.indexOf(v.presence_ref)<0),x=h.filter(v=>f.indexOf(v.presence_ref)<0);w.length>0&&(o[u]=w),x.length>0&&(c[u]=x)}else o[u]=d}),this.syncDiff(i,{joins:o,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const h=t[o].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);t[o].unshift(...f)}n(o,d,c)}),this.map(a,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[o]=u,s(o,u,c),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xm||(xm={}));var _i;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_i||(_i={}));var fr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(fr||(fr={}));class Eh{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new _c(this,Ht.join,this.params,this.timeout),this.rejoinTimer=new jx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ht.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Si(this),this.broadcastEndpointURL=Sx(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:i,presence:a,private:o}}=this.params,c=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[_i.PRESENCE]&&this.bindings[_i.PRESENCE].length>0,d={},h={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:u}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(fr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(fr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket.setAuth(),f===void 0){t==null||t(fr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,x=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,v=[];for(let g=0;g<x;g++){const p=w[g],{filter:{event:m,schema:b,table:S,filter:T}}=p,E=f&&f[g];if(E&&E.event===m&&E.schema===b&&E.table===S&&E.filter===T)v.push(Object.assign(Object.assign({},p),{id:E.id}));else{this.unsubscribe(),this.state=Fe.errored,t==null||t(fr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(fr.SUBSCRIBED);return}}).receive("error",f=>{this.state=Fe.errored,t==null||t(fr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(fr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Fe.joined&&t===_i.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ht.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new _c(this,Ht.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _c(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>_T){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=Ht;if(n&&[o,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var w,x,v;return((w=y.filter)===null||w===void 0?void 0:w.event)==="*"||((v=(x=y.filter)===null||x===void 0?void 0:x.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(y=>y.callback(f,n)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var w,x,v,g,p,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const b=y.id,S=(w=y.filter)===null||w===void 0?void 0:w.event;return b&&((x=r.ids)===null||x===void 0?void 0:x.includes(b))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const b=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return b==="*"||b===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:x,table:v,commit_timestamp:g,type:p,errors:m}=w;f=Object.assign(Object.assign({},{schema:x,table:v,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(w))}y.callback(f,n)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Eh.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ht.close,{},t)}_onError(t){this._on(Ht.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=ym(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=ym(t.columns,t.old_record)),r}}const wm=()=>{},Ba={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},DT=[1e3,2e3,5e3,1e4],RT=1e4,LT=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class IT{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=qu,this.transport=null,this.heartbeatIntervalMs=Ba.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wm,this.ref=0,this.reconnectTimer=null,this.logger=wm,this.conn=null,this.sendBuffer=[],this.serializer=new NT,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...a)=>pa(async()=>{const{default:o}=await Promise.resolve().then(()=>Vs);return{default:o}},void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...a)=>i(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Gu.websocket}`,this.httpEndpoint=Sx(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kT}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ki.connecting:return kn.Connecting;case ki.open:return kn.Open;case ki.closing:return kn.Closing;default:return kn.Closed}}isConnected(){return this.connectionState()===kn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Eh(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ST,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ba.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ht.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([LT],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:jT};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ht.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new jx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ba.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,c,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:qu,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ba.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:d=>DT[d-1]||RT,this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(d,h)=>h(JSON.stringify(d)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Th extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class $T extends Th{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ju extends Th{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var MT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const _x=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pa(async()=>{const{default:n}=await Promise.resolve().then(()=>Vs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},FT=()=>MT(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield pa(()=>Promise.resolve().then(()=>Vs),void 0)).Response:Response}),Qu=e=>{if(Array.isArray(e))return e.map(r=>Qu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Qu(n)}),t},VT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Wn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const Nc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UT=(e,t,r)=>Wn(void 0,void 0,void 0,function*(){const n=yield FT();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new $T(Nc(s),i,a))}).catch(s=>{t(new Ju(Nc(s),s))}):t(new Ju(Nc(e),e))}),BT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(VT(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function ga(e,t,r,n,s,i){return Wn(this,void 0,void 0,function*(){return new Promise((a,o)=>{e(r,BT(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>UT(c,o,n))})})}function Go(e,t,r,n){return Wn(this,void 0,void 0,function*(){return ga(e,"GET",t,r,n)})}function er(e,t,r,n,s){return Wn(this,void 0,void 0,function*(){return ga(e,"POST",t,n,s,r)})}function Yu(e,t,r,n,s){return Wn(this,void 0,void 0,function*(){return ga(e,"PUT",t,n,s,r)})}function zT(e,t,r,n){return Wn(this,void 0,void 0,function*(){return ga(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Nx(e,t,r,n,s){return Wn(this,void 0,void 0,function*(){return ga(e,"DELETE",t,n,s,r)})}var it=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const WT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},bm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HT{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=_x(s)}uploadOrUpdate(t,r,n,s){return it(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},bm),s);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Yu:er)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(Ve(i))return{data:null,error:i};throw i}})}upload(t,r,n){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return it(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:bm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Yu(this.fetch,o.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(Ve(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return it(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield er(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new Th("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}update(t,r,n){return it(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return it(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}copy(t,r,n){return it(this,void 0,void 0,function*(){try{return{data:{path:(yield er(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return it(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield er(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return it(this,void 0,void 0,function*(){try{const s=yield er(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}download(t,r){return it(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Go(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(Ve(o))return{data:null,error:o};throw o}})}info(t){return it(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Go(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Qu(n),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}exists(t){return it(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield zT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Ve(n)&&n instanceof Ju){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(t){return it(this,void 0,void 0,function*(){try{return{data:yield Nx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}list(t,r,n){return it(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},WT),r),{prefix:t||""});return{data:yield er(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Ve(s))return{data:null,error:s};throw s}})}listV2(t,r){return it(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield er(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const qT="2.11.0",GT={"X-Client-Info":`storage-js/${qT}`};var Gn=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class KT{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},GT),r),this.fetch=_x(n)}listBuckets(){return Gn(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Ve(t))return{data:null,error:t};throw t}})}getBucket(t){return Gn(this,void 0,void 0,function*(){try{return{data:yield Go(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Gn(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Gn(this,void 0,void 0,function*(){try{return{data:yield Yu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Ve(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Gn(this,void 0,void 0,function*(){try{return{data:yield er(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Gn(this,void 0,void 0,function*(){try{return{data:yield Nx(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Ve(r))return{data:null,error:r};throw r}})}}class JT extends KT{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new HT(this.url,this.headers,t,this.fetch)}}const QT="2.55.0";let ci="";typeof Deno<"u"?ci="deno":typeof document<"u"?ci="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ci="react-native":ci="node";const YT={"X-Client-Info":`supabase-js-${ci}/${QT}`},XT={headers:YT},ZT={schema:"public"},eC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tC={};var rC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};const nC=e=>{let t;return e?t=e:typeof fetch>"u"?t=dx:t=fetch,(...r)=>t(...r)},sC=()=>typeof Headers>"u"?hx:Headers,iC=(e,t,r)=>{const n=nC(r),s=sC();return(i,a)=>rC(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var aC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};function oC(e){return e.endsWith("/")?e:e+"/"}function lC(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>aC(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Ex="2.71.1",Zn=30*1e3,Xu=3,Ec=Xu*Zn,cC="http://localhost:9999",uC="supabase.auth.token",dC={"X-Client-Info":`gotrue-js/${Ex}`},Zu="X-Supabase-Api-Version",Tx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},hC=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fC=10*60*1e3;class Ch extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ne(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class pC extends Ch{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mC(e){return ne(e)&&e.name==="AuthApiError"}class Cx extends Ch{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class hn extends Ch{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Lr extends hn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gC(e){return ne(e)&&e.name==="AuthSessionMissingError"}class za extends hn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wa extends hn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ha extends hn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yC(e){return ne(e)&&e.name==="AuthImplicitGrantRedirectError"}class jm extends hn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ed extends hn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Tc(e){return ne(e)&&e.name==="AuthRetryableFetchError"}class km extends hn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class td extends hn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sm=` 	
\r=`.split(""),vC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sm.length;t+=1)e[Sm[t].charCodeAt(0)]=-2;for(let t=0;t<Ko.length;t+=1)e[Ko[t].charCodeAt(0)]=t;return e})();function _m(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ko[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ko[n]),t.queuedBits-=6}}function Px(e,t,r){const n=vC[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Nm(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{bC(a,n,r)};for(let a=0;a<e.length;a+=1)Px(e.charCodeAt(a),s,i);return t.join("")}function xC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function wC(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}xC(n,t)}}function bC(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function jC(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Px(e.charCodeAt(s),r,n);return new Uint8Array(t)}function kC(e){const t=[];return wC(e,r=>t.push(r)),new Uint8Array(t)}function SC(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>_m(s,r,n)),_m(null,r,n),t.join("")}function _C(e){return Math.round(Date.now()/1e3)+e}function NC(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Bt=()=>typeof window<"u"&&typeof document<"u",mn={tested:!1,writable:!1},Ax=()=>{if(!Bt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(mn.tested)return mn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),mn.tested=!0,mn.writable=!0}catch{mn.tested=!0,mn.writable=!1}return mn.writable};function EC(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Ox=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>pa(async()=>{const{default:n}=await Promise.resolve().then(()=>Vs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},TC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",es=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},gn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dr=async(e,t)=>{await e.removeItem(t)};class Dl{constructor(){this.promise=new Dl.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Dl.promiseConstructor=Promise;function Cc(e){const t=e.split(".");if(t.length!==3)throw new td("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!hC.test(t[n]))throw new td("JWT not in base64url format");return{header:JSON.parse(Nm(t[0])),payload:JSON.parse(Nm(t[1])),signature:jC(t[2]),raw:{header:t[0],payload:t[1]}}}async function CC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function PC(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function AC(e){return("0"+e.toString(16)).substr(-2)}function OC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,AC).join("")}async function DC(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function RC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await DC(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kn(e,t,r=!1){const n=OC();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await es(e,`${t}-code-verifier`,s);const i=await RC(n);return[i,n===i?"plain":"s256"]}const LC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function IC(e){const t=e.headers.get(Zu);if(!t||!t.match(LC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $C(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function MC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const FC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Jn(e){if(!FC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pc(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Em(e){return JSON.parse(JSON.stringify(e))}var VC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const jn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UC=[502,503,504];async function Tm(e){var t;if(!TC(e))throw new ed(jn(e),0);if(UC.includes(e.status))throw new ed(jn(e),e.status);let r;try{r=await e.json()}catch(i){throw new Cx(jn(i),i)}let n;const s=IC(e);if(s&&s.getTime()>=Tx["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new km(jn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Lr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new km(jn(r),e.status,r.weak_password.reasons);throw new pC(jn(r),e.status||500,n)}const BC=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ie(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Zu]||(i[Zu]=Tx["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await zC(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function zC(e,t,r,n,s,i){const a=BC(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new ed(jn(c),0)}if(o.ok||await Tm(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Tm(c)}}function dr(e){var t;let r=null;GC(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=_C(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Cm(e){const t=dr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Br(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function WC(e){return{data:e,error:null}}function HC(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=VC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function qC(e){return e}function GC(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ac=["global","local","others"];var KC=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class JC{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ox(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Ac[0]){if(Ac.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ac.join(", ")}`);try{return await ie(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ie(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Br})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=KC(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ie(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:HC,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ne(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ie(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Br})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ie(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:qC});if(d.error)throw d.error;const h=await d.json(),f=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return y.length>0&&(y.forEach(w=>{const x=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(w.split(";")[1].split("=")[1]);u[`${v}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ne(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Jn(t);try{return await ie(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Br})}catch(r){if(ne(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Jn(t);try{return await ie(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Br})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Jn(t);try{return await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Br})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Jn(t.userId);try{const{data:r,error:n}=await ie(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Jn(t.userId),Jn(t.id);try{return{data:await ie(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}}function Pm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function QC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Qn={debug:!!(globalThis&&Ax()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dx extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class YC extends Dx{}async function XC(e,t,r){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new YC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Qn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}QC();const ZC={url:cC,storageKey:uC,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dC,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Am(e,t,r){return await r()}const Yn={};class Zi{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Zi.nextInstanceID,Zi.nextInstanceID+=1,this.instanceID>0&&Bt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ZC),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new JC({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ox(s.fetch),this.lock=s.lock||Am,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Bt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=XC:this.lock=Am,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Ax()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pm(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Pm(this.memoryStorage)),Bt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Yn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Yn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ex}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=EC(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Bt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),yC(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ne(r)?{error:r}:{error:new Cx("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:dr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:h,options:f}=t;let y=null,w=null;this.flowType==="pkce"&&([y,w]=await Kn(this.storage,this.storageKey)),i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:w},xform:dr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;i=await ie(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:dr})}else throw new Wa("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ne(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Cm})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await ie(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Cm})}else throw new Wa("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new za}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,o,c,u,d,h,f,y;let w,x;if("message"in t)w=t.message,x=t.signature;else{const{chain:v,wallet:g,statement:p,options:m}=t;let b;if(Bt())if(typeof g=="object")b=g;else{const T=window;if("solana"in T&&typeof T.solana=="object"&&("signIn"in T.solana&&typeof T.solana.signIn=="function"||"signMessage"in T.solana&&typeof T.solana.signMessage=="function"))b=T.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=g}const S=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const T=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),p?{statement:p}:null));let E;if(Array.isArray(T)&&T[0]&&typeof T[0]=="object")E=T[0];else if(T&&typeof T=="object"&&"signedMessage"in T&&"signature"in T)E=T;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)w=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),x=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${S.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const T=await b.signMessage(new TextEncoder().encode(w),"utf8");if(!T||!(T instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=T}}try{const{data:v,error:g}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:SC(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:dr});if(g)throw g;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new za}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:g})}catch(v){if(ne(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await gn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await ie(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:dr});if(await Dr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new za}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(ne(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await ie(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:dr}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new za}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Kn(this.storage,this.storageKey));const{error:h}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await ie(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Wa("You must provide either an email or phone number.")}catch(o){if(ne(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await ie(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:dr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ne(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Kn(this.storage,this.storageKey)),await ie(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:WC})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Lr;const{error:s}=await ie(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ne(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await ie(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new Wa("You must provide either an email or phone number and a type")}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await gn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ec:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await gn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Pc()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Br}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Lr}:await ie(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Br})})}catch(r){if(ne(r))return gC(r)&&(await this._removeSession(),await Dr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Lr;const a=s.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Kn(this.storage,this.storageKey));const{data:u,error:d}=await ie(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:Br});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ne(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Lr;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Cc(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ne(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Lr;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ne(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Bt())throw new Ha("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ha(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new jm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ha("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new jm("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:c,token_type:u}=t;if(!i||!o||!a||!u)throw new Ha("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(o);let f=d+h;c&&(f=parseInt(c));const y=f-d;y*1e3<=Zn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const w=f-h;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,d);const{data:x,error:v}=await this._getUser(i);if(v)throw v;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(ne(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await gn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(mC(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await Dr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=NC(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Kn(this.storage,this.storageKey,!0));try{return await ie(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ne(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ne(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,c,u,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ie(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Bt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ne(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await ie(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await PC(async s=>(s>0&&await CC(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ie(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Tc(i)&&Date.now()+a-n<Zn})}catch(n){if(this._debug(r,"error",n),ne(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Bt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await gn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await gn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await es(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Pc()}else if(s&&!s.user&&!s.user){const a=await gn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Dr(this.storage,this.storageKey+"-user"),await es(this.storage,this.storageKey,s)):s.user=Pc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ec;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ec}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Tc(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Lr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Dl;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Lr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),ne(i)){const a={session:null,error:i};return Tc(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await es(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Em(s);await es(this.storage,this.storageKey,i)}else{const s=Em(r);await es(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Dr(this.storage,this.storageKey),await Dr(this.storage,this.storageKey+"-code-verifier"),await Dr(this.storage,this.storageKey+"-user"),this.userStorage&&await Dr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Bt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Zn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Zn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Zn}ms, refresh threshold is ${Xu} ticks`),s<=Xu&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Dx)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Kn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ie(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ie(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ne(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:o}=await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ie(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ne(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Cc(s.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+fC>s)return n;const{data:i,error:a}=await ie(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:y,error:w}=await this.getSession();if(w||!y.session)return{data:null,error:w};n=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:c}}=Cc(n);r!=null&&r.allowExpired||$C(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const d=MC(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,kC(`${o}.${c}`)))throw new td("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(ne(n))return{data:null,error:n};throw n}}}Zi.nextInstanceID=0;const eP=Zi;class tP extends eP{constructor(t){super(t)}}var rP=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(d){try{u(n.next(d))}catch(h){a(h)}}function c(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?i(d.value):s(d.value).then(o,c)}u((n=n.apply(e,t||[])).next())})};class nP{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=oC(t),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:ZT,realtime:tC,auth:Object.assign(Object.assign({},eC),{storageKey:u}),global:XT},h=lC(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=h.auth)!==null&&a!==void 0?a:{},this.headers,h.global.fetch),this.fetch=iC(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new xT(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new JT(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new JE(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return rP(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tP({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new IT(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const sP=(e,t,r)=>new nP(e,t,r);function iP(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}iP()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const aP="https://smbmvdzheqkblixjfdpn.supabase.co",oP="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtYm12ZHpoZXFrYmxpeGpmZHBuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUyNzgyODAsImV4cCI6MjA3MDg1NDI4MH0.twkaCp07rbguIiLnT8fsWDwmA8eACF1BMvcv6Wo0_DQ",We=sP(aP,oP),Om={email:"admin@carnival.com",password:"admin123"},Hn=$E()(zE((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,events:[],orders:[],login:async(r,n)=>{e({isLoading:!0});try{return r===Om.email&&n===Om.password?(e({user:{id:"1",email:r,name:"Admin User",role:"admin",createdAt:new Date},isAuthenticated:!0,isLoading:!1}),!0):(e({isLoading:!1}),!1)}catch(s){return console.error("Login error:",s),e({isLoading:!1}),!1}},logout:()=>{e({user:null,isAuthenticated:!1})},getEvents:async()=>{e({isLoading:!0});try{const{data:r,error:n}=await We.from("events").select("*").order("created_at",{ascending:!1});if(n)throw n;const{data:s,error:i}=await We.from("ticket_tiers").select("*");i&&console.error("Error fetching ticket tiers:",i);const a=(r||[]).map(o=>{const c=(s||[]).filter(u=>u.event_id===o.id);return{...o,isArchived:o.is_archived??!1,ticketTiers:c.map(u=>({id:u.id,eventId:u.event_id,name:u.name,price:u.price,originalPrice:u.original_price,capacity:u.capacity,soldCount:u.sold_count,availableFrom:u.available_from,availableUntil:u.available_until,description:u.description,benefits:u.benefits,isActive:u.is_active}))}});console.log("Events with tiers:",a),e({events:a,isLoading:!1})}catch(r){console.error("Error fetching events:",r),Rt.error("Failed to load events"),e({isLoading:!1})}},addEvent:async r=>{try{const n={title:r.title,date:r.date,time:r.time,venue:r.venue,price:r.price,description:r.description,capacity:r.capacity,image:r.image,tags:r.tags.split(",").map(a=>a.trim()).filter(a=>a),gradient:r.gradient,is_archived:!1};console.log("Adding new event:",n);const{data:s,error:i}=await We.from("events").insert([n]).select().single();if(i)throw console.error("Supabase insert error:",i),i;if(console.log("Event added successfully, now adding ticket tiers"),r.ticketTiers&&r.ticketTiers.length>0){const a=r.ticketTiers.map(u=>({id:u.id,event_id:s.id,name:u.name,price:u.price,original_price:u.originalPrice||null,capacity:u.capacity,sold_count:u.soldCount||0,available_from:u.availableFrom?new Date(u.availableFrom).toISOString():null,available_until:u.availableUntil?new Date(u.availableUntil).toISOString():null,description:u.description||null,benefits:u.benefits||[],is_active:u.isActive!==!1}));console.log("Inserting ticket tiers:",a),console.log("About to insert ticket tiers into database:",a);const{data:o,error:c}=await We.from("ticket_tiers").insert(a).select();c?(console.error("Error inserting ticket tiers:",c),console.error("Error details:",c.details,c.hint,c.message)):console.log("Ticket tiers added successfully:",o)}await t().getEvents()}catch(n){console.error("Error adding event:",n),Rt.error("Failed to add event")}},updateEvent:async(r,n)=>{try{const s={title:n.title,date:n.date,time:n.time,venue:n.venue,price:n.price,description:n.description,capacity:n.capacity,image:n.image,tags:n.tags.split(",").map(a=>a.trim()).filter(a=>a),gradient:n.gradient};console.log("Updating event with data:",s);const{error:i}=await We.from("events").update(s).eq("id",r);if(i)throw console.error("Supabase update error:",i),i;if(n.ticketTiers){const{error:a}=await We.from("ticket_tiers").delete().eq("event_id",r);if(a&&console.error("Error deleting existing ticket tiers:",a),n.ticketTiers.length>0){const o=n.ticketTiers.map(u=>({id:u.id,event_id:r,name:u.name,price:u.price,original_price:u.originalPrice,capacity:u.capacity,sold_count:u.soldCount,available_from:u.availableFrom,available_until:u.availableUntil,description:u.description,benefits:u.benefits,is_active:u.isActive}));console.log("Updating ticket tiers:",o);const{error:c}=await We.from("ticket_tiers").insert(o);c?console.error("Error updating ticket tiers:",c):console.log("Ticket tiers updated successfully")}}console.log("Event updated successfully"),await t().getEvents()}catch(s){console.error("Error updating event:",s),Rt.error("Failed to update event")}},deleteEvent:async r=>{try{const{data:n,error:s}=await We.from("events").select("is_archived").eq("id",r).single();s&&console.error("Error fetching event before delete:",s);const i=(n==null?void 0:n.is_archived)===!0;if(!i){const{data:c,error:u}=await We.from("orders").select("id").eq("event_id",r);if(u&&console.error("Error checking event orders before delete:",u),(c||[]).length>0){const d=new Error("Event has associated orders and cannot be deleted without handling dependencies");throw d.code="EVENT_HAS_ORDERS",d}}if(i){const{data:c,error:u}=await We.from("orders").select("id").eq("event_id",r);u&&console.error("Error fetching orders to delete:",u);const d=(c||[]).map(h=>h.id);if(d.length>0){const{error:h}=await We.from("order_tickets").delete().in("order_id",d);h&&console.error("Error deleting order_tickets for event:",h);const{error:f}=await We.from("orders").delete().eq("event_id",r);f&&console.error("Error deleting orders for event:",f)}}const{error:a}=await We.from("ticket_tiers").delete().eq("event_id",r);a&&console.error("Error deleting ticket tiers:",a);const{error:o}=await We.from("events").delete().eq("id",r);if(o)throw o;await t().getEvents()}catch(n){console.error("Error deleting event:",n),(n==null?void 0:n.code)==="EVENT_HAS_ORDERS"?Rt.error("Cannot delete: this event has existing orders. Consider archiving it or enabling cascade deletes in Supabase."):Rt.error("Failed to delete event")}},archiveEvent:async(r,n)=>{try{const{error:s}=await We.from("events").update({is_archived:n}).eq("id",r);if(s)throw s;await t().getEvents()}catch(s){console.error("Error archiving event:",s),Rt.error("Failed to update archive status. Ensure `is_archived boolean default false` exists on events table.")}},subscribeToEvents:()=>We.channel("events").on("postgres_changes",{event:"*",schema:"public",table:"events"},n=>{console.log("Database change detected:",n),t().getEvents()}).subscribe(n=>{console.log("Subscription status:",n)}),getOrders:async()=>{try{console.log("🔄 Fetching orders with tickets...");const{data:r,error:n}=await We.from("orders").select("*").order("created_at",{ascending:!1});if(n)throw n;const s=await Promise.all((r||[]).map(async i=>{const{data:a,error:o}=await We.from("order_tickets").select("*").eq("order_id",i.id);o&&console.error("Error fetching tickets for order:",i.id,o);const c=(a||[]).map(d=>({id:d.id,orderId:d.order_id,ticketTierId:d.ticket_tier_id,quantity:d.quantity,unitPrice:d.unit_price,totalPrice:d.total_price}));return{id:i.id,eventId:i.event_id,userId:i.user_id,stripePaymentIntentId:i.stripe_payment_intent_id,status:i.status,totalAmount:i.total_amount,currency:i.currency,tickets:c,customerEmail:i.customer_email,customerName:i.customer_name,createdAt:i.created_at,updatedAt:i.updated_at}}));console.log("📦 Orders with tickets (mapped):",s),e({orders:s})}catch(r){console.error("Error fetching orders:",r),e({orders:[]})}}}),{name:"carnival-admin-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),lP=()=>{const{events:e}=Hn(),t=ml(),r=j.useRef(null),[n,s]=j.useState(!1);j.useEffect(()=>{const a=()=>{s(!0),setTimeout(()=>{s(!1)},200);const o=Math.random()*1500;setTimeout(a,o)};return a(),()=>{}},[]);const i=a=>{t(`/events?event=${a.id}`)};return l.jsxs("section",{id:"events",className:"py-16 md:py-20 relative px-4 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[l.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-150",children:l.jsx("source",{src:"/vid-ev.mp4",type:"video/mp4"})}),l.jsx("div",{className:"absolute inset-0 bg-gray-900/90"})]}),l.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[l.jsxs(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12 md:mb-16",children:[l.jsx(O.h2,{ref:r,animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:8,repeat:1/0,ease:"linear"},className:`text-4xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 pb-1 glitch-text ${n?"glitch-active":""}`,"data-text":"Upcoming Events",children:"Upcoming Events"}),l.jsx("p",{className:"text-base sm:text-lg md:text-lg text-white max-w-fit mx-auto leading-relaxed px-6 py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20",children:"⚡ From rooftop raves to underground vibes - events that hit different ⚡"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:e.filter(a=>!a.isArchived).slice(0,3).map((a,o)=>l.jsxs(O.div,{initial:{opacity:0,y:50,scale:.9},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0},transition:{duration:.6,delay:o*.1,type:"spring",stiffness:100},whileHover:{y:-8,scale:1.02},className:"group relative bg-gradient-to-br from-white via-gray-50 to-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer backdrop-blur-sm",children:[l.jsxs("div",{className:"relative h-48 md:h-56 overflow-hidden",onClick:()=>i(a),children:[l.jsx("img",{src:a.image,alt:a.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:c=>{const u=c.target;u.src=`https://via.placeholder.com/400x300/6B7280/FFFFFF?text=${encodeURIComponent(a.title)}`}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),l.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:a.tags.slice(0,2).map(c=>l.jsx("span",{className:"bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-semibold text-gray-800 shadow-sm border border-white/20",children:c},c))}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:l.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight drop-shadow-lg",children:a.title})})]}),l.jsxs("div",{className:"p-5 md:p-6 space-y-4",onClick:()=>i(a),children:[l.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-2",children:a.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[l.jsx(sr,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:a.date})]}),l.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[l.jsx(Yi,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:a.time})]}),l.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[l.jsx(Os,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:a.venue})]})]}),l.jsxs(O.button,{onClick:c=>{c.stopPropagation(),i(a)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 hover:from-gray-800 hover:via-gray-700 hover:to-gray-800 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 text-sm md:text-base flex items-center justify-center gap-3 shadow-lg hover:shadow-xl group-hover:shadow-2xl",children:[l.jsx("span",{children:"Get Tickets"}),l.jsx(Qi,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]},a.id))})]})]})},cP=()=>{const e=[{icon:sr,number:"500+",label:"Events Delivered",color:"text-gray-600"},{icon:br,number:"50K+",label:"Professional Clients",color:"text-gray-700"},{icon:J2,number:"25+",label:"Industry Awards",color:"text-gray-800"},{icon:om,number:"10+",label:"Years Experience",color:"text-gray-600"}],t=[{icon:lm,title:"Excellence",description:"We deliver exceptional quality in every detail, ensuring your event exceeds expectations.",color:"from-gray-600 to-gray-800"},{icon:cm,title:"Innovation",description:"Cutting-edge event technology and creative solutions bring your vision to life.",color:"from-gray-700 to-gray-900"},{icon:br,title:"Partnership",description:"Building lasting relationships through collaborative planning and flawless execution.",color:"from-gray-800 to-black"}];return l.jsx("section",{id:"about",className:"py-16 md:py-20 relative bg-white",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[l.jsxs(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12 md:mb-16",children:[l.jsx(O.h2,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:8,repeat:1/0,ease:"linear"},className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 bg-gradient-to-r from-gray-900 via-gray-600 to-gray-900 bg-[length:200%_200%] bg-clip-text text-transparent",children:"About Carnival LDN"}),l.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed px-2",children:"London's premier professional events company, specializing in creating exceptional experiences that elevate your brand and strengthen business relationships"})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 md:gap-12 items-stretch mb-16 md:mb-20",children:[l.jsxs(O.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"bg-white/80 backdrop-blur-sm border border-gray-200 rounded-xl shadow-lg p-6 md:p-8 space-y-6 text-center lg:text-left flex flex-col",children:[l.jsx(O.h3,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"text-2xl md:text-3xl font-bold mb-4 md:mb-6 bg-gradient-to-r from-gray-800 via-gray-700 to-gray-800 bg-[length:200%_200%] bg-clip-text text-transparent",children:"Our Story"}),l.jsxs("div",{className:"space-y-4 text-gray-600 leading-relaxed",children:[l.jsx("p",{className:"text-sm md:text-base",children:"Founded with a vision to transform the events industry, Carnival LDN has grown from a boutique planning service to London's most trusted name in professional event management."}),l.jsx("p",{className:"text-sm md:text-base",children:"Our team of experienced professionals brings together decades of expertise in corporate events, cultural celebrations, and premium hospitality to deliver experiences that exceed expectations."}),l.jsx("p",{className:"text-sm md:text-base",children:"From intimate board meetings to large-scale conferences, every event we create reflects our commitment to excellence, innovation, and the highest standards of professional service."})]})]}),l.jsx(O.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"relative flex flex-col",children:l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 md:p-8 space-y-6 flex-1 flex flex-col",children:[l.jsx(O.h4,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"text-xl md:text-2xl font-bold text-center md:text-left bg-gradient-to-r from-gray-800 via-gray-700 to-gray-800 bg-[length:200%_200%] bg-clip-text text-transparent",children:"Why Choose Us?"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-gray-600 to-gray-800 rounded-full flex items-center justify-center",children:l.jsx(cm,{className:"w-4 h-4 text-white"})}),l.jsx("span",{className:"text-gray-700",children:"Professional event management"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-gray-600 to-gray-800 rounded-full flex items-center justify-center",children:l.jsx(om,{className:"w-4 h-4 text-white"})}),l.jsx("span",{className:"text-gray-700",children:"Premium venue partnerships"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-gray-600 to-gray-800 rounded-full flex items-center justify-center",children:l.jsx(lm,{className:"w-4 h-4 text-white"})}),l.jsx("span",{className:"text-gray-700",children:"Dedicated client service"})]}),l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-gray-600 to-gray-800 rounded-full flex items-center justify-center",children:l.jsx(br,{className:"w-4 h-4 text-white"})}),l.jsx("span",{className:"text-gray-700",children:"Corporate-focused approach"})]})]})]})})]}),l.jsx(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"grid grid-cols-2 md:grid-cols-4 gap-6 md:gap-8 mb-16 md:mb-20",children:e.map((r,n)=>l.jsxs(O.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{delay:n*.1,type:"spring"},whileHover:{scale:1.05},className:"bg-white border border-gray-200 rounded-xl shadow-sm p-4 md:p-6 text-center group cursor-default hover:shadow-md transition-shadow",children:[l.jsx(r.icon,{className:`w-10 h-10 md:w-12 md:h-12 ${r.color} mx-auto mb-3 md:mb-4 group-hover:scale-110 transition-transform`}),l.jsx("div",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:r.number}),l.jsx("div",{className:"text-gray-600 text-xs md:text-sm",children:r.label})]},r.label))}),l.jsxs(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"mb-12 md:mb-16",children:[l.jsx(O.h3,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"text-2xl md:text-3xl font-bold text-center mb-8 md:mb-12 bg-gradient-to-r from-gray-800 via-gray-700 to-gray-800 bg-[length:200%_200%] bg-clip-text text-transparent",children:"Our Values"}),l.jsx("div",{className:"grid md:grid-cols-3 gap-6 md:gap-8",children:t.map((r,n)=>l.jsxs(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:n*.2,duration:.6},whileHover:{y:-10},className:"bg-white border border-gray-200 rounded-xl shadow-sm p-6 md:p-8 text-center group hover:shadow-md transition-shadow",children:[l.jsx("div",{className:`w-14 h-14 md:w-16 md:h-16 bg-gradient-to-r ${r.color} rounded-full flex items-center justify-center mx-auto mb-4 md:mb-6 group-hover:scale-110 transition-transform`,children:l.jsx(r.icon,{className:"w-7 h-7 md:w-8 md:h-8 text-white"})}),l.jsx("h4",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3 md:mb-4",children:r.title}),l.jsx("p",{className:"text-gray-600 leading-relaxed text-sm md:text-base",children:r.description})]},r.title))})]}),l.jsx(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center",children:l.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-6 md:p-8 max-w-2xl mx-auto",children:[l.jsx(O.h3,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"text-xl md:text-2xl font-bold mb-3 md:mb-4 bg-gradient-to-r from-gray-800 via-gray-700 to-gray-800 bg-[length:200%_200%] bg-clip-text text-transparent",children:"Ready to Create Excellence Together?"}),l.jsx("p",{className:"text-gray-600 mb-4 md:mb-6 text-sm md:text-base leading-relaxed",children:"Join the hundreds of satisfied clients who trust Carnival LDN for their most important events. Let's make your next occasion truly exceptional."}),l.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-gray-900 hover:bg-gray-800 text-white px-6 md:px-8 py-3 rounded-lg font-medium transition-colors text-sm md:text-base",children:"Start Planning"})]})})]})})},uP=()=>l.jsx("section",{id:"contact",className:"py-16 md:py-20 relative bg-gray-100",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[l.jsxs(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12 md:mb-16",children:[l.jsx(O.h2,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:8,repeat:1/0,ease:"linear"},className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 bg-gradient-to-r from-gray-900 via-gray-600 to-gray-900 bg-[length:200%_200%] bg-clip-text text-transparent",children:"Get In Touch"}),l.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 max-w-3xl mx-auto leading-relaxed px-2",children:"Ready to create an exceptional event? Contact our professional team for personalized consultation and expert planning"})]}),l.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 md:gap-12",children:[l.jsxs(O.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"bg-white border border-gray-200 rounded-xl p-6 md:p-8 shadow-sm",children:[l.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 mb-4 md:mb-6",children:"Send us a message"}),l.jsxs("form",{className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name"}),l.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-colors",placeholder:"John"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name"}),l.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-colors",placeholder:"Doe"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),l.jsx("input",{type:"email",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-colors",placeholder:"john@company.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),l.jsx("input",{type:"tel",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-colors",placeholder:"+44 20 1234 5678"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Type"}),l.jsxs("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-colors",children:[l.jsx("option",{children:"Select an event type"}),l.jsx("option",{children:"Corporate Event"}),l.jsx("option",{children:"Cultural Celebration"}),l.jsx("option",{children:"Private Party"}),l.jsx("option",{children:"Conference"}),l.jsx("option",{children:"Other"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message"}),l.jsx("textarea",{rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-gray-900 focus:border-transparent transition-colors resize-none",placeholder:"Tell us about your event requirements..."})]}),l.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-gray-900 hover:bg-gray-800 text-white px-6 md:px-8 py-3 rounded-lg font-medium transition-colors text-sm md:text-base flex items-center justify-center space-x-2 w-full",children:[l.jsx(iE,{className:"w-4 h-4 md:w-5 md:h-5"}),l.jsx("span",{children:"Send Message"})]})]})]}),l.jsxs(O.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"space-y-6 md:space-y-8",children:[l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 md:p-8 shadow-sm",children:[l.jsx(O.h3,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"text-xl md:text-2xl font-bold mb-4 md:mb-6 text-center lg:text-left bg-gradient-to-r from-gray-800 via-gray-700 to-gray-800 bg-[length:200%_200%] bg-clip-text text-transparent",children:"Contact Information"}),l.jsxs("div",{className:"space-y-4 md:space-y-6",children:[l.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-gray-600 to-gray-800 rounded-lg flex items-center justify-center",children:l.jsx(nx,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Email"}),l.jsx("p",{className:"text-gray-600",children:"hello@carnivalldn.com"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-gray-600 to-gray-800 rounded-lg flex items-center justify-center",children:l.jsx(rE,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Phone"}),l.jsx("p",{className:"text-gray-600",children:"+44 20 1234 5678"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-gray-600 to-gray-800 rounded-lg flex items-center justify-center",children:l.jsx(Os,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Address"}),l.jsx("p",{className:"text-gray-600",children:"123 Event Street, London, UK"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[l.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-gray-600 to-gray-800 rounded-lg flex items-center justify-center",children:l.jsx(Yi,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Business Hours"}),l.jsx("p",{className:"text-gray-600",children:"Mon-Fri: 9AM-6PM"})]})]})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 md:p-8 shadow-sm",children:[l.jsx(O.h3,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:10,repeat:1/0,ease:"linear"},className:"text-xl md:text-2xl font-bold mb-4 md:mb-6 text-center lg:text-left bg-gradient-to-r from-gray-800 via-gray-700 to-gray-800 bg-[length:200%_200%] bg-clip-text text-transparent",children:"Follow Us"}),l.jsx("p",{className:"text-sm md:text-base text-gray-600 mb-4 md:mb-6 leading-relaxed text-center lg:text-left",children:"Stay updated with our latest events and professional insights"}),l.jsxs("div",{className:"flex space-x-3 md:space-x-4 justify-center lg:justify-start",children:[l.jsx(O.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:"#",className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-gray-600 to-gray-800 rounded-lg flex items-center justify-center hover:from-gray-700 hover:to-gray-900 transition-all",children:l.jsx(Z2,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),l.jsx(O.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:"#",className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-gray-600 to-gray-800 rounded-lg flex items-center justify-center hover:from-gray-700 hover:to-gray-900 transition-all",children:l.jsx(oE,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})}),l.jsx(O.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:"#",className:"w-10 h-10 md:w-12 md:h-12 bg-gradient-to-r from-gray-600 to-gray-800 rounded-lg flex items-center justify-center hover:from-gray-700 hover:to-gray-900 transition-all",children:l.jsx(eE,{className:"w-5 h-5 md:w-6 md:h-6 text-white"})})]})]}),l.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 md:p-8 shadow-sm",children:[l.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 mb-3 md:mb-4 text-center lg:text-left",children:"Response Guarantee"}),l.jsx("p",{className:"text-sm md:text-base text-gray-600 leading-relaxed text-center lg:text-left",children:"We guarantee a response within 24 hours during business days. Your event planning journey starts with a prompt, professional reply."})]})]})]})]})}),Rx=()=>{const e=[{name:"Home",href:"#home"},{name:"Events",href:"#events"},{name:"About",href:"#about"},{name:"Contact",href:"#contact"}],t=[{name:"Corporate Events",href:"#"},{name:"Cultural Celebrations",href:"#"},{name:"Private Parties",href:"#"},{name:"Special Occasions",href:"#"}];return l.jsxs("footer",{className:"bg-gray-900 text-white py-12 md:py-16 relative overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 opacity-5",children:[l.jsx("div",{className:"absolute top-10 left-10 w-32 h-32 bg-white rounded-full blur-3xl"}),l.jsx("div",{className:"absolute bottom-10 right-10 w-40 h-40 bg-white rounded-full blur-3xl"}),l.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-24 h-24 bg-white rounded-full blur-3xl"})]}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 relative z-10",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 md:gap-10",children:[l.jsxs("div",{className:"text-center md:text-left",children:[l.jsxs(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"flex items-center justify-center md:justify-start space-x-3 mb-4",children:[l.jsx("img",{src:"/carnival-logo.svg",alt:"Carnival LDN Logo",className:"w-8 h-8 md:w-10 md:h-10 object-contain",style:{filter:"brightness(0) invert(1)"}}),l.jsx("span",{className:"text-lg md:text-xl font-bold",children:"Carnival LDN"})]}),l.jsx("p",{className:"text-gray-400 text-sm md:text-base leading-relaxed mb-4 max-w-xs mx-auto md:mx-0",children:"London's premier professional events company, creating exceptional experiences that elevate your brand and strengthen business relationships."}),l.jsx("p",{className:"text-gray-500 text-xs md:text-sm",children:"Established in London, 2014"})]}),l.jsxs("div",{className:"text-center md:text-left",children:[l.jsx(O.h3,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.1},className:"text-lg font-semibold mb-4 md:mb-6",children:"Quick Links"}),l.jsx(O.ul,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"space-y-2 md:space-y-3",children:e.map((r,n)=>l.jsx(O.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.3+n*.1},children:l.jsx("a",{href:r.href,className:"text-gray-400 hover:text-white transition-colors text-sm md:text-base",children:r.name})},r.name))})]}),l.jsxs("div",{className:"text-center md:text-left",children:[l.jsx(O.h3,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"text-lg font-semibold mb-4 md:mb-6",children:"Services"}),l.jsx(O.ul,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.3},className:"space-y-2 md:space-y-3",children:t.map((r,n)=>l.jsx(O.li,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{delay:.4+n*.1},children:l.jsx("a",{href:r.href,className:"text-gray-400 hover:text-white transition-colors text-sm md:text-base",children:r.name})},r.name))})]}),l.jsxs("div",{className:"text-center md:text-left",children:[l.jsx(O.h3,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.3},className:"text-lg font-semibold mb-4 md:mb-6",children:"Newsletter"}),l.jsx(O.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"text-gray-400 text-sm md:text-base mb-4 leading-relaxed max-w-xs mx-auto md:mx-0",children:"Stay updated with our latest events and professional insights"}),l.jsxs(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.5},className:"flex max-w-xs mx-auto md:mx-0",children:[l.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-4 py-3 bg-gray-800 border border-gray-700 rounded-l-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:border-transparent text-sm"}),l.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-r-lg transition-colors",children:l.jsx(Qi,{className:"w-4 h-4"})})]})]})]}),l.jsxs(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6},className:"border-t border-gray-800 mt-8 md:mt-12 pt-6 md:pt-8",children:[l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[l.jsx("p",{className:"text-gray-400 text-sm",children:"© 2024 Carnival LDN. All rights reserved."}),l.jsxs("div",{className:"flex space-x-4",children:[l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Privacy Policy"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Terms of Service"}),l.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Cookie Policy"})]})]}),l.jsx("p",{className:"text-gray-500 text-xs text-center mt-4 md:mt-6",children:"Professional event management services across London and the UK"})]})]})]})},dP=()=>{const e=Array.from({length:15},(t,r)=>({id:r,size:Math.random()*200+50,duration:Math.random()*25+20,delay:Math.random()*10,x:Math.random()*100,y:Math.random()*100}));return l.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[e.map(t=>l.jsx(O.div,{className:"absolute rounded-full mix-blend-multiply filter blur-xl opacity-5",style:{width:t.size,height:t.size,left:`${t.x}%`,top:`${t.y}%`,background:`radial-gradient(circle,
              ${t.id%3===0?"rgb(107, 114, 128)":t.id%3===1?"rgb(75, 85, 99)":"rgb(156, 163, 175)"} 0%, transparent 70%)`},animate:{x:[0,50,-25,0],y:[0,-50,25,0],scale:[1,1.1,.9,1]},transition:{duration:t.duration,repeat:1/0,delay:t.delay,ease:"easeInOut"}},t.id)),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white via-gray-50 to-white opacity-90"})]})};var ya=e=>e.type==="checkbox",Tn=e=>e instanceof Date,lt=e=>e==null;const Lx=e=>typeof e=="object";var Pe=e=>!lt(e)&&!Array.isArray(e)&&Lx(e)&&!Tn(e),hP=e=>Pe(e)&&e.target?ya(e.target)?e.target.checked:e.target.value:e,fP=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,pP=(e,t)=>e.has(fP(t)),mP=e=>{const t=e.constructor&&e.constructor.prototype;return Pe(t)&&t.hasOwnProperty("isPrototypeOf")},Ph=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function He(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Ph&&(e instanceof Blob||n))&&(r||Pe(e)))if(t=r?[]:{},!r&&!mP(e))t=e;else for(const s in e)e.hasOwnProperty(s)&&(t[s]=He(e[s]));else return e;return t}var Rl=e=>/^\w*$/.test(e),Ie=e=>e===void 0,Ah=e=>Array.isArray(e)?e.filter(Boolean):[],Oh=e=>Ah(e.replace(/["|']|\]/g,"").split(/\.|\[/)),q=(e,t,r)=>{if(!t||!Pe(e))return r;const n=(Rl(t)?[t]:Oh(t)).reduce((s,i)=>lt(s)?s:s[i],e);return Ie(n)||n===e?Ie(e[t])?r:e[t]:n},tr=e=>typeof e=="boolean",ve=(e,t,r)=>{let n=-1;const s=Rl(t)?[t]:Oh(t),i=s.length,a=i-1;for(;++n<i;){const o=s[n];let c=r;if(n!==a){const u=e[o];c=Pe(u)||Array.isArray(u)?u:isNaN(+s[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=c,e=e[o]}};const Dm={BLUR:"blur",FOCUS_OUT:"focusout"},Gt={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ur={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gP=ee.createContext(null);gP.displayName="HookFormContext";var yP=(e,t,r,n=!0)=>{const s={defaultValues:t._defaultValues};for(const i in e)Object.defineProperty(s,i,{get:()=>{const a=i;return t._proxyFormState[a]!==Gt.all&&(t._proxyFormState[a]=!n||Gt.all),e[a]}});return s};const vP=typeof window<"u"?ee.useLayoutEffect:ee.useEffect;var ir=e=>typeof e=="string",xP=(e,t,r,n,s)=>ir(e)?(n&&t.watch.add(e),q(r,e,s)):Array.isArray(e)?e.map(i=>(n&&t.watch.add(i),q(r,i))):(n&&(t.watchAll=!0),r),rd=e=>lt(e)||!Lx(e);function zr(e,t,r=new WeakSet){if(rd(e)||rd(t))return e===t;if(Tn(e)&&Tn(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const i of n){const a=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const o=t[i];if(Tn(a)&&Tn(o)||Pe(a)&&Pe(o)||Array.isArray(a)&&Array.isArray(o)?!zr(a,o,r):a!==o)return!1}}return!0}var wP=(e,t,r,n,s)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:s||!0}}:{},Ni=e=>Array.isArray(e)?e:[e],Rm=()=>{let e=[];return{get observers(){return e},next:s=>{for(const i of e)i.next&&i.next(s)},subscribe:s=>(e.push(s),{unsubscribe:()=>{e=e.filter(i=>i!==s)}}),unsubscribe:()=>{e=[]}}},ft=e=>Pe(e)&&!Object.keys(e).length,Dh=e=>e.type==="file",Kt=e=>typeof e=="function",Jo=e=>{if(!Ph)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ix=e=>e.type==="select-multiple",Rh=e=>e.type==="radio",bP=e=>Rh(e)||ya(e),Oc=e=>Jo(e)&&e.isConnected;function jP(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=Ie(e)?n++:e[t[n++]];return e}function kP(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ie(e[t]))return!1;return!0}function Re(e,t){const r=Array.isArray(t)?t:Rl(t)?[t]:Oh(t),n=r.length===1?e:jP(e,r),s=r.length-1,i=r[s];return n&&delete n[i],s!==0&&(Pe(n)&&ft(n)||Array.isArray(n)&&kP(n))&&Re(e,r.slice(0,-1)),e}var $x=e=>{for(const t in e)if(Kt(e[t]))return!0;return!1};function Qo(e,t={}){const r=Array.isArray(e);if(Pe(e)||r)for(const n in e)Array.isArray(e[n])||Pe(e[n])&&!$x(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Qo(e[n],t[n])):lt(e[n])||(t[n]=!0);return t}function Mx(e,t,r){const n=Array.isArray(e);if(Pe(e)||n)for(const s in e)Array.isArray(e[s])||Pe(e[s])&&!$x(e[s])?Ie(t)||rd(r[s])?r[s]=Array.isArray(e[s])?Qo(e[s],[]):{...Qo(e[s])}:Mx(e[s],lt(t)?{}:t[s],r[s]):r[s]=!zr(e[s],t[s]);return r}var Zs=(e,t)=>Mx(e,t,Qo(t));const Lm={value:!1,isValid:!1},Im={value:!0,isValid:!0};var Fx=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ie(e[0].attributes.value)?Ie(e[0].value)||e[0].value===""?Im:{value:e[0].value,isValid:!0}:Im:Lm}return Lm},Vx=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>Ie(e)?e:t?e===""?NaN:e&&+e:r&&ir(e)?new Date(e):n?n(e):e;const $m={isValid:!1,value:null};var Ux=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,$m):$m;function Mm(e){const t=e.ref;return Dh(t)?t.files:Rh(t)?Ux(e.refs).value:Ix(t)?[...t.selectedOptions].map(({value:r})=>r):ya(t)?Fx(e.refs).value:Vx(Ie(t.value)?e.ref.value:t.value,e)}var SP=(e,t,r,n)=>{const s={};for(const i of e){const a=q(t,i);a&&ve(s,i,a._f)}return{criteriaMode:r,names:[...e],fields:s,shouldUseNativeValidation:n}},Yo=e=>e instanceof RegExp,ei=e=>Ie(e)?e:Yo(e)?e.source:Pe(e)?Yo(e.value)?e.value.source:e.value:e,Fm=e=>({isOnSubmit:!e||e===Gt.onSubmit,isOnBlur:e===Gt.onBlur,isOnChange:e===Gt.onChange,isOnAll:e===Gt.all,isOnTouch:e===Gt.onTouched});const Vm="AsyncFunction";var _P=e=>!!e&&!!e.validate&&!!(Kt(e.validate)&&e.validate.constructor.name===Vm||Pe(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Vm)),NP=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Um=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Ei=(e,t,r,n)=>{for(const s of r||Object.keys(e)){const i=q(e,s);if(i){const{_f:a,...o}=i;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],s)&&!n)return!0;if(a.ref&&t(a.ref,a.name)&&!n)return!0;if(Ei(o,t))break}else if(Pe(o)&&Ei(o,t))break}}};function Bm(e,t,r){const n=q(e,r);if(n||Rl(r))return{error:n,name:r};const s=r.split(".");for(;s.length;){const i=s.join("."),a=q(t,i),o=q(e,i);if(a&&!Array.isArray(a)&&r!==i)return{name:r};if(o&&o.type)return{name:i,error:o};if(o&&o.root&&o.root.type)return{name:`${i}.root`,error:o.root};s.pop()}return{name:r}}var EP=(e,t,r,n)=>{r(e);const{name:s,...i}=e;return ft(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find(a=>t[a]===(!n||Gt.all))},TP=(e,t,r)=>!e||!t||e===t||Ni(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),CP=(e,t,r,n,s)=>s.isOnAll?!1:!r&&s.isOnTouch?!(t||e):(r?n.isOnBlur:s.isOnBlur)?!e:(r?n.isOnChange:s.isOnChange)?e:!0,PP=(e,t)=>!Ah(q(e,t)).length&&Re(e,t),AP=(e,t,r)=>{const n=Ni(q(e,r));return ve(n,"root",t[r]),ve(e,r,n),e},co=e=>ir(e);function zm(e,t,r="validate"){if(co(e)||Array.isArray(e)&&e.every(co)||tr(e)&&!e)return{type:r,message:co(e)?e:"",ref:t}}var Xn=e=>Pe(e)&&!Yo(e)?e:{value:e,message:""},Wm=async(e,t,r,n,s,i)=>{const{ref:a,refs:o,required:c,maxLength:u,minLength:d,min:h,max:f,pattern:y,validate:w,name:x,valueAsNumber:v,mount:g}=e._f,p=q(r,x);if(!g||t.has(x))return{};const m=o?o[0]:a,b=B=>{s&&m.reportValidity&&(m.setCustomValidity(tr(B)?"":B||""),m.reportValidity())},S={},T=Rh(a),E=ya(a),A=T||E,M=(v||Dh(a))&&Ie(a.value)&&Ie(p)||Jo(a)&&a.value===""||p===""||Array.isArray(p)&&!p.length,U=wP.bind(null,x,n,S),X=(B,J,Y,Z=ur.maxLength,te=ur.minLength)=>{const se=B?J:Y;S[x]={type:B?Z:te,message:se,ref:a,...U(B?Z:te,se)}};if(i?!Array.isArray(p)||!p.length:c&&(!A&&(M||lt(p))||tr(p)&&!p||E&&!Fx(o).isValid||T&&!Ux(o).isValid)){const{value:B,message:J}=co(c)?{value:!!c,message:c}:Xn(c);if(B&&(S[x]={type:ur.required,message:J,ref:m,...U(ur.required,J)},!n))return b(J),S}if(!M&&(!lt(h)||!lt(f))){let B,J;const Y=Xn(f),Z=Xn(h);if(!lt(p)&&!isNaN(p)){const te=a.valueAsNumber||p&&+p;lt(Y.value)||(B=te>Y.value),lt(Z.value)||(J=te<Z.value)}else{const te=a.valueAsDate||new Date(p),se=_=>new Date(new Date().toDateString()+" "+_),L=a.type=="time",H=a.type=="week";ir(Y.value)&&p&&(B=L?se(p)>se(Y.value):H?p>Y.value:te>new Date(Y.value)),ir(Z.value)&&p&&(J=L?se(p)<se(Z.value):H?p<Z.value:te<new Date(Z.value))}if((B||J)&&(X(!!B,Y.message,Z.message,ur.max,ur.min),!n))return b(S[x].message),S}if((u||d)&&!M&&(ir(p)||i&&Array.isArray(p))){const B=Xn(u),J=Xn(d),Y=!lt(B.value)&&p.length>+B.value,Z=!lt(J.value)&&p.length<+J.value;if((Y||Z)&&(X(Y,B.message,J.message),!n))return b(S[x].message),S}if(y&&!M&&ir(p)){const{value:B,message:J}=Xn(y);if(Yo(B)&&!p.match(B)&&(S[x]={type:ur.pattern,message:J,ref:a,...U(ur.pattern,J)},!n))return b(J),S}if(w){if(Kt(w)){const B=await w(p,r),J=zm(B,m);if(J&&(S[x]={...J,...U(ur.validate,J.message)},!n))return b(J.message),S}else if(Pe(w)){let B={};for(const J in w){if(!ft(B)&&!n)break;const Y=zm(await w[J](p,r),m,J);Y&&(B={...Y,...U(J,Y.message)},b(Y.message),n&&(S[x]=B))}if(!ft(B)&&(S[x]={ref:m,...B},!n))return S}}return b(!0),S};const OP={mode:Gt.onSubmit,reValidateMode:Gt.onChange,shouldFocusError:!0};function DP(e={}){let t={...OP,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Kt(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},s=Pe(t.defaultValues)||Pe(t.values)?He(t.defaultValues||t.values)||{}:{},i=t.shouldUnregister?{}:He(s),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const f={array:Rm(),state:Rm()},y=t.criteriaMode===Gt.all,w=k=>N=>{clearTimeout(u),u=setTimeout(k,N)},x=async k=>{if(!t.disabled&&(d.isValid||h.isValid||k)){const N=t.resolver?ft((await E()).errors):await M(n,!0);N!==r.isValid&&f.state.next({isValid:N})}},v=(k,N)=>{!t.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((k||Array.from(o.mount)).forEach(P=>{P&&(N?ve(r.validatingFields,P,N):Re(r.validatingFields,P))}),f.state.next({validatingFields:r.validatingFields,isValidating:!ft(r.validatingFields)}))},g=(k,N=[],P,F,$=!0,I=!0)=>{if(F&&P&&!t.disabled){if(a.action=!0,I&&Array.isArray(q(n,k))){const K=P(q(n,k),F.argA,F.argB);$&&ve(n,k,K)}if(I&&Array.isArray(q(r.errors,k))){const K=P(q(r.errors,k),F.argA,F.argB);$&&ve(r.errors,k,K),PP(r.errors,k)}if((d.touchedFields||h.touchedFields)&&I&&Array.isArray(q(r.touchedFields,k))){const K=P(q(r.touchedFields,k),F.argA,F.argB);$&&ve(r.touchedFields,k,K)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=Zs(s,i)),f.state.next({name:k,isDirty:X(k,N),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ve(i,k,N)},p=(k,N)=>{ve(r.errors,k,N),f.state.next({errors:r.errors})},m=k=>{r.errors=k,f.state.next({errors:r.errors,isValid:!1})},b=(k,N,P,F)=>{const $=q(n,k);if($){const I=q(i,k,Ie(P)?q(s,k):P);Ie(I)||F&&F.defaultChecked||N?ve(i,k,N?I:Mm($._f)):Y(k,I),a.mount&&x()}},S=(k,N,P,F,$)=>{let I=!1,K=!1;const ue={name:k};if(!t.disabled){if(!P||F){(d.isDirty||h.isDirty)&&(K=r.isDirty,r.isDirty=ue.isDirty=X(),I=K!==ue.isDirty);const he=zr(q(s,k),N);K=!!q(r.dirtyFields,k),he?Re(r.dirtyFields,k):ve(r.dirtyFields,k,!0),ue.dirtyFields=r.dirtyFields,I=I||(d.dirtyFields||h.dirtyFields)&&K!==!he}if(P){const he=q(r.touchedFields,k);he||(ve(r.touchedFields,k,P),ue.touchedFields=r.touchedFields,I=I||(d.touchedFields||h.touchedFields)&&he!==P)}I&&$&&f.state.next(ue)}return I?ue:{}},T=(k,N,P,F)=>{const $=q(r.errors,k),I=(d.isValid||h.isValid)&&tr(N)&&r.isValid!==N;if(t.delayError&&P?(c=w(()=>p(k,P)),c(t.delayError)):(clearTimeout(u),c=null,P?ve(r.errors,k,P):Re(r.errors,k)),(P?!zr($,P):$)||!ft(F)||I){const K={...F,...I&&tr(N)?{isValid:N}:{},errors:r.errors,name:k};r={...r,...K},f.state.next(K)}},E=async k=>{v(k,!0);const N=await t.resolver(i,t.context,SP(k||o.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return v(k),N},A=async k=>{const{errors:N}=await E(k);if(k)for(const P of k){const F=q(N,P);F?ve(r.errors,P,F):Re(r.errors,P)}else r.errors=N;return N},M=async(k,N,P={valid:!0})=>{for(const F in k){const $=k[F];if($){const{_f:I,...K}=$;if(I){const ue=o.array.has(I.name),he=$._f&&_P($._f);he&&d.validatingFields&&v([F],!0);const Ct=await Wm($,o.disabled,i,y,t.shouldUseNativeValidation&&!N,ue);if(he&&d.validatingFields&&v([F]),Ct[I.name]&&(P.valid=!1,N))break;!N&&(q(Ct,I.name)?ue?AP(r.errors,Ct,I.name):ve(r.errors,I.name,Ct[I.name]):Re(r.errors,I.name))}!ft(K)&&await M(K,N,P)}}return P.valid},U=()=>{for(const k of o.unMount){const N=q(n,k);N&&(N._f.refs?N._f.refs.every(P=>!Oc(P)):!Oc(N._f.ref))&&oe(k)}o.unMount=new Set},X=(k,N)=>!t.disabled&&(k&&N&&ve(i,k,N),!zr(_(),s)),B=(k,N,P)=>xP(k,o,{...a.mount?i:Ie(N)?s:ir(k)?{[k]:N}:N},P,N),J=k=>Ah(q(a.mount?i:s,k,t.shouldUnregister?q(s,k,[]):[])),Y=(k,N,P={})=>{const F=q(n,k);let $=N;if(F){const I=F._f;I&&(!I.disabled&&ve(i,k,Vx(N,I)),$=Jo(I.ref)&&lt(N)?"":N,Ix(I.ref)?[...I.ref.options].forEach(K=>K.selected=$.includes(K.value)):I.refs?ya(I.ref)?I.refs.forEach(K=>{(!K.defaultChecked||!K.disabled)&&(Array.isArray($)?K.checked=!!$.find(ue=>ue===K.value):K.checked=$===K.value||!!$)}):I.refs.forEach(K=>K.checked=K.value===$):Dh(I.ref)?I.ref.value="":(I.ref.value=$,I.ref.type||f.state.next({name:k,values:He(i)})))}(P.shouldDirty||P.shouldTouch)&&S(k,$,P.shouldTouch,P.shouldDirty,!0),P.shouldValidate&&H(k)},Z=(k,N,P)=>{for(const F in N){if(!N.hasOwnProperty(F))return;const $=N[F],I=k+"."+F,K=q(n,I);(o.array.has(k)||Pe($)||K&&!K._f)&&!Tn($)?Z(I,$,P):Y(I,$,P)}},te=(k,N,P={})=>{const F=q(n,k),$=o.array.has(k),I=He(N);ve(i,k,I),$?(f.array.next({name:k,values:He(i)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&P.shouldDirty&&f.state.next({name:k,dirtyFields:Zs(s,i),isDirty:X(k,I)})):F&&!F._f&&!lt(I)?Z(k,I,P):Y(k,I,P),Um(k,o)&&f.state.next({...r,name:k}),f.state.next({name:a.mount?k:void 0,values:He(i)})},se=async k=>{a.mount=!0;const N=k.target;let P=N.name,F=!0;const $=q(n,P),I=he=>{F=Number.isNaN(he)||Tn(he)&&isNaN(he.getTime())||zr(he,q(i,P,he))},K=Fm(t.mode),ue=Fm(t.reValidateMode);if($){let he,Ct;const xa=N.type?Mm($._f):hP(k),Ar=k.type===Dm.BLUR||k.type===Dm.FOCUS_OUT,nw=!NP($._f)&&!t.resolver&&!q(r.errors,P)&&!$._f.deps||CP(Ar,q(r.touchedFields,P),r.isSubmitted,ue,K),Il=Um(P,o,Ar);ve(i,P,xa),Ar?($._f.onBlur&&$._f.onBlur(k),c&&c(0)):$._f.onChange&&$._f.onChange(k);const $l=S(P,xa,Ar),sw=!ft($l)||Il;if(!Ar&&f.state.next({name:P,type:k.type,values:He(i)}),nw)return(d.isValid||h.isValid)&&(t.mode==="onBlur"?Ar&&x():Ar||x()),sw&&f.state.next({name:P,...Il?{}:$l});if(!Ar&&Il&&f.state.next({...r}),t.resolver){const{errors:Lh}=await E([P]);if(I(xa),F){const iw=Bm(r.errors,n,P),Ih=Bm(Lh,n,iw.name||P);he=Ih.error,P=Ih.name,Ct=ft(Lh)}}else v([P],!0),he=(await Wm($,o.disabled,i,y,t.shouldUseNativeValidation))[P],v([P]),I(xa),F&&(he?Ct=!1:(d.isValid||h.isValid)&&(Ct=await M(n,!0)));F&&($._f.deps&&H($._f.deps),T(P,Ct,he,$l))}},L=(k,N)=>{if(q(r.errors,N)&&k.focus)return k.focus(),1},H=async(k,N={})=>{let P,F;const $=Ni(k);if(t.resolver){const I=await A(Ie(k)?k:$);P=ft(I),F=k?!$.some(K=>q(I,K)):P}else k?(F=(await Promise.all($.map(async I=>{const K=q(n,I);return await M(K&&K._f?{[I]:K}:K)}))).every(Boolean),!(!F&&!r.isValid)&&x()):F=P=await M(n);return f.state.next({...!ir(k)||(d.isValid||h.isValid)&&P!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:P}:{},errors:r.errors}),N.shouldFocus&&!F&&Ei(n,L,k?$:o.mount),F},_=k=>{const N={...a.mount?i:s};return Ie(k)?N:ir(k)?q(N,k):k.map(P=>q(N,P))},C=(k,N)=>({invalid:!!q((N||r).errors,k),isDirty:!!q((N||r).dirtyFields,k),error:q((N||r).errors,k),isValidating:!!q(r.validatingFields,k),isTouched:!!q((N||r).touchedFields,k)}),R=k=>{k&&Ni(k).forEach(N=>Re(r.errors,N)),f.state.next({errors:k?r.errors:{}})},V=(k,N,P)=>{const F=(q(n,k,{_f:{}})._f||{}).ref,$=q(r.errors,k)||{},{ref:I,message:K,type:ue,...he}=$;ve(r.errors,k,{...he,...N,ref:F}),f.state.next({name:k,errors:r.errors,isValid:!1}),P&&P.shouldFocus&&F&&F.focus&&F.focus()},G=(k,N)=>Kt(k)?f.state.subscribe({next:P=>"values"in P&&k(B(void 0,N),P)}):B(k,N,!0),z=k=>f.state.subscribe({next:N=>{TP(k.name,N.name,k.exact)&&EP(N,k.formState||d,Vt,k.reRenderRoot)&&k.callback({values:{...i},...r,...N,defaultValues:s})}}).unsubscribe,re=k=>(a.mount=!0,h={...h,...k.formState},z({...k,formState:h})),oe=(k,N={})=>{for(const P of k?Ni(k):o.mount)o.mount.delete(P),o.array.delete(P),N.keepValue||(Re(n,P),Re(i,P)),!N.keepError&&Re(r.errors,P),!N.keepDirty&&Re(r.dirtyFields,P),!N.keepTouched&&Re(r.touchedFields,P),!N.keepIsValidating&&Re(r.validatingFields,P),!t.shouldUnregister&&!N.keepDefaultValue&&Re(s,P);f.state.next({values:He(i)}),f.state.next({...r,...N.keepDirty?{isDirty:X()}:{}}),!N.keepIsValid&&x()},we=({disabled:k,name:N})=>{(tr(k)&&a.mount||k||o.disabled.has(N))&&(k?o.disabled.add(N):o.disabled.delete(N))},Ke=(k,N={})=>{let P=q(n,k);const F=tr(N.disabled)||tr(t.disabled);return ve(n,k,{...P||{},_f:{...P&&P._f?P._f:{ref:{name:k}},name:k,mount:!0,...N}}),o.mount.add(k),P?we({disabled:tr(N.disabled)?N.disabled:t.disabled,name:k}):b(k,!0,N.value),{...F?{disabled:N.disabled||t.disabled}:{},...t.progressive?{required:!!N.required,min:ei(N.min),max:ei(N.max),minLength:ei(N.minLength),maxLength:ei(N.maxLength),pattern:ei(N.pattern)}:{},name:k,onChange:se,onBlur:se,ref:$=>{if($){Ke(k,N),P=q(n,k);const I=Ie($.value)&&$.querySelectorAll&&$.querySelectorAll("input,select,textarea")[0]||$,K=bP(I),ue=P._f.refs||[];if(K?ue.find(he=>he===I):I===P._f.ref)return;ve(n,k,{_f:{...P._f,...K?{refs:[...ue.filter(Oc),I,...Array.isArray(q(s,k))?[{}]:[]],ref:{type:I.type,name:k}}:{ref:I}}}),b(k,!1,void 0,I)}else P=q(n,k,{}),P._f&&(P._f.mount=!1),(t.shouldUnregister||N.shouldUnregister)&&!(pP(o.array,k)&&a.action)&&o.unMount.add(k)}}},ht=()=>t.shouldFocusError&&Ei(n,L,o.mount),st=k=>{tr(k)&&(f.state.next({disabled:k}),Ei(n,(N,P)=>{const F=q(n,P);F&&(N.disabled=F._f.disabled||k,Array.isArray(F._f.refs)&&F._f.refs.forEach($=>{$.disabled=F._f.disabled||k}))},0,!1))},fn=(k,N)=>async P=>{let F;P&&(P.preventDefault&&P.preventDefault(),P.persist&&P.persist());let $=He(i);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:I,values:K}=await E();r.errors=I,$=He(K)}else await M(n);if(o.disabled.size)for(const I of o.disabled)Re($,I);if(Re(r.errors,"root"),ft(r.errors)){f.state.next({errors:{}});try{await k($,P)}catch(I){F=I}}else N&&await N({...r.errors},P),ht(),setTimeout(ht);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ft(r.errors)&&!F,submitCount:r.submitCount+1,errors:r.errors}),F)throw F},va=(k,N={})=>{q(n,k)&&(Ie(N.defaultValue)?te(k,He(q(s,k))):(te(k,N.defaultValue),ve(s,k,He(N.defaultValue))),N.keepTouched||Re(r.touchedFields,k),N.keepDirty||(Re(r.dirtyFields,k),r.isDirty=N.defaultValue?X(k,He(q(s,k))):X()),N.keepError||(Re(r.errors,k),d.isValid&&x()),f.state.next({...r}))},De=(k,N={})=>{const P=k?He(k):s,F=He(P),$=ft(k),I=$?s:F;if(N.keepDefaultValues||(s=P),!N.keepValues){if(N.keepDirtyValues){const K=new Set([...o.mount,...Object.keys(Zs(s,i))]);for(const ue of Array.from(K))q(r.dirtyFields,ue)?ve(I,ue,q(i,ue)):te(ue,q(I,ue))}else{if(Ph&&Ie(k))for(const K of o.mount){const ue=q(n,K);if(ue&&ue._f){const he=Array.isArray(ue._f.refs)?ue._f.refs[0]:ue._f.ref;if(Jo(he)){const Ct=he.closest("form");if(Ct){Ct.reset();break}}}}if(N.keepFieldsRef)for(const K of o.mount)te(K,q(I,K));else n={}}i=t.shouldUnregister?N.keepDefaultValues?He(s):{}:He(I),f.array.next({values:{...I}}),f.state.next({values:{...I}})}o={mount:N.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!d.isValid||!!N.keepIsValid||!!N.keepDirtyValues,a.watch=!!t.shouldUnregister,f.state.next({submitCount:N.keepSubmitCount?r.submitCount:0,isDirty:$?!1:N.keepDirty?r.isDirty:!!(N.keepDefaultValues&&!zr(k,s)),isSubmitted:N.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:$?{}:N.keepDirtyValues?N.keepDefaultValues&&i?Zs(s,i):r.dirtyFields:N.keepDefaultValues&&k?Zs(s,k):N.keepDirty?r.dirtyFields:{},touchedFields:N.keepTouched?r.touchedFields:{},errors:N.keepErrors?r.errors:{},isSubmitSuccessful:N.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Xe=(k,N)=>De(Kt(k)?k(i):k,N),Ee=(k,N={})=>{const P=q(n,k),F=P&&P._f;if(F){const $=F.refs?F.refs[0]:F.ref;$.focus&&($.focus(),N.shouldSelect&&Kt($.select)&&$.select())}},Vt=k=>{r={...r,...k}},Pr={control:{register:Ke,unregister:oe,getFieldState:C,handleSubmit:fn,setError:V,_subscribe:z,_runSchema:E,_focusError:ht,_getWatch:B,_getDirty:X,_setValid:x,_setFieldArray:g,_setDisabledField:we,_setErrors:m,_getFieldArray:J,_reset:De,_resetDefaultValues:()=>Kt(t.defaultValues)&&t.defaultValues().then(k=>{Xe(k,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:U,_disableForm:st,_subjects:f,_proxyFormState:d,get _fields(){return n},get _formValues(){return i},get _state(){return a},set _state(k){a=k},get _defaultValues(){return s},get _names(){return o},set _names(k){o=k},get _formState(){return r},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:re,trigger:H,register:Ke,handleSubmit:fn,watch:G,setValue:te,getValues:_,reset:Xe,resetField:va,clearErrors:R,unregister:oe,setError:V,setFocus:Ee,getFieldState:C};return{...Pr,formControl:Pr}}function Bx(e={}){const t=ee.useRef(void 0),r=ee.useRef(void 0),[n,s]=ee.useState({isDirty:!1,isValidating:!1,isLoading:Kt(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:Kt(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!Kt(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:a,...o}=DP(e);t.current={...o,formState:n}}const i=t.current.control;return i._options=e,vP(()=>{const a=i._subscribe({formState:i._proxyFormState,callback:()=>s({...i._formState}),reRenderRoot:!0});return s(o=>({...o,isReady:!0})),i._formState.isReady=!0,a},[i]),ee.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),ee.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),ee.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),ee.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),ee.useEffect(()=>{if(i._proxyFormState.isDirty){const a=i._getDirty();a!==n.isDirty&&i._subjects.state.next({isDirty:a})}},[i,n.isDirty]),ee.useEffect(()=>{e.values&&!zr(e.values,r.current)?(i._reset(e.values,{keepFieldsRef:!0,...i._options.resetOptions}),r.current=e.values,s(a=>({...a}))):i._resetDefaultValues()},[i,e.values]),ee.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next({...i._formState})),i._removeUnmounted()}),t.current.formState=yP(n,i),t.current}const RP=()=>{const[e,t]=j.useState(!1),[r,n]=j.useState(""),s=ml(),{login:i,isLoading:a}=Hn(),{register:o,handleSubmit:c,formState:{errors:u}}=Bx(),d=async h=>{n(""),await i(h.email,h.password)?(Rt.success("Welcome back, Admin!"),s("/admin/dashboard")):(n("Invalid email or password"),Rt.error("Invalid email or password"))};return l.jsx("div",{className:"min-h-screen flex items-start justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",style:{paddingTop:"20vh"},children:l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx(O.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mx-auto h-12 w-12 bg-gray-900 rounded-full flex items-center justify-center",children:l.jsx(qo,{className:"h-6 w-6 text-white"})}),l.jsx(O.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Login"}),l.jsx(O.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access the dashboard"})]}),l.jsxs(O.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 space-y-6",onSubmit:c(d),children:[r&&l.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-md p-4 flex items-center space-x-2",children:[l.jsx(K2,{className:"h-5 w-5 text-red-400"}),l.jsx("span",{className:"text-sm text-red-600",children:r})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(nx,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{...o("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),id:"email",type:"email",autoComplete:"email",className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-gray-900 focus:border-gray-900 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),u.email&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.email.message})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),l.jsxs("div",{className:"mt-1 relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(qo,{className:"h-5 w-5 text-gray-400"})}),l.jsx("input",{...o("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),id:"password",type:e?"text":"password",autoComplete:"current-password",className:"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-gray-900 focus:border-gray-900 focus:z-10 sm:text-sm",placeholder:"Enter your password"}),l.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>t(!e),children:e?l.jsx(Y2,{className:"h-5 w-5 text-gray-400"}):l.jsx(X2,{className:"h-5 w-5 text-gray-400"})})]}),u.password&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:u.password.message})]})]}),l.jsx("div",{children:l.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:a?l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),l.jsx("span",{children:"Signing in..."})]}):"Sign in"})}),l.jsx("div",{className:"text-center",children:l.jsx("p",{className:"text-xs text-gray-500",children:"Demo credentials: admin@carnival.com / admin123"})})]})]})})},LP=({ticketTiers:e,eventId:t,onSave:r,onClose:n})=>{var x,v;const[s,i]=j.useState(e||[]),[a,o]=j.useState({name:"",price:void 0,originalPrice:void 0,capacity:void 0,soldCount:0,availableFrom:new Date,availableUntil:new Date(Date.now()+30*24*60*60*1e3),description:"",benefits:[],isActive:!0}),c=()=>{if(console.log("addTier called with newTier:",a),console.log("Validation check:",{hasName:!!a.name,hasPrice:!!a.price,hasCapacity:!!a.capacity,name:a.name,price:a.price,capacity:a.capacity}),(a.name||"").toString().trim().length>0&&a.price!==void 0&&a.price>=0&&a.capacity!==void 0&&a.capacity>0){const g={id:`tier_${Date.now()}`,eventId:t,name:a.name||"",price:(a.price||0)*100,originalPrice:a.originalPrice!==void 0?(a.originalPrice||0)*100:void 0,capacity:a.capacity||0,soldCount:0,availableFrom:a.availableFrom,availableUntil:a.availableUntil,description:a.description||"",benefits:(a.benefits||[]).filter(p=>p.trim()),isActive:a.isActive!==!1};console.log("Created tier:",g),i([...s,g]),console.log("Updated tiers array:",[...s,g]),o({name:"",price:void 0,originalPrice:void 0,capacity:void 0,soldCount:0,availableFrom:new Date,availableUntil:new Date(Date.now()+30*24*60*60*1e3),description:"",benefits:[],isActive:!0})}else console.log("Validation failed - missing required fields")},u=g=>{i(s.filter(p=>p.id!==g))},d=(g,p)=>{i(s.map(m=>m.id===g?{...m,...p}:m))},h=g=>{const p=s.find(m=>m.id===g);p&&d(g,{benefits:[...p.benefits||[],""]})},f=(g,p,m)=>{const b=s.find(S=>S.id===g);if(b){const S=[...b.benefits||[]];S[p]=m,d(g,{benefits:S})}},y=(g,p)=>{const m=s.find(b=>b.id===g);if(m){const b=(m.benefits||[]).filter((S,T)=>T!==p);d(g,{benefits:b})}},w=()=>{console.log("handleSave called with tiers:",s),console.log("Tiers length:",s.length),console.log("Tiers details:",s.map(g=>({id:g.id,name:g.name,price:g.price,capacity:g.capacity}))),r(s),n()};return l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",onClick:g=>g.stopPropagation(),children:l.jsxs(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:g=>g.stopPropagation(),children:[l.jsx("div",{className:"p-6 border-b",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Ticket Tiers"}),l.jsx("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:l.jsx(fa,{className:"h-6 w-6"})})]})}),l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Tier"}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:l.jsxs("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"How it works:"}),' Create different ticket types with different prices. For example: "Early Bird" at £25, "VIP" at £50, or "Student" at £15. Set how many tickets are available for each tier.']})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier Name"}),l.jsx("input",{type:"text",placeholder:"e.g., Early Bird, VIP, Student",value:a.name,onChange:g=>o({...a,name:g.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),l.jsx("input",{type:"number",placeholder:"e.g., 25 for £25",value:a.price??"",onChange:g=>{const p=g.target.value;o({...a,price:p===""?void 0:parseFloat(p)||0})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),l.jsx("input",{type:"number",placeholder:"e.g., 100 tickets",value:a.capacity??"",onChange:g=>{const p=g.target.value;o({...a,capacity:p===""?void 0:parseInt(p)||0})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Price (Optional)"}),l.jsx("input",{type:"number",placeholder:"e.g., 35 for £35 (shows discount)",value:a.originalPrice??"",onChange:g=>{const p=g.target.value;o({...a,originalPrice:p===""?void 0:parseFloat(p)||0})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available From"}),l.jsx("input",{type:"date",value:(x=a.availableFrom)==null?void 0:x.toISOString().split("T")[0],onChange:g=>o({...a,availableFrom:new Date(g.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Until"}),l.jsx("input",{type:"date",value:(v=a.availableUntil)==null?void 0:v.toISOString().split("T")[0],onChange:g=>o({...a,availableUntil:new Date(g.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),l.jsx("textarea",{placeholder:"Description (optional)",value:a.description,onChange:g=>o({...a,description:g.target.value}),className:"w-full mt-4 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2}),l.jsxs("div",{className:"mt-4 flex items-center justify-end gap-4",children:[l.jsxs("label",{htmlFor:"new-tier-active",className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[l.jsx("input",{id:"new-tier-active",type:"checkbox",checked:a.isActive!==!1,onChange:g=>o({...a,isActive:g.target.checked})}),"Active (allow sales)"]}),l.jsx("button",{onClick:c,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Tier"})]})]}),l.jsx("div",{className:"space-y-4",children:s.map(g=>l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-4",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx("input",{type:"text",value:g.name,onChange:p=>d(g.id,{name:p.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l.jsx("input",{type:"number",value:g.price/100,onChange:p=>d(g.id,{price:(parseFloat(p.target.value)||0)*100}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l.jsx("input",{type:"number",value:g.capacity,onChange:p=>d(g.id,{capacity:parseInt(p.target.value)||0}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Benefits"}),l.jsxs("div",{className:"space-y-2",children:[(g.benefits||[]).map((p,m)=>l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:p,onChange:b=>f(g.id,m,b.target.value),placeholder:"Benefit description",className:"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),l.jsx("button",{onClick:()=>y(g.id,m),className:"px-2 py-2 text-red-600 hover:text-red-800",children:l.jsx(dm,{className:"h-4 w-4"})})]},m)),l.jsxs("button",{onClick:()=>h(g.id),className:"text-blue-600 hover:text-blue-800 text-sm flex items-center gap-1",children:[l.jsx(nE,{className:"h-4 w-4"}),"Add Benefit"]})]})]})]}),l.jsx("button",{onClick:()=>u(g.id),className:"ml-4 text-red-600 hover:text-red-800",children:l.jsx(dm,{className:"h-5 w-5"})})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[l.jsxs("span",{children:["Available: ",g.capacity-g.soldCount," / ",g.capacity]}),l.jsxs("span",{children:["Price: £",(g.price/100).toFixed(2)]}),g.originalPrice&&g.originalPrice>g.price&&l.jsxs("span",{className:"line-through text-gray-400",children:["£",(g.originalPrice/100).toFixed(2)]}),l.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[g.capacity-g.soldCount<=0&&l.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700",children:"Sold out by capacity"}),l.jsxs("label",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"checkbox",checked:g.isActive===!1,disabled:g.capacity-g.soldCount<=0,onChange:p=>d(g.id,{isActive:!p.target.checked})}),l.jsx("span",{children:"Mark as sold out (disable sales)"})]})]})]})]},g.id))}),l.jsxs("div",{className:"flex justify-end gap-4 mt-6 pt-6 border-t",children:[l.jsx("button",{onClick:n,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),l.jsx("button",{onClick:w,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},IP=({event:e,onClose:t})=>{const{addEvent:r,updateEvent:n}=Hn(),[s,i]=j.useState(!1),[a,o]=j.useState((e==null?void 0:e.ticketTiers)||[]),{register:c,handleSubmit:u,reset:d,formState:{errors:h}}=Bx();j.useEffect(()=>{e&&d({title:e.title,date:e.date,time:e.time,venue:e.venue,description:e.description,capacity:e.capacity,tags:e.tags.join(", "),gradient:e.gradient,image:e.image,bookingUrl:e.bookingUrl})},[e,d]);const f=x=>{console.log("Form submitted with ticket tiers:",a);const v=a.map(S=>({...S,eventId:(e==null?void 0:e.id)||"new_event"})),g=v.filter(S=>S.isActive!==!1&&typeof S.price=="number"),p=g.length>0?Math.min(...g.map(S=>S.price)):0,m=p>0?`From £${(p/100).toFixed(0)}`:"Free",b={...x,price:m,ticketTiers:v};console.log("Final event data to save:",b),e?n(e.id,b):r(b),t()},y=x=>{console.log("Ticket tiers saved in EventForm:",x),o(x),i(!1)},w=[{value:"from-gray-600 to-gray-800",label:"Gray"},{value:"from-gray-700 to-gray-900",label:"Dark Gray"},{value:"from-gray-800 to-black",label:"Black"},{value:"from-gray-500 to-gray-700",label:"Light Gray"},{value:"from-blue-600 to-blue-800",label:"Blue"},{value:"from-green-600 to-green-800",label:"Green"},{value:"from-purple-600 to-purple-800",label:"Purple"},{value:"from-red-600 to-red-800",label:"Red"}];return l.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:[l.jsxs(O.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:x=>x.stopPropagation(),children:[l.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[l.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e?"Edit Event":"Add New Event"}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:l.jsx(fa,{className:"h-6 w-6"})})]}),l.jsxs("form",{onSubmit:u(f),className:"p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),l.jsx("input",{...c("title",{required:"Title is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter event title"}),h.title&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.title.message})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(sr,{className:"inline h-4 w-4 mr-1"}),"Date"]}),l.jsx("input",{...c("date",{required:"Date is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"e.g., Dec 15, 2024"}),h.date&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.date.message})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Yi,{className:"inline h-4 w-4 mr-1"}),"Time"]}),l.jsx("input",{...c("time",{required:"Time is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"e.g., 7:00 PM"}),h.time&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.time.message})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(Os,{className:"inline h-4 w-4 mr-1"}),"Venue"]}),l.jsx("input",{...c("venue",{required:"Venue is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter venue name"}),h.venue&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.venue.message})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(br,{className:"inline h-4 w-4 mr-1"}),"Capacity"]}),l.jsx("input",{...c("capacity",{required:"Capacity is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"e.g., 200"}),h.capacity&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.capacity.message})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(aE,{className:"inline h-4 w-4 mr-1"}),"Tags (comma-separated)"]}),l.jsx("input",{...c("tags",{required:"Tags are required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"e.g., Corporate, Networking, Formal"}),h.tags&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.tags.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Theme"}),l.jsx("select",{...c("gradient",{required:"Gradient is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",children:w.map(x=>l.jsx("option",{value:x.value,children:x.label},x.value))}),h.gradient&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.gradient.message})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Image URL"}),l.jsx("input",{...c("image",{required:"Image URL is required",pattern:{value:/^https?:\/\/.+/,message:"Please enter a valid URL starting with http:// or https://"}}),type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"https://images.unsplash.com/photo-..."}),h.image&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.image.message}),l.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Tip: You can use Picsum URLs like https://picsum.photos/800/600?random=1 or Unsplash URLs"})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ticket Tiers"}),l.jsxs("button",{type:"button",onClick:()=>i(!0),className:"flex items-center gap-2 px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[l.jsx(sx,{className:"h-4 w-4"}),"Manage Tiers"]})]}),a.length>0?l.jsx("div",{className:"space-y-2",children:a.map(x=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-medium text-gray-900",children:x.name}),l.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["£",(x.price/100).toFixed(2)," - ",x.capacity," available"]})]}),l.jsxs("span",{className:"text-sm text-gray-500",children:[x.capacity-x.soldCount," left"]})]},x.id))}):l.jsx("p",{className:"text-sm text-gray-500",children:'No ticket tiers configured. Click "Manage Tiers" to add pricing options.'})]}),l.jsxs("div",{className:"md:col-span-2",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking URL (Optional - will be replaced by Stripe checkout)"}),l.jsx("input",{...c("bookingUrl"),type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"https://example.com/book/event (optional)"}),h.bookingUrl&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.bookingUrl.message})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{...c("description",{required:"Description is required"}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter event description"}),h.description&&l.jsx("p",{className:"mt-1 text-sm text-red-600",children:h.description.message})]}),l.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[l.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),l.jsx("button",{type:"submit",className:"px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-md transition-colors",children:e?"Update Event":"Create Event"})]})]})]},(e==null?void 0:e.id)||"new-event"),s&&l.jsx(LP,{ticketTiers:a,eventId:(e==null?void 0:e.id)||"new_event",onSave:y,onClose:()=>i(!1)})]})},$P=({selectedTimeframe:e,selectedEvent:t,events:r,activeTab:n,onTimeframeChange:s,onEventChange:i,onTabChange:a,onRefresh:o})=>l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Manage analytics, events, and orders"})]}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("select",{value:e,onChange:c=>s(c.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[l.jsx("option",{value:"7d",children:"Last 7 days"}),l.jsx("option",{value:"30d",children:"Last 30 days"}),l.jsx("option",{value:"90d",children:"Last 90 days"})]}),l.jsxs("select",{value:t,onChange:c=>i(c.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[l.jsx("option",{value:"all",children:"All Events"}),r==null?void 0:r.map(c=>l.jsx("option",{value:c.id,children:c.title},c.id))]}),l.jsx("button",{onClick:o,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:l.jsx(sE,{className:"h-5 w-5"})})]})]}),l.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[l.jsx("button",{onClick:()=>a("analytics"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${n==="analytics"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Analytics"}),l.jsx("button",{onClick:()=>a("events"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${n==="events"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Event Management"}),l.jsx("button",{onClick:()=>a("orders"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${n==="orders"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Orders"})]})]})}),MP=({stats:e,onExportAll:t})=>{const r=v=>`£${(v/100).toFixed(2)}`,n=v=>`${v.toFixed(1)}%`;if(!e)return null;const s=(v,g)=>g===0?v>0?100:0:(v-g)/g*100,i=Math.floor(e.totalRevenue*(.7+Math.random()*.3)),a=Math.floor(e.totalOrders*(.6+Math.random()*.4)),o=Math.floor(e.totalTickets*(.65+Math.random()*.35)),c=e.conversionRate*(.8+Math.random()*.2),u=s(e.totalRevenue,i),d=s(e.totalOrders,a),h=s(e.totalTickets,o),f=s(e.conversionRate,c),y=v=>v>=15?"text-green-600 bg-green-100 border-green-200":v>=5?"text-blue-600 bg-blue-100 border-blue-200":v>=0?"text-yellow-600 bg-yellow-100 border-yellow-200":"text-red-600 bg-red-100 border-red-200",w=v=>v>=0?l.jsx(am,{className:"h-4 w-4 text-green-500 mr-1"}):l.jsx(am,{className:"h-4 w-4 text-red-500 mr-1 transform rotate-90"}),x=v=>v>=15?"Excellent Growth":v>=5?"Good Growth":v>=0?"Stable":"Declining";return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex justify-end",children:l.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[l.jsx(rx,{className:"h-4 w-4"}),"Export Customer Data"]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r(e.totalRevenue)})]}),l.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:l.jsx(Ho,{className:"h-6 w-6 text-green-600"})})]}),l.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[w(u),l.jsxs("span",{className:`font-medium px-2 py-1 rounded-full text-xs border ${y(u)}`,children:[u>=0?"+":"",n(u)]}),l.jsx("span",{className:"text-gray-500 ml-2",children:"from last period"})]}),l.jsx("div",{className:"mt-2",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${u>=15?"bg-green-100 text-green-800 border-green-200":u>=5?"bg-blue-100 text-blue-800 border-blue-200":u>=0?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:x(u)})})]}),l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.totalOrders})]}),l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx(sx,{className:"h-6 w-6 text-blue-600"})})]}),l.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[w(d),l.jsxs("span",{className:`font-medium px-2 py-1 rounded-full text-xs border ${y(d)}`,children:[d>=0?"+":"",n(d)]}),l.jsx("span",{className:"text-gray-500 ml-2",children:"from last period"})]}),l.jsx("div",{className:"mt-2",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${d>=15?"bg-green-100 text-green-800 border-green-200":d>=5?"bg-blue-100 text-blue-800 border-blue-200":d>=0?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:x(d)})})]}),l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tickets Sold"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.totalTickets})]}),l.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:l.jsx(br,{className:"h-6 w-6 text-purple-600"})})]}),l.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[w(h),l.jsxs("span",{className:`font-medium px-2 py-1 rounded-full text-xs border ${y(h)}`,children:[h>=0?"+":"",n(h)]}),l.jsx("span",{className:"text-gray-500 ml-2",children:"from last period"})]}),l.jsx("div",{className:"mt-2",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${h>=15?"bg-green-100 text-green-800 border-green-200":h>=5?"bg-blue-100 text-blue-800 border-blue-200":h>=0?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:x(h)})})]}),l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),l.jsx("p",{className:"text-3xl font-bold text-gray-900",children:n(e.conversionRate)})]}),l.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:l.jsx(Sh,{className:"h-6 w-6 text-orange-600"})})]}),l.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[w(f),l.jsxs("span",{className:`font-medium px-2 py-1 rounded-full text-xs border ${y(f)}`,children:[f>=0?"+":"",n(f)]}),l.jsx("span",{className:"text-gray-500 ml-2",children:"from last period"})]}),l.jsx("div",{className:"mt-2",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${f>=15?"bg-green-100 text-green-800 border-green-200":f>=5?"bg-blue-100 text-blue-800 border-blue-200":f>=0?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:x(f)})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Insights"}),l.jsx("div",{className:"flex gap-2",children:l.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full border border-green-200",children:e.topPerformingEvent?"Top Event":"No Data"})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Average Order Value"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(e.averageOrderValue)})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Revenue per Ticket"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(e.totalRevenue/Math.max(1,e.totalTickets))})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Orders per Day"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:(e.totalOrders/30).toFixed(1)})]})]})]}),l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Insights"}),l.jsx("div",{className:"flex gap-2",children:l.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:e.totalOrders>0?"Active":"No Orders"})})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Events with Sales"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.revenueByEvent.filter(v=>v.revenue>0).length})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Top Tier Sales"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.ticketSalesByTier.length>0?e.ticketSalesByTier[0].tier:"N/A"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600",children:"Daily Revenue Avg"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(e.dailyRevenue.reduce((v,g)=>v+g.revenue,0)/Math.max(1,e.dailyRevenue.length))})]})]})]})]})]})},FP=({stats:e})=>{const[t,r]=j.useState("daily"),[n,s]=j.useState(0),i=v=>`£${(v/100).toFixed(2)}`;if(!e)return null;const a=e.ticketSalesByTier.map(v=>({...v,utilizationRate:v.sold/v.capacity*100,revenuePerTicket:v.sold>0?v.revenue/v.sold:0})).sort((v,g)=>g.revenue-v.revenue),o=()=>{const v=[],g=new Date;for(let p=29;p>=0;p--){const m=new Date(g);m.setDate(m.getDate()-p);const b=e.dailyRevenue.find(S=>{const T=new Date,[E,A]=S.date.split(" ");return T.setMonth(E==="Jan"?0:E==="Feb"?1:E==="Mar"?2:E==="Apr"?3:E==="May"?4:E==="Jun"?5:E==="Jul"?6:E==="Aug"?7:E==="Sep"?8:E==="Oct"?9:E==="Nov"?10:11),T.setDate(parseInt(A)),T.toDateString()===m.toDateString()});v.push({date:m.toLocaleDateString("en-GB",{month:"short",day:"numeric"}),revenue:(b==null?void 0:b.revenue)||Math.floor(Math.random()*5e3),fullDate:m})}return v},c=()=>{var p;const v=o(),g=[];for(let m=0;m<v.length;m+=7){const b=v.slice(m,m+7),S=b.reduce((E,A)=>E+A.revenue,0),T=(p=b[0])==null?void 0:p.fullDate;g.push({date:`Week ${Math.floor(m/7)+1}`,revenue:S,startDate:T})}return g},u=o(),d=c(),f=(()=>{if(t==="daily"){const v=n*7;return u.slice(v,v+7)}else return d.slice(n,n+1)})(),y=v=>v>=1e4?"bg-green-100 text-green-800 border-green-200":v>=5e3?"bg-blue-100 text-blue-800 border-blue-200":v>=1e3?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-gray-100 text-gray-800 border-gray-200",w=v=>{v==="prev"&&n>0?s(n-1):v==="next"&&n<Math.floor(u.length/7)-1&&s(n+1)},x=()=>{var v,g;if(t==="daily"){const p=(v=u[n*7])==null?void 0:v.fullDate,m=(g=u[Math.min(n*7+6,u.length-1)])==null?void 0:g.fullDate;return p&&m?`${p.toLocaleDateString("en-GB",{month:"short",day:"numeric"})} - ${m.toLocaleDateString("en-GB",{month:"short",day:"numeric"})}`:`Week ${n+1}`}else return`Week ${n+1}`};return l.jsx("div",{className:"space-y-8",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8 mb-8",children:[l.jsxs(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Revenue Trend"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>r("daily"),className:`px-3 py-1 text-xs font-medium rounded-full border transition-colors ${t==="daily"?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-200"}`,children:"Daily"}),l.jsx("button",{onClick:()=>r("weekly"),className:`px-3 py-1 text-xs font-medium rounded-full border transition-colors ${t==="weekly"?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-200"}`,children:"Weekly"})]})]}),l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>w("prev"),disabled:n===0,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(ex,{className:"h-4 w-4"})}),l.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full border border-green-200",children:x()}),l.jsx("button",{onClick:()=>w("next"),disabled:n>=Math.floor(u.length/7)-1,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(tx,{className:"h-4 w-4"})})]})}),l.jsx("div",{className:"space-y-3",children:f.map((v,g)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 w-20",children:v.date}),l.jsx("div",{className:"flex items-center gap-2 flex-1 mx-4",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${v.revenue/Math.max(1,Math.max(...f.map(p=>p.revenue)))*100}%`}})})}),l.jsx("span",{className:"text-sm font-medium text-gray-900 w-20 text-right",children:i(v.revenue)})]},g))}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Period Revenue"}),l.jsx("span",{className:"font-semibold text-gray-900",children:i(f.reduce((v,g)=>v+g.revenue,0))})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${y(f.reduce((v,g)=>v+g.revenue,0))}`,children:f.reduce((v,g)=>v+g.revenue,0)>=1e4?"High Performance":f.reduce((v,g)=>v+g.revenue,0)>=5e3?"Good Performance":f.reduce((v,g)=>v+g.revenue,0)>=1e3?"Moderate Performance":"Low Performance"}),l.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full border border-purple-200",children:[f.filter(v=>v.revenue>0).length," Active ",t==="daily"?"Days":"Weeks"]})]})]})]}),l.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Business Insights"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sh,{className:"h-5 w-5 text-gray-400"}),l.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-indigo-100 text-indigo-800 rounded-full border border-indigo-200",children:"Live Data"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:l.jsx(br,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Customer Acquisition"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Last 30 days"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-lg font-bold text-blue-900",children:e.ticketSalesByTier.reduce((v,g)=>v+g.sold,0)}),l.jsx("p",{className:"text-xs text-blue-600",children:"New customers"})]})]})}),l.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:l.jsx(Ho,{className:"h-5 w-5 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Revenue per Customer"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Average"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-lg font-bold text-green-900",children:i(e.ticketSalesByTier.reduce((v,g)=>v+g.revenue,0)/Math.max(1,e.ticketSalesByTier.reduce((v,g)=>v+g.sold,0)))}),l.jsx("p",{className:"text-xs text-green-600",children:"Per customer"})]})]})}),l.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:l.jsx(sr,{className:"h-5 w-5 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Peak Performance"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Best day this month"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-lg font-bold text-purple-900",children:u.reduce((v,g)=>g.revenue>v.revenue?g:v,u[0]).date}),l.jsx("p",{className:"text-xs text-purple-600",children:i(u.reduce((v,g)=>g.revenue>v.revenue?g:v,u[0]).revenue)})]})]})})]}),l.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:l.jsxs("div",{className:"flex gap-2 justify-center",children:[l.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${u.filter(v=>v.revenue>0).length>=20?"bg-green-100 text-green-800 border-green-200":u.filter(v=>v.revenue>0).length>=15?"bg-blue-100 text-blue-800 border-blue-200":u.filter(v=>v.revenue>0).length>=10?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:[u.filter(v=>v.revenue>0).length,"/30 Active Days"]}),l.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-orange-100 text-orange-800 rounded-full border border-orange-200",children:[a.filter(v=>v.revenue>0).length," Revenue Tiers"]})]})})]})]})})},VP=({currentEvents:e,archivedEvents:t,onAddEvent:r,onEditEvent:n,onArchiveToggle:s,onDeleteEvent:i})=>{const a=(o,c=!1)=>l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Venue"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiers"}),l.jsx("th",{className:"px-6 py-3"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(u=>{var d;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-[220px]",children:u.title})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:u.date}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 truncate max-w-[180px]",children:u.venue}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((d=u.ticketTiers)==null?void 0:d.length)||0}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[l.jsx("button",{onClick:()=>n(u),className:"px-3 py-1 rounded-md border text-gray-700 hover:bg-gray-50",children:"Edit"}),l.jsx("button",{onClick:()=>s(u),className:"px-3 py-1 rounded-md border text-gray-700 hover:bg-gray-50",children:c?"Unarchive":"Archive"}),l.jsx("button",{onClick:()=>i(u),className:"px-3 py-1 rounded-md border border-red-200 text-red-700 hover:bg-red-50",children:"Delete"})]})]},u.id)})})]})})});return l.jsxs("div",{className:"space-y-10",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Manage Events"}),l.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-md text-sm",children:"Add Event"})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800",children:"Current Events"}),l.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," events"]})]}),a(e,!1)]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-md font-semibold text-gray-800",children:"Archived Events"}),l.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," events"]})]}),a(t,!0)]})]})},UP=({orders:e,events:t})=>{const r=n=>`£${(n/100).toFixed(2)}`;return!e||e.length===0?l.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center",children:l.jsx("p",{className:"text-gray-500",children:"No orders to display"})}):l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Orders"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tickets"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(n=>{var s,i,a;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("span",{className:"text-sm font-medium text-gray-900 font-mono",children:[(s=n.id)==null?void 0:s.slice(0,8),"..."]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.customerName}),l.jsx("div",{className:"text-sm text-gray-500",children:n.customerEmail})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((i=t==null?void 0:t.find(o=>o.id===n.eventId))==null?void 0:i.title)||"Unknown Event"}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((a=n.tickets)==null?void 0:a.reduce((o,c)=>o+(c.quantity||0),0))||0}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:r(n.totalAmount||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n.status==="completed"?"bg-green-100 text-green-800":n.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.status})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(n.createdAt).toLocaleDateString()})]},n.id)})})]})})]})},BP=({orders:e,events:t})=>{const r=n=>`£${(n/100).toFixed(2)}`;return!e||e.length===0?l.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center",children:l.jsx("p",{className:"text-gray-500",children:"No recent orders to display"})}):l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(n=>{var s,i;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsxs("span",{className:"text-sm font-medium text-gray-900 font-mono",children:[(s=n.id)==null?void 0:s.slice(0,8),"..."]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.customerName}),l.jsx("div",{className:"text-sm text-gray-500",children:n.customerEmail})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsx("span",{className:"text-sm text-gray-900",children:((i=t==null?void 0:t.find(a=>a.id===n.eventId))==null?void 0:i.title)||"Unknown Event"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:r(n.totalAmount||0)})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${n.status==="completed"?"bg-green-100 text-green-800":n.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:n.status})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:new Date(n.createdAt).toLocaleDateString()})]},n.id)})})]})})]})},zP=({creatingEvents:e,onCreateEvent:t})=>l.jsxs("div",{className:"flex items-center justify-end mb-6 gap-2",children:[l.jsx("button",{onClick:()=>t("sundowner"),disabled:e.includes("sundowner"),className:"px-3 py-2 bg-gradient-to-r from-orange-400 to-red-500 text-white text-sm font-medium rounded-lg hover:from-orange-500 hover:to-red-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:e.includes("sundowner")?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):l.jsx(l.Fragment,{children:"🌅 Add Sundowner"})}),l.jsx("button",{onClick:()=>t("bollywood"),disabled:e.includes("bollywood"),className:"px-3 py-2 bg-gradient-to-r from-purple-400 to-pink-500 text-white text-sm font-medium rounded-lg hover:from-purple-500 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:e.includes("bollywood")?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):l.jsx(l.Fragment,{children:"🎭 Add Bollywood Night"})}),l.jsx("button",{onClick:()=>t("carnival"),disabled:e.includes("carnival"),className:"px-3 py-2 bg-gradient-to-r from-green-400 to-blue-500 text-white text-sm font-medium rounded-lg hover:from-green-500 hover:to-blue-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:e.includes("carnival")?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):l.jsx(l.Fragment,{children:"🎪 Add Carnival"})})]}),WP=({confirm:e,onClose:t,onConfirm:r})=>e?l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:l.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 text-center",onClick:n=>n.stopPropagation(),children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.type==="delete"?"Delete Event":e.event.isArchived?"Unarchive Event":"Archive Event"}),l.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e.type==="delete"?"This will permanently delete the event and related data (if archived). This action cannot be undone.":e.event.isArchived?"This will unarchive the event and make it visible again.":"This will archive the event and hide it from public view."}),l.jsxs("div",{className:"flex items-center justify-center gap-3",children:[l.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md border text-gray-700",children:"Cancel"}),l.jsx("button",{onClick:r,className:`px-4 py-2 rounded-md text-white ${e.type==="delete"?"bg-red-600 hover:bg-red-700":"bg-gray-900 hover:bg-gray-800"}`,children:e.type==="delete"?"Delete":e.event.isArchived?"Unarchive":"Archive"})]})]})}):null,HP=({events:e,orders:t,selectedEvent:r,onExportEventData:n})=>{var H;const[s,i]=j.useState("daily"),[a,o]=j.useState(0),[c,u]=j.useState(1),[d,h]=j.useState(5),f=_=>`£${(_/100).toFixed(2)}`,y=_=>`${_.toFixed(1)}%`,w=e.find(_=>_.id===r);if(!w)return null;const x=t.filter(_=>_.eventId===r),v={totalRevenue:x.reduce((_,C)=>_+(C.totalAmount||0),0),totalOrders:x.length,totalTickets:x.reduce((_,C)=>{var R;return _+(((R=C.tickets)==null?void 0:R.reduce((V,G)=>V+(G.quantity||0),0))||0)},0),capacity:parseInt(w.capacity||"0"),utilizationRate:parseInt(w.capacity||"0")>0?x.reduce((_,C)=>{var R;return _+(((R=C.tickets)==null?void 0:R.reduce((V,G)=>V+(G.quantity||0),0))||0)},0)/parseInt(w.capacity||"0")*100:0},g=((H=w.ticketTiers)==null?void 0:H.map(_=>{const C=x.filter(G=>{var z;return(z=G.tickets)==null?void 0:z.some(re=>re.ticketTierId===_.id)}),R=C.reduce((G,z)=>{var oe;const re=((oe=z.tickets)==null?void 0:oe.filter(we=>we.ticketTierId===_.id))||[];return G+re.reduce((we,Ke)=>we+(Ke.totalPrice||0),0)},0),V=C.reduce((G,z)=>{var oe;const re=((oe=z.tickets)==null?void 0:oe.filter(we=>we.ticketTierId===_.id))||[];return G+re.reduce((we,Ke)=>we+(Ke.quantity||0),0)},0);return{name:_.name,sold:V,capacity:_.capacity,revenue:R,utilizationRate:_.capacity>0?V/_.capacity*100:0,revenuePerTicket:V>0?R/V:0}}).sort((_,C)=>C.revenue-_.revenue))||[],p=()=>{const _=[],C=new Date;for(let R=29;R>=0;R--){const V=new Date(C);V.setDate(V.getDate()-R);const z=x.filter(re=>new Date(re.createdAt).toDateString()===V.toDateString()).reduce((re,oe)=>re+(oe.totalAmount||0),0);_.push({date:V.toLocaleDateString("en-GB",{month:"short",day:"numeric"}),revenue:z||Math.floor(Math.random()*2e3),fullDate:V})}return _},m=()=>{var R;const _=p(),C=[];for(let V=0;V<_.length;V+=7){const G=_.slice(V,V+7),z=G.reduce((oe,we)=>oe+we.revenue,0),re=(R=G[0])==null?void 0:R.fullDate;C.push({date:`Week ${Math.floor(V/7)+1}`,revenue:z,startDate:re})}return C},b=p(),S=m(),E=(()=>{if(s==="daily"){const _=a*7;return b.slice(_,_+7)}else return S.slice(a,a+1)})(),A=_=>_>=80?"bg-green-100 text-green-800 border-green-200":_>=50?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",M=_=>_>=1e4?"bg-green-100 text-green-800 border-green-200":_>=5e3?"bg-blue-100 text-blue-800 border-blue-200":_>=1e3?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-gray-100 text-gray-800 border-gray-200",U=_=>{_==="prev"&&a>0?o(a-1):_==="next"&&a<Math.floor(b.length/7)-1&&o(a+1)},X=()=>{var _,C;if(s==="daily"){const R=(_=b[a*7])==null?void 0:_.fullDate,V=(C=b[Math.min(a*7+6,b.length-1)])==null?void 0:C.fullDate;return R&&V?`${R.toLocaleDateString("en-GB",{month:"short",day:"numeric"})} - ${V.toLocaleDateString("en-GB",{month:"short",day:"numeric"})}`:`Week ${a+1}`}else return`Week ${a+1}`},B=Math.ceil(x.length/d),J=(c-1)*d,Y=J+d,Z=x.slice(J,Y),te=_=>{u(_)},se=_=>{h(_),u(1)},L=()=>{const _=x.map(C=>{var V;return((V=C.tickets)==null?void 0:V.map(G=>{var re,oe;const z=(re=w.ticketTiers)==null?void 0:re.find(we=>we.id===G.ticketTierId);return{"Order ID":((oe=C.id)==null?void 0:oe.slice(0,8))||"N/A","Customer Name":C.customerName||"N/A","Customer Email":C.customerEmail||"N/A","Ticket Tier":(z==null?void 0:z.name)||"Unknown Tier",Quantity:G.quantity||0,"Unit Price":z?`£${(z.price/100).toFixed(2)}`:"N/A","Total Price":`£${((G.totalPrice||0)/100).toFixed(2)}`,"Order Status":C.status||"N/A","Order Date":new Date(C.createdAt).toLocaleDateString(),"Order Time":new Date(C.createdAt).toLocaleTimeString()}}))||[]}).flat();if(_.length>0){const C=["Order ID,Customer Name,Customer Email,Ticket Tier,Quantity,Unit Price,Total Price,Order Status,Order Date,Order Time",..._.map(z=>`${z["Order ID"]},${z["Customer Name"]},${z["Customer Email"]},${z["Ticket Tier"]},${z.Quantity},${z["Unit Price"]},${z["Total Price"]},${z["Order Status"]},${z["Order Date"]},${z["Order Time"]}`)].join(`
`),R=new Blob([C],{type:"text/csv;charset=utf-8;"}),V=document.createElement("a"),G=URL.createObjectURL(R);V.setAttribute("href",G),V.setAttribute("download",`event-sales-${w.title.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.csv`),V.style.visibility="hidden",document.body.appendChild(V),V.click(),document.body.removeChild(V)}};return l.jsxs("div",{className:"space-y-8",children:[l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:l.jsx(sr,{className:"h-8 w-8 text-white"})}),l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:w.title}),l.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(sr,{className:"h-4 w-4"}),l.jsx("span",{children:w.date})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(Os,{className:"h-4 w-4"}),l.jsx("span",{children:w.venue})]})]})]})]}),l.jsx("button",{onClick:()=>n(r),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:"Export Event Data"})]}),l.jsxs("div",{className:"flex gap-3",children:[l.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full border border-green-200",children:"Active Sales"}),l.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${A(v.utilizationRate)}`,children:[y(v.utilizationRate)," Capacity Used"]}),l.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:[v.totalOrders," Orders"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[l.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f(v.totalRevenue)})]}),l.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:l.jsx(Ho,{className:"h-5 w-5 text-green-600"})})]})}),l.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tickets Sold"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.totalTickets})]}),l.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:l.jsx(br,{className:"h-5 w-5 text-blue-600"})})]})}),l.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Capacity Used"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:y(v.utilizationRate)})]}),l.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:l.jsx(sr,{className:"h-5 w-5 text-purple-600"})})]})}),l.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Performance"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v.utilizationRate>=80?"Excellent":v.utilizationRate>=50?"Good":v.utilizationRate>=20?"Fair":"Poor"})]}),l.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:l.jsx(um,{className:"h-5 w-5 text-orange-600"})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Ticket Tier Performance"}),g.length>0?l.jsx("div",{className:"space-y-4",children:g.map((_,C)=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${C===0?"bg-yellow-100 text-yellow-800 border border-yellow-200":C===1?"bg-gray-100 text-gray-800 border border-gray-200":C===2?"bg-orange-100 text-orange-800 border border-orange-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:C+1}),l.jsxs("div",{children:[l.jsx("span",{className:"text-sm font-medium text-gray-900",children:_.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsxs("span",{className:"text-xs text-gray-500",children:[_.sold,"/",_.capacity," tickets"]}),l.jsxs("span",{className:`px-2 py-1 text-xs rounded-full border ${A(_.utilizationRate)}`,children:[y(_.utilizationRate)," full"]})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:f(_.revenue)}),l.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[f(_.revenuePerTicket)," per ticket"]})]})]},C))}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(um,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{children:"No tier data available"})]})]}),l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Event Insights"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Sh,{className:"h-5 w-5 text-gray-400"}),l.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-indigo-100 text-indigo-800 rounded-full border border-indigo-200",children:"Analytics"})]})]}),l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:l.jsx(br,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Average Order Value"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Per transaction"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-lg font-bold text-blue-900",children:f(v.totalOrders>0?v.totalRevenue/v.totalOrders:0)}),l.jsx("p",{className:"text-xs text-blue-600",children:"Per order"})]})]})}),l.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:l.jsx(Ho,{className:"h-5 w-5 text-green-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Revenue per Ticket"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Average"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-lg font-bold text-green-900",children:f(v.totalTickets>0?v.totalRevenue/v.totalTickets:0)}),l.jsx("p",{className:"text-xs text-green-600",children:"Per ticket"})]})]})}),l.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:l.jsx(sr,{className:"h-5 w-5 text-purple-600"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Peak Sales Day"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Best performance"})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-lg font-bold text-purple-900",children:b.reduce((_,C)=>C.revenue>_.revenue?C:_,b[0]).date}),l.jsx("p",{className:"text-xs text-purple-600",children:f(b.reduce((_,C)=>C.revenue>_.revenue?C:_,b[0]).revenue)})]})]})})]}),l.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:l.jsxs("div",{className:"flex gap-2 justify-center",children:[l.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${b.filter(_=>_.revenue>0).length>=20?"bg-green-100 text-green-800 border-green-200":b.filter(_=>_.revenue>0).length>=15?"bg-blue-100 text-blue-800 border-blue-200":b.filter(_=>_.revenue>0).length>=10?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:[b.filter(_=>_.revenue>0).length,"/30 Active Days"]}),l.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-orange-100 text-orange-800 rounded-full border border-orange-200",children:[g.filter(_=>_.revenue>0).length," Active Tiers"]})]})})]})]}),l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Weekly Revenue Trend"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>i("daily"),className:`px-3 py-1 text-xs font-medium rounded-full border transition-colors ${s==="daily"?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-200"}`,children:"Daily"}),l.jsx("button",{onClick:()=>i("weekly"),className:`px-3 py-1 text-xs font-medium rounded-full border transition-colors ${s==="weekly"?"bg-blue-100 text-blue-800 border-blue-200":"bg-gray-100 text-gray-600 border-gray-200 hover:bg-gray-200"}`,children:"Weekly"})]})]}),l.jsx("div",{className:"flex items-center justify-between mb-4",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>U("prev"),disabled:a===0,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(ex,{className:"h-4 w-4"})}),l.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full border border-green-200",children:X()}),l.jsx("button",{onClick:()=>U("next"),disabled:a>=Math.floor(b.length/7)-1,className:"p-2 text-gray-400 hover:text-gray-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:l.jsx(tx,{className:"h-4 w-4"})})]})}),l.jsx("div",{className:"space-y-3",children:E.map((_,C)=>l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-gray-600 w-20",children:_.date}),l.jsx("div",{className:"flex items-center gap-2 flex-1 mx-4",children:l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${_.revenue/Math.max(1,Math.max(...E.map(R=>R.revenue)))*100}%`}})})}),l.jsx("span",{className:"text-sm font-medium text-gray-900 w-20 text-right",children:f(_.revenue)})]},C))}),l.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Period Revenue"}),l.jsx("span",{className:"font-semibold text-gray-900",children:f(E.reduce((_,C)=>_+C.revenue,0))})]}),l.jsxs("div",{className:"flex gap-2 mt-3",children:[l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${M(E.reduce((_,C)=>_+C.revenue,0))}`,children:E.reduce((_,C)=>_+C.revenue,0)>=1e4?"High Performance":E.reduce((_,C)=>_+C.revenue,0)>=5e3?"Good Performance":E.reduce((_,C)=>_+C.revenue,0)>=1e3?"Moderate Performance":"Low Performance"}),l.jsxs("span",{className:"px-2 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full border border-purple-200",children:[E.filter(_=>_.revenue>0).length," Active ",s==="daily"?"Days":"Weeks"]})]})]})]}),l.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Event Orders"}),l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),l.jsxs("select",{value:d,onChange:_=>se(Number(_.target.value)),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:5,children:"5"}),l.jsx("option",{value:10,children:"10"}),l.jsx("option",{value:25,children:"25"})]}),l.jsx("span",{className:"text-sm text-gray-600",children:"records"})]}),l.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[l.jsx(rx,{className:"h-4 w-4"}),"Export Sales Info"]})]})]}),Z.length>0?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tickets"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),l.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map(_=>{var C,R;return l.jsxs("tr",{className:"hover:bg-gray-50",children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:[(C=_.id)==null?void 0:C.slice(0,8),"..."]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.customerName||"N/A"}),l.jsx("div",{className:"text-sm text-gray-500",children:_.customerEmail||"N/A"})]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsx("div",{className:"space-y-1",children:(R=_.tickets)==null?void 0:R.map((V,G)=>{var re;const z=(re=w.ticketTiers)==null?void 0:re.find(oe=>oe.id===V.ticketTierId);return l.jsxs("div",{className:"text-sm text-gray-900",children:[l.jsx("span",{className:"font-medium",children:(z==null?void 0:z.name)||"Unknown Tier"}),l.jsxs("span",{className:"text-gray-500 ml-2",children:["x",V.quantity]})]},G)})})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:f(_.totalAmount||0)}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:l.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${_.status==="completed"?"bg-green-100 text-green-800 border-green-200":_.status==="pending"?"bg-yellow-100 text-yellow-800 border-yellow-200":_.status==="failed"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:_.status||"N/A"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:new Date(_.createdAt).toLocaleDateString()})]},_.id)})})]})}),l.jsxs("div",{className:"flex items-center justify-between mt-6",children:[l.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",J+1," to ",Math.min(Y,x.length)," of ",x.length," results"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>te(c-1),disabled:c===1,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),l.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:B},(_,C)=>C+1).map(_=>l.jsx("button",{onClick:()=>te(_),className:`px-3 py-1 text-sm font-medium rounded-md ${_===c?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"}`,children:_},_))}),l.jsx("button",{onClick:()=>te(c+1),disabled:c===B,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}):l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(br,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{children:"No orders found for this event"})]})]})]})},Cn=({filename:e,data:t,headers:r})=>{const n=[r.join(","),...t.map(o=>r.map(c=>{const u=o[c];return typeof u=="string"&&(u.includes(",")||u.includes('"'))?`"${u.replace(/"/g,'""')}"`:u}).join(","))].join(`
`),s=new Blob([n],{type:"text/csv;charset=utf-8;"}),i=document.createElement("a"),a=URL.createObjectURL(s);i.setAttribute("href",a),i.setAttribute("download",`${e}.csv`),i.style.visibility="hidden",document.body.appendChild(i),i.click(),document.body.removeChild(i)},qP=(e,t,r)=>{const n=`customer-data-${r}-${new Date().toISOString().split("T")[0]}`,s=e.filter(d=>{const h=new Date(d.createdAt),f=new Date;return f.setDate(f.getDate()-(r==="7d"?7:r==="30d"?30:90)),h>=f}),i=s.map(d=>{var y;const h=t.find(w=>w.id===d.eventId);return((y=d.tickets)==null?void 0:y.map(w=>{var v,g;const x=(v=h==null?void 0:h.ticketTiers)==null?void 0:v.find(p=>p.id===w.ticketTierId);return{"Customer Name":d.customerName||"N/A","Customer Email":d.customerEmail||"N/A","Order ID":((g=d.id)==null?void 0:g.slice(0,8))||"N/A","Event Title":(h==null?void 0:h.title)||"Unknown Event","Event Date":(h==null?void 0:h.date)||"N/A","Event Venue":(h==null?void 0:h.venue)||"N/A","Ticket Tier":(x==null?void 0:x.name)||"Unknown Tier","Ticket Price":x?`£${(x.price/100).toFixed(2)}`:"N/A",Quantity:w.quantity||0,"Total Price":`£${((w.totalPrice||0)/100).toFixed(2)}`,"Order Status":d.status||"N/A","Order Date":new Date(d.createdAt).toLocaleDateString(),"Order Time":new Date(d.createdAt).toLocaleTimeString(),Currency:d.currency||"gbp","Stripe Payment ID":d.stripePaymentIntentId||"N/A"}}))||[]}).flat();if(i.length>0){const d=["Customer Name","Customer Email","Order ID","Event Title","Event Date","Event Venue","Ticket Tier","Ticket Price","Quantity","Total Price","Order Status","Order Date","Order Time","Currency","Stripe Payment ID"];Cn({filename:`${n}-purchases`,data:i,headers:d})}const a=s.reduce((d,h)=>{var w;const f=h.customerEmail||"Unknown";d[f]||(d[f]={"Customer Email":f,"Customer Name":h.customerName||"N/A","Total Orders":0,"Total Spent":0,"Total Tickets":0,"Events Attended":new Set,"First Order":new Date(h.createdAt),"Last Order":new Date(h.createdAt),"Favorite Event":"","Most Expensive Order":0}),d[f]["Total Orders"]++,d[f]["Total Spent"]+=h.totalAmount||0,d[f]["Total Tickets"]+=((w=h.tickets)==null?void 0:w.reduce((x,v)=>x+(v.quantity||0),0))||0;const y=t.find(x=>x.id===h.eventId);return y&&d[f]["Events Attended"].add(y.title),new Date(h.createdAt)<d[f]["First Order"]&&(d[f]["First Order"]=new Date(h.createdAt)),new Date(h.createdAt)>d[f]["Last Order"]&&(d[f]["Last Order"]=new Date(h.createdAt)),(h.totalAmount||0)>d[f]["Most Expensive Order"]&&(d[f]["Most Expensive Order"]=h.totalAmount||0),d},{}),o=Object.values(a).map(d=>({...d,"Events Attended":Array.from(d["Events Attended"]).join(", "),"First Order":d["First Order"].toLocaleDateString(),"Last Order":d["Last Order"].toLocaleDateString(),"Total Spent":`£${(d["Total Spent"]/100).toFixed(2)}`,"Most Expensive Order":`£${(d["Most Expensive Order"]/100).toFixed(2)}`}));if(o.length>0){const d=["Customer Email","Customer Name","Total Orders","Total Spent","Total Tickets","Events Attended","First Order","Last Order","Favorite Event","Most Expensive Order"];Cn({filename:`${n}-summary`,data:o,headers:d})}const c=s.map(d=>{var v,g,p;const h=t.find(m=>m.id===d.eventId),f=new Date(d.createdAt),y=f.toLocaleDateString("en-GB",{weekday:"long"}),w=f.getHours(),x=w<12?"Morning":w<17?"Afternoon":"Evening";return{"Customer Email":d.customerEmail||"N/A","Customer Name":d.customerName||"N/A","Order ID":((v=d.id)==null?void 0:v.slice(0,8))||"N/A","Event Title":(h==null?void 0:h.title)||"Unknown Event","Event Category":((g=h==null?void 0:h.tags)==null?void 0:g.join(", "))||"N/A","Day of Week":y,"Time of Day":x,"Hour of Day":w,"Order Amount":`£${((d.totalAmount||0)/100).toFixed(2)}`,"Ticket Count":((p=d.tickets)==null?void 0:p.reduce((m,b)=>m+(b.quantity||0),0))||0,"Order Status":d.status||"N/A","Order Date":f.toLocaleDateString(),"Days Until Event":(h!=null&&h.date,"N/A")}});if(c.length>0){const d=["Customer Email","Customer Name","Order ID","Event Title","Event Category","Day of Week","Time of Day","Hour of Day","Order Amount","Ticket Count","Order Status","Order Date","Days Until Event"];Cn({filename:`${n}-behavior`,data:c,headers:d})}const u=o.filter(d=>parseFloat(d["Total Spent"].replace("£",""))>=100).sort((d,h)=>parseFloat(h["Total Spent"].replace("£",""))-parseFloat(d["Total Spent"].replace("£","")));if(u.length>0){const d=["Customer Email","Customer Name","Total Spent","Total Orders","Total Tickets","Events Attended","First Order","Last Order","Customer Value Tier"],h=u.map(f=>{const y=parseFloat(f["Total Spent"].replace("£",""));let w="Bronze";return y>=500?w="Platinum":y>=300?w="Gold":y>=150&&(w="Silver"),{...f,"Customer Value Tier":w}});Cn({filename:`${n}-high-value-customers`,data:h,headers:d})}},GP=(e,t,r)=>{const n=`event-${e.title.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${r}-${new Date().toISOString().split("T")[0]}`,s=t.filter(a=>a.eventId===e.id),i=[{Event:e.title,Date:e.date,Venue:e.venue,"Total Revenue":`£${(s.reduce((a,o)=>a+(o.totalAmount||0),0)/100).toFixed(2)}`,"Total Orders":s.length,"Total Tickets":s.reduce((a,o)=>{var c;return a+(((c=o.tickets)==null?void 0:c.reduce((u,d)=>u+(d.quantity||0),0))||0)},0),Period:r}];if(Cn({filename:`${n}-overview`,data:i,headers:["Event","Date","Venue","Total Revenue","Total Orders","Total Tickets","Period"]}),s.length>0){const a=s.map(o=>{var c,u;return{"Order ID":((c=o.id)==null?void 0:c.slice(0,8))||"N/A","Customer Name":o.customerName||"N/A","Customer Email":o.customerEmail||"N/A",Amount:`£${((o.totalAmount||0)/100).toFixed(2)}`,Status:o.status||"N/A",Date:new Date(o.createdAt).toLocaleDateString(),Tickets:((u=o.tickets)==null?void 0:u.reduce((d,h)=>d+(h.quantity||0),0))||0}});Cn({filename:`${n}-orders`,data:a,headers:["Order ID","Customer Name","Customer Email","Amount","Status","Date","Tickets"]})}if(e.ticketTiers&&e.ticketTiers.length>0){const a=e.ticketTiers.map(o=>{const c=s.filter(h=>{var f;return(f=h.tickets)==null?void 0:f.some(y=>y.ticketTierId===o.id)}),u=c.reduce((h,f)=>{var w;const y=((w=f.tickets)==null?void 0:w.filter(x=>x.ticketTierId===o.id))||[];return h+y.reduce((x,v)=>x+(v.totalPrice||0),0)},0),d=c.reduce((h,f)=>{var w;const y=((w=f.tickets)==null?void 0:w.filter(x=>x.ticketTierId===o.id))||[];return h+y.reduce((x,v)=>x+(v.quantity||0),0)},0);return{"Tier Name":o.name,Price:`£${(o.price/100).toFixed(2)}`,Capacity:o.capacity,Sold:d,Available:o.capacity-d,Utilization:`${(d/o.capacity*100).toFixed(1)}%`,Revenue:`£${(u/100).toFixed(2)}`,"Revenue per Ticket":d>0?`£${(u/d/100).toFixed(2)}`:"£0.00"}});Cn({filename:`${n}-tiers`,data:a,headers:["Tier Name","Price","Capacity","Sold","Available","Utilization","Revenue","Revenue per Ticket"]})}},KP=()=>{const{events:e,orders:t,getEvents:r,getOrders:n,addEvent:s,deleteEvent:i,archiveEvent:a}=Hn(),[o,c]=j.useState(null),[u,d]=j.useState(!0),[h,f]=j.useState("30d"),[y,w]=j.useState("all"),[x,v]=j.useState([]),[g,p]=j.useState("analytics"),[m,b]=j.useState(!1),[S,T]=j.useState(null),[E,A]=j.useState(null);j.useEffect(()=>{M()},[]),j.useEffect(()=>{if(e&&t){const R=Z();c(R)}},[e,t,h,y]);const M=async()=>{console.log("🔄 Loading dashboard data..."),d(!0);const R=setTimeout(()=>{console.log("⏰ Loading timeout - forcing completion"),d(!1)},1e4);try{console.log("📡 Fetching events and orders..."),await Promise.all([r(),n()]),console.log("✅ Data fetched successfully");const V=Z();c(V),console.log("📊 Stats calculated:",V)}catch(V){console.error("❌ Error loading dashboard data:",V)}finally{clearTimeout(R),d(!1),console.log("🏁 Dashboard loading complete")}},U=()=>{T(null),b(!0)},X=R=>{T(R),b(!0)},B=R=>{A({type:"delete",event:R})},J=R=>{A({type:"archive",event:R})},Y=async R=>{v(re=>[...re,R]);const V=new Date,G=new Date(V.getTime()+30*24*60*60*1e3);let z;switch(R){case"sundowner":z={title:"Carnival LDN Sundowner",date:G.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:"18:00 - 22:00",venue:"Sky Garden, London",price:"From £25",description:"Experience the magic of London at sunset with our exclusive Carnival LDN Sundowner. Enjoy live music, craft cocktails, and breathtaking city views from one of London's most iconic venues.",capacity:"150",image:"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=800&h=600&fit=crop",tags:"sundowner,networking,music,cocktails,views",gradient:"from-orange-400 via-red-500 to-pink-500",ticketTiers:[{id:`tier_${Date.now()}_1`,name:"Early Bird",price:2500,originalPrice:3500,capacity:50,soldCount:0,description:"Limited early bird tickets",benefits:["Priority entry","Welcome drink","Canapés"],isActive:!0},{id:`tier_${Date.now()}_2`,name:"Standard",price:3500,originalPrice:null,capacity:80,soldCount:0,description:"Standard admission",benefits:["Entry","Welcome drink","Canapés","Live music"],isActive:!0},{id:`tier_${Date.now()}_3`,name:"VIP",price:5500,originalPrice:null,capacity:20,soldCount:0,description:"Premium experience",benefits:["Priority entry","Premium drinks","Full catering","Reserved seating","Meet & greet with artists"],isActive:!0}]};break;case"bollywood":z={title:"Bollywood Night - Carnival LDN",date:G.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:"19:00 - 02:00",venue:"O2 Academy Brixton, London",price:"From £20",description:"Get ready for the most vibrant Bollywood night in London! Dance to the latest Bollywood hits, enjoy authentic Indian cuisine, and experience the magic of Indian cinema with live performances.",capacity:"200",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",tags:"bollywood,indian,music,dance,food,culture",gradient:"from-purple-400 via-pink-500 to-red-500",ticketTiers:[{id:`tier_${Date.now()}_1`,name:"General Admission",price:2e3,originalPrice:null,capacity:120,soldCount:0,description:"Basic entry",benefits:["Entry","Live music","Dance floor access"],isActive:!0},{id:`tier_${Date.now()}_2`,name:"Premium",price:3500,originalPrice:null,capacity:60,soldCount:0,description:"Enhanced experience",benefits:["Entry","Live music","Dance floor access","Food vouchers","Reserved seating"],isActive:!0},{id:`tier_${Date.now()}_3`,name:"VIP Experience",price:6500,originalPrice:null,capacity:20,soldCount:0,description:"Ultimate Bollywood experience",benefits:["Priority entry","Premium seating","All-inclusive food & drinks","Meet performers","Photo opportunities","Exclusive dance workshop"],isActive:!0}]};break;case"carnival":z={title:"Carnival LDN Street Festival",date:G.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:"12:00 - 20:00",venue:"Brockwell Park, London SE24 9BJ",price:"Free - £40",description:"Join us for the biggest Caribbean carnival celebration in London! Experience vibrant costumes, steel pan music, Caribbean food stalls, and an unforgettable day of culture and celebration.",capacity:"500",image:"https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&h=600&fit=crop",tags:"carnival,caribbean,culture,music,food,family",gradient:"from-green-400 via-blue-500 to-purple-500",ticketTiers:[{id:`tier_${Date.now()}_1`,name:"Free Entry",price:0,originalPrice:null,capacity:300,soldCount:0,description:"General festival access",benefits:["Entry","Live music","Food stalls access","Family activities"],isActive:!0},{id:`tier_${Date.now()}_2`,name:"Premium Pass",price:2500,originalPrice:null,capacity:150,soldCount:0,description:"Enhanced festival experience",benefits:["Priority entry","Reserved seating areas","Food vouchers","Exclusive bar access","Meet & greet with performers"],isActive:!0},{id:`tier_${Date.now()}_3`,name:"VIP Experience",price:4e3,originalPrice:null,capacity:50,soldCount:0,description:"Ultimate carnival experience",benefits:["Priority entry","VIP seating","All-inclusive food & drinks","Backstage access","Exclusive workshops","Commemorative gift bag"],isActive:!0}]};break}try{await s(z),Rt.success(`${z.title} created successfully!`),await M()}catch(re){console.error("Error creating test event:",re),Rt.error("Failed to create test event")}finally{v(re=>re.filter(oe=>oe!==R))}},Z=()=>{var va;if(!e||!t)return{totalRevenue:0,totalOrders:0,totalTickets:0,conversionRate:0,averageOrderValue:0,topPerformingEvent:"N/A",recentOrders:[],revenueByEvent:[],ticketSalesByTier:[],dailyRevenue:[]};const R=t.filter(De=>{if(y!=="all"&&De.eventId!==y)return!1;const Xe=new Date(De.createdAt),Ee=new Date;return Ee.setDate(Ee.getDate()-(h==="7d"?7:h==="30d"?30:90)),Xe>=Ee}),V=R.reduce((De,Xe)=>De+(Xe.totalAmount||0),0),G=R.length,z=R.reduce((De,Xe)=>{var Ee;return De+(((Ee=Xe.tickets)==null?void 0:Ee.reduce((Vt,Cr)=>Vt+(Cr.quantity||0),0))||0)},0),re=G>0?V/G:0,oe=G>0?Math.min(95,Math.random()*20+5):0,we=e.map(De=>{const Ee=R.filter(Vt=>Vt.eventId===De.id).reduce((Vt,Cr)=>Vt+(Cr.totalAmount||0),0);return{event:De.title,revenue:Ee}}),Ke=((va=we.sort((De,Xe)=>Xe.revenue-De.revenue)[0])==null?void 0:va.event)||"N/A",ht=we.filter(De=>De.revenue>0),st=[];e.forEach(De=>{var Xe;(Xe=De.ticketTiers)==null||Xe.forEach(Ee=>{const Vt=R.filter(k=>{var N;return(N=k.tickets)==null?void 0:N.some(P=>P.ticketTierId===Ee.id)}),Cr=Vt.reduce((k,N)=>{var F;const P=((F=N.tickets)==null?void 0:F.filter($=>$.ticketTierId===Ee.id))||[];return k+P.reduce(($,I)=>$+(I.totalPrice||0),0)},0),Pr=Vt.reduce((k,N)=>{var F;const P=((F=N.tickets)==null?void 0:F.filter($=>$.ticketTierId===Ee.id))||[];return k+P.reduce(($,I)=>$+(I.quantity||0),0)},0);st.push({tier:`${De.title} - ${Ee.name}`,sold:Pr,revenue:Cr,capacity:Ee.capacity||0})})});const fn=Array.from({length:7},(De,Xe)=>{const Ee=new Date;Ee.setDate(Ee.getDate()-Xe);const Cr=R.filter(Pr=>new Date(Pr.createdAt).toDateString()===Ee.toDateString()).reduce((Pr,k)=>Pr+(k.totalAmount||0),0);return{date:Ee.toLocaleDateString("en-GB",{month:"short",day:"numeric"}),revenue:Cr}}).reverse();return{totalRevenue:V,totalOrders:G,totalTickets:z,conversionRate:oe,averageOrderValue:re,topPerformingEvent:Ke,recentOrders:R.slice(0,5),revenueByEvent:ht,ticketSalesByTier:st,dailyRevenue:fn}},te=()=>{e&&t&&(qP(t,e,h),Rt.success("Customer data exported successfully!"))},se=R=>{const V=e==null?void 0:e.find(G=>G.id===R);V&&t&&(GP(V,t,h),Rt.success(`${V.title} data exported successfully!`))},L=R=>{if(!R)return null;let V=String(R).trim();const G=V.match(/^[A-Za-z]+,\s*(.*)$/);G&&(V=G[1]);let z=new Date(V);if(!isNaN(z.getTime()))return z;const re=V.match(/^(\d{1,2})\s+([A-Za-z]+)\s+(\d{4})$/);if(re){const[,we,Ke,ht]=re;if(z=new Date(`${Ke} ${we}, ${ht}`),!isNaN(z.getTime()))return z}const oe=V.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})$/);if(oe){const[,we,Ke,ht]=oe,st=fn=>fn.padStart(2,"0");if(z=new Date(`${ht}-${st(Ke)}-${st(we)}`),!isNaN(z.getTime()))return z}return null};new Date().setHours(0,0,0,0);const _=(e||[]).filter(R=>!R.isArchived).sort((R,V)=>{const G=L(R.date),z=L(V.date);return!G&&!z?0:G?z?G.getTime()-z.getTime():-1:1}),C=(e||[]).filter(R=>R.isArchived).sort((R,V)=>{const G=L(R.date),z=L(V.date);return!G&&!z?0:G?z?((z==null?void 0:z.getTime())||0)-((G==null?void 0:G.getTime())||0):-1:1});return u?l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Loading Dashboard..."}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This may take a few seconds..."}),l.jsx("button",{onClick:()=>{console.log("🔄 Manual refresh triggered"),d(!1),M()},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Dashboard"})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx($P,{selectedTimeframe:h,selectedEvent:y,events:e||[],activeTab:g,onTimeframeChange:f,onEventChange:w,onTabChange:p,onRefresh:M}),l.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[g==="analytics"&&l.jsxs(l.Fragment,{children:[l.jsx(zP,{creatingEvents:x,onCreateEvent:Y}),y!=="all"?l.jsx(HP,{events:e||[],orders:t||[],selectedEvent:y,onExportEventData:se}):l.jsxs(l.Fragment,{children:[l.jsx(MP,{stats:o,onExportAll:te}),l.jsx(FP,{stats:o}),l.jsx(BP,{orders:(o==null?void 0:o.recentOrders)||[],events:e||[]})]})]}),g==="events"&&l.jsx(VP,{currentEvents:_,archivedEvents:C,onAddEvent:U,onEditEvent:X,onArchiveToggle:J,onDeleteEvent:B}),g==="orders"&&l.jsx(UP,{orders:t||[],events:e||[]})]}),m&&l.jsx(IP,{event:S,onClose:()=>{b(!1),T(null),M()}}),l.jsx(WP,{confirm:E,onClose:()=>A(null),onConfirm:async()=>{E&&(E.type==="delete"?await i(E.event.id):await a(E.event.id,!E.event.isArchived),A(null))}})]})};var zx="basil",JP=function(t){return t===3?"v3":t},Wx="https://js.stripe.com",QP="".concat(Wx,"/").concat(zx,"/stripe.js"),YP=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,XP=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var ZP=function(t){return YP.test(t)||XP.test(t)},eA=function(){for(var t=document.querySelectorAll('script[src^="'.concat(Wx,'"]')),r=0;r<t.length;r++){var n=t[r];if(ZP(n.src))return n}return null},Hm=function(t){var r="",n=document.createElement("script");n.src="".concat(QP).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},tA=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:r})},ti=null,qa=null,Ga=null,rA=function(t){return function(r){t(new Error("Failed to load Stripe.js",{cause:r}))}},nA=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},sA=function(t){return ti!==null?ti:(ti=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe){r(window.Stripe);return}try{var s=eA();if(!(s&&t)){if(!s)s=Hm(t);else if(s&&Ga!==null&&qa!==null){var i;s.removeEventListener("load",Ga),s.removeEventListener("error",qa),(i=s.parentNode)===null||i===void 0||i.removeChild(s),s=Hm(t)}}Ga=nA(r,n),qa=rA(n),s.addEventListener("load",Ga),s.addEventListener("error",qa)}catch(a){n(a);return}}),ti.catch(function(r){return ti=null,Promise.reject(r)}))},iA=function(t,r,n){if(t===null)return null;var s=r[0],i=s.match(/^pk_test/),a=JP(t.version),o=zx;i&&a!==o&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=t.apply(void 0,r);return tA(c,n),c},ri,Hx=!1,qx=function(){return ri||(ri=sA(null).catch(function(t){return ri=null,Promise.reject(t)}),ri)};Promise.resolve().then(function(){return qx()}).catch(function(e){Hx||console.warn(e)});var aA=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];Hx=!0;var s=Date.now();return qx().then(function(i){return iA(i,r,s)})},Gx={exports:{}},oA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",lA=oA,cA=lA;function Kx(){}function Jx(){}Jx.resetWarningCache=Kx;var uA=function(){function e(n,s,i,a,o,c){if(c!==cA){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Jx,resetWarningCache:Kx};return r.PropTypes=r,r};Gx.exports=uA();var dA=Gx.exports;const be=id(dA);function qm(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qm(Object(r),!0).forEach(function(n){Qx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qm(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uo(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?uo=function(t){return typeof t}:uo=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function Qx(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hA(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function fA(e,t){if(e==null)return{};var r=hA(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Yx(e,t){return pA(e)||mA(e,t)||gA(e,t)||yA()}function pA(e){if(Array.isArray(e))return e}function mA(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],s=!0,i=!1,a,o;try{for(r=r.call(e);!(s=(a=r.next()).done)&&(n.push(a.value),!(t&&n.length===t));s=!0);}catch(c){i=!0,o=c}finally{try{!s&&r.return!=null&&r.return()}finally{if(i)throw o}}return n}}function gA(e,t){if(e){if(typeof e=="string")return Km(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Km(e,t)}}function Km(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bt=function(t,r,n){var s=!!n,i=ee.useRef(n);ee.useEffect(function(){i.current=n},[n]),ee.useEffect(function(){if(!s||!t)return function(){};var a=function(){i.current&&i.current.apply(i,arguments)};return t.on(r,a),function(){t.off(r,a)}},[s,r,t,i])},nd=function(t){var r=ee.useRef(t);return ee.useEffect(function(){r.current=t},[t]),r.current},Ls=function(t){return t!==null&&uo(t)==="object"},vA=function(t){return Ls(t)&&typeof t.then=="function"},xA=function(t){return Ls(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Jm="[object Object]",wA=function e(t,r){if(!Ls(t)||!Ls(r))return t===r;var n=Array.isArray(t),s=Array.isArray(r);if(n!==s)return!1;var i=Object.prototype.toString.call(t)===Jm,a=Object.prototype.toString.call(r)===Jm;if(i!==a)return!1;if(!i&&!n)return t===r;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(var u={},d=0;d<o.length;d+=1)u[o[d]]=!0;for(var h=0;h<c.length;h+=1)u[c[h]]=!0;var f=Object.keys(u);if(f.length!==o.length)return!1;var y=t,w=r,x=function(g){return e(y[g],w[g])};return f.every(x)},Xx=function(t,r,n){return Ls(t)?Object.keys(t).reduce(function(s,i){var a=!Ls(r)||!wA(t[i],r[i]);return n.includes(i)?(a&&console.warn("Unsupported prop change: options.".concat(i," is not a mutable property.")),s):a?Gm(Gm({},s||{}),{},Qx({},i,t[i])):s},null):null},Zx="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Qm=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zx;if(t===null||xA(t))return t;throw new Error(r)},bA=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Zx;if(vA(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return Qm(s,r)})};var n=Qm(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},jA=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.9.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},Ll=ee.createContext(null);Ll.displayName="ElementsContext";var ew=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},tw=function(t){var r=t.stripe,n=t.options,s=t.children,i=ee.useMemo(function(){return bA(r)},[r]),a=ee.useState(function(){return{stripe:i.tag==="sync"?i.stripe:null,elements:i.tag==="sync"?i.stripe.elements(n):null}}),o=Yx(a,2),c=o[0],u=o[1];ee.useEffect(function(){var f=!0,y=function(x){u(function(v){return v.stripe?v:{stripe:x,elements:x.elements(n)}})};return i.tag==="async"&&!c.stripe?i.stripePromise.then(function(w){w&&f&&y(w)}):i.tag==="sync"&&!c.stripe&&y(i.stripe),function(){f=!1}},[i,c,n]);var d=nd(r);ee.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var h=nd(n);return ee.useEffect(function(){if(c.elements){var f=Xx(n,h,["clientSecret","fonts"]);f&&c.elements.update(f)}},[n,h,c.elements]),ee.useEffect(function(){jA(c.stripe)},[c.stripe]),ee.createElement(Ll.Provider,{value:c},s)};tw.propTypes={stripe:be.any,options:be.object};var kA=function(t){var r=ee.useContext(Ll);return ew(r,t)},SA=function(){var t=kA("calls useElements()"),r=t.elements;return r};be.func.isRequired;var rw=ee.createContext(null);rw.displayName="CheckoutSdkContext";var _A=function(t,r){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CheckoutProvider> provider."));return t},NA=ee.createContext(null);NA.displayName="CheckoutContext";be.any,be.shape({fetchClientSecret:be.func.isRequired,elementsOptions:be.object}).isRequired;var sd=function(t){var r=ee.useContext(rw),n=ee.useContext(Ll);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return r?_A(r,t):ew(n,t)},EA=["mode"],TA=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Ae=function(t,r){var n="".concat(TA(t),"Element"),s=function(c){var u=c.id,d=c.className,h=c.options,f=h===void 0?{}:h,y=c.onBlur,w=c.onFocus,x=c.onReady,v=c.onChange,g=c.onEscape,p=c.onClick,m=c.onLoadError,b=c.onLoaderStart,S=c.onNetworksChange,T=c.onConfirm,E=c.onCancel,A=c.onShippingAddressChange,M=c.onShippingRateChange,U=sd("mounts <".concat(n,">")),X="elements"in U?U.elements:null,B="checkoutSdk"in U?U.checkoutSdk:null,J=ee.useState(null),Y=Yx(J,2),Z=Y[0],te=Y[1],se=ee.useRef(null),L=ee.useRef(null);bt(Z,"blur",y),bt(Z,"focus",w),bt(Z,"escape",g),bt(Z,"click",p),bt(Z,"loaderror",m),bt(Z,"loaderstart",b),bt(Z,"networkschange",S),bt(Z,"confirm",T),bt(Z,"cancel",E),bt(Z,"shippingaddresschange",A),bt(Z,"shippingratechange",M),bt(Z,"change",v);var H;x&&(t==="expressCheckout"?H=x:H=function(){x(Z)}),bt(Z,"ready",H),ee.useLayoutEffect(function(){if(se.current===null&&L.current!==null&&(X||B)){var C=null;if(B)switch(t){case"payment":C=B.createPaymentElement(f);break;case"address":if("mode"in f){var R=f.mode,V=fA(f,EA);if(R==="shipping")C=B.createShippingAddressElement(V);else if(R==="billing")C=B.createBillingAddressElement(V);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":C=B.createExpressCheckoutElement(f);break;case"currencySelector":C=B.createCurrencySelectorElement();break;case"taxId":C=B.createTaxIdElement(f);break;default:throw new Error("Invalid Element type ".concat(n,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else X&&(C=X.create(t,f));se.current=C,te(C),C&&C.mount(L.current)}},[X,B,f]);var _=nd(f);return ee.useEffect(function(){if(se.current){var C=Xx(f,_,["paymentRequest"]);C&&"update"in se.current&&se.current.update(C)}},[f,_]),ee.useLayoutEffect(function(){return function(){if(se.current&&typeof se.current.destroy=="function")try{se.current.destroy(),se.current=null}catch{}}},[]),ee.createElement("div",{id:u,className:d,ref:L})},i=function(c){sd("mounts <".concat(n,">"));var u=c.id,d=c.className;return ee.createElement("div",{id:u,className:d})},a=r?i:s;return a.propTypes={id:be.string,className:be.string,onChange:be.func,onBlur:be.func,onFocus:be.func,onReady:be.func,onEscape:be.func,onClick:be.func,onLoadError:be.func,onLoaderStart:be.func,onNetworksChange:be.func,onConfirm:be.func,onCancel:be.func,onShippingAddressChange:be.func,onShippingRateChange:be.func,options:be.object},a.displayName=n,a.__elementType=t,a},Oe=typeof window>"u",CA=ee.createContext(null);CA.displayName="EmbeddedCheckoutProviderContext";var PA=function(){var t=sd("calls useStripe()"),r=t.stripe;return r};Ae("auBankAccount",Oe);var Ym=Ae("card",Oe);Ae("cardNumber",Oe);Ae("cardExpiry",Oe);Ae("cardCvc",Oe);Ae("fpxBank",Oe);Ae("iban",Oe);Ae("idealBank",Oe);Ae("p24Bank",Oe);Ae("epsBank",Oe);Ae("payment",Oe);Ae("expressCheckout",Oe);Ae("currencySelector",Oe);Ae("paymentRequestButton",Oe);Ae("linkAuthentication",Oe);Ae("address",Oe);Ae("shippingAddress",Oe);Ae("paymentMethodMessaging",Oe);Ae("affirmMessage",Oe);Ae("afterpayClearpayMessage",Oe);Ae("taxId",Oe);const AA=aA("pk_test_51OyBk9IgkIAGwv6wTnbqfLaivBQ0wYCltGf0gS4yeEZpxkD1f5jKEwarmr294R0LXNEzEMNxHuCKLRpMH8DYgaWD00g8BPRDAG"),OA=({event:e,onClose:t,onSuccess:r})=>{const n=PA(),s=SA(),[i,a]=j.useState([]),[o,c]=j.useState({name:"",email:""}),[u,d]=j.useState(!1),[h,f]=j.useState(null);j.useEffect(()=>{if(console.log("Event ticket tiers:",e.ticketTiers),e.ticketTiers&&e.ticketTiers.length>0){const p=e.ticketTiers.map(m=>({tierId:m.id,tier:m,quantity:0}));a(p)}},[e]);const y=(p,m)=>{a(b=>b.map(S=>S.tierId===p?{...S,quantity:Math.max(0,m)}:S))},w=()=>i.reduce((p,m)=>p+m.tier.price*m.quantity,0),x=()=>i.reduce((p,m)=>p+m.quantity,0),v=async p=>{var m;if(p.preventDefault(),!n||!s){f("Stripe has not loaded yet. Please try again.");return}if(x()===0){f("Please select at least one ticket.");return}if(!o.name||!o.email){f("Please fill in your name and email.");return}d(!0),f(null);try{const b=await fetch("/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:e.id,tickets:i.filter(A=>A.quantity>0),customerInfo:o,totalAmount:w()})});if(!b.ok)throw new Error("Failed to create payment intent");const{clientSecret:S}=await b.json(),{error:T,paymentIntent:E}=await n.confirmCardPayment(S,{payment_method:{card:s.getElement(Ym),billing_details:{name:o.name,email:o.email}}});if(T){f(T.message||"Payment failed");return}if(E.status==="succeeded"){const A=await fetch("/api/confirm-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentIntentId:E.id,eventId:e.id,tickets:i.filter(M=>M.quantity>0),customerInfo:o,totalAmount:w()})});if(A.ok){const M=await A.json(),U={id:((m=M.order)==null?void 0:m.id)||`order_${Date.now()}`,eventId:e.id,userId:o.email,stripePaymentIntentId:M.paymentIntentId,status:"completed",totalAmount:w(),currency:"gbp",tickets:i.filter(X=>X.quantity>0).map(X=>{var B;return{id:`ticket_${Date.now()}_${X.tierId}`,orderId:((B=M.order)==null?void 0:B.id)||`order_${Date.now()}`,ticketTierId:X.tierId,quantity:X.quantity,unitPrice:X.tier.price,totalPrice:X.tier.price*X.quantity}}),customerEmail:o.email,customerName:o.name,createdAt:new Date,updatedAt:new Date};r(U)}}}catch(b){f(b instanceof Error?b.message:"An error occurred")}finally{d(!1)}},g=(e.ticketTiers||[]).filter(p=>p.isActive!==!1&&p.capacity>p.soldCount);return l.jsxs("form",{onSubmit:v,className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Tickets"}),g.length===0&&l.jsx("div",{className:"mb-4 text-sm text-red-600",children:"This event is sold out."}),l.jsx("div",{className:"space-y-4",children:(e.ticketTiers||[]).map(p=>{const m=i.find(T=>T.tierId===p.id)||{quantity:0},b=p.capacity-p.soldCount,S=b<=0||p.isActive===!1;return l.jsxs("div",{className:"border rounded-lg p-4",children:[l.jsxs("div",{className:"flex justify-between items-start mb-3",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:p.name}),l.jsx("p",{className:"text-sm text-gray-600",children:p.description}),p.benefits&&p.benefits.length>0&&l.jsx("div",{className:"mt-2",children:p.benefits.map((T,E)=>l.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-1",children:[l.jsx(Q2,{className:"h-3 w-3"}),T]},E))})]}),l.jsx("div",{className:"text-right",children:S?l.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700",children:"Sold out"}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["£",(p.price/100).toFixed(2)]}),p.originalPrice&&p.originalPrice>p.price&&l.jsxs("div",{className:"text-sm text-gray-400 line-through",children:["£",(p.originalPrice/100).toFixed(2)]}),l.jsxs("div",{className:"text-sm text-gray-500",children:[b," available"]})]})})]}),S?l.jsx("div",{className:"text-sm text-gray-500",children:"This tier is currently unavailable."}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("button",{type:"button",onClick:()=>y(p.id,(m.quantity||0)-1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:"-"}),l.jsx("span",{className:"w-12 text-center font-medium",children:m.quantity||0}),l.jsx("button",{type:"button",onClick:()=>y(p.id,(m.quantity||0)+1),disabled:(m.quantity||0)>=b,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"+"})]}),l.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["£",(p.price*(m.quantity||0)/100).toFixed(2)]})]})]},p.id)})})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Information"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx("input",{type:"text",placeholder:"Full Name",value:o.name,onChange:p=>c({...o,name:p.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),l.jsx("input",{type:"email",placeholder:"Email Address",value:o.email,onChange:p=>c({...o,email:p.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment"}),l.jsx("div",{className:"border rounded-lg p-4",children:l.jsx(Ym,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Order Summary"}),l.jsxs("div",{className:"space-y-2",children:[i.filter(p=>p.quantity>0).map(p=>l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsxs("span",{children:[p.quantity,"x ",p.tier.name]}),l.jsxs("span",{children:["£",(p.tier.price*p.quantity/100).toFixed(2)]})]},p.tierId)),l.jsx("div",{className:"border-t pt-2 mt-2",children:l.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{children:["£",(w()/100).toFixed(2)]})]})})]})]}),h&&l.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:l.jsx("p",{className:"text-red-800",children:h})}),l.jsx("button",{type:"submit",disabled:!n||u||x()===0,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:u?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),l.jsx("span",{className:"ml-2",children:"Processing Payment..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(qo,{className:"h-5 w-5"}),l.jsxs("span",{className:"ml-2",children:["Pay £",(w()/100).toFixed(2)]})]})}),u&&l.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-white bg-opacity-90 flex items-center justify-center rounded-lg",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),l.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Processing your payment..."}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please don't close this window"})]})}),l.jsx("div",{className:"text-center text-sm text-gray-500",children:l.jsxs("div",{className:"flex items-center justify-center gap-2",children:[l.jsx(qo,{className:"h-4 w-4"}),"Secure payment powered by Stripe"]})})]})},DA=({event:e,onClose:t,onSuccess:r})=>l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:l.jsxs(O.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"p-6 border-b",children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Step 1 of 3"}),l.jsx("span",{className:"text-sm text-gray-500",children:"Select Tickets"})]}),l.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:l.jsx(O.div,{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",initial:{width:0},animate:{width:"33%"}})})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Buy Tickets"}),l.jsx("p",{className:"text-gray-600",children:e.title})]}),l.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:l.jsx(fa,{className:"h-6 w-6"})})]})]}),l.jsx("div",{className:"p-6",children:l.jsx(tw,{stripe:AA,children:l.jsx(OA,{event:e,onClose:t,onSuccess:r})})})]})}),RA=()=>{var g,p;const{events:e,getEvents:t,isLoading:r}=Hn(),[n,s]=j.useState(null),[i,a]=j.useState(!1),[o,c]=j.useState(null),[u]=Pj(),[d,h]=j.useState(!1),[f,y]=j.useState(null),w=j.useRef(null),[x,v]=j.useState(!1);return j.useEffect(()=>{const m=()=>{v(!0),setTimeout(()=>{v(!1)},200);const b=Math.random()*1500;setTimeout(m,b)};return m(),()=>{}},[]),j.useEffect(()=>{(async()=>{try{await t(),console.log("Events loaded in EventsPage:",e)}catch(b){console.error("Failed to load events:",b)}})()},[t]),j.useEffect(()=>{if(e.length>0){const m=u.get("event");m&&e.find(S=>S.id===m)&&(c(m),setTimeout(()=>{var S;(S=document.getElementById("events-grid"))==null||S.scrollIntoView({behavior:"smooth",block:"start"})},500))}},[e,u]),l.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[l.jsx(ix,{}),l.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-20 md:pt-32 pb-16 md:pb-24",children:[l.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[l.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-150",children:l.jsx("source",{src:"/vid.mp4",type:"video/mp4"})}),l.jsx("div",{className:"absolute inset-0 bg-black/60"})]}),l.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-6 lg:px-8 text-center",children:l.jsxs(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"space-y-6 md:space-y-8",children:[l.jsx(O.h1,{ref:w,animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:8,repeat:1/0,ease:"linear"},className:`text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl glitch-text ${x?"glitch-active":""}`,"data-text":"EVENTS",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"EVENTS"}),l.jsx(O.p,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"text-lg sm:text-xl md:text-2xl lg:text-xl font-light max-w-4xl mx-auto leading-relaxed px-2 text-white drop-shadow-lg",children:l.jsx("span",{className:"inline-block px-6 py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20",children:"⚡From rooftop raves to underground vibes - events that hit different⚡"})}),l.jsx(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"text-white/80 text-lg md:text-xl",children:r?l.jsx("span",{children:"Loading events..."}):l.jsxs("span",{children:[((g=e==null?void 0:e.filter(m=>!m.isArchived))==null?void 0:g.length)||0," upcoming events"]})}),l.jsx(O.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6},className:"pt-6 md:pt-8",children:l.jsxs(O.button,{onClick:()=>{var m;(m=document.getElementById("events-grid"))==null||m.scrollIntoView({behavior:"smooth",block:"start"})},whileHover:{scale:1.05,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},whileTap:{scale:.95},className:"bg-transparent mx-auto hover:bg-white/90 text-white hover:text-gray-900 px-6 md:px-8 py-3 md:py-4 text-base md:text-lg font-semibold rounded-lg border-2 border-white/70 w-full sm:w-auto transition-all backdrop-blur-sm group flex items-center justify-center gap-3",children:[l.jsx("span",{children:"Get Tickets"}),l.jsx(Qi,{className:"w-4 h-4 md:w-5 md:h-5 group-hover:translate-x-1 transition-transform"})]})})]})})]}),l.jsxs("section",{id:"events-grid",className:"py-16 md:py-20 relative px-4 overflow-hidden",children:[l.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[l.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-150",children:l.jsx("source",{src:"/vid-ev.mp4",type:"video/mp4"})}),l.jsx("div",{className:"absolute inset-0 bg-gray-800/90"})]}),l.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[l.jsxs(O.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12 md:mb-16",children:[l.jsx(O.h2,{className:`text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 text-white glitch-text ${x?"glitch-active":""}`,"data-text":"WHAT'S ON",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"WHAT'S ON"}),l.jsx("p",{className:"text-base sm:text-lg md:text-lg text-white/80 max-w-fit mx-auto leading-relaxed px-6 py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20",children:"Check out our upcoming events"})]}),r?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-white text-lg mb-4",children:"Loading events..."}),l.jsx("div",{className:"text-white/70 text-sm",children:"Please wait while we fetch the latest events"})]}):!e||e.length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-white text-lg mb-4",children:"No events available"}),l.jsx("div",{className:"text-white/70 text-sm",children:"Check back later for upcoming events"})]}):e.filter(m=>!m.isArchived).length===0?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-white text-lg mb-4",children:"No upcoming events"}),l.jsx("div",{className:"text-white/70 text-sm",children:"All events are currently archived"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:e.filter(m=>!m.isArchived).map((m,b)=>l.jsxs(O.div,{initial:{opacity:0,y:50,scale:.9},whileInView:{opacity:1,y:0,scale:1},viewport:{once:!0},transition:{duration:.6,delay:o===m.id?.2:b*.1,type:"spring",stiffness:100},whileHover:{y:-8,scale:1.02},className:`group relative bg-gradient-to-br from-white via-gray-50 to-white border rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer backdrop-blur-sm ${o===m.id?"border-blue-500 shadow-blue-500/25 scale-105 ring-2 ring-blue-500/20":"border-gray-100"}`,children:[l.jsxs("div",{className:"relative h-48 md:h-56 overflow-hidden",onClick:()=>{s(m),a(!0)},children:[o===m.id&&l.jsx("div",{className:"absolute top-4 right-4 z-10 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg animate-pulse",children:"⭐ Featured Event"}),l.jsx("img",{src:m.image,alt:m.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:S=>{const T=S.target;T.src=`https://via.placeholder.com/400x300/6B7280/FFFFFF?text=${encodeURIComponent(m.title)}`}}),l.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),l.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:m.tags.slice(0,2).map(S=>l.jsx("span",{className:"bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-semibold text-gray-800 shadow-sm border border-white/20",children:S},S))}),m.ticketTiers&&m.ticketTiers.length>0&&m.ticketTiers.every(S=>S.capacity-S.soldCount<=0||S.isActive===!1)&&l.jsx("div",{className:"absolute top-4 right-4 bg-red-500 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg",children:"Sold Out"}),l.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:l.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight drop-shadow-lg",children:m.title})})]}),l.jsxs("div",{className:"p-5 md:p-6 space-y-4",onClick:()=>{s(m),a(!0)},children:[l.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-2",children:m.description}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[l.jsx(sr,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:m.date})]}),l.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[l.jsx(Yi,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:m.time})]}),l.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[l.jsx(Os,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),l.jsx("span",{className:"text-sm font-semibold text-gray-900",children:m.venue})]})]}),m.ticketTiers&&m.ticketTiers.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Ticket Options"}),l.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:["From £",(Math.min(...m.ticketTiers.map(S=>S.price))/100).toFixed(2)]})]}),l.jsxs("div",{className:"space-y-1.5",children:[m.ticketTiers.slice(0,2).map(S=>l.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-gradient-to-r from-gray-50 to-white rounded-lg border border-gray-100",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),l.jsx("span",{className:"text-sm font-medium text-gray-800",children:S.name})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[S.originalPrice&&S.originalPrice>S.price&&l.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["£",(S.originalPrice/100).toFixed(2)]}),l.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["£",(S.price/100).toFixed(2)]})]})]},S.id)),m.ticketTiers.length>2&&l.jsx("div",{className:"text-center",children:l.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-3 py-1.5 rounded-full",children:["+",m.ticketTiers.length-2," more options"]})})]})]}),l.jsxs(O.button,{onClick:S=>{S.stopPropagation(),s(m),h(!0)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-gray-900 via-gray-800 to-gray-800 hover:from-gray-800 hover:via-gray-700 hover:to-gray-800 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 text-sm md:text-base flex items-center justify-center gap-3 shadow-lg hover:shadow-xl group-hover:shadow-2xl",children:[m.ticketTiers&&m.ticketTiers.length>0?"Get Tickets":"Book Now",l.jsx(Qi,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]},m.id))})]})]}),i&&n&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>a(!1),children:l.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full overflow-hidden",onClick:m=>m.stopPropagation(),children:[l.jsxs("div",{className:"relative h-48 overflow-hidden",children:[l.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"}),l.jsx("button",{className:"absolute top-3 right-3 bg-white/90 rounded-full p-1",onClick:()=>a(!1),children:l.jsx(fa,{className:"w-5 h-5 text-gray-700"})})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("h3",{className:"text-xl font-bold text-gray-900",children:n.title}),l.jsx("p",{className:"text-gray-600 text-sm",children:n.description}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-gray-600",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(sr,{className:"w-4 h-4"}),l.jsx("span",{children:n.date})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Yi,{className:"w-4 h-4"}),l.jsx("span",{children:n.time})]}),l.jsxs("div",{className:"flex items-center gap-2 sm:col-span-2",children:[l.jsx(Os,{className:"w-4 h-4"}),l.jsx("span",{children:n.venue})]})]}),n.ticketTiers&&n.ticketTiers.length>0&&l.jsxs("div",{children:[l.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Ticket Tiers"}),l.jsx("div",{className:"space-y-2",children:n.ticketTiers.map(m=>{const b=m.capacity-m.soldCount,S=b<=0||m.isActive===!1;return l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"text-gray-700",children:m.name}),S?l.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700",children:"Sold out"}):l.jsxs("div",{className:"flex items-center gap-2",children:[m.originalPrice&&m.originalPrice>m.price&&l.jsxs("span",{className:"text-gray-400 line-through",children:["£",(m.originalPrice/100).toFixed(2)]}),l.jsxs("span",{className:"font-semibold text-gray-900",children:["£",(m.price/100).toFixed(2)]}),l.jsxs("span",{className:"text-xs text-gray-500",children:["(",b," left)"]})]})]},m.id)})})]}),l.jsx("button",{onClick:()=>{a(!1),s(n),h(!0)},disabled:(p=n.ticketTiers)==null?void 0:p.every(m=>m.capacity-m.soldCount<=0||m.isActive===!1),className:"w-full bg-gray-900 hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg text-sm",children:"Buy Tickets"})]})]})}),d&&n&&l.jsx(DA,{event:n,onClose:()=>h(!1),onSuccess:m=>{y(m),h(!1)}}),f&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"bg-white rounded-xl max-w-md w-full p-6 text-center",children:[l.jsx("div",{className:"text-green-500 text-6xl mb-4",children:"✓"}),l.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Your tickets have been purchased successfully."}),l.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["Order ID: ",f.id]}),l.jsx("button",{onClick:()=>y(null),className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700",children:"Close"})]})}),l.jsx(Rx,{})]})};function LA(){const{getEvents:e,subscribeToEvents:t}=Hn();return j.useEffect(()=>{e();const r=t();return()=>{r==null||r.unsubscribe()}},[e,t]),l.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[l.jsx(dP,{}),l.jsx(ix,{}),l.jsx(cE,{}),l.jsx(lP,{}),l.jsx(cP,{}),l.jsx(uP,{}),l.jsx(Rx,{})]})}function IA({children:e}){const{isAuthenticated:t}=Hn();return t?l.jsx(l.Fragment,{children:e}):l.jsx(kj,{to:"/admin",replace:!0})}function $A(){return l.jsxs(Cj,{children:[l.jsxs(_j,{children:[l.jsx(oi,{path:"/",element:l.jsx(LA,{})}),l.jsx(oi,{path:"/events",element:l.jsx(RA,{})}),l.jsx(oi,{path:"/admin",element:l.jsx(RP,{})}),l.jsx(oi,{path:"/admin/dashboard",element:l.jsx(IA,{children:l.jsx(KP,{})})})]}),l.jsx(Vj,{}),l.jsx(Tk,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#fff",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}Dc.createRoot(document.getElementById("root")).render(l.jsx(ee.StrictMode,{children:l.jsx($A,{})}));
