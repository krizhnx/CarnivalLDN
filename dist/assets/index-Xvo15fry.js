var ZC=Object.defineProperty;var QC=(e,t,n)=>t in e?ZC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var io=(e,t,n)=>QC(e,typeof t!="symbol"?t+"":t,n);function d3(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var xi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JC(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var h3={exports:{}},A1={},f3={exports:{}},ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh=Symbol.for("react.element"),eE=Symbol.for("react.portal"),tE=Symbol.for("react.fragment"),nE=Symbol.for("react.strict_mode"),rE=Symbol.for("react.profiler"),iE=Symbol.for("react.provider"),sE=Symbol.for("react.context"),aE=Symbol.for("react.forward_ref"),oE=Symbol.for("react.suspense"),lE=Symbol.for("react.memo"),cE=Symbol.for("react.lazy"),lv=Symbol.iterator;function uE(e){return e===null||typeof e!="object"?null:(e=lv&&e[lv]||e["@@iterator"],typeof e=="function"?e:null)}var p3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m3=Object.assign,g3={};function id(e,t,n){this.props=e,this.context=t,this.refs=g3,this.updater=n||p3}id.prototype.isReactComponent={};id.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};id.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function x3(){}x3.prototype=id.prototype;function z2(e,t,n){this.props=e,this.context=t,this.refs=g3,this.updater=n||p3}var H2=z2.prototype=new x3;H2.constructor=z2;m3(H2,id.prototype);H2.isPureReactComponent=!0;var cv=Array.isArray,y3=Object.prototype.hasOwnProperty,q2={current:null},v3={key:!0,ref:!0,__self:!0,__source:!0};function w3(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)y3.call(t,r)&&!v3.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var h=Array(u),p=0;p<u;p++)h[p]=arguments[p+2];i.children=h}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:zh,type:e,key:s,ref:o,props:i,_owner:q2.current}}function dE(e,t){return{$$typeof:zh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function W2(e){return typeof e=="object"&&e!==null&&e.$$typeof===zh}function hE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var uv=/\/+/g;function Lp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?hE(""+e.key):t.toString(36)}function s0(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zh:case eE:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+Lp(o,0):r,cv(i)?(n="",e!=null&&(n=e.replace(uv,"$&/")+"/"),s0(i,t,n,"",function(p){return p})):i!=null&&(W2(i)&&(i=dE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(uv,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",cv(e))for(var u=0;u<e.length;u++){s=e[u];var h=r+Lp(s,u);o+=s0(s,t,n,h,i)}else if(h=uE(e),typeof h=="function")for(e=h.call(e),u=0;!(s=e.next()).done;)s=s.value,h=r+Lp(s,u++),o+=s0(s,t,n,h,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Sf(e,t,n){if(e==null)return e;var r=[],i=0;return s0(e,r,"","",function(s){return t.call(n,s,i++)}),r}function fE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xi={current:null},a0={transition:null},pE={ReactCurrentDispatcher:Xi,ReactCurrentBatchConfig:a0,ReactCurrentOwner:q2};function b3(){throw Error("act(...) is not supported in production builds of React.")}ln.Children={map:Sf,forEach:function(e,t,n){Sf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sf(e,function(){t++}),t},toArray:function(e){return Sf(e,function(t){return t})||[]},only:function(e){if(!W2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ln.Component=id;ln.Fragment=tE;ln.Profiler=rE;ln.PureComponent=z2;ln.StrictMode=nE;ln.Suspense=oE;ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pE;ln.act=b3;ln.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=m3({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=q2.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(h in t)y3.call(t,h)&&!v3.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&u!==void 0?u[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){u=Array(h);for(var p=0;p<h;p++)u[p]=arguments[p+2];r.children=u}return{$$typeof:zh,type:e.type,key:i,ref:s,props:r,_owner:o}};ln.createContext=function(e){return e={$$typeof:sE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:iE,_context:e},e.Consumer=e};ln.createElement=w3;ln.createFactory=function(e){var t=w3.bind(null,e);return t.type=e,t};ln.createRef=function(){return{current:null}};ln.forwardRef=function(e){return{$$typeof:aE,render:e}};ln.isValidElement=W2;ln.lazy=function(e){return{$$typeof:cE,_payload:{_status:-1,_result:e},_init:fE}};ln.memo=function(e,t){return{$$typeof:lE,type:e,compare:t===void 0?null:t}};ln.startTransition=function(e){var t=a0.transition;a0.transition={};try{e()}finally{a0.transition=t}};ln.unstable_act=b3;ln.useCallback=function(e,t){return Xi.current.useCallback(e,t)};ln.useContext=function(e){return Xi.current.useContext(e)};ln.useDebugValue=function(){};ln.useDeferredValue=function(e){return Xi.current.useDeferredValue(e)};ln.useEffect=function(e,t){return Xi.current.useEffect(e,t)};ln.useId=function(){return Xi.current.useId()};ln.useImperativeHandle=function(e,t,n){return Xi.current.useImperativeHandle(e,t,n)};ln.useInsertionEffect=function(e,t){return Xi.current.useInsertionEffect(e,t)};ln.useLayoutEffect=function(e,t){return Xi.current.useLayoutEffect(e,t)};ln.useMemo=function(e,t){return Xi.current.useMemo(e,t)};ln.useReducer=function(e,t,n){return Xi.current.useReducer(e,t,n)};ln.useRef=function(e){return Xi.current.useRef(e)};ln.useState=function(e){return Xi.current.useState(e)};ln.useSyncExternalStore=function(e,t,n){return Xi.current.useSyncExternalStore(e,t,n)};ln.useTransition=function(){return Xi.current.useTransition()};ln.version="18.3.1";f3.exports=ln;var fe=f3.exports;const Ot=Pc(fe),mE=d3({__proto__:null,default:Ot},[fe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE=fe,xE=Symbol.for("react.element"),yE=Symbol.for("react.fragment"),vE=Object.prototype.hasOwnProperty,wE=gE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bE={key:!0,ref:!0,__self:!0,__source:!0};function N3(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)vE.call(t,r)&&!bE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:xE,type:e,key:s,ref:o,props:i,_owner:wE.current}}A1.Fragment=yE;A1.jsx=N3;A1.jsxs=N3;h3.exports=A1;var d=h3.exports,Wm={},A3={exports:{}},ks={},S3={exports:{}},C3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ge,ie){var xe=ge.length;ge.push(ie);e:for(;0<xe;){var Ee=xe-1>>>1,R=ge[Ee];if(0<i(R,ie))ge[Ee]=ie,ge[xe]=R,xe=Ee;else break e}}function n(ge){return ge.length===0?null:ge[0]}function r(ge){if(ge.length===0)return null;var ie=ge[0],xe=ge.pop();if(xe!==ie){ge[0]=xe;e:for(var Ee=0,R=ge.length,K=R>>>1;Ee<K;){var ee=2*(Ee+1)-1,me=ge[ee],he=ee+1,ke=ge[he];if(0>i(me,xe))he<R&&0>i(ke,me)?(ge[Ee]=ke,ge[he]=xe,Ee=he):(ge[Ee]=me,ge[ee]=xe,Ee=ee);else if(he<R&&0>i(ke,xe))ge[Ee]=ke,ge[he]=xe,Ee=he;else break e}}return ie}function i(ge,ie){var xe=ge.sortIndex-ie.sortIndex;return xe!==0?xe:ge.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var h=[],p=[],x=1,y=null,N=3,b=!1,j=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(ge){for(var ie=n(p);ie!==null;){if(ie.callback===null)r(p);else if(ie.startTime<=ge)r(p),ie.sortIndex=ie.expirationTime,t(h,ie);else break;ie=n(p)}}function M(ge){if(T=!1,k(ge),!j)if(n(h)!==null)j=!0,Se(B);else{var ie=n(p);ie!==null&&Ae(M,ie.startTime-ge)}}function B(ge,ie){j=!1,T&&(T=!1,E(X),X=-1),b=!0;var xe=N;try{for(k(ie),y=n(h);y!==null&&(!(y.expirationTime>ie)||ge&&!W());){var Ee=y.callback;if(typeof Ee=="function"){y.callback=null,N=y.priorityLevel;var R=Ee(y.expirationTime<=ie);ie=e.unstable_now(),typeof R=="function"?y.callback=R:y===n(h)&&r(h),k(ie)}else r(h);y=n(h)}if(y!==null)var K=!0;else{var ee=n(p);ee!==null&&Ae(M,ee.startTime-ie),K=!1}return K}finally{y=null,N=xe,b=!1}}var ne=!1,F=null,X=-1,J=5,ve=-1;function W(){return!(e.unstable_now()-ve<J)}function z(){if(F!==null){var ge=e.unstable_now();ve=ge;var ie=!0;try{ie=F(!0,ge)}finally{ie?re():(ne=!1,F=null)}}else ne=!1}var re;if(typeof C=="function")re=function(){C(z)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,te=ae.port2;ae.port1.onmessage=z,re=function(){te.postMessage(null)}}else re=function(){P(z,0)};function Se(ge){F=ge,ne||(ne=!0,re())}function Ae(ge,ie){X=P(function(){ge(e.unstable_now())},ie)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ge){ge.callback=null},e.unstable_continueExecution=function(){j||b||(j=!0,Se(B))},e.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<ge?Math.floor(1e3/ge):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(ge){switch(N){case 1:case 2:case 3:var ie=3;break;default:ie=N}var xe=N;N=ie;try{return ge()}finally{N=xe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ge,ie){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var xe=N;N=ge;try{return ie()}finally{N=xe}},e.unstable_scheduleCallback=function(ge,ie,xe){var Ee=e.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?Ee+xe:Ee):xe=Ee,ge){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=xe+R,ge={id:x++,callback:ie,priorityLevel:ge,startTime:xe,expirationTime:R,sortIndex:-1},xe>Ee?(ge.sortIndex=xe,t(p,ge),n(h)===null&&ge===n(p)&&(T?(E(X),X=-1):T=!0,Ae(M,xe-Ee))):(ge.sortIndex=R,t(h,ge),j||b||(j=!0,Se(B))),ge},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(ge){var ie=N;return function(){var xe=N;N=ie;try{return ge.apply(this,arguments)}finally{N=xe}}}})(C3);S3.exports=C3;var NE=S3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE=fe,_s=NE;function ut(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E3=new Set,fh={};function Oc(e,t){Vu(e,t),Vu(e+"Capture",t)}function Vu(e,t){for(fh[e]=t,e=0;e<t.length;e++)E3.add(t[e])}var wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$m=Object.prototype.hasOwnProperty,SE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,dv={},hv={};function CE(e){return $m.call(hv,e)?!0:$m.call(dv,e)?!1:SE.test(e)?hv[e]=!0:(dv[e]=!0,!1)}function EE(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _E(e,t,n,r){if(t===null||typeof t>"u"||EE(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ki(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var wi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wi[e]=new Ki(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wi[t]=new Ki(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wi[e]=new Ki(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wi[e]=new Ki(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wi[e]=new Ki(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wi[e]=new Ki(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wi[e]=new Ki(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wi[e]=new Ki(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wi[e]=new Ki(e,5,!1,e.toLowerCase(),null,!1,!1)});var $2=/[\-:]([a-z])/g;function G2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace($2,G2);wi[t]=new Ki(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace($2,G2);wi[t]=new Ki(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace($2,G2);wi[t]=new Ki(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wi[e]=new Ki(e,1,!1,e.toLowerCase(),null,!1,!1)});wi.xlinkHref=new Ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wi[e]=new Ki(e,1,!1,e.toLowerCase(),null,!0,!0)});function Y2(e,t,n,r){var i=wi.hasOwnProperty(t)?wi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_E(t,n,i,r)&&(n=null),r||i===null?CE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Eo=AE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cf=Symbol.for("react.element"),du=Symbol.for("react.portal"),hu=Symbol.for("react.fragment"),X2=Symbol.for("react.strict_mode"),Gm=Symbol.for("react.profiler"),_3=Symbol.for("react.provider"),T3=Symbol.for("react.context"),K2=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Xm=Symbol.for("react.suspense_list"),Z2=Symbol.for("react.memo"),Qo=Symbol.for("react.lazy"),I3=Symbol.for("react.offscreen"),fv=Symbol.iterator;function bd(e){return e===null||typeof e!="object"?null:(e=fv&&e[fv]||e["@@iterator"],typeof e=="function"?e:null)}var pr=Object.assign,Pp;function Ud(e){if(Pp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Pp=t&&t[1]||""}return`
`+Pp+e}var Op=!1;function Dp(e,t){if(!e||Op)return"";Op=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var i=p.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var h=`
`+i[o].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=o&&0<=u);break}}}finally{Op=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ud(e):""}function TE(e){switch(e.tag){case 5:return Ud(e.type);case 16:return Ud("Lazy");case 13:return Ud("Suspense");case 19:return Ud("SuspenseList");case 0:case 2:case 15:return e=Dp(e.type,!1),e;case 11:return e=Dp(e.type.render,!1),e;case 1:return e=Dp(e.type,!0),e;default:return""}}function Km(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hu:return"Fragment";case du:return"Portal";case Gm:return"Profiler";case X2:return"StrictMode";case Ym:return"Suspense";case Xm:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case T3:return(e.displayName||"Context")+".Consumer";case _3:return(e._context.displayName||"Context")+".Provider";case K2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Z2:return t=e.displayName||null,t!==null?t:Km(e.type)||"Memo";case Qo:t=e._payload,e=e._init;try{return Km(e(t))}catch{}}return null}function IE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Km(t);case 8:return t===X2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function k3(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kE(e){var t=k3(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ef(e){e._valueTracker||(e._valueTracker=kE(e))}function j3(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=k3(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function T0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zm(e,t){var n=t.checked;return pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function pv(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=bl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function L3(e,t){t=t.checked,t!=null&&Y2(e,"checked",t,!1)}function Qm(e,t){L3(e,t);var n=bl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jm(e,t.type,n):t.hasOwnProperty("defaultValue")&&Jm(e,t.type,bl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function mv(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Jm(e,t,n){(t!=="number"||T0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vd=Array.isArray;function Iu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function eg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ut(91));return pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gv(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ut(92));if(Vd(n)){if(1<n.length)throw Error(ut(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bl(n)}}function P3(e,t){var n=bl(t.value),r=bl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function xv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function O3(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?O3(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _f,D3=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_f=_f||document.createElement("div"),_f.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_f.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ph(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var $d={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jE=["Webkit","ms","Moz","O"];Object.keys($d).forEach(function(e){jE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),$d[t]=$d[e]})});function M3(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||$d.hasOwnProperty(e)&&$d[e]?(""+t).trim():t+"px"}function R3(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=M3(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var LE=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ng(e,t){if(t){if(LE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ut(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ut(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ut(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ut(62))}}function rg(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ig=null;function Q2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var sg=null,ku=null,ju=null;function yv(e){if(e=Wh(e)){if(typeof sg!="function")throw Error(ut(280));var t=e.stateNode;t&&(t=T1(t),sg(e.stateNode,e.type,t))}}function B3(e){ku?ju?ju.push(e):ju=[e]:ku=e}function F3(){if(ku){var e=ku,t=ju;if(ju=ku=null,yv(e),t)for(e=0;e<t.length;e++)yv(t[e])}}function U3(e,t){return e(t)}function V3(){}var Mp=!1;function z3(e,t,n){if(Mp)return e(t,n);Mp=!0;try{return U3(e,t,n)}finally{Mp=!1,(ku!==null||ju!==null)&&(V3(),F3())}}function mh(e,t){var n=e.stateNode;if(n===null)return null;var r=T1(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ut(231,t,typeof n));return n}var ag=!1;if(wo)try{var Nd={};Object.defineProperty(Nd,"passive",{get:function(){ag=!0}}),window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{ag=!1}function PE(e,t,n,r,i,s,o,u,h){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(x){this.onError(x)}}var Gd=!1,I0=null,k0=!1,og=null,OE={onError:function(e){Gd=!0,I0=e}};function DE(e,t,n,r,i,s,o,u,h){Gd=!1,I0=null,PE.apply(OE,arguments)}function ME(e,t,n,r,i,s,o,u,h){if(DE.apply(this,arguments),Gd){if(Gd){var p=I0;Gd=!1,I0=null}else throw Error(ut(198));k0||(k0=!0,og=p)}}function Dc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function H3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function vv(e){if(Dc(e)!==e)throw Error(ut(188))}function RE(e){var t=e.alternate;if(!t){if(t=Dc(e),t===null)throw Error(ut(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return vv(i),e;if(s===r)return vv(i),t;s=s.sibling}throw Error(ut(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(ut(189))}}if(n.alternate!==r)throw Error(ut(190))}if(n.tag!==3)throw Error(ut(188));return n.stateNode.current===n?e:t}function q3(e){return e=RE(e),e!==null?W3(e):null}function W3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=W3(e);if(t!==null)return t;e=e.sibling}return null}var $3=_s.unstable_scheduleCallback,wv=_s.unstable_cancelCallback,BE=_s.unstable_shouldYield,FE=_s.unstable_requestPaint,Tr=_s.unstable_now,UE=_s.unstable_getCurrentPriorityLevel,J2=_s.unstable_ImmediatePriority,G3=_s.unstable_UserBlockingPriority,j0=_s.unstable_NormalPriority,VE=_s.unstable_LowPriority,Y3=_s.unstable_IdlePriority,S1=null,za=null;function zE(e){if(za&&typeof za.onCommitFiberRoot=="function")try{za.onCommitFiberRoot(S1,e,void 0,(e.current.flags&128)===128)}catch{}}var wa=Math.clz32?Math.clz32:WE,HE=Math.log,qE=Math.LN2;function WE(e){return e>>>=0,e===0?32:31-(HE(e)/qE|0)|0}var Tf=64,If=4194304;function zd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function L0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=zd(u):(s&=o,s!==0&&(r=zd(s)))}else o=n&~i,o!==0?r=zd(o):s!==0&&(r=zd(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wa(t),i=1<<n,r|=e[n],t&=~i;return r}function $E(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function GE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-wa(s),u=1<<o,h=i[o];h===-1?(!(u&n)||u&r)&&(i[o]=$E(u,t)):h<=t&&(e.expiredLanes|=u),s&=~u}}function lg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X3(){var e=Tf;return Tf<<=1,!(Tf&4194240)&&(Tf=64),e}function Rp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wa(t),e[t]=n}function YE(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-wa(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function ex(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wa(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var In=0;function K3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Z3,tx,Q3,J3,e4,cg=!1,kf=[],dl=null,hl=null,fl=null,gh=new Map,xh=new Map,tl=[],XE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bv(e,t){switch(e){case"focusin":case"focusout":dl=null;break;case"dragenter":case"dragleave":hl=null;break;case"mouseover":case"mouseout":fl=null;break;case"pointerover":case"pointerout":gh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(t.pointerId)}}function Ad(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Wh(t),t!==null&&tx(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function KE(e,t,n,r,i){switch(t){case"focusin":return dl=Ad(dl,e,t,n,r,i),!0;case"dragenter":return hl=Ad(hl,e,t,n,r,i),!0;case"mouseover":return fl=Ad(fl,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return gh.set(s,Ad(gh.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xh.set(s,Ad(xh.get(s)||null,e,t,n,r,i)),!0}return!1}function t4(e){var t=xc(e.target);if(t!==null){var n=Dc(t);if(n!==null){if(t=n.tag,t===13){if(t=H3(n),t!==null){e.blockedOn=t,e4(e.priority,function(){Q3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function o0(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ug(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ig=r,n.target.dispatchEvent(r),ig=null}else return t=Wh(n),t!==null&&tx(t),e.blockedOn=n,!1;t.shift()}return!0}function Nv(e,t,n){o0(e)&&n.delete(t)}function ZE(){cg=!1,dl!==null&&o0(dl)&&(dl=null),hl!==null&&o0(hl)&&(hl=null),fl!==null&&o0(fl)&&(fl=null),gh.forEach(Nv),xh.forEach(Nv)}function Sd(e,t){e.blockedOn===t&&(e.blockedOn=null,cg||(cg=!0,_s.unstable_scheduleCallback(_s.unstable_NormalPriority,ZE)))}function yh(e){function t(i){return Sd(i,e)}if(0<kf.length){Sd(kf[0],e);for(var n=1;n<kf.length;n++){var r=kf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(dl!==null&&Sd(dl,e),hl!==null&&Sd(hl,e),fl!==null&&Sd(fl,e),gh.forEach(t),xh.forEach(t),n=0;n<tl.length;n++)r=tl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<tl.length&&(n=tl[0],n.blockedOn===null);)t4(n),n.blockedOn===null&&tl.shift()}var Lu=Eo.ReactCurrentBatchConfig,P0=!0;function QE(e,t,n,r){var i=In,s=Lu.transition;Lu.transition=null;try{In=1,nx(e,t,n,r)}finally{In=i,Lu.transition=s}}function JE(e,t,n,r){var i=In,s=Lu.transition;Lu.transition=null;try{In=4,nx(e,t,n,r)}finally{In=i,Lu.transition=s}}function nx(e,t,n,r){if(P0){var i=ug(e,t,n,r);if(i===null)Gp(e,t,r,O0,n),bv(e,r);else if(KE(i,e,t,n,r))r.stopPropagation();else if(bv(e,r),t&4&&-1<XE.indexOf(e)){for(;i!==null;){var s=Wh(i);if(s!==null&&Z3(s),s=ug(e,t,n,r),s===null&&Gp(e,t,r,O0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Gp(e,t,r,null,n)}}var O0=null;function ug(e,t,n,r){if(O0=null,e=Q2(r),e=xc(e),e!==null)if(t=Dc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=H3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return O0=e,null}function n4(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UE()){case J2:return 1;case G3:return 4;case j0:case VE:return 16;case Y3:return 536870912;default:return 16}default:return 16}}var al=null,rx=null,l0=null;function r4(){if(l0)return l0;var e,t=rx,n=t.length,r,i="value"in al?al.value:al.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return l0=i.slice(e,1<r?1-r:void 0)}function c0(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function jf(){return!0}function Av(){return!1}function js(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jf:Av,this.isPropagationStopped=Av,this}return pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jf)},persist:function(){},isPersistent:jf}),t}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ix=js(sd),qh=pr({},sd,{view:0,detail:0}),e8=js(qh),Bp,Fp,Cd,C1=pr({},qh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cd&&(Cd&&e.type==="mousemove"?(Bp=e.screenX-Cd.screenX,Fp=e.screenY-Cd.screenY):Fp=Bp=0,Cd=e),Bp)},movementY:function(e){return"movementY"in e?e.movementY:Fp}}),Sv=js(C1),t8=pr({},C1,{dataTransfer:0}),n8=js(t8),r8=pr({},qh,{relatedTarget:0}),Up=js(r8),i8=pr({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),s8=js(i8),a8=pr({},sd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),o8=js(a8),l8=pr({},sd,{data:0}),Cv=js(l8),c8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},u8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h8(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=d8[e])?!!t[e]:!1}function sx(){return h8}var f8=pr({},qh,{key:function(e){if(e.key){var t=c8[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=c0(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?u8[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sx,charCode:function(e){return e.type==="keypress"?c0(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?c0(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),p8=js(f8),m8=pr({},C1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ev=js(m8),g8=pr({},qh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sx}),x8=js(g8),y8=pr({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),v8=js(y8),w8=pr({},C1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),b8=js(w8),N8=[9,13,27,32],ax=wo&&"CompositionEvent"in window,Yd=null;wo&&"documentMode"in document&&(Yd=document.documentMode);var A8=wo&&"TextEvent"in window&&!Yd,i4=wo&&(!ax||Yd&&8<Yd&&11>=Yd),_v=" ",Tv=!1;function s4(e,t){switch(e){case"keyup":return N8.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function a4(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fu=!1;function S8(e,t){switch(e){case"compositionend":return a4(t);case"keypress":return t.which!==32?null:(Tv=!0,_v);case"textInput":return e=t.data,e===_v&&Tv?null:e;default:return null}}function C8(e,t){if(fu)return e==="compositionend"||!ax&&s4(e,t)?(e=r4(),l0=rx=al=null,fu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return i4&&t.locale!=="ko"?null:t.data;default:return null}}var E8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E8[e.type]:t==="textarea"}function o4(e,t,n,r){B3(r),t=D0(t,"onChange"),0<t.length&&(n=new ix("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xd=null,vh=null;function _8(e){y4(e,0)}function E1(e){var t=gu(e);if(j3(t))return e}function T8(e,t){if(e==="change")return t}var l4=!1;if(wo){var Vp;if(wo){var zp="oninput"in document;if(!zp){var kv=document.createElement("div");kv.setAttribute("oninput","return;"),zp=typeof kv.oninput=="function"}Vp=zp}else Vp=!1;l4=Vp&&(!document.documentMode||9<document.documentMode)}function jv(){Xd&&(Xd.detachEvent("onpropertychange",c4),vh=Xd=null)}function c4(e){if(e.propertyName==="value"&&E1(vh)){var t=[];o4(t,vh,e,Q2(e)),z3(_8,t)}}function I8(e,t,n){e==="focusin"?(jv(),Xd=t,vh=n,Xd.attachEvent("onpropertychange",c4)):e==="focusout"&&jv()}function k8(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return E1(vh)}function j8(e,t){if(e==="click")return E1(t)}function L8(e,t){if(e==="input"||e==="change")return E1(t)}function P8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Na=typeof Object.is=="function"?Object.is:P8;function wh(e,t){if(Na(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$m.call(t,i)||!Na(e[i],t[i]))return!1}return!0}function Lv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pv(e,t){var n=Lv(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lv(n)}}function u4(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?u4(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function d4(){for(var e=window,t=T0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=T0(e.document)}return t}function ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function O8(e){var t=d4(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&u4(n.ownerDocument.documentElement,n)){if(r!==null&&ox(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Pv(n,s);var o=Pv(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var D8=wo&&"documentMode"in document&&11>=document.documentMode,pu=null,dg=null,Kd=null,hg=!1;function Ov(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hg||pu==null||pu!==T0(r)||(r=pu,"selectionStart"in r&&ox(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Kd&&wh(Kd,r)||(Kd=r,r=D0(dg,"onSelect"),0<r.length&&(t=new ix("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pu)))}function Lf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mu={animationend:Lf("Animation","AnimationEnd"),animationiteration:Lf("Animation","AnimationIteration"),animationstart:Lf("Animation","AnimationStart"),transitionend:Lf("Transition","TransitionEnd")},Hp={},h4={};wo&&(h4=document.createElement("div").style,"AnimationEvent"in window||(delete mu.animationend.animation,delete mu.animationiteration.animation,delete mu.animationstart.animation),"TransitionEvent"in window||delete mu.transitionend.transition);function _1(e){if(Hp[e])return Hp[e];if(!mu[e])return e;var t=mu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in h4)return Hp[e]=t[n];return e}var f4=_1("animationend"),p4=_1("animationiteration"),m4=_1("animationstart"),g4=_1("transitionend"),x4=new Map,Dv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kl(e,t){x4.set(e,t),Oc(t,[e])}for(var qp=0;qp<Dv.length;qp++){var Wp=Dv[qp],M8=Wp.toLowerCase(),R8=Wp[0].toUpperCase()+Wp.slice(1);kl(M8,"on"+R8)}kl(f4,"onAnimationEnd");kl(p4,"onAnimationIteration");kl(m4,"onAnimationStart");kl("dblclick","onDoubleClick");kl("focusin","onFocus");kl("focusout","onBlur");kl(g4,"onTransitionEnd");Vu("onMouseEnter",["mouseout","mouseover"]);Vu("onMouseLeave",["mouseout","mouseover"]);Vu("onPointerEnter",["pointerout","pointerover"]);Vu("onPointerLeave",["pointerout","pointerover"]);Oc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B8=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hd));function Mv(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,ME(r,t,void 0,e),e.currentTarget=null}function y4(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],h=u.instance,p=u.currentTarget;if(u=u.listener,h!==s&&i.isPropagationStopped())break e;Mv(i,u,p),s=h}else for(o=0;o<r.length;o++){if(u=r[o],h=u.instance,p=u.currentTarget,u=u.listener,h!==s&&i.isPropagationStopped())break e;Mv(i,u,p),s=h}}}if(k0)throw e=og,k0=!1,og=null,e}function Xn(e,t){var n=t[xg];n===void 0&&(n=t[xg]=new Set);var r=e+"__bubble";n.has(r)||(v4(t,e,2,!1),n.add(r))}function $p(e,t,n){var r=0;t&&(r|=4),v4(n,e,r,t)}var Pf="_reactListening"+Math.random().toString(36).slice(2);function bh(e){if(!e[Pf]){e[Pf]=!0,E3.forEach(function(n){n!=="selectionchange"&&(B8.has(n)||$p(n,!1,e),$p(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pf]||(t[Pf]=!0,$p("selectionchange",!1,t))}}function v4(e,t,n,r){switch(n4(t)){case 1:var i=QE;break;case 4:i=JE;break;default:i=nx}n=i.bind(null,t,n,e),i=void 0,!ag||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gp(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var h=o.tag;if((h===3||h===4)&&(h=o.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;o=o.return}for(;u!==null;){if(o=xc(u),o===null)return;if(h=o.tag,h===5||h===6){r=s=o;continue e}u=u.parentNode}}r=r.return}z3(function(){var p=s,x=Q2(n),y=[];e:{var N=x4.get(e);if(N!==void 0){var b=ix,j=e;switch(e){case"keypress":if(c0(n)===0)break e;case"keydown":case"keyup":b=p8;break;case"focusin":j="focus",b=Up;break;case"focusout":j="blur",b=Up;break;case"beforeblur":case"afterblur":b=Up;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Sv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=n8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=x8;break;case f4:case p4:case m4:b=s8;break;case g4:b=v8;break;case"scroll":b=e8;break;case"wheel":b=b8;break;case"copy":case"cut":case"paste":b=o8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Ev}var T=(t&4)!==0,P=!T&&e==="scroll",E=T?N!==null?N+"Capture":null:N;T=[];for(var C=p,k;C!==null;){k=C;var M=k.stateNode;if(k.tag===5&&M!==null&&(k=M,E!==null&&(M=mh(C,E),M!=null&&T.push(Nh(C,M,k)))),P)break;C=C.return}0<T.length&&(N=new b(N,j,null,n,x),y.push({event:N,listeners:T}))}}if(!(t&7)){e:{if(N=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",N&&n!==ig&&(j=n.relatedTarget||n.fromElement)&&(xc(j)||j[bo]))break e;if((b||N)&&(N=x.window===x?x:(N=x.ownerDocument)?N.defaultView||N.parentWindow:window,b?(j=n.relatedTarget||n.toElement,b=p,j=j?xc(j):null,j!==null&&(P=Dc(j),j!==P||j.tag!==5&&j.tag!==6)&&(j=null)):(b=null,j=p),b!==j)){if(T=Sv,M="onMouseLeave",E="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(T=Ev,M="onPointerLeave",E="onPointerEnter",C="pointer"),P=b==null?N:gu(b),k=j==null?N:gu(j),N=new T(M,C+"leave",b,n,x),N.target=P,N.relatedTarget=k,M=null,xc(x)===p&&(T=new T(E,C+"enter",j,n,x),T.target=k,T.relatedTarget=P,M=T),P=M,b&&j)t:{for(T=b,E=j,C=0,k=T;k;k=Zc(k))C++;for(k=0,M=E;M;M=Zc(M))k++;for(;0<C-k;)T=Zc(T),C--;for(;0<k-C;)E=Zc(E),k--;for(;C--;){if(T===E||E!==null&&T===E.alternate)break t;T=Zc(T),E=Zc(E)}T=null}else T=null;b!==null&&Rv(y,N,b,T,!1),j!==null&&P!==null&&Rv(y,P,j,T,!0)}}e:{if(N=p?gu(p):window,b=N.nodeName&&N.nodeName.toLowerCase(),b==="select"||b==="input"&&N.type==="file")var B=T8;else if(Iv(N))if(l4)B=L8;else{B=k8;var ne=I8}else(b=N.nodeName)&&b.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(B=j8);if(B&&(B=B(e,p))){o4(y,B,n,x);break e}ne&&ne(e,N,p),e==="focusout"&&(ne=N._wrapperState)&&ne.controlled&&N.type==="number"&&Jm(N,"number",N.value)}switch(ne=p?gu(p):window,e){case"focusin":(Iv(ne)||ne.contentEditable==="true")&&(pu=ne,dg=p,Kd=null);break;case"focusout":Kd=dg=pu=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,Ov(y,n,x);break;case"selectionchange":if(D8)break;case"keydown":case"keyup":Ov(y,n,x)}var F;if(ax)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else fu?s4(e,n)&&(X="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(X="onCompositionStart");X&&(i4&&n.locale!=="ko"&&(fu||X!=="onCompositionStart"?X==="onCompositionEnd"&&fu&&(F=r4()):(al=x,rx="value"in al?al.value:al.textContent,fu=!0)),ne=D0(p,X),0<ne.length&&(X=new Cv(X,e,null,n,x),y.push({event:X,listeners:ne}),F?X.data=F:(F=a4(n),F!==null&&(X.data=F)))),(F=A8?S8(e,n):C8(e,n))&&(p=D0(p,"onBeforeInput"),0<p.length&&(x=new Cv("onBeforeInput","beforeinput",null,n,x),y.push({event:x,listeners:p}),x.data=F))}y4(y,t)})}function Nh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function D0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mh(e,n),s!=null&&r.unshift(Nh(e,s,i)),s=mh(e,t),s!=null&&r.push(Nh(e,s,i))),e=e.return}return r}function Zc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Rv(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var u=n,h=u.alternate,p=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&p!==null&&(u=p,i?(h=mh(n,s),h!=null&&o.unshift(Nh(n,h,u))):i||(h=mh(n,s),h!=null&&o.push(Nh(n,h,u)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var F8=/\r\n?/g,U8=/\u0000|\uFFFD/g;function Bv(e){return(typeof e=="string"?e:""+e).replace(F8,`
`).replace(U8,"")}function Of(e,t,n){if(t=Bv(t),Bv(e)!==t&&n)throw Error(ut(425))}function M0(){}var fg=null,pg=null;function mg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var gg=typeof setTimeout=="function"?setTimeout:void 0,V8=typeof clearTimeout=="function"?clearTimeout:void 0,Fv=typeof Promise=="function"?Promise:void 0,z8=typeof queueMicrotask=="function"?queueMicrotask:typeof Fv<"u"?function(e){return Fv.resolve(null).then(e).catch(H8)}:gg;function H8(e){setTimeout(function(){throw e})}function Yp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),yh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yh(t)}function pl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Uv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ad=Math.random().toString(36).slice(2),Ba="__reactFiber$"+ad,Ah="__reactProps$"+ad,bo="__reactContainer$"+ad,xg="__reactEvents$"+ad,q8="__reactListeners$"+ad,W8="__reactHandles$"+ad;function xc(e){var t=e[Ba];if(t)return t;for(var n=e.parentNode;n;){if(t=n[bo]||n[Ba]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Uv(e);e!==null;){if(n=e[Ba])return n;e=Uv(e)}return t}e=n,n=e.parentNode}return null}function Wh(e){return e=e[Ba]||e[bo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function gu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ut(33))}function T1(e){return e[Ah]||null}var yg=[],xu=-1;function jl(e){return{current:e}}function Qn(e){0>xu||(e.current=yg[xu],yg[xu]=null,xu--)}function zn(e,t){xu++,yg[xu]=e.current,e.current=t}var Nl={},Ri=jl(Nl),os=jl(!1),Tc=Nl;function zu(e,t){var n=e.type.contextTypes;if(!n)return Nl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ls(e){return e=e.childContextTypes,e!=null}function R0(){Qn(os),Qn(Ri)}function Vv(e,t,n){if(Ri.current!==Nl)throw Error(ut(168));zn(Ri,t),zn(os,n)}function w4(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ut(108,IE(e)||"Unknown",i));return pr({},n,r)}function B0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Nl,Tc=Ri.current,zn(Ri,e),zn(os,os.current),!0}function zv(e,t,n){var r=e.stateNode;if(!r)throw Error(ut(169));n?(e=w4(e,t,Tc),r.__reactInternalMemoizedMergedChildContext=e,Qn(os),Qn(Ri),zn(Ri,e)):Qn(os),zn(os,n)}var ho=null,I1=!1,Xp=!1;function b4(e){ho===null?ho=[e]:ho.push(e)}function $8(e){I1=!0,b4(e)}function Ll(){if(!Xp&&ho!==null){Xp=!0;var e=0,t=In;try{var n=ho;for(In=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ho=null,I1=!1}catch(i){throw ho!==null&&(ho=ho.slice(e+1)),$3(J2,Ll),i}finally{In=t,Xp=!1}}return null}var yu=[],vu=0,F0=null,U0=0,$s=[],Gs=0,Ic=null,fo=1,po="";function lc(e,t){yu[vu++]=U0,yu[vu++]=F0,F0=e,U0=t}function N4(e,t,n){$s[Gs++]=fo,$s[Gs++]=po,$s[Gs++]=Ic,Ic=e;var r=fo;e=po;var i=32-wa(r)-1;r&=~(1<<i),n+=1;var s=32-wa(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,fo=1<<32-wa(t)+i|n<<i|r,po=s+e}else fo=1<<s|n<<i|r,po=e}function lx(e){e.return!==null&&(lc(e,1),N4(e,1,0))}function cx(e){for(;e===F0;)F0=yu[--vu],yu[vu]=null,U0=yu[--vu],yu[vu]=null;for(;e===Ic;)Ic=$s[--Gs],$s[Gs]=null,po=$s[--Gs],$s[Gs]=null,fo=$s[--Gs],$s[Gs]=null}var Es=null,Ss=null,sr=!1,ga=null;function A4(e,t){var n=Ys(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Hv(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Es=e,Ss=pl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Es=e,Ss=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ic!==null?{id:fo,overflow:po}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ys(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Es=e,Ss=null,!0):!1;default:return!1}}function vg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wg(e){if(sr){var t=Ss;if(t){var n=t;if(!Hv(e,t)){if(vg(e))throw Error(ut(418));t=pl(n.nextSibling);var r=Es;t&&Hv(e,t)?A4(r,n):(e.flags=e.flags&-4097|2,sr=!1,Es=e)}}else{if(vg(e))throw Error(ut(418));e.flags=e.flags&-4097|2,sr=!1,Es=e}}}function qv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Es=e}function Df(e){if(e!==Es)return!1;if(!sr)return qv(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!mg(e.type,e.memoizedProps)),t&&(t=Ss)){if(vg(e))throw S4(),Error(ut(418));for(;t;)A4(e,t),t=pl(t.nextSibling)}if(qv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ut(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ss=pl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ss=null}}else Ss=Es?pl(e.stateNode.nextSibling):null;return!0}function S4(){for(var e=Ss;e;)e=pl(e.nextSibling)}function Hu(){Ss=Es=null,sr=!1}function ux(e){ga===null?ga=[e]:ga.push(e)}var G8=Eo.ReactCurrentBatchConfig;function Ed(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ut(309));var r=n.stateNode}if(!r)throw Error(ut(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ut(284));if(!n._owner)throw Error(ut(290,e))}return e}function Mf(e,t){throw e=Object.prototype.toString.call(t),Error(ut(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wv(e){var t=e._init;return t(e._payload)}function C4(e){function t(E,C){if(e){var k=E.deletions;k===null?(E.deletions=[C],E.flags|=16):k.push(C)}}function n(E,C){if(!e)return null;for(;C!==null;)t(E,C),C=C.sibling;return null}function r(E,C){for(E=new Map;C!==null;)C.key!==null?E.set(C.key,C):E.set(C.index,C),C=C.sibling;return E}function i(E,C){return E=yl(E,C),E.index=0,E.sibling=null,E}function s(E,C,k){return E.index=k,e?(k=E.alternate,k!==null?(k=k.index,k<C?(E.flags|=2,C):k):(E.flags|=2,C)):(E.flags|=1048576,C)}function o(E){return e&&E.alternate===null&&(E.flags|=2),E}function u(E,C,k,M){return C===null||C.tag!==6?(C=nm(k,E.mode,M),C.return=E,C):(C=i(C,k),C.return=E,C)}function h(E,C,k,M){var B=k.type;return B===hu?x(E,C,k.props.children,M,k.key):C!==null&&(C.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Qo&&Wv(B)===C.type)?(M=i(C,k.props),M.ref=Ed(E,C,k),M.return=E,M):(M=g0(k.type,k.key,k.props,null,E.mode,M),M.ref=Ed(E,C,k),M.return=E,M)}function p(E,C,k,M){return C===null||C.tag!==4||C.stateNode.containerInfo!==k.containerInfo||C.stateNode.implementation!==k.implementation?(C=rm(k,E.mode,M),C.return=E,C):(C=i(C,k.children||[]),C.return=E,C)}function x(E,C,k,M,B){return C===null||C.tag!==7?(C=Cc(k,E.mode,M,B),C.return=E,C):(C=i(C,k),C.return=E,C)}function y(E,C,k){if(typeof C=="string"&&C!==""||typeof C=="number")return C=nm(""+C,E.mode,k),C.return=E,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Cf:return k=g0(C.type,C.key,C.props,null,E.mode,k),k.ref=Ed(E,null,C),k.return=E,k;case du:return C=rm(C,E.mode,k),C.return=E,C;case Qo:var M=C._init;return y(E,M(C._payload),k)}if(Vd(C)||bd(C))return C=Cc(C,E.mode,k,null),C.return=E,C;Mf(E,C)}return null}function N(E,C,k,M){var B=C!==null?C.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return B!==null?null:u(E,C,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Cf:return k.key===B?h(E,C,k,M):null;case du:return k.key===B?p(E,C,k,M):null;case Qo:return B=k._init,N(E,C,B(k._payload),M)}if(Vd(k)||bd(k))return B!==null?null:x(E,C,k,M,null);Mf(E,k)}return null}function b(E,C,k,M,B){if(typeof M=="string"&&M!==""||typeof M=="number")return E=E.get(k)||null,u(C,E,""+M,B);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Cf:return E=E.get(M.key===null?k:M.key)||null,h(C,E,M,B);case du:return E=E.get(M.key===null?k:M.key)||null,p(C,E,M,B);case Qo:var ne=M._init;return b(E,C,k,ne(M._payload),B)}if(Vd(M)||bd(M))return E=E.get(k)||null,x(C,E,M,B,null);Mf(C,M)}return null}function j(E,C,k,M){for(var B=null,ne=null,F=C,X=C=0,J=null;F!==null&&X<k.length;X++){F.index>X?(J=F,F=null):J=F.sibling;var ve=N(E,F,k[X],M);if(ve===null){F===null&&(F=J);break}e&&F&&ve.alternate===null&&t(E,F),C=s(ve,C,X),ne===null?B=ve:ne.sibling=ve,ne=ve,F=J}if(X===k.length)return n(E,F),sr&&lc(E,X),B;if(F===null){for(;X<k.length;X++)F=y(E,k[X],M),F!==null&&(C=s(F,C,X),ne===null?B=F:ne.sibling=F,ne=F);return sr&&lc(E,X),B}for(F=r(E,F);X<k.length;X++)J=b(F,E,X,k[X],M),J!==null&&(e&&J.alternate!==null&&F.delete(J.key===null?X:J.key),C=s(J,C,X),ne===null?B=J:ne.sibling=J,ne=J);return e&&F.forEach(function(W){return t(E,W)}),sr&&lc(E,X),B}function T(E,C,k,M){var B=bd(k);if(typeof B!="function")throw Error(ut(150));if(k=B.call(k),k==null)throw Error(ut(151));for(var ne=B=null,F=C,X=C=0,J=null,ve=k.next();F!==null&&!ve.done;X++,ve=k.next()){F.index>X?(J=F,F=null):J=F.sibling;var W=N(E,F,ve.value,M);if(W===null){F===null&&(F=J);break}e&&F&&W.alternate===null&&t(E,F),C=s(W,C,X),ne===null?B=W:ne.sibling=W,ne=W,F=J}if(ve.done)return n(E,F),sr&&lc(E,X),B;if(F===null){for(;!ve.done;X++,ve=k.next())ve=y(E,ve.value,M),ve!==null&&(C=s(ve,C,X),ne===null?B=ve:ne.sibling=ve,ne=ve);return sr&&lc(E,X),B}for(F=r(E,F);!ve.done;X++,ve=k.next())ve=b(F,E,X,ve.value,M),ve!==null&&(e&&ve.alternate!==null&&F.delete(ve.key===null?X:ve.key),C=s(ve,C,X),ne===null?B=ve:ne.sibling=ve,ne=ve);return e&&F.forEach(function(z){return t(E,z)}),sr&&lc(E,X),B}function P(E,C,k,M){if(typeof k=="object"&&k!==null&&k.type===hu&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Cf:e:{for(var B=k.key,ne=C;ne!==null;){if(ne.key===B){if(B=k.type,B===hu){if(ne.tag===7){n(E,ne.sibling),C=i(ne,k.props.children),C.return=E,E=C;break e}}else if(ne.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Qo&&Wv(B)===ne.type){n(E,ne.sibling),C=i(ne,k.props),C.ref=Ed(E,ne,k),C.return=E,E=C;break e}n(E,ne);break}else t(E,ne);ne=ne.sibling}k.type===hu?(C=Cc(k.props.children,E.mode,M,k.key),C.return=E,E=C):(M=g0(k.type,k.key,k.props,null,E.mode,M),M.ref=Ed(E,C,k),M.return=E,E=M)}return o(E);case du:e:{for(ne=k.key;C!==null;){if(C.key===ne)if(C.tag===4&&C.stateNode.containerInfo===k.containerInfo&&C.stateNode.implementation===k.implementation){n(E,C.sibling),C=i(C,k.children||[]),C.return=E,E=C;break e}else{n(E,C);break}else t(E,C);C=C.sibling}C=rm(k,E.mode,M),C.return=E,E=C}return o(E);case Qo:return ne=k._init,P(E,C,ne(k._payload),M)}if(Vd(k))return j(E,C,k,M);if(bd(k))return T(E,C,k,M);Mf(E,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,C!==null&&C.tag===6?(n(E,C.sibling),C=i(C,k),C.return=E,E=C):(n(E,C),C=nm(k,E.mode,M),C.return=E,E=C),o(E)):n(E,C)}return P}var qu=C4(!0),E4=C4(!1),V0=jl(null),z0=null,wu=null,dx=null;function hx(){dx=wu=z0=null}function fx(e){var t=V0.current;Qn(V0),e._currentValue=t}function bg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Pu(e,t){z0=e,dx=wu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(as=!0),e.firstContext=null)}function Ks(e){var t=e._currentValue;if(dx!==e)if(e={context:e,memoizedValue:t,next:null},wu===null){if(z0===null)throw Error(ut(308));wu=e,z0.dependencies={lanes:0,firstContext:e}}else wu=wu.next=e;return t}var yc=null;function px(e){yc===null?yc=[e]:yc.push(e)}function _4(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,px(t)):(n.next=i.next,i.next=n),t.interleaved=n,No(e,r)}function No(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jo=!1;function mx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function T4(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function xo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ml(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,vn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,No(e,n)}return i=r.interleaved,i===null?(t.next=t,px(r)):(t.next=i.next,i.next=t),r.interleaved=t,No(e,n)}function u0(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ex(e,n)}}function $v(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function H0(e,t,n,r){var i=e.updateQueue;Jo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var h=u,p=h.next;h.next=null,o===null?s=p:o.next=p,o=h;var x=e.alternate;x!==null&&(x=x.updateQueue,u=x.lastBaseUpdate,u!==o&&(u===null?x.firstBaseUpdate=p:u.next=p,x.lastBaseUpdate=h))}if(s!==null){var y=i.baseState;o=0,x=p=h=null,u=s;do{var N=u.lane,b=u.eventTime;if((r&N)===N){x!==null&&(x=x.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var j=e,T=u;switch(N=t,b=n,T.tag){case 1:if(j=T.payload,typeof j=="function"){y=j.call(b,y,N);break e}y=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=T.payload,N=typeof j=="function"?j.call(b,y,N):j,N==null)break e;y=pr({},y,N);break e;case 2:Jo=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,N=i.effects,N===null?i.effects=[u]:N.push(u))}else b={eventTime:b,lane:N,tag:u.tag,payload:u.payload,callback:u.callback,next:null},x===null?(p=x=b,h=y):x=x.next=b,o|=N;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;N=u,u=N.next,N.next=null,i.lastBaseUpdate=N,i.shared.pending=null}}while(!0);if(x===null&&(h=y),i.baseState=h,i.firstBaseUpdate=p,i.lastBaseUpdate=x,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);jc|=o,e.lanes=o,e.memoizedState=y}}function Gv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ut(191,i));i.call(r)}}}var $h={},Ha=jl($h),Sh=jl($h),Ch=jl($h);function vc(e){if(e===$h)throw Error(ut(174));return e}function gx(e,t){switch(zn(Ch,t),zn(Sh,e),zn(Ha,$h),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=tg(t,e)}Qn(Ha),zn(Ha,t)}function Wu(){Qn(Ha),Qn(Sh),Qn(Ch)}function I4(e){vc(Ch.current);var t=vc(Ha.current),n=tg(t,e.type);t!==n&&(zn(Sh,e),zn(Ha,n))}function xx(e){Sh.current===e&&(Qn(Ha),Qn(Sh))}var dr=jl(0);function q0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Kp=[];function yx(){for(var e=0;e<Kp.length;e++)Kp[e]._workInProgressVersionPrimary=null;Kp.length=0}var d0=Eo.ReactCurrentDispatcher,Zp=Eo.ReactCurrentBatchConfig,kc=0,fr=null,Kr=null,oi=null,W0=!1,Zd=!1,Eh=0,Y8=0;function _i(){throw Error(ut(321))}function vx(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Na(e[n],t[n]))return!1;return!0}function wx(e,t,n,r,i,s){if(kc=s,fr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,d0.current=e===null||e.memoizedState===null?Q8:J8,e=n(r,i),Zd){s=0;do{if(Zd=!1,Eh=0,25<=s)throw Error(ut(301));s+=1,oi=Kr=null,t.updateQueue=null,d0.current=e_,e=n(r,i)}while(Zd)}if(d0.current=$0,t=Kr!==null&&Kr.next!==null,kc=0,oi=Kr=fr=null,W0=!1,t)throw Error(ut(300));return e}function bx(){var e=Eh!==0;return Eh=0,e}function Oa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oi===null?fr.memoizedState=oi=e:oi=oi.next=e,oi}function Zs(){if(Kr===null){var e=fr.alternate;e=e!==null?e.memoizedState:null}else e=Kr.next;var t=oi===null?fr.memoizedState:oi.next;if(t!==null)oi=t,Kr=e;else{if(e===null)throw Error(ut(310));Kr=e,e={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},oi===null?fr.memoizedState=oi=e:oi=oi.next=e}return oi}function _h(e,t){return typeof t=="function"?t(e):t}function Qp(e){var t=Zs(),n=t.queue;if(n===null)throw Error(ut(311));n.lastRenderedReducer=e;var r=Kr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,h=null,p=s;do{var x=p.lane;if((kc&x)===x)h!==null&&(h=h.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var y={lane:x,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};h===null?(u=h=y,o=r):h=h.next=y,fr.lanes|=x,jc|=x}p=p.next}while(p!==null&&p!==s);h===null?o=r:h.next=u,Na(r,t.memoizedState)||(as=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,fr.lanes|=s,jc|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Jp(e){var t=Zs(),n=t.queue;if(n===null)throw Error(ut(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Na(s,t.memoizedState)||(as=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function k4(){}function j4(e,t){var n=fr,r=Zs(),i=t(),s=!Na(r.memoizedState,i);if(s&&(r.memoizedState=i,as=!0),r=r.queue,Nx(O4.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||oi!==null&&oi.memoizedState.tag&1){if(n.flags|=2048,Th(9,P4.bind(null,n,r,i,t),void 0,null),ci===null)throw Error(ut(349));kc&30||L4(n,t,i)}return i}function L4(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function P4(e,t,n,r){t.value=n,t.getSnapshot=r,D4(t)&&M4(e)}function O4(e,t,n){return n(function(){D4(t)&&M4(e)})}function D4(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Na(e,n)}catch{return!0}}function M4(e){var t=No(e,1);t!==null&&ba(t,e,1,-1)}function Yv(e){var t=Oa();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_h,lastRenderedState:e},t.queue=e,e=e.dispatch=Z8.bind(null,fr,e),[t.memoizedState,e]}function Th(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fr.updateQueue,t===null?(t={lastEffect:null,stores:null},fr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function R4(){return Zs().memoizedState}function h0(e,t,n,r){var i=Oa();fr.flags|=e,i.memoizedState=Th(1|t,n,void 0,r===void 0?null:r)}function k1(e,t,n,r){var i=Zs();r=r===void 0?null:r;var s=void 0;if(Kr!==null){var o=Kr.memoizedState;if(s=o.destroy,r!==null&&vx(r,o.deps)){i.memoizedState=Th(t,n,s,r);return}}fr.flags|=e,i.memoizedState=Th(1|t,n,s,r)}function Xv(e,t){return h0(8390656,8,e,t)}function Nx(e,t){return k1(2048,8,e,t)}function B4(e,t){return k1(4,2,e,t)}function F4(e,t){return k1(4,4,e,t)}function U4(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function V4(e,t,n){return n=n!=null?n.concat([e]):null,k1(4,4,U4.bind(null,t,e),n)}function Ax(){}function z4(e,t){var n=Zs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vx(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function H4(e,t){var n=Zs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&vx(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function q4(e,t,n){return kc&21?(Na(n,t)||(n=X3(),fr.lanes|=n,jc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,as=!0),e.memoizedState=n)}function X8(e,t){var n=In;In=n!==0&&4>n?n:4,e(!0);var r=Zp.transition;Zp.transition={};try{e(!1),t()}finally{In=n,Zp.transition=r}}function W4(){return Zs().memoizedState}function K8(e,t,n){var r=xl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$4(e))G4(t,n);else if(n=_4(e,t,n,r),n!==null){var i=Yi();ba(n,e,r,i),Y4(n,t,r)}}function Z8(e,t,n){var r=xl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($4(e))G4(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,Na(u,o)){var h=t.interleaved;h===null?(i.next=i,px(t)):(i.next=h.next,h.next=i),t.interleaved=i;return}}catch{}finally{}n=_4(e,t,i,r),n!==null&&(i=Yi(),ba(n,e,r,i),Y4(n,t,r))}}function $4(e){var t=e.alternate;return e===fr||t!==null&&t===fr}function G4(e,t){Zd=W0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Y4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ex(e,n)}}var $0={readContext:Ks,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useInsertionEffect:_i,useLayoutEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useMutableSource:_i,useSyncExternalStore:_i,useId:_i,unstable_isNewReconciler:!1},Q8={readContext:Ks,useCallback:function(e,t){return Oa().memoizedState=[e,t===void 0?null:t],e},useContext:Ks,useEffect:Xv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,h0(4194308,4,U4.bind(null,t,e),n)},useLayoutEffect:function(e,t){return h0(4194308,4,e,t)},useInsertionEffect:function(e,t){return h0(4,2,e,t)},useMemo:function(e,t){var n=Oa();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Oa();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=K8.bind(null,fr,e),[r.memoizedState,e]},useRef:function(e){var t=Oa();return e={current:e},t.memoizedState=e},useState:Yv,useDebugValue:Ax,useDeferredValue:function(e){return Oa().memoizedState=e},useTransition:function(){var e=Yv(!1),t=e[0];return e=X8.bind(null,e[1]),Oa().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fr,i=Oa();if(sr){if(n===void 0)throw Error(ut(407));n=n()}else{if(n=t(),ci===null)throw Error(ut(349));kc&30||L4(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Xv(O4.bind(null,r,s,e),[e]),r.flags|=2048,Th(9,P4.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Oa(),t=ci.identifierPrefix;if(sr){var n=po,r=fo;n=(r&~(1<<32-wa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Eh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Y8++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},J8={readContext:Ks,useCallback:z4,useContext:Ks,useEffect:Nx,useImperativeHandle:V4,useInsertionEffect:B4,useLayoutEffect:F4,useMemo:H4,useReducer:Qp,useRef:R4,useState:function(){return Qp(_h)},useDebugValue:Ax,useDeferredValue:function(e){var t=Zs();return q4(t,Kr.memoizedState,e)},useTransition:function(){var e=Qp(_h)[0],t=Zs().memoizedState;return[e,t]},useMutableSource:k4,useSyncExternalStore:j4,useId:W4,unstable_isNewReconciler:!1},e_={readContext:Ks,useCallback:z4,useContext:Ks,useEffect:Nx,useImperativeHandle:V4,useInsertionEffect:B4,useLayoutEffect:F4,useMemo:H4,useReducer:Jp,useRef:R4,useState:function(){return Jp(_h)},useDebugValue:Ax,useDeferredValue:function(e){var t=Zs();return Kr===null?t.memoizedState=e:q4(t,Kr.memoizedState,e)},useTransition:function(){var e=Jp(_h)[0],t=Zs().memoizedState;return[e,t]},useMutableSource:k4,useSyncExternalStore:j4,useId:W4,unstable_isNewReconciler:!1};function da(e,t){if(e&&e.defaultProps){t=pr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ng(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var j1={isMounted:function(e){return(e=e._reactInternals)?Dc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Yi(),i=xl(e),s=xo(r,i);s.payload=t,n!=null&&(s.callback=n),t=ml(e,s,i),t!==null&&(ba(t,e,i,r),u0(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Yi(),i=xl(e),s=xo(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ml(e,s,i),t!==null&&(ba(t,e,i,r),u0(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Yi(),r=xl(e),i=xo(n,r);i.tag=2,t!=null&&(i.callback=t),t=ml(e,i,r),t!==null&&(ba(t,e,r,n),u0(t,e,r))}};function Kv(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!wh(n,r)||!wh(i,s):!0}function X4(e,t,n){var r=!1,i=Nl,s=t.contextType;return typeof s=="object"&&s!==null?s=Ks(s):(i=ls(t)?Tc:Ri.current,r=t.contextTypes,s=(r=r!=null)?zu(e,i):Nl),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=j1,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Zv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&j1.enqueueReplaceState(t,t.state,null)}function Ag(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},mx(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ks(s):(s=ls(t)?Tc:Ri.current,i.context=zu(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ng(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&j1.enqueueReplaceState(i,i.state,null),H0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function $u(e,t){try{var n="",r=t;do n+=TE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function em(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Sg(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var t_=typeof WeakMap=="function"?WeakMap:Map;function K4(e,t,n){n=xo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Y0||(Y0=!0,Og=r),Sg(e,t)},n}function Z4(e,t,n){n=xo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Sg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Sg(e,t),typeof r!="function"&&(gl===null?gl=new Set([this]):gl.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Qv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new t_;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=m_.bind(null,e,t,n),t.then(e,e))}function Jv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ew(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=xo(-1,1),t.tag=2,ml(n,t,1))),n.lanes|=1),e)}var n_=Eo.ReactCurrentOwner,as=!1;function $i(e,t,n,r){t.child=e===null?E4(t,null,n,r):qu(t,e.child,n,r)}function tw(e,t,n,r,i){n=n.render;var s=t.ref;return Pu(t,i),r=wx(e,t,n,r,s,i),n=bx(),e!==null&&!as?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ao(e,t,i)):(sr&&n&&lx(t),t.flags|=1,$i(e,t,r,i),t.child)}function nw(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!jx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Q4(e,t,s,r,i)):(e=g0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wh,n(o,r)&&e.ref===t.ref)return Ao(e,t,i)}return t.flags|=1,e=yl(s,r),e.ref=t.ref,e.return=t,t.child=e}function Q4(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(wh(s,r)&&e.ref===t.ref)if(as=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(as=!0);else return t.lanes=e.lanes,Ao(e,t,i)}return Cg(e,t,n,r,i)}function J4(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},zn(Nu,Ns),Ns|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,zn(Nu,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,zn(Nu,Ns),Ns|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,zn(Nu,Ns),Ns|=r;return $i(e,t,i,n),t.child}function eN(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cg(e,t,n,r,i){var s=ls(n)?Tc:Ri.current;return s=zu(t,s),Pu(t,i),n=wx(e,t,n,r,s,i),r=bx(),e!==null&&!as?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ao(e,t,i)):(sr&&r&&lx(t),t.flags|=1,$i(e,t,n,i),t.child)}function rw(e,t,n,r,i){if(ls(n)){var s=!0;B0(t)}else s=!1;if(Pu(t,i),t.stateNode===null)f0(e,t),X4(t,n,r),Ag(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var h=o.context,p=n.contextType;typeof p=="object"&&p!==null?p=Ks(p):(p=ls(n)?Tc:Ri.current,p=zu(t,p));var x=n.getDerivedStateFromProps,y=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function";y||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||h!==p)&&Zv(t,o,r,p),Jo=!1;var N=t.memoizedState;o.state=N,H0(t,r,o,i),h=t.memoizedState,u!==r||N!==h||os.current||Jo?(typeof x=="function"&&(Ng(t,n,x,r),h=t.memoizedState),(u=Jo||Kv(t,n,u,r,N,h,p))?(y||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=p,r=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,T4(e,t),u=t.memoizedProps,p=t.type===t.elementType?u:da(t.type,u),o.props=p,y=t.pendingProps,N=o.context,h=n.contextType,typeof h=="object"&&h!==null?h=Ks(h):(h=ls(n)?Tc:Ri.current,h=zu(t,h));var b=n.getDerivedStateFromProps;(x=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==y||N!==h)&&Zv(t,o,r,h),Jo=!1,N=t.memoizedState,o.state=N,H0(t,r,o,i);var j=t.memoizedState;u!==y||N!==j||os.current||Jo?(typeof b=="function"&&(Ng(t,n,b,r),j=t.memoizedState),(p=Jo||Kv(t,n,p,r,N,j,h)||!1)?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,j,h),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,j,h)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),o.props=r,o.state=j,o.context=h,r=p):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),r=!1)}return Eg(e,t,n,r,s,i)}function Eg(e,t,n,r,i,s){eN(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&zv(t,n,!1),Ao(e,t,s);r=t.stateNode,n_.current=t;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=qu(t,e.child,null,s),t.child=qu(t,null,u,s)):$i(e,t,u,s),t.memoizedState=r.state,i&&zv(t,n,!0),t.child}function tN(e){var t=e.stateNode;t.pendingContext?Vv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vv(e,t.context,!1),gx(e,t.containerInfo)}function iw(e,t,n,r,i){return Hu(),ux(i),t.flags|=256,$i(e,t,n,r),t.child}var _g={dehydrated:null,treeContext:null,retryLane:0};function Tg(e){return{baseLanes:e,cachePool:null,transitions:null}}function nN(e,t,n){var r=t.pendingProps,i=dr.current,s=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),zn(dr,i&1),e===null)return wg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=O1(o,r,0,null),e=Cc(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Tg(n),t.memoizedState=_g,e):Sx(t,o));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return r_(e,t,o,r,u,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,u=i.sibling;var h={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=yl(i,h),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=yl(u,s):(s=Cc(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Tg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=_g,r}return s=e.child,e=s.sibling,r=yl(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Sx(e,t){return t=O1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rf(e,t,n,r){return r!==null&&ux(r),qu(t,e.child,null,n),e=Sx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function r_(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=em(Error(ut(422))),Rf(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=O1({mode:"visible",children:r.children},i,0,null),s=Cc(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&qu(t,e.child,null,o),t.child.memoizedState=Tg(o),t.memoizedState=_g,s);if(!(t.mode&1))return Rf(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(ut(419)),r=em(s,r,void 0),Rf(e,t,o,r)}if(u=(o&e.childLanes)!==0,as||u){if(r=ci,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,No(e,i),ba(r,e,i,-1))}return kx(),r=em(Error(ut(421))),Rf(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=g_.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Ss=pl(i.nextSibling),Es=t,sr=!0,ga=null,e!==null&&($s[Gs++]=fo,$s[Gs++]=po,$s[Gs++]=Ic,fo=e.id,po=e.overflow,Ic=t),t=Sx(t,r.children),t.flags|=4096,t)}function sw(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),bg(e.return,t,n)}function tm(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function rN(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if($i(e,t,r.children,n),r=dr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sw(e,n,t);else if(e.tag===19)sw(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(zn(dr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&q0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),tm(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&q0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}tm(t,!0,n,null,s);break;case"together":tm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function f0(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ao(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),jc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ut(153));if(t.child!==null){for(e=t.child,n=yl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=yl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function i_(e,t,n){switch(t.tag){case 3:tN(t),Hu();break;case 5:I4(t);break;case 1:ls(t.type)&&B0(t);break;case 4:gx(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;zn(V0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(zn(dr,dr.current&1),t.flags|=128,null):n&t.child.childLanes?nN(e,t,n):(zn(dr,dr.current&1),e=Ao(e,t,n),e!==null?e.sibling:null);zn(dr,dr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rN(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),zn(dr,dr.current),r)break;return null;case 22:case 23:return t.lanes=0,J4(e,t,n)}return Ao(e,t,n)}var iN,Ig,sN,aN;iN=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ig=function(){};sN=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,vc(Ha.current);var s=null;switch(n){case"input":i=Zm(e,i),r=Zm(e,r),s=[];break;case"select":i=pr({},i,{value:void 0}),r=pr({},r,{value:void 0}),s=[];break;case"textarea":i=eg(e,i),r=eg(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=M0)}ng(n,r);var o;n=null;for(p in i)if(!r.hasOwnProperty(p)&&i.hasOwnProperty(p)&&i[p]!=null)if(p==="style"){var u=i[p];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(fh.hasOwnProperty(p)?s||(s=[]):(s=s||[]).push(p,null));for(p in r){var h=r[p];if(u=i!=null?i[p]:void 0,r.hasOwnProperty(p)&&h!==u&&(h!=null||u!=null))if(p==="style")if(u){for(o in u)!u.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in h)h.hasOwnProperty(o)&&u[o]!==h[o]&&(n||(n={}),n[o]=h[o])}else n||(s||(s=[]),s.push(p,n)),n=h;else p==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(p,h)):p==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(p,""+h):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(fh.hasOwnProperty(p)?(h!=null&&p==="onScroll"&&Xn("scroll",e),s||u===h||(s=[])):(s=s||[]).push(p,h))}n&&(s=s||[]).push("style",n);var p=s;(t.updateQueue=p)&&(t.flags|=4)}};aN=function(e,t,n,r){n!==r&&(t.flags|=4)};function _d(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ti(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function s_(e,t,n){var r=t.pendingProps;switch(cx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(t),null;case 1:return ls(t.type)&&R0(),Ti(t),null;case 3:return r=t.stateNode,Wu(),Qn(os),Qn(Ri),yx(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Df(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ga!==null&&(Rg(ga),ga=null))),Ig(e,t),Ti(t),null;case 5:xx(t);var i=vc(Ch.current);if(n=t.type,e!==null&&t.stateNode!=null)sN(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ut(166));return Ti(t),null}if(e=vc(Ha.current),Df(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Ba]=t,r[Ah]=s,e=(t.mode&1)!==0,n){case"dialog":Xn("cancel",r),Xn("close",r);break;case"iframe":case"object":case"embed":Xn("load",r);break;case"video":case"audio":for(i=0;i<Hd.length;i++)Xn(Hd[i],r);break;case"source":Xn("error",r);break;case"img":case"image":case"link":Xn("error",r),Xn("load",r);break;case"details":Xn("toggle",r);break;case"input":pv(r,s),Xn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xn("invalid",r);break;case"textarea":gv(r,s),Xn("invalid",r)}ng(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&Of(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Of(r.textContent,u,e),i=["children",""+u]):fh.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Xn("scroll",r)}switch(n){case"input":Ef(r),mv(r,s,!0);break;case"textarea":Ef(r),xv(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=M0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=O3(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Ba]=t,e[Ah]=r,iN(e,t,!1,!1),t.stateNode=e;e:{switch(o=rg(n,r),n){case"dialog":Xn("cancel",e),Xn("close",e),i=r;break;case"iframe":case"object":case"embed":Xn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Hd.length;i++)Xn(Hd[i],e);i=r;break;case"source":Xn("error",e),i=r;break;case"img":case"image":case"link":Xn("error",e),Xn("load",e),i=r;break;case"details":Xn("toggle",e),i=r;break;case"input":pv(e,r),i=Zm(e,r),Xn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=pr({},r,{value:void 0}),Xn("invalid",e);break;case"textarea":gv(e,r),i=eg(e,r),Xn("invalid",e);break;default:i=r}ng(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?R3(e,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&D3(e,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&ph(e,h):typeof h=="number"&&ph(e,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fh.hasOwnProperty(s)?h!=null&&s==="onScroll"&&Xn("scroll",e):h!=null&&Y2(e,s,h,o))}switch(n){case"input":Ef(e),mv(e,r,!1);break;case"textarea":Ef(e),xv(e);break;case"option":r.value!=null&&e.setAttribute("value",""+bl(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Iu(e,!!r.multiple,s,!1):r.defaultValue!=null&&Iu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=M0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ti(t),null;case 6:if(e&&t.stateNode!=null)aN(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ut(166));if(n=vc(Ch.current),vc(Ha.current),Df(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ba]=t,(s=r.nodeValue!==n)&&(e=Es,e!==null))switch(e.tag){case 3:Of(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Of(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ba]=t,t.stateNode=r}return Ti(t),null;case 13:if(Qn(dr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&Ss!==null&&t.mode&1&&!(t.flags&128))S4(),Hu(),t.flags|=98560,s=!1;else if(s=Df(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ut(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ut(317));s[Ba]=t}else Hu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ti(t),s=!1}else ga!==null&&(Rg(ga),ga=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||dr.current&1?Jr===0&&(Jr=3):kx())),t.updateQueue!==null&&(t.flags|=4),Ti(t),null);case 4:return Wu(),Ig(e,t),e===null&&bh(t.stateNode.containerInfo),Ti(t),null;case 10:return fx(t.type._context),Ti(t),null;case 17:return ls(t.type)&&R0(),Ti(t),null;case 19:if(Qn(dr),s=t.memoizedState,s===null)return Ti(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)_d(s,!1);else{if(Jr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=q0(e),o!==null){for(t.flags|=128,_d(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return zn(dr,dr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Tr()>Gu&&(t.flags|=128,r=!0,_d(s,!1),t.lanes=4194304)}else{if(!r)if(e=q0(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_d(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!sr)return Ti(t),null}else 2*Tr()-s.renderingStartTime>Gu&&n!==1073741824&&(t.flags|=128,r=!0,_d(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Tr(),t.sibling=null,n=dr.current,zn(dr,r?n&1|2:n&1),t):(Ti(t),null);case 22:case 23:return Ix(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ns&1073741824&&(Ti(t),t.subtreeFlags&6&&(t.flags|=8192)):Ti(t),null;case 24:return null;case 25:return null}throw Error(ut(156,t.tag))}function a_(e,t){switch(cx(t),t.tag){case 1:return ls(t.type)&&R0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wu(),Qn(os),Qn(Ri),yx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xx(t),null;case 13:if(Qn(dr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ut(340));Hu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Qn(dr),null;case 4:return Wu(),null;case 10:return fx(t.type._context),null;case 22:case 23:return Ix(),null;case 24:return null;default:return null}}var Bf=!1,Di=!1,o_=typeof WeakSet=="function"?WeakSet:Set,At=null;function bu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){br(e,t,r)}else n.current=null}function kg(e,t,n){try{n()}catch(r){br(e,t,r)}}var aw=!1;function l_(e,t){if(fg=P0,e=d4(),ox(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,h=-1,p=0,x=0,y=e,N=null;t:for(;;){for(var b;y!==n||i!==0&&y.nodeType!==3||(u=o+i),y!==s||r!==0&&y.nodeType!==3||(h=o+r),y.nodeType===3&&(o+=y.nodeValue.length),(b=y.firstChild)!==null;)N=y,y=b;for(;;){if(y===e)break t;if(N===n&&++p===i&&(u=o),N===s&&++x===r&&(h=o),(b=y.nextSibling)!==null)break;y=N,N=y.parentNode}y=b}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(pg={focusedElem:e,selectionRange:n},P0=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){t=At;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var T=j.memoizedProps,P=j.memoizedState,E=t.stateNode,C=E.getSnapshotBeforeUpdate(t.elementType===t.type?T:da(t.type,T),P);E.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var k=t.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ut(163))}}catch(M){br(t,t.return,M)}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}return j=aw,aw=!1,j}function Qd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&kg(t,n,s)}i=i.next}while(i!==r)}}function L1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function jg(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function oN(e){var t=e.alternate;t!==null&&(e.alternate=null,oN(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ba],delete t[Ah],delete t[xg],delete t[q8],delete t[W8])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lN(e){return e.tag===5||e.tag===3||e.tag===4}function ow(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lN(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=M0));else if(r!==4&&(e=e.child,e!==null))for(Lg(e,t,n),e=e.sibling;e!==null;)Lg(e,t,n),e=e.sibling}function Pg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Pg(e,t,n),e=e.sibling;e!==null;)Pg(e,t,n),e=e.sibling}var gi=null,fa=!1;function Wo(e,t,n){for(n=n.child;n!==null;)cN(e,t,n),n=n.sibling}function cN(e,t,n){if(za&&typeof za.onCommitFiberUnmount=="function")try{za.onCommitFiberUnmount(S1,n)}catch{}switch(n.tag){case 5:Di||bu(n,t);case 6:var r=gi,i=fa;gi=null,Wo(e,t,n),gi=r,fa=i,gi!==null&&(fa?(e=gi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gi.removeChild(n.stateNode));break;case 18:gi!==null&&(fa?(e=gi,n=n.stateNode,e.nodeType===8?Yp(e.parentNode,n):e.nodeType===1&&Yp(e,n),yh(e)):Yp(gi,n.stateNode));break;case 4:r=gi,i=fa,gi=n.stateNode.containerInfo,fa=!0,Wo(e,t,n),gi=r,fa=i;break;case 0:case 11:case 14:case 15:if(!Di&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&kg(n,t,o),i=i.next}while(i!==r)}Wo(e,t,n);break;case 1:if(!Di&&(bu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){br(n,t,u)}Wo(e,t,n);break;case 21:Wo(e,t,n);break;case 22:n.mode&1?(Di=(r=Di)||n.memoizedState!==null,Wo(e,t,n),Di=r):Wo(e,t,n);break;default:Wo(e,t,n)}}function lw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new o_),t.forEach(function(r){var i=x_.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function aa(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:gi=u.stateNode,fa=!1;break e;case 3:gi=u.stateNode.containerInfo,fa=!0;break e;case 4:gi=u.stateNode.containerInfo,fa=!0;break e}u=u.return}if(gi===null)throw Error(ut(160));cN(s,o,i),gi=null,fa=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(p){br(i,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)uN(t,e),t=t.sibling}function uN(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(aa(t,e),La(e),r&4){try{Qd(3,e,e.return),L1(3,e)}catch(T){br(e,e.return,T)}try{Qd(5,e,e.return)}catch(T){br(e,e.return,T)}}break;case 1:aa(t,e),La(e),r&512&&n!==null&&bu(n,n.return);break;case 5:if(aa(t,e),La(e),r&512&&n!==null&&bu(n,n.return),e.flags&32){var i=e.stateNode;try{ph(i,"")}catch(T){br(e,e.return,T)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,u=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&L3(i,s),rg(u,o);var p=rg(u,s);for(o=0;o<h.length;o+=2){var x=h[o],y=h[o+1];x==="style"?R3(i,y):x==="dangerouslySetInnerHTML"?D3(i,y):x==="children"?ph(i,y):Y2(i,x,y,p)}switch(u){case"input":Qm(i,s);break;case"textarea":P3(i,s);break;case"select":var N=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?Iu(i,!!s.multiple,b,!1):N!==!!s.multiple&&(s.defaultValue!=null?Iu(i,!!s.multiple,s.defaultValue,!0):Iu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ah]=s}catch(T){br(e,e.return,T)}}break;case 6:if(aa(t,e),La(e),r&4){if(e.stateNode===null)throw Error(ut(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(T){br(e,e.return,T)}}break;case 3:if(aa(t,e),La(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yh(t.containerInfo)}catch(T){br(e,e.return,T)}break;case 4:aa(t,e),La(e);break;case 13:aa(t,e),La(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_x=Tr())),r&4&&lw(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(Di=(p=Di)||x,aa(t,e),Di=p):aa(t,e),La(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!x&&e.mode&1)for(At=e,x=e.child;x!==null;){for(y=At=x;At!==null;){switch(N=At,b=N.child,N.tag){case 0:case 11:case 14:case 15:Qd(4,N,N.return);break;case 1:bu(N,N.return);var j=N.stateNode;if(typeof j.componentWillUnmount=="function"){r=N,n=N.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(T){br(r,n,T)}}break;case 5:bu(N,N.return);break;case 22:if(N.memoizedState!==null){uw(y);continue}}b!==null?(b.return=N,At=b):uw(y)}x=x.sibling}e:for(x=null,y=e;;){if(y.tag===5){if(x===null){x=y;try{i=y.stateNode,p?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=y.stateNode,h=y.memoizedProps.style,o=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=M3("display",o))}catch(T){br(e,e.return,T)}}}else if(y.tag===6){if(x===null)try{y.stateNode.nodeValue=p?"":y.memoizedProps}catch(T){br(e,e.return,T)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===e)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===e)break e;for(;y.sibling===null;){if(y.return===null||y.return===e)break e;x===y&&(x=null),y=y.return}x===y&&(x=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:aa(t,e),La(e),r&4&&lw(e);break;case 21:break;default:aa(t,e),La(e)}}function La(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lN(n)){var r=n;break e}n=n.return}throw Error(ut(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ph(i,""),r.flags&=-33);var s=ow(e);Pg(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=ow(e);Lg(e,u,o);break;default:throw Error(ut(161))}}catch(h){br(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function c_(e,t,n){At=e,dN(e)}function dN(e,t,n){for(var r=(e.mode&1)!==0;At!==null;){var i=At,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Bf;if(!o){var u=i.alternate,h=u!==null&&u.memoizedState!==null||Di;u=Bf;var p=Di;if(Bf=o,(Di=h)&&!p)for(At=i;At!==null;)o=At,h=o.child,o.tag===22&&o.memoizedState!==null?dw(i):h!==null?(h.return=o,At=h):dw(i);for(;s!==null;)At=s,dN(s),s=s.sibling;At=i,Bf=u,Di=p}cw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,At=s):cw(e)}}function cw(e){for(;At!==null;){var t=At;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Di||L1(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Di)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:da(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Gv(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Gv(t,o,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var x=p.memoizedState;if(x!==null){var y=x.dehydrated;y!==null&&yh(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ut(163))}Di||t.flags&512&&jg(t)}catch(N){br(t,t.return,N)}}if(t===e){At=null;break}if(n=t.sibling,n!==null){n.return=t.return,At=n;break}At=t.return}}function uw(e){for(;At!==null;){var t=At;if(t===e){At=null;break}var n=t.sibling;if(n!==null){n.return=t.return,At=n;break}At=t.return}}function dw(e){for(;At!==null;){var t=At;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{L1(4,t)}catch(h){br(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(h){br(t,i,h)}}var s=t.return;try{jg(t)}catch(h){br(t,s,h)}break;case 5:var o=t.return;try{jg(t)}catch(h){br(t,o,h)}}}catch(h){br(t,t.return,h)}if(t===e){At=null;break}var u=t.sibling;if(u!==null){u.return=t.return,At=u;break}At=t.return}}var u_=Math.ceil,G0=Eo.ReactCurrentDispatcher,Cx=Eo.ReactCurrentOwner,Xs=Eo.ReactCurrentBatchConfig,vn=0,ci=null,Hr=null,vi=0,Ns=0,Nu=jl(0),Jr=0,Ih=null,jc=0,P1=0,Ex=0,Jd=null,is=null,_x=0,Gu=1/0,co=null,Y0=!1,Og=null,gl=null,Ff=!1,ol=null,X0=0,eh=0,Dg=null,p0=-1,m0=0;function Yi(){return vn&6?Tr():p0!==-1?p0:p0=Tr()}function xl(e){return e.mode&1?vn&2&&vi!==0?vi&-vi:G8.transition!==null?(m0===0&&(m0=X3()),m0):(e=In,e!==0||(e=window.event,e=e===void 0?16:n4(e.type)),e):1}function ba(e,t,n,r){if(50<eh)throw eh=0,Dg=null,Error(ut(185));Hh(e,n,r),(!(vn&2)||e!==ci)&&(e===ci&&(!(vn&2)&&(P1|=n),Jr===4&&nl(e,vi)),cs(e,r),n===1&&vn===0&&!(t.mode&1)&&(Gu=Tr()+500,I1&&Ll()))}function cs(e,t){var n=e.callbackNode;GE(e,t);var r=L0(e,e===ci?vi:0);if(r===0)n!==null&&wv(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&wv(n),t===1)e.tag===0?$8(hw.bind(null,e)):b4(hw.bind(null,e)),z8(function(){!(vn&6)&&Ll()}),n=null;else{switch(K3(r)){case 1:n=J2;break;case 4:n=G3;break;case 16:n=j0;break;case 536870912:n=Y3;break;default:n=j0}n=vN(n,hN.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hN(e,t){if(p0=-1,m0=0,vn&6)throw Error(ut(327));var n=e.callbackNode;if(Ou()&&e.callbackNode!==n)return null;var r=L0(e,e===ci?vi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=K0(e,r);else{t=r;var i=vn;vn|=2;var s=pN();(ci!==e||vi!==t)&&(co=null,Gu=Tr()+500,Sc(e,t));do try{f_();break}catch(u){fN(e,u)}while(!0);hx(),G0.current=s,vn=i,Hr!==null?t=0:(ci=null,vi=0,t=Jr)}if(t!==0){if(t===2&&(i=lg(e),i!==0&&(r=i,t=Mg(e,i))),t===1)throw n=Ih,Sc(e,0),nl(e,r),cs(e,Tr()),n;if(t===6)nl(e,r);else{if(i=e.current.alternate,!(r&30)&&!d_(i)&&(t=K0(e,r),t===2&&(s=lg(e),s!==0&&(r=s,t=Mg(e,s))),t===1))throw n=Ih,Sc(e,0),nl(e,r),cs(e,Tr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ut(345));case 2:cc(e,is,co);break;case 3:if(nl(e,r),(r&130023424)===r&&(t=_x+500-Tr(),10<t)){if(L0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Yi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=gg(cc.bind(null,e,is,co),t);break}cc(e,is,co);break;case 4:if(nl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-wa(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Tr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*u_(r/1960))-r,10<r){e.timeoutHandle=gg(cc.bind(null,e,is,co),r);break}cc(e,is,co);break;case 5:cc(e,is,co);break;default:throw Error(ut(329))}}}return cs(e,Tr()),e.callbackNode===n?hN.bind(null,e):null}function Mg(e,t){var n=Jd;return e.current.memoizedState.isDehydrated&&(Sc(e,t).flags|=256),e=K0(e,t),e!==2&&(t=is,is=n,t!==null&&Rg(t)),e}function Rg(e){is===null?is=e:is.push.apply(is,e)}function d_(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Na(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nl(e,t){for(t&=~Ex,t&=~P1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wa(t),r=1<<n;e[n]=-1,t&=~r}}function hw(e){if(vn&6)throw Error(ut(327));Ou();var t=L0(e,0);if(!(t&1))return cs(e,Tr()),null;var n=K0(e,t);if(e.tag!==0&&n===2){var r=lg(e);r!==0&&(t=r,n=Mg(e,r))}if(n===1)throw n=Ih,Sc(e,0),nl(e,t),cs(e,Tr()),n;if(n===6)throw Error(ut(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cc(e,is,co),cs(e,Tr()),null}function Tx(e,t){var n=vn;vn|=1;try{return e(t)}finally{vn=n,vn===0&&(Gu=Tr()+500,I1&&Ll())}}function Lc(e){ol!==null&&ol.tag===0&&!(vn&6)&&Ou();var t=vn;vn|=1;var n=Xs.transition,r=In;try{if(Xs.transition=null,In=1,e)return e()}finally{In=r,Xs.transition=n,vn=t,!(vn&6)&&Ll()}}function Ix(){Ns=Nu.current,Qn(Nu)}function Sc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,V8(n)),Hr!==null)for(n=Hr.return;n!==null;){var r=n;switch(cx(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&R0();break;case 3:Wu(),Qn(os),Qn(Ri),yx();break;case 5:xx(r);break;case 4:Wu();break;case 13:Qn(dr);break;case 19:Qn(dr);break;case 10:fx(r.type._context);break;case 22:case 23:Ix()}n=n.return}if(ci=e,Hr=e=yl(e.current,null),vi=Ns=t,Jr=0,Ih=null,Ex=P1=jc=0,is=Jd=null,yc!==null){for(t=0;t<yc.length;t++)if(n=yc[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}yc=null}return e}function fN(e,t){do{var n=Hr;try{if(hx(),d0.current=$0,W0){for(var r=fr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}W0=!1}if(kc=0,oi=Kr=fr=null,Zd=!1,Eh=0,Cx.current=null,n===null||n.return===null){Jr=1,Ih=t,Hr=null;break}e:{var s=e,o=n.return,u=n,h=t;if(t=vi,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var p=h,x=u,y=x.tag;if(!(x.mode&1)&&(y===0||y===11||y===15)){var N=x.alternate;N?(x.updateQueue=N.updateQueue,x.memoizedState=N.memoizedState,x.lanes=N.lanes):(x.updateQueue=null,x.memoizedState=null)}var b=Jv(o);if(b!==null){b.flags&=-257,ew(b,o,u,s,t),b.mode&1&&Qv(s,p,t),t=b,h=p;var j=t.updateQueue;if(j===null){var T=new Set;T.add(h),t.updateQueue=T}else j.add(h);break e}else{if(!(t&1)){Qv(s,p,t),kx();break e}h=Error(ut(426))}}else if(sr&&u.mode&1){var P=Jv(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),ew(P,o,u,s,t),ux($u(h,u));break e}}s=h=$u(h,u),Jr!==4&&(Jr=2),Jd===null?Jd=[s]:Jd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var E=K4(s,h,t);$v(s,E);break e;case 1:u=h;var C=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof C.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(gl===null||!gl.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t;var M=Z4(s,u,t);$v(s,M);break e}}s=s.return}while(s!==null)}gN(n)}catch(B){t=B,Hr===n&&n!==null&&(Hr=n=n.return);continue}break}while(!0)}function pN(){var e=G0.current;return G0.current=$0,e===null?$0:e}function kx(){(Jr===0||Jr===3||Jr===2)&&(Jr=4),ci===null||!(jc&268435455)&&!(P1&268435455)||nl(ci,vi)}function K0(e,t){var n=vn;vn|=2;var r=pN();(ci!==e||vi!==t)&&(co=null,Sc(e,t));do try{h_();break}catch(i){fN(e,i)}while(!0);if(hx(),vn=n,G0.current=r,Hr!==null)throw Error(ut(261));return ci=null,vi=0,Jr}function h_(){for(;Hr!==null;)mN(Hr)}function f_(){for(;Hr!==null&&!BE();)mN(Hr)}function mN(e){var t=yN(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,t===null?gN(e):Hr=t,Cx.current=null}function gN(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=a_(n,t),n!==null){n.flags&=32767,Hr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Jr=6,Hr=null;return}}else if(n=s_(n,t,Ns),n!==null){Hr=n;return}if(t=t.sibling,t!==null){Hr=t;return}Hr=t=e}while(t!==null);Jr===0&&(Jr=5)}function cc(e,t,n){var r=In,i=Xs.transition;try{Xs.transition=null,In=1,p_(e,t,n,r)}finally{Xs.transition=i,In=r}return null}function p_(e,t,n,r){do Ou();while(ol!==null);if(vn&6)throw Error(ut(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ut(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(YE(e,s),e===ci&&(Hr=ci=null,vi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ff||(Ff=!0,vN(j0,function(){return Ou(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Xs.transition,Xs.transition=null;var o=In;In=1;var u=vn;vn|=4,Cx.current=null,l_(e,n),uN(n,e),O8(pg),P0=!!fg,pg=fg=null,e.current=n,c_(n),FE(),vn=u,In=o,Xs.transition=s}else e.current=n;if(Ff&&(Ff=!1,ol=e,X0=i),s=e.pendingLanes,s===0&&(gl=null),zE(n.stateNode),cs(e,Tr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Y0)throw Y0=!1,e=Og,Og=null,e;return X0&1&&e.tag!==0&&Ou(),s=e.pendingLanes,s&1?e===Dg?eh++:(eh=0,Dg=e):eh=0,Ll(),null}function Ou(){if(ol!==null){var e=K3(X0),t=Xs.transition,n=In;try{if(Xs.transition=null,In=16>e?16:e,ol===null)var r=!1;else{if(e=ol,ol=null,X0=0,vn&6)throw Error(ut(331));var i=vn;for(vn|=4,At=e.current;At!==null;){var s=At,o=s.child;if(At.flags&16){var u=s.deletions;if(u!==null){for(var h=0;h<u.length;h++){var p=u[h];for(At=p;At!==null;){var x=At;switch(x.tag){case 0:case 11:case 15:Qd(8,x,s)}var y=x.child;if(y!==null)y.return=x,At=y;else for(;At!==null;){x=At;var N=x.sibling,b=x.return;if(oN(x),x===p){At=null;break}if(N!==null){N.return=b,At=N;break}At=b}}}var j=s.alternate;if(j!==null){var T=j.child;if(T!==null){j.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}At=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,At=o;else e:for(;At!==null;){if(s=At,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qd(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,At=E;break e}At=s.return}}var C=e.current;for(At=C;At!==null;){o=At;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,At=k;else e:for(o=C;At!==null;){if(u=At,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:L1(9,u)}}catch(B){br(u,u.return,B)}if(u===o){At=null;break e}var M=u.sibling;if(M!==null){M.return=u.return,At=M;break e}At=u.return}}if(vn=i,Ll(),za&&typeof za.onPostCommitFiberRoot=="function")try{za.onPostCommitFiberRoot(S1,e)}catch{}r=!0}return r}finally{In=n,Xs.transition=t}}return!1}function fw(e,t,n){t=$u(n,t),t=K4(e,t,1),e=ml(e,t,1),t=Yi(),e!==null&&(Hh(e,1,t),cs(e,t))}function br(e,t,n){if(e.tag===3)fw(e,e,n);else for(;t!==null;){if(t.tag===3){fw(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gl===null||!gl.has(r))){e=$u(n,e),e=Z4(t,e,1),t=ml(t,e,1),e=Yi(),t!==null&&(Hh(t,1,e),cs(t,e));break}}t=t.return}}function m_(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Yi(),e.pingedLanes|=e.suspendedLanes&n,ci===e&&(vi&n)===n&&(Jr===4||Jr===3&&(vi&130023424)===vi&&500>Tr()-_x?Sc(e,0):Ex|=n),cs(e,t)}function xN(e,t){t===0&&(e.mode&1?(t=If,If<<=1,!(If&130023424)&&(If=4194304)):t=1);var n=Yi();e=No(e,t),e!==null&&(Hh(e,t,n),cs(e,n))}function g_(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),xN(e,n)}function x_(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ut(314))}r!==null&&r.delete(t),xN(e,n)}var yN;yN=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||os.current)as=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return as=!1,i_(e,t,n);as=!!(e.flags&131072)}else as=!1,sr&&t.flags&1048576&&N4(t,U0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;f0(e,t),e=t.pendingProps;var i=zu(t,Ri.current);Pu(t,n),i=wx(null,t,r,e,i,n);var s=bx();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ls(r)?(s=!0,B0(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mx(t),i.updater=j1,t.stateNode=i,i._reactInternals=t,Ag(t,r,e,n),t=Eg(null,t,r,!0,s,n)):(t.tag=0,sr&&s&&lx(t),$i(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(f0(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=v_(r),e=da(r,e),i){case 0:t=Cg(null,t,r,e,n);break e;case 1:t=rw(null,t,r,e,n);break e;case 11:t=tw(null,t,r,e,n);break e;case 14:t=nw(null,t,r,da(r.type,e),n);break e}throw Error(ut(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:da(r,i),Cg(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:da(r,i),rw(e,t,r,i,n);case 3:e:{if(tN(t),e===null)throw Error(ut(387));r=t.pendingProps,s=t.memoizedState,i=s.element,T4(e,t),H0(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=$u(Error(ut(423)),t),t=iw(e,t,r,n,i);break e}else if(r!==i){i=$u(Error(ut(424)),t),t=iw(e,t,r,n,i);break e}else for(Ss=pl(t.stateNode.containerInfo.firstChild),Es=t,sr=!0,ga=null,n=E4(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hu(),r===i){t=Ao(e,t,n);break e}$i(e,t,r,n)}t=t.child}return t;case 5:return I4(t),e===null&&wg(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,mg(r,i)?o=null:s!==null&&mg(r,s)&&(t.flags|=32),eN(e,t),$i(e,t,o,n),t.child;case 6:return e===null&&wg(t),null;case 13:return nN(e,t,n);case 4:return gx(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=qu(t,null,r,n):$i(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:da(r,i),tw(e,t,r,i,n);case 7:return $i(e,t,t.pendingProps,n),t.child;case 8:return $i(e,t,t.pendingProps.children,n),t.child;case 12:return $i(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,zn(V0,r._currentValue),r._currentValue=o,s!==null)if(Na(s.value,o)){if(s.children===i.children&&!os.current){t=Ao(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var h=u.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=xo(-1,n&-n),h.tag=2;var p=s.updateQueue;if(p!==null){p=p.shared;var x=p.pending;x===null?h.next=h:(h.next=x.next,x.next=h),p.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),bg(s.return,n,t),u.lanes|=n;break}h=h.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ut(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),bg(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}$i(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Pu(t,n),i=Ks(i),r=r(i),t.flags|=1,$i(e,t,r,n),t.child;case 14:return r=t.type,i=da(r,t.pendingProps),i=da(r.type,i),nw(e,t,r,i,n);case 15:return Q4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:da(r,i),f0(e,t),t.tag=1,ls(r)?(e=!0,B0(t)):e=!1,Pu(t,n),X4(t,r,i),Ag(t,r,i,n),Eg(null,t,r,!0,e,n);case 19:return rN(e,t,n);case 22:return J4(e,t,n)}throw Error(ut(156,t.tag))};function vN(e,t){return $3(e,t)}function y_(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(e,t,n,r){return new y_(e,t,n,r)}function jx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function v_(e){if(typeof e=="function")return jx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===K2)return 11;if(e===Z2)return 14}return 2}function yl(e,t){var n=e.alternate;return n===null?(n=Ys(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function g0(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")jx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hu:return Cc(n.children,i,s,t);case X2:o=8,i|=8;break;case Gm:return e=Ys(12,n,t,i|2),e.elementType=Gm,e.lanes=s,e;case Ym:return e=Ys(13,n,t,i),e.elementType=Ym,e.lanes=s,e;case Xm:return e=Ys(19,n,t,i),e.elementType=Xm,e.lanes=s,e;case I3:return O1(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _3:o=10;break e;case T3:o=9;break e;case K2:o=11;break e;case Z2:o=14;break e;case Qo:o=16,r=null;break e}throw Error(ut(130,e==null?e:typeof e,""))}return t=Ys(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Cc(e,t,n,r){return e=Ys(7,e,r,t),e.lanes=n,e}function O1(e,t,n,r){return e=Ys(22,e,r,t),e.elementType=I3,e.lanes=n,e.stateNode={isHidden:!1},e}function nm(e,t,n){return e=Ys(6,e,null,t),e.lanes=n,e}function rm(e,t,n){return t=Ys(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function w_(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rp(0),this.expirationTimes=Rp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lx(e,t,n,r,i,s,o,u,h){return e=new w_(e,t,n,u,h),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ys(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mx(s),e}function b_(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:du,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wN(e){if(!e)return Nl;e=e._reactInternals;e:{if(Dc(e)!==e||e.tag!==1)throw Error(ut(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ls(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ut(171))}if(e.tag===1){var n=e.type;if(ls(n))return w4(e,n,t)}return t}function bN(e,t,n,r,i,s,o,u,h){return e=Lx(n,r,!0,e,i,s,o,u,h),e.context=wN(null),n=e.current,r=Yi(),i=xl(n),s=xo(r,i),s.callback=t??null,ml(n,s,i),e.current.lanes=i,Hh(e,i,r),cs(e,r),e}function D1(e,t,n,r){var i=t.current,s=Yi(),o=xl(i);return n=wN(n),t.context===null?t.context=n:t.pendingContext=n,t=xo(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ml(i,t,o),e!==null&&(ba(e,i,o,s),u0(e,i,o)),o}function Z0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function pw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Px(e,t){pw(e,t),(e=e.alternate)&&pw(e,t)}function N_(){return null}var NN=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ox(e){this._internalRoot=e}M1.prototype.render=Ox.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ut(409));D1(e,t,null,null)};M1.prototype.unmount=Ox.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lc(function(){D1(null,e,null,null)}),t[bo]=null}};function M1(e){this._internalRoot=e}M1.prototype.unstable_scheduleHydration=function(e){if(e){var t=J3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tl.length&&t!==0&&t<tl[n].priority;n++);tl.splice(n,0,e),n===0&&t4(e)}};function Dx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function R1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function mw(){}function A_(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var p=Z0(o);s.call(p)}}var o=bN(t,r,e,0,null,!1,!1,"",mw);return e._reactRootContainer=o,e[bo]=o.current,bh(e.nodeType===8?e.parentNode:e),Lc(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var p=Z0(h);u.call(p)}}var h=Lx(e,0,!1,null,null,!1,!1,"",mw);return e._reactRootContainer=h,e[bo]=h.current,bh(e.nodeType===8?e.parentNode:e),Lc(function(){D1(t,h,n,r)}),h}function B1(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var h=Z0(o);u.call(h)}}D1(t,o,e,i)}else o=A_(n,t,e,i,r);return Z0(o)}Z3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zd(t.pendingLanes);n!==0&&(ex(t,n|1),cs(t,Tr()),!(vn&6)&&(Gu=Tr()+500,Ll()))}break;case 13:Lc(function(){var r=No(e,1);if(r!==null){var i=Yi();ba(r,e,1,i)}}),Px(e,1)}};tx=function(e){if(e.tag===13){var t=No(e,134217728);if(t!==null){var n=Yi();ba(t,e,134217728,n)}Px(e,134217728)}};Q3=function(e){if(e.tag===13){var t=xl(e),n=No(e,t);if(n!==null){var r=Yi();ba(n,e,t,r)}Px(e,t)}};J3=function(){return In};e4=function(e,t){var n=In;try{return In=e,t()}finally{In=n}};sg=function(e,t,n){switch(t){case"input":if(Qm(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=T1(r);if(!i)throw Error(ut(90));j3(r),Qm(r,i)}}}break;case"textarea":P3(e,n);break;case"select":t=n.value,t!=null&&Iu(e,!!n.multiple,t,!1)}};U3=Tx;V3=Lc;var S_={usingClientEntryPoint:!1,Events:[Wh,gu,T1,B3,F3,Tx]},Td={findFiberByHostInstance:xc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C_={bundleType:Td.bundleType,version:Td.version,rendererPackageName:Td.rendererPackageName,rendererConfig:Td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=q3(e),e===null?null:e.stateNode},findFiberByHostInstance:Td.findFiberByHostInstance||N_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{S1=Uf.inject(C_),za=Uf}catch{}}ks.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S_;ks.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dx(t))throw Error(ut(200));return b_(e,t,null,n)};ks.createRoot=function(e,t){if(!Dx(e))throw Error(ut(299));var n=!1,r="",i=NN;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Lx(e,1,!1,null,null,n,!1,r,i),e[bo]=t.current,bh(e.nodeType===8?e.parentNode:e),new Ox(t)};ks.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ut(188)):(e=Object.keys(e).join(","),Error(ut(268,e)));return e=q3(t),e=e===null?null:e.stateNode,e};ks.flushSync=function(e){return Lc(e)};ks.hydrate=function(e,t,n){if(!R1(t))throw Error(ut(200));return B1(null,e,t,!0,n)};ks.hydrateRoot=function(e,t,n){if(!Dx(e))throw Error(ut(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=NN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=bN(t,null,e,1,n??null,i,!1,s,o),e[bo]=t.current,bh(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new M1(t)};ks.render=function(e,t,n){if(!R1(t))throw Error(ut(200));return B1(null,e,t,!1,n)};ks.unmountComponentAtNode=function(e){if(!R1(e))throw Error(ut(40));return e._reactRootContainer?(Lc(function(){B1(null,null,e,!1,function(){e._reactRootContainer=null,e[bo]=null})}),!0):!1};ks.unstable_batchedUpdates=Tx;ks.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!R1(n))throw Error(ut(200));if(e==null||e._reactInternals===void 0)throw Error(ut(38));return B1(e,t,n,!1,r)};ks.version="18.3.1-next-f1338f8080-20240426";function AN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(AN)}catch(e){console.error(e)}}AN(),A3.exports=ks;var E_=A3.exports,gw=E_;Wm.createRoot=gw.createRoot,Wm.hydrateRoot=gw.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kh(){return kh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kh.apply(this,arguments)}var ll;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(ll||(ll={}));const xw="popstate";function __(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:u}=r.location;return Bg("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Q0(i)}return I_(t,n,null,e)}function Pr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function SN(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function T_(){return Math.random().toString(36).substr(2,8)}function yw(e,t){return{usr:e.state,key:e.key,idx:t}}function Bg(e,t,n,r){return n===void 0&&(n=null),kh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?od(t):t,{state:n,key:t&&t.key||r||T_()})}function Q0(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function od(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function I_(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=ll.Pop,h=null,p=x();p==null&&(p=0,o.replaceState(kh({},o.state,{idx:p}),""));function x(){return(o.state||{idx:null}).idx}function y(){u=ll.Pop;let P=x(),E=P==null?null:P-p;p=P,h&&h({action:u,location:T.location,delta:E})}function N(P,E){u=ll.Push;let C=Bg(T.location,P,E);p=x()+1;let k=yw(C,p),M=T.createHref(C);try{o.pushState(k,"",M)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(M)}s&&h&&h({action:u,location:T.location,delta:1})}function b(P,E){u=ll.Replace;let C=Bg(T.location,P,E);p=x();let k=yw(C,p),M=T.createHref(C);o.replaceState(k,"",M),s&&h&&h({action:u,location:T.location,delta:0})}function j(P){let E=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof P=="string"?P:Q0(P);return C=C.replace(/ $/,"%20"),Pr(E,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,E)}let T={get action(){return u},get location(){return e(i,o)},listen(P){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(xw,y),h=P,()=>{i.removeEventListener(xw,y),h=null}},createHref(P){return t(i,P)},createURL:j,encodeLocation(P){let E=j(P);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:N,replace:b,go(P){return o.go(P)}};return T}var vw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vw||(vw={}));function k_(e,t,n){return n===void 0&&(n="/"),j_(e,t,n)}function j_(e,t,n,r){let i=typeof t=="string"?od(t):t,s=Mx(i.pathname||"/",n);if(s==null)return null;let o=CN(e);L_(o);let u=null;for(let h=0;u==null&&h<o.length;++h){let p=q_(s);u=V_(o[h],p)}return u}function CN(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let h={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};h.relativePath.startsWith("/")&&(Pr(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=vl([r,h.relativePath]),x=n.concat(h);s.children&&s.children.length>0&&(Pr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),CN(s.children,t,x,p)),!(s.path==null&&!s.index)&&t.push({path:p,score:F_(p,s.index),routesMeta:x})};return e.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let h of EN(s.path))i(s,o,h)}),t}function EN(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=EN(r.join("/")),u=[];return u.push(...o.map(h=>h===""?s:[s,h].join("/"))),i&&u.push(...o),u.map(h=>e.startsWith("/")&&h===""?"/":h)}function L_(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:U_(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const P_=/^:[\w-]+$/,O_=3,D_=2,M_=1,R_=10,B_=-2,ww=e=>e==="*";function F_(e,t){let n=e.split("/"),r=n.length;return n.some(ww)&&(r+=B_),t&&(r+=D_),n.filter(i=>!ww(i)).reduce((i,s)=>i+(P_.test(s)?O_:s===""?M_:R_),r)}function U_(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function V_(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,x=s==="/"?t:t.slice(s.length)||"/",y=z_({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},x),N=h.route;if(!y)return null;Object.assign(i,y.params),o.push({params:i,pathname:vl([s,y.pathname]),pathnameBase:Y_(vl([s,y.pathnameBase])),route:N}),y.pathnameBase!=="/"&&(s=vl([s,y.pathnameBase]))}return o}function z_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=H_(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,x,y)=>{let{paramName:N,isOptional:b}=x;if(N==="*"){let T=u[y]||"";o=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const j=u[y];return b&&!j?p[N]=void 0:p[N]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:s,pathnameBase:o,pattern:e}}function H_(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),SN(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function q_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return SN(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Mx(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function W_(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?od(e):e;return{pathname:n?n.startsWith("/")?n:$_(n,t):t,search:X_(r),hash:K_(i)}}function $_(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function im(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function G_(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Rx(e,t){let n=G_(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Bx(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=od(e):(i=kh({},e),Pr(!i.pathname||!i.pathname.includes("?"),im("?","pathname","search",i)),Pr(!i.pathname||!i.pathname.includes("#"),im("#","pathname","hash",i)),Pr(!i.search||!i.search.includes("#"),im("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=n;else{let y=t.length-1;if(!r&&o.startsWith("..")){let N=o.split("/");for(;N[0]==="..";)N.shift(),y-=1;i.pathname=N.join("/")}u=y>=0?t[y]:"/"}let h=W_(i,u),p=o&&o!=="/"&&o.endsWith("/"),x=(s||o===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||x)&&(h.pathname+="/"),h}const vl=e=>e.join("/").replace(/\/\/+/g,"/"),Y_=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),X_=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K_=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Z_(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _N=["post","put","patch","delete"];new Set(_N);const Q_=["get",..._N];new Set(Q_);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jh.apply(this,arguments)}const Fx=fe.createContext(null),J_=fe.createContext(null),Pl=fe.createContext(null),F1=fe.createContext(null),Ol=fe.createContext({outlet:null,matches:[],isDataRoute:!1}),TN=fe.createContext(null);function eT(e,t){let{relative:n}=t===void 0?{}:t;ld()||Pr(!1);let{basename:r,navigator:i}=fe.useContext(Pl),{hash:s,pathname:o,search:u}=kN(e,{relative:n}),h=o;return r!=="/"&&(h=o==="/"?r:vl([r,o])),i.createHref({pathname:h,search:u,hash:s})}function ld(){return fe.useContext(F1)!=null}function Mc(){return ld()||Pr(!1),fe.useContext(F1).location}function IN(e){fe.useContext(Pl).static||fe.useLayoutEffect(e)}function Rc(){let{isDataRoute:e}=fe.useContext(Ol);return e?fT():tT()}function tT(){ld()||Pr(!1);let e=fe.useContext(Fx),{basename:t,future:n,navigator:r}=fe.useContext(Pl),{matches:i}=fe.useContext(Ol),{pathname:s}=Mc(),o=JSON.stringify(Rx(i,n.v7_relativeSplatPath)),u=fe.useRef(!1);return IN(()=>{u.current=!0}),fe.useCallback(function(p,x){if(x===void 0&&(x={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let y=Bx(p,JSON.parse(o),s,x.relative==="path");e==null&&t!=="/"&&(y.pathname=y.pathname==="/"?t:vl([t,y.pathname])),(x.replace?r.replace:r.push)(y,x.state,x)},[t,r,o,s,e])}function kN(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=fe.useContext(Pl),{matches:i}=fe.useContext(Ol),{pathname:s}=Mc(),o=JSON.stringify(Rx(i,r.v7_relativeSplatPath));return fe.useMemo(()=>Bx(e,JSON.parse(o),s,n==="path"),[e,o,s,n])}function nT(e,t){return rT(e,t)}function rT(e,t,n,r){ld()||Pr(!1);let{navigator:i}=fe.useContext(Pl),{matches:s}=fe.useContext(Ol),o=s[s.length-1],u=o?o.params:{};o&&o.pathname;let h=o?o.pathnameBase:"/";o&&o.route;let p=Mc(),x;if(t){var y;let P=typeof t=="string"?od(t):t;h==="/"||(y=P.pathname)!=null&&y.startsWith(h)||Pr(!1),x=P}else x=p;let N=x.pathname||"/",b=N;if(h!=="/"){let P=h.replace(/^\//,"").split("/");b="/"+N.replace(/^\//,"").split("/").slice(P.length).join("/")}let j=k_(e,{pathname:b}),T=lT(j&&j.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:vl([h,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:vl([h,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return t&&T?fe.createElement(F1.Provider,{value:{location:jh({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:ll.Pop}},T):T}function iT(){let e=hT(),t=Z_(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return fe.createElement(fe.Fragment,null,fe.createElement("h2",null,"Unexpected Application Error!"),fe.createElement("h3",{style:{fontStyle:"italic"}},t),n?fe.createElement("pre",{style:i},n):null,null)}const sT=fe.createElement(iT,null);class aT extends fe.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?fe.createElement(Ol.Provider,{value:this.props.routeContext},fe.createElement(TN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oT(e){let{routeContext:t,match:n,children:r}=e,i=fe.useContext(Fx);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),fe.createElement(Ol.Provider,{value:t},r)}function lT(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let x=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);x>=0||Pr(!1),o=o.slice(0,Math.min(o.length,x+1))}let h=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let x=0;x<o.length;x++){let y=o[x];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(p=x),y.route.id){let{loaderData:N,errors:b}=n,j=y.route.loader&&N[y.route.id]===void 0&&(!b||b[y.route.id]===void 0);if(y.route.lazy||j){h=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((x,y,N)=>{let b,j=!1,T=null,P=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,T=y.route.errorElement||sT,h&&(p<0&&N===0?(pT("route-fallback"),j=!0,P=null):p===N&&(j=!0,P=y.route.hydrateFallbackElement||null)));let E=t.concat(o.slice(0,N+1)),C=()=>{let k;return b?k=T:j?k=P:y.route.Component?k=fe.createElement(y.route.Component,null):y.route.element?k=y.route.element:k=x,fe.createElement(oT,{match:y,routeContext:{outlet:x,matches:E,isDataRoute:n!=null},children:k})};return n&&(y.route.ErrorBoundary||y.route.errorElement||N===0)?fe.createElement(aT,{location:n.location,revalidation:n.revalidation,component:T,error:b,children:C(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):C()},null)}var jN=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(jN||{}),LN=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(LN||{});function cT(e){let t=fe.useContext(Fx);return t||Pr(!1),t}function uT(e){let t=fe.useContext(J_);return t||Pr(!1),t}function dT(e){let t=fe.useContext(Ol);return t||Pr(!1),t}function PN(e){let t=dT(),n=t.matches[t.matches.length-1];return n.route.id||Pr(!1),n.route.id}function hT(){var e;let t=fe.useContext(TN),n=uT(),r=PN();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function fT(){let{router:e}=cT(jN.UseNavigateStable),t=PN(LN.UseNavigateStable),n=fe.useRef(!1);return IN(()=>{n.current=!0}),fe.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,jh({fromRouteId:t},s)))},[e,t])}const bw={};function pT(e,t,n){bw[e]||(bw[e]=!0)}function mT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gT(e){let{to:t,replace:n,state:r,relative:i}=e;ld()||Pr(!1);let{future:s,static:o}=fe.useContext(Pl),{matches:u}=fe.useContext(Ol),{pathname:h}=Mc(),p=Rc(),x=Bx(t,Rx(u,s.v7_relativeSplatPath),h,i==="path"),y=JSON.stringify(x);return fe.useEffect(()=>p(JSON.parse(y),{replace:n,state:r,relative:i}),[p,y,i,n,r]),null}function ca(e){Pr(!1)}function xT(e){let{basename:t="/",children:n=null,location:r,navigationType:i=ll.Pop,navigator:s,static:o=!1,future:u}=e;ld()&&Pr(!1);let h=t.replace(/^\/*/,"/"),p=fe.useMemo(()=>({basename:h,navigator:s,static:o,future:jh({v7_relativeSplatPath:!1},u)}),[h,u,s,o]);typeof r=="string"&&(r=od(r));let{pathname:x="/",search:y="",hash:N="",state:b=null,key:j="default"}=r,T=fe.useMemo(()=>{let P=Mx(x,h);return P==null?null:{location:{pathname:P,search:y,hash:N,state:b,key:j},navigationType:i}},[h,x,y,N,b,j,i]);return T==null?null:fe.createElement(Pl.Provider,{value:p},fe.createElement(F1.Provider,{children:n,value:T}))}function yT(e){let{children:t,location:n}=e;return nT(Fg(t),n)}new Promise(()=>{});function Fg(e,t){t===void 0&&(t=[]);let n=[];return fe.Children.forEach(e,(r,i)=>{if(!fe.isValidElement(r))return;let s=[...t,i];if(r.type===fe.Fragment){n.push.apply(n,Fg(r.props.children,s));return}r.type!==ca&&Pr(!1),!r.props.index||!r.props.children||Pr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Fg(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ug(){return Ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ug.apply(this,arguments)}function vT(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function wT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bT(e,t){return e.button===0&&(!t||t==="_self")&&!wT(e)}function Vg(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function NT(e,t){let n=Vg(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const AT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ST="6";try{window.__reactRouterVersion=ST}catch{}const CT="startTransition",Nw=mE[CT];function ET(e){let{basename:t,children:n,future:r,window:i}=e,s=fe.useRef();s.current==null&&(s.current=__({window:i,v5Compat:!0}));let o=s.current,[u,h]=fe.useState({action:o.action,location:o.location}),{v7_startTransition:p}=r||{},x=fe.useCallback(y=>{p&&Nw?Nw(()=>h(y)):h(y)},[h,p]);return fe.useLayoutEffect(()=>o.listen(x),[o,x]),fe.useEffect(()=>mT(r),[r]),fe.createElement(xT,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}const _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Aw=fe.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:u,target:h,to:p,preventScrollReset:x,viewTransition:y}=t,N=vT(t,AT),{basename:b}=fe.useContext(Pl),j,T=!1;if(typeof p=="string"&&TT.test(p)&&(j=p,_T))try{let k=new URL(window.location.href),M=p.startsWith("//")?new URL(k.protocol+p):new URL(p),B=Mx(M.pathname,b);M.origin===k.origin&&B!=null?p=B+M.search+M.hash:T=!0}catch{}let P=eT(p,{relative:i}),E=IT(p,{replace:o,state:u,target:h,preventScrollReset:x,relative:i,viewTransition:y});function C(k){r&&r(k),k.defaultPrevented||E(k)}return fe.createElement("a",Ug({},N,{href:j||P,onClick:T||s?r:C,ref:n,target:h}))});var Sw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Sw||(Sw={}));var Cw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Cw||(Cw={}));function IT(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:u}=t===void 0?{}:t,h=Rc(),p=Mc(),x=kN(e,{relative:o});return fe.useCallback(y=>{if(bT(y,n)){y.preventDefault();let N=r!==void 0?r:Q0(p)===Q0(x);h(e,{replace:N,state:i,preventScrollReset:s,relative:o,viewTransition:u})}},[p,h,x,r,i,n,e,s,o,u])}function kT(e){let t=fe.useRef(Vg(e)),n=fe.useRef(!1),r=Mc(),i=fe.useMemo(()=>NT(r.search,n.current?null:t.current),[r.search]),s=Rc(),o=fe.useCallback((u,h)=>{const p=Vg(typeof u=="function"?u(i):u);n.current=!0,s("?"+p,h)},[s,i]);return[i,o]}var Ew={},jT="@vercel/analytics",LT="1.5.0",PT=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function ON(){return typeof window<"u"}function DN(){try{const e="production"}catch{}return"production"}function OT(e="auto"){if(e==="auto"){window.vam=DN();return}window.vam=e}function DT(){return(ON()?window.vam:DN())||"production"}function zg(){return DT()==="development"}function MT(e){return e.scriptSrc?e.scriptSrc:zg()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function RT(e={debug:!0}){var t;if(!ON())return;OT(e.mode),PT(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const n=MT(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const r=document.createElement("script");r.src=n,r.defer=!0,r.dataset.sdkn=jT+(e.framework?`/${e.framework}`:""),r.dataset.sdkv=LT,e.disableAutoTrack&&(r.dataset.disableAutoTrack="1"),e.endpoint?r.dataset.endpoint=e.endpoint:e.basePath&&(r.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(r.dataset.dsn=e.dsn),r.onerror=()=>{const i=zg()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${i}`)},zg()&&e.debug===!1&&(r.dataset.debug="false"),document.head.appendChild(r)}function BT({route:e,path:t}){var n;(n=window.va)==null||n.call(window,"pageview",{route:e,path:t})}function FT(){if(!(typeof process>"u"||typeof Ew>"u"))return Ew.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function UT(e){return fe.useEffect(()=>{var t;e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),fe.useEffect(()=>{RT({framework:e.framework||"react",basePath:e.basePath??FT(),...e.route!==void 0&&{disableAutoTrack:!0},...e})},[]),fe.useEffect(()=>{e.route&&e.path&&BT({route:e.route,path:e.path})},[e.route,e.path]),null}let VT={data:""},zT=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||VT,HT=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,qT=/\/\*[^]*?\*\/|  +/g,_w=/\n+/g,rl=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?rl(o,s):s+"{"+rl(o,s[1]=="k"?"":t)+"}":typeof o=="object"?r+=rl(o,t?t.replace(/([^,])+/g,u=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,h=>/&/.test(h)?h.replace(/&/g,u):u?u+" "+h:h)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=rl.p?rl.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},so={},MN=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+MN(e[n]);return t}return e},WT=(e,t,n,r,i)=>{let s=MN(e),o=so[s]||(so[s]=(h=>{let p=0,x=11;for(;p<h.length;)x=101*x+h.charCodeAt(p++)>>>0;return"go"+x})(s));if(!so[o]){let h=s!==e?e:(p=>{let x,y,N=[{}];for(;x=HT.exec(p.replace(qT,""));)x[4]?N.shift():x[3]?(y=x[3].replace(_w," ").trim(),N.unshift(N[0][y]=N[0][y]||{})):N[0][x[1]]=x[2].replace(_w," ").trim();return N[0]})(e);so[o]=rl(i?{["@keyframes "+o]:h}:h,n?"":"."+o)}let u=n&&so.g?so.g:null;return n&&(so.g=so[o]),((h,p,x,y)=>{y?p.data=p.data.replace(y,h):p.data.indexOf(h)===-1&&(p.data=x?h+p.data:p.data+h)})(so[o],t,r,u),o},$T=(e,t,n)=>e.reduce((r,i,s)=>{let o=t[s];if(o&&o.call){let u=o(n),h=u&&u.props&&u.props.className||/^go/.test(u)&&u;o=h?"."+h:u&&typeof u=="object"?u.props?"":rl(u,""):u===!1?"":u}return r+i+(o??"")},"");function U1(e){let t=this||{},n=e.call?e(t.p):e;return WT(n.unshift?n.raw?$T(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,zT(t.target),t.g,t.o,t.k)}let RN,Hg,qg;U1.bind({g:1});let So=U1.bind({k:1});function GT(e,t,n,r){rl.p=t,RN=e,Hg=n,qg=r}function Dl(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let u=Object.assign({},s),h=u.className||i.className;n.p=Object.assign({theme:Hg&&Hg()},u),n.o=/ *go\d+/.test(h),u.className=U1.apply(n,r)+(h?" "+h:"");let p=e;return e[0]&&(p=u.as||e,delete u.as),qg&&p[0]&&qg(u),RN(p,u)}return i}}var YT=e=>typeof e=="function",J0=(e,t)=>YT(e)?e(t):e,XT=(()=>{let e=0;return()=>(++e).toString()})(),BN=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),KT=20,Ux="default",FN=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return FN(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},x0=[],UN={toasts:[],pausedAt:void 0,settings:{toastLimit:KT}},Fa={},VN=(e,t=Ux)=>{Fa[t]=FN(Fa[t]||UN,e),x0.forEach(([n,r])=>{n===t&&r(Fa[t])})},zN=e=>Object.keys(Fa).forEach(t=>VN(e,t)),ZT=e=>Object.keys(Fa).find(t=>Fa[t].toasts.some(n=>n.id===e)),V1=(e=Ux)=>t=>{VN(t,e)},QT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},JT=(e={},t=Ux)=>{let[n,r]=fe.useState(Fa[t]||UN),i=fe.useRef(Fa[t]);fe.useEffect(()=>(i.current!==Fa[t]&&r(Fa[t]),x0.push([t,r]),()=>{let o=x0.findIndex(([u])=>u===t);o>-1&&x0.splice(o,1)}),[t]);let s=n.toasts.map(o=>{var u,h,p;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((u=e[o.type])==null?void 0:u.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((h=e[o.type])==null?void 0:h.duration)||(e==null?void 0:e.duration)||QT[o.type],style:{...e.style,...(p=e[o.type])==null?void 0:p.style,...o.style}}});return{...n,toasts:s}},eI=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||XT()}),Gh=e=>(t,n)=>{let r=eI(t,e,n);return V1(r.toasterId||ZT(r.id))({type:2,toast:r}),r.id},Zr=(e,t)=>Gh("blank")(e,t);Zr.error=Gh("error");Zr.success=Gh("success");Zr.loading=Gh("loading");Zr.custom=Gh("custom");Zr.dismiss=(e,t)=>{let n={type:3,toastId:e};t?V1(t)(n):zN(n)};Zr.dismissAll=e=>Zr.dismiss(void 0,e);Zr.remove=(e,t)=>{let n={type:4,toastId:e};t?V1(t)(n):zN(n)};Zr.removeAll=e=>Zr.remove(void 0,e);Zr.promise=(e,t,n)=>{let r=Zr.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let s=t.success?J0(t.success,i):void 0;return s?Zr.success(s,{id:r,...n,...n==null?void 0:n.success}):Zr.dismiss(r),i}).catch(i=>{let s=t.error?J0(t.error,i):void 0;s?Zr.error(s,{id:r,...n,...n==null?void 0:n.error}):Zr.dismiss(r)}),e};var tI=1e3,nI=(e,t="default")=>{let{toasts:n,pausedAt:r}=JT(e,t),i=fe.useRef(new Map).current,s=fe.useCallback((y,N=tI)=>{if(i.has(y))return;let b=setTimeout(()=>{i.delete(y),o({type:4,toastId:y})},N);i.set(y,b)},[]);fe.useEffect(()=>{if(r)return;let y=Date.now(),N=n.map(b=>{if(b.duration===1/0)return;let j=(b.duration||0)+b.pauseDuration-(y-b.createdAt);if(j<0){b.visible&&Zr.dismiss(b.id);return}return setTimeout(()=>Zr.dismiss(b.id,t),j)});return()=>{N.forEach(b=>b&&clearTimeout(b))}},[n,r,t]);let o=fe.useCallback(V1(t),[t]),u=fe.useCallback(()=>{o({type:5,time:Date.now()})},[o]),h=fe.useCallback((y,N)=>{o({type:1,toast:{id:y,height:N}})},[o]),p=fe.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),x=fe.useCallback((y,N)=>{let{reverseOrder:b=!1,gutter:j=8,defaultPosition:T}=N||{},P=n.filter(k=>(k.position||T)===(y.position||T)&&k.height),E=P.findIndex(k=>k.id===y.id),C=P.filter((k,M)=>M<E&&k.visible).length;return P.filter(k=>k.visible).slice(...b?[C+1]:[0,C]).reduce((k,M)=>k+(M.height||0)+j,0)},[n]);return fe.useEffect(()=>{n.forEach(y=>{if(y.dismissed)s(y.id,y.removeDelay);else{let N=i.get(y.id);N&&(clearTimeout(N),i.delete(y.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:h,startPause:u,endPause:p,calculateOffset:x}}},rI=So`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,iI=So`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sI=So`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,aI=Dl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${rI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${iI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${sI} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,oI=So`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,lI=Dl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${oI} 1s linear infinite;
`,cI=So`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,uI=So`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,dI=Dl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${cI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${uI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hI=Dl("div")`
  position: absolute;
`,fI=Dl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,pI=So`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mI=Dl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${pI} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gI=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?fe.createElement(mI,null,t):t:n==="blank"?null:fe.createElement(fI,null,fe.createElement(lI,{...r}),n!=="loading"&&fe.createElement(hI,null,n==="error"?fe.createElement(aI,{...r}):fe.createElement(dI,{...r})))},xI=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,yI=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,vI="0%{opacity:0;} 100%{opacity:1;}",wI="0%{opacity:1;} 100%{opacity:0;}",bI=Dl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,NI=Dl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,AI=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=BN()?[vI,wI]:[xI(n),yI(n)];return{animation:t?`${So(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${So(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},SI=fe.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?AI(e.position||t||"top-center",e.visible):{opacity:0},s=fe.createElement(gI,{toast:e}),o=fe.createElement(NI,{...e.ariaProps},J0(e.message,e));return fe.createElement(bI,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:s,message:o}):fe.createElement(fe.Fragment,null,s,o))});GT(fe.createElement);var CI=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let s=fe.useCallback(o=>{if(o){let u=()=>{let h=o.getBoundingClientRect().height;r(e,h)};u(),new MutationObserver(u).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return fe.createElement("div",{ref:s,className:t,style:n},i)},EI=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:BN()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},_I=U1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Vf=16,TI=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:o,containerClassName:u})=>{let{toasts:h,handlers:p}=nI(n,s);return fe.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:Vf,left:Vf,right:Vf,bottom:Vf,pointerEvents:"none",...o},className:u,onMouseEnter:p.startPause,onMouseLeave:p.endPause},h.map(x=>{let y=x.position||t,N=p.calculateOffset(x,{reverseOrder:e,gutter:r,defaultPosition:t}),b=EI(y,N);return fe.createElement(CI,{id:x.id,key:x.id,onHeightUpdate:p.updateHeight,className:x.visible?_I:"",style:b},x.type==="custom"?J0(x.message,x):i?i(x):fe.createElement(SI,{toast:x,position:y}))}))},Oi=Zr,II=typeof Element<"u",kI=typeof Map=="function",jI=typeof Set=="function",LI=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function y0(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!y0(e[r],t[r]))return!1;return!0}var s;if(kI&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;for(s=e.entries();!(r=s.next()).done;)if(!y0(r.value[1],t.get(r.value[0])))return!1;return!0}if(jI&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(s=e.entries();!(r=s.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(LI&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf&&typeof e.valueOf=="function"&&typeof t.valueOf=="function")return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString&&typeof e.toString=="function"&&typeof t.toString=="function")return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(II&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!y0(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var PI=function(t,n){try{return y0(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const OI=Pc(PI);var DI=function(e,t,n,r,i,s,o,u){if(!e){var h;if(t===void 0)h=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,r,i,s,o,u],x=0;h=new Error(t.replace(/%s/g,function(){return p[x++]})),h.name="Invariant Violation"}throw h.framesToPop=1,h}},MI=DI;const Tw=Pc(MI);var RI=function(t,n,r,i){var s=r?r.call(i,t,n):void 0;if(s!==void 0)return!!s;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var o=Object.keys(t),u=Object.keys(n);if(o.length!==u.length)return!1;for(var h=Object.prototype.hasOwnProperty.bind(n),p=0;p<o.length;p++){var x=o[p];if(!h(x))return!1;var y=t[x],N=n[x];if(s=r?r.call(i,y,N,x):void 0,s===!1||s===void 0&&y!==N)return!1}return!0};const BI=Pc(RI);var HN=(e=>(e.BASE="base",e.BODY="body",e.HEAD="head",e.HTML="html",e.LINK="link",e.META="meta",e.NOSCRIPT="noscript",e.SCRIPT="script",e.STYLE="style",e.TITLE="title",e.FRAGMENT="Symbol(react.fragment)",e))(HN||{}),sm={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},Iw=Object.values(HN),Vx={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},FI=Object.entries(Vx).reduce((e,[t,n])=>(e[n]=t,e),{}),va="data-rh",Du={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},Mu=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},UI=e=>{let t=Mu(e,"title");const n=Mu(e,Du.TITLE_TEMPLATE);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const r=Mu(e,Du.DEFAULT_TITLE);return t||r||void 0},VI=e=>Mu(e,Du.ON_CHANGE_CLIENT_STATE)||(()=>{}),am=(e,t)=>t.filter(n=>typeof n[e]<"u").map(n=>n[e]).reduce((n,r)=>({...n,...r}),{}),zI=(e,t)=>t.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const u=i[s].toLowerCase();if(e.indexOf(u)!==-1&&r[u])return n.concat(r)}}return n},[]),HI=e=>console&&typeof console.warn=="function"&&console.warn(e),Id=(e,t,n)=>{const r={};return n.filter(i=>Array.isArray(i[e])?!0:(typeof i[e]<"u"&&HI(`Helmet: ${e} should be of type "Array". Instead found type "${typeof i[e]}"`),!1)).map(i=>i[e]).reverse().reduce((i,s)=>{const o={};s.filter(h=>{let p;const x=Object.keys(h);for(let N=0;N<x.length;N+=1){const b=x[N],j=b.toLowerCase();t.indexOf(j)!==-1&&!(p==="rel"&&h[p].toLowerCase()==="canonical")&&!(j==="rel"&&h[j].toLowerCase()==="stylesheet")&&(p=j),t.indexOf(b)!==-1&&(b==="innerHTML"||b==="cssText"||b==="itemprop")&&(p=b)}if(!p||!h[p])return!1;const y=h[p].toLowerCase();return r[p]||(r[p]={}),o[p]||(o[p]={}),r[p][y]?!1:(o[p][y]=!0,!0)}).reverse().forEach(h=>i.push(h));const u=Object.keys(o);for(let h=0;h<u.length;h+=1){const p=u[h],x={...r[p],...o[p]};r[p]=x}return i},[]).reverse()},qI=(e,t)=>{if(Array.isArray(e)&&e.length){for(let n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},WI=e=>({baseTag:zI(["href"],e),bodyAttributes:am("bodyAttributes",e),defer:Mu(e,Du.DEFER),encode:Mu(e,Du.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:am("htmlAttributes",e),linkTags:Id("link",["rel","href"],e),metaTags:Id("meta",["name","charset","http-equiv","property","itemprop"],e),noscriptTags:Id("noscript",["innerHTML"],e),onChangeClientState:VI(e),scriptTags:Id("script",["src","innerHTML"],e),styleTags:Id("style",["cssText"],e),title:UI(e),titleAttributes:am("titleAttributes",e),prioritizeSeoTags:qI(e,Du.PRIORITIZE_SEO_TAGS)}),qN=e=>Array.isArray(e)?e.join(""):e,$I=(e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1},om=(e,t)=>Array.isArray(e)?e.reduce((n,r)=>($I(r,t)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:e,priority:[]},kw=(e,t)=>({...e,[t]:void 0}),GI=["noscript","script","style"],Wg=(e,t=!0)=>t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),WN=e=>Object.keys(e).reduce((t,n)=>{const r=typeof e[n]<"u"?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r},""),YI=(e,t,n,r)=>{const i=WN(n),s=qN(t);return i?`<${e} ${va}="true" ${i}>${Wg(s,r)}</${e}>`:`<${e} ${va}="true">${Wg(s,r)}</${e}>`},XI=(e,t,n=!0)=>t.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,x)=>{const y=typeof s[x]>"u"?x:`${x}="${Wg(s[x],n)}"`;return p?`${p} ${y}`:y},""),u=s.innerHTML||s.cssText||"",h=GI.indexOf(e)===-1;return`${r}<${e} ${va}="true" ${o}${h?"/>":`>${u}</${e}>`}`},""),$N=(e,t={})=>Object.keys(e).reduce((n,r)=>{const i=Vx[r];return n[i||r]=e[r],n},t),KI=(e,t,n)=>{const r={key:t,[va]:!0},i=$N(n,r);return[Ot.createElement("title",i,t)]},v0=(e,t)=>t.map((n,r)=>{const i={key:r,[va]:!0};return Object.keys(n).forEach(s=>{const u=Vx[s]||s;if(u==="innerHTML"||u==="cssText"){const h=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:h}}else i[u]=n[s]}),Ot.createElement(e,i)}),Ws=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>KI(e,t.title,t.titleAttributes),toString:()=>YI(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>$N(t),toString:()=>WN(t)};default:return{toComponent:()=>v0(e,t),toString:()=>XI(e,t,n)}}},ZI=({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const i=om(e,sm.meta),s=om(t,sm.link),o=om(n,sm.script);return{priorityMethods:{toComponent:()=>[...v0("meta",i.priority),...v0("link",s.priority),...v0("script",o.priority)],toString:()=>`${Ws("meta",i.priority,r)} ${Ws("link",s.priority,r)} ${Ws("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},QI=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:u="",titleAttributes:h,prioritizeSeoTags:p}=e;let{linkTags:x,metaTags:y,scriptTags:N}=e,b={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:b,linkTags:x,metaTags:y,scriptTags:N}=ZI(e)),{priority:b,base:Ws("base",t,r),bodyAttributes:Ws("bodyAttributes",n,r),htmlAttributes:Ws("htmlAttributes",i,r),link:Ws("link",x,r),meta:Ws("meta",y,r),noscript:Ws("noscript",s,r),script:Ws("script",N,r),style:Ws("style",o,r),title:Ws("title",{title:u,titleAttributes:h},r)}},$g=QI,zf=[],GN=!!(typeof window<"u"&&window.document&&window.document.createElement),Gg=class{constructor(e,t){io(this,"instances",[]);io(this,"canUseDOM",GN);io(this,"context");io(this,"value",{setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?zf:this.instances,add:e=>{(this.canUseDOM?zf:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?zf:this.instances).indexOf(e);(this.canUseDOM?zf:this.instances).splice(t,1)}}});this.context=e,this.canUseDOM=t||!1,t||(e.helmet=$g({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},JI={},YN=Ot.createContext(JI),Ac,XN=(Ac=class extends fe.Component{constructor(n){super(n);io(this,"helmetData");this.helmetData=new Gg(this.props.context||{},Ac.canUseDOM)}render(){return Ot.createElement(YN.Provider,{value:this.helmetData.value},this.props.children)}},io(Ac,"canUseDOM",GN),Ac),Qc=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${va}]`),i=[].slice.call(r),s=[];let o;return t&&t.length&&t.forEach(u=>{const h=document.createElement(e);for(const p in u)if(Object.prototype.hasOwnProperty.call(u,p))if(p==="innerHTML")h.innerHTML=u.innerHTML;else if(p==="cssText")h.styleSheet?h.styleSheet.cssText=u.cssText:h.appendChild(document.createTextNode(u.cssText));else{const x=p,y=typeof u[x]>"u"?"":u[x];h.setAttribute(p,y)}h.setAttribute(va,"true"),i.some((p,x)=>(o=x,h.isEqualNode(p)))?i.splice(o,1):s.push(h)}),i.forEach(u=>{var h;return(h=u.parentNode)==null?void 0:h.removeChild(u)}),s.forEach(u=>n.appendChild(u)),{oldTags:i,newTags:s}},Yg=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(va),i=r?r.split(","):[],s=[...i],o=Object.keys(t);for(const u of o){const h=t[u]||"";n.getAttribute(u)!==h&&n.setAttribute(u,h),i.indexOf(u)===-1&&i.push(u);const p=s.indexOf(u);p!==-1&&s.splice(p,1)}for(let u=s.length-1;u>=0;u-=1)n.removeAttribute(s[u]);i.length===s.length?n.removeAttribute(va):n.getAttribute(va)!==o.join(",")&&n.setAttribute(va,o.join(","))},ek=(e,t)=>{typeof e<"u"&&document.title!==e&&(document.title=qN(e)),Yg("title",t)},jw=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:u,onChangeClientState:h,scriptTags:p,styleTags:x,title:y,titleAttributes:N}=e;Yg("body",r),Yg("html",i),ek(y,N);const b={baseTag:Qc("base",n),linkTags:Qc("link",s),metaTags:Qc("meta",o),noscriptTags:Qc("noscript",u),scriptTags:Qc("script",p),styleTags:Qc("style",x)},j={},T={};Object.keys(b).forEach(P=>{const{newTags:E,oldTags:C}=b[P];E.length&&(j[P]=E),C.length&&(T[P]=b[P].oldTags)}),t&&t(),h(e,j,T)},kd=null,tk=e=>{kd&&cancelAnimationFrame(kd),e.defer?kd=requestAnimationFrame(()=>{jw(e,()=>{kd=null})}):(jw(e),kd=null)},nk=tk,Lw=class extends fe.Component{constructor(){super(...arguments);io(this,"rendered",!1)}shouldComponentUpdate(t){return!BI(t,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:t}=this.props.context;t.remove(this),this.emitChange()}emitChange(){const{helmetInstances:t,setHelmet:n}=this.props.context;let r=null;const i=WI(t.get().map(s=>{const o={...s.props};return delete o.context,o}));XN.canUseDOM?nk(i):$g&&(r=$g(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:t}=this.props.context;t.add(this),this.emitChange()}render(){return this.init(),null}},qm,rk=(qm=class extends fe.Component{shouldComponentUpdate(e){return!OI(kw(this.props,"helmetData"),kw(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return{...t,[e.type]:[...t[e.type]||[],{...n,...this.mapNestedChildrenToProps(e,r)}]}}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return{...t,[e.type]:r,titleAttributes:{...n}};case"body":return{...t,bodyAttributes:{...n}};case"html":return{...t,htmlAttributes:{...n}};default:return{...t,[e.type]:{...n}}}}mapArrayTypeChildrenToProps(e,t){let n={...t};return Object.keys(e).forEach(r=>{n={...n,[r]:e[r]}}),n}warnOnInvalidChildren(e,t){return Tw(Iw.some(n=>e.type===n),typeof e.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${Iw.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),Tw(!t||typeof t=="string"||Array.isArray(t)&&!t.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return Ot.Children.forEach(e,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((h,p)=>(h[FI[p]||p]=s[p],h),{});let{type:u}=r;switch(typeof u=="symbol"?u=u.toString():this.warnOnInvalidChildren(r,i),u){case"Symbol(react.fragment)":t=this.mapChildrenToProps(i,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:t=this.mapObjectTypeChildren(r,t,o,i);break}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const{children:e,...t}=this.props;let n={...t},{helmetData:r}=t;if(e&&(n=this.mapChildrenToProps(e,n)),r&&!(r instanceof Gg)){const i=r;r=new Gg(i.context,!0),delete n.helmetData}return r?Ot.createElement(Lw,{...n,context:r.value}):Ot.createElement(YN.Consumer,null,i=>Ot.createElement(Lw,{...n,context:i}))}},io(qm,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),qm);const KN="G-GW81WH5WJ0",ik=()=>{typeof window<"u"&&window.gtag&&window.gtag("config",KN,{page_title:document.title,page_location:window.location.href,custom_map:{custom_parameter_1:"event_category",custom_parameter_2:"event_label"}})},zx=(e,t)=>{typeof window<"u"&&window.gtag&&window.gtag("config",KN,{page_path:e,page_title:t||document.title,page_location:window.location.origin+e})},z1=(e,t,n,r)=>{typeof window<"u"&&window.gtag&&window.gtag("event",e,{event_category:t,event_label:n,value:r})},sk=(e,t,n)=>{z1("view_item","tickets",`${t}${n?` - ${n}`:""}`,1),typeof window<"u"&&window.gtag&&window.gtag("event","view_item",{currency:"GBP",value:0,items:[{item_id:e,item_name:t,item_category:"Event Tickets",item_variant:n||"General",currency:"GBP",quantity:1}]})},ak=(e,t,n,r)=>{z1("begin_checkout","checkout",t,n),typeof window<"u"&&window.gtag&&window.gtag("event","begin_checkout",{currency:"GBP",value:n/100,items:r.map(i=>({item_id:e,item_name:t,item_category:"Event Tickets",item_variant:i.tier,price:i.price/100,currency:"GBP",quantity:i.quantity}))})},ok=(e,t,n,r,i)=>{z1("purchase","checkout",n,r),typeof window<"u"&&window.gtag&&window.gtag("event","purchase",{transaction_id:e,currency:"GBP",value:r/100,tax:0,shipping:0,items:i.map(s=>({item_id:t,item_name:n,item_category:"Event Tickets",item_variant:s.tier,price:s.price/100,currency:"GBP",quantity:s.quantity}))})},lk=(e,t)=>{z1("click","button",`${e} - ${t}`)},ZN=fe.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),H1=fe.createContext({}),q1=fe.createContext(null),W1=typeof document<"u",Hx=W1?fe.useLayoutEffect:fe.useEffect,QN=fe.createContext({strict:!1}),qx=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ck="framerAppearId",JN="data-"+qx(ck);function uk(e,t,n,r){const{visualElement:i}=fe.useContext(H1),s=fe.useContext(QN),o=fe.useContext(q1),u=fe.useContext(ZN).reducedMotion,h=fe.useRef();r=r||s.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:u}));const p=h.current;fe.useInsertionEffect(()=>{p&&p.update(n,o)});const x=fe.useRef(!!(n[JN]&&!window.HandoffComplete));return Hx(()=>{p&&(p.render(),x.current&&p.animationState&&p.animationState.animateChanges())}),fe.useEffect(()=>{p&&(p.updateFeatures(),!x.current&&p.animationState&&p.animationState.animateChanges(),x.current&&(x.current=!1,window.HandoffComplete=!0))}),p}function Au(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function dk(e,t,n){return fe.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Au(n)&&(n.current=r))},[t])}function Lh(e){return typeof e=="string"||Array.isArray(e)}function $1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Wx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],$x=["initial",...Wx];function G1(e){return $1(e.animate)||$x.some(t=>Lh(e[t]))}function eA(e){return!!(G1(e)||e.variants)}function hk(e,t){if(G1(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Lh(n)?n:void 0,animate:Lh(r)?r:void 0}}return e.inherit!==!1?t:{}}function fk(e){const{initial:t,animate:n}=hk(e,fe.useContext(H1));return fe.useMemo(()=>({initial:t,animate:n}),[Pw(t),Pw(n)])}function Pw(e){return Array.isArray(e)?e.join(" "):e}const Ow={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ph={};for(const e in Ow)Ph[e]={isEnabled:t=>Ow[e].some(n=>!!t[n])};function pk(e){for(const t in e)Ph[t]={...Ph[t],...e[t]}}const Gx=fe.createContext({}),tA=fe.createContext({}),mk=Symbol.for("motionComponentSymbol");function gk({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&pk(e);function s(u,h){let p;const x={...fe.useContext(ZN),...u,layoutId:xk(u)},{isStatic:y}=x,N=fk(u),b=r(u,y);if(!y&&W1){N.visualElement=uk(i,b,x,t);const j=fe.useContext(tA),T=fe.useContext(QN).strict;N.visualElement&&(p=N.visualElement.loadFeatures(x,T,e,j))}return fe.createElement(H1.Provider,{value:N},p&&N.visualElement?fe.createElement(p,{visualElement:N.visualElement,...x}):null,n(i,u,dk(b,N.visualElement,h),b,y,N.visualElement))}const o=fe.forwardRef(s);return o[mk]=i,o}function xk({layoutId:e}){const t=fe.useContext(Gx).id;return t&&e!==void 0?t+"-"+e:e}function yk(e){function t(r,i={}){return gk(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const vk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Yx(e){return typeof e!="string"||e.includes("-")?!1:!!(vk.indexOf(e)>-1||/[A-Z]/.test(e))}const e1={};function wk(e){Object.assign(e1,e)}const Yh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bc=new Set(Yh);function nA(e,{layout:t,layoutId:n}){return Bc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!e1[e]||e==="opacity")}const us=e=>!!(e&&e.getVelocity),bk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Nk=Yh.length;function Ak(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<Nk;o++){const u=Yh[o];if(e[u]!==void 0){const h=bk[u]||u;s+=`${h}(${e[u]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const rA=e=>t=>typeof t=="string"&&t.startsWith(e),iA=rA("--"),Xg=rA("var(--"),Sk=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Ck=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Al=(e,t,n)=>Math.min(Math.max(n,e),t),Fc={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},th={...Fc,transform:e=>Al(0,1,e)},Hf={...Fc,default:1},nh=e=>Math.round(e*1e5)/1e5,Y1=/(-)?([\d]*\.?[\d])+/g,sA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Ek=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Xh(e){return typeof e=="string"}const Kh=e=>({test:t=>Xh(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ko=Kh("deg"),qa=Kh("%"),Ft=Kh("px"),_k=Kh("vh"),Tk=Kh("vw"),Dw={...qa,parse:e=>qa.parse(e)/100,transform:e=>qa.transform(e*100)},Mw={...Fc,transform:Math.round},aA={borderWidth:Ft,borderTopWidth:Ft,borderRightWidth:Ft,borderBottomWidth:Ft,borderLeftWidth:Ft,borderRadius:Ft,radius:Ft,borderTopLeftRadius:Ft,borderTopRightRadius:Ft,borderBottomRightRadius:Ft,borderBottomLeftRadius:Ft,width:Ft,maxWidth:Ft,height:Ft,maxHeight:Ft,size:Ft,top:Ft,right:Ft,bottom:Ft,left:Ft,padding:Ft,paddingTop:Ft,paddingRight:Ft,paddingBottom:Ft,paddingLeft:Ft,margin:Ft,marginTop:Ft,marginRight:Ft,marginBottom:Ft,marginLeft:Ft,rotate:Ko,rotateX:Ko,rotateY:Ko,rotateZ:Ko,scale:Hf,scaleX:Hf,scaleY:Hf,scaleZ:Hf,skew:Ko,skewX:Ko,skewY:Ko,distance:Ft,translateX:Ft,translateY:Ft,translateZ:Ft,x:Ft,y:Ft,z:Ft,perspective:Ft,transformPerspective:Ft,opacity:th,originX:Dw,originY:Dw,originZ:Ft,zIndex:Mw,fillOpacity:th,strokeOpacity:th,numOctaves:Mw};function Xx(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:u}=e;let h=!1,p=!1,x=!0;for(const y in t){const N=t[y];if(iA(y)){s[y]=N;continue}const b=aA[y],j=Ck(N,b);if(Bc.has(y)){if(h=!0,o[y]=j,!x)continue;N!==(b.default||0)&&(x=!1)}else y.startsWith("origin")?(p=!0,u[y]=j):i[y]=j}if(t.transform||(h||r?i.transform=Ak(e.transform,n,x,r):i.transform&&(i.transform="none")),p){const{originX:y="50%",originY:N="50%",originZ:b=0}=u;i.transformOrigin=`${y} ${N} ${b}`}}const Kx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oA(e,t,n){for(const r in t)!us(t[r])&&!nA(r,n)&&(e[r]=t[r])}function Ik({transformTemplate:e},t,n){return fe.useMemo(()=>{const r=Kx();return Xx(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function kk(e,t,n){const r=e.style||{},i={};return oA(i,r,e),Object.assign(i,Ik(e,t,n)),e.transformValues?e.transformValues(i):i}function jk(e,t,n){const r={},i=kk(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const Lk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function t1(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Lk.has(e)}let lA=e=>!t1(e);function Pk(e){e&&(lA=t=>t.startsWith("on")?!t1(t):e(t))}try{Pk(require("@emotion/is-prop-valid").default)}catch{}function Ok(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(lA(i)||n===!0&&t1(i)||!t&&!t1(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Rw(e,t,n){return typeof e=="string"?e:Ft.transform(t+n*e)}function Dk(e,t,n){const r=Rw(t,e.x,e.width),i=Rw(n,e.y,e.height);return`${r} ${i}`}const Mk={offset:"stroke-dashoffset",array:"stroke-dasharray"},Rk={offset:"strokeDashoffset",array:"strokeDasharray"};function Bk(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?Mk:Rk;e[s.offset]=Ft.transform(-r);const o=Ft.transform(t),u=Ft.transform(n);e[s.array]=`${o} ${u}`}function Zx(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:u=1,pathOffset:h=0,...p},x,y,N){if(Xx(e,p,x,N),y){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:j,dimensions:T}=e;b.transform&&(T&&(j.transform=b.transform),delete b.transform),T&&(i!==void 0||s!==void 0||j.transform)&&(j.transformOrigin=Dk(T,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(b.x=t),n!==void 0&&(b.y=n),r!==void 0&&(b.scale=r),o!==void 0&&Bk(b,o,u,h,!1)}const cA=()=>({...Kx(),attrs:{}}),Qx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Fk(e,t,n,r){const i=fe.useMemo(()=>{const s=cA();return Zx(s,t,{enableHardwareAcceleration:!1},Qx(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};oA(s,e.style,e),i.style={...s,...i.style}}return i}function Uk(e=!1){return(n,r,i,{latestValues:s},o)=>{const h=(Yx(n)?Fk:jk)(r,s,o,n),x={...Ok(r,typeof n=="string",e),...h,ref:i},{children:y}=r,N=fe.useMemo(()=>us(y)?y.get():y,[y]);return fe.createElement(n,{...x,children:N})}}function uA(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const dA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hA(e,t,n,r){uA(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(dA.has(i)?i:qx(i),t.attrs[i])}function Jx(e,t){const{style:n}=e,r={};for(const i in n)(us(n[i])||t.style&&us(t.style[i])||nA(i,e))&&(r[i]=n[i]);return r}function fA(e,t){const n=Jx(e,t);for(const r in e)if(us(e[r])||us(t[r])){const i=Yh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function ey(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function pA(e){const t=fe.useRef(null);return t.current===null&&(t.current=e()),t.current}const n1=e=>Array.isArray(e),Vk=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),zk=e=>n1(e)?e[e.length-1]||0:e;function w0(e){const t=us(e)?e.get():e;return Vk(t)?t.toValue():t}function Hk({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:qk(r,i,s,e),renderState:t()};return n&&(o.mount=u=>n(r,u,o)),o}const mA=e=>(t,n)=>{const r=fe.useContext(H1),i=fe.useContext(q1),s=()=>Hk(e,t,r,i);return n?s():pA(s)};function qk(e,t,n,r){const i={},s=r(e,{});for(const N in s)i[N]=w0(s[N]);let{initial:o,animate:u}=e;const h=G1(e),p=eA(e);t&&p&&!h&&e.inherit!==!1&&(o===void 0&&(o=t.initial),u===void 0&&(u=t.animate));let x=n?n.initial===!1:!1;x=x||o===!1;const y=x?u:o;return y&&typeof y!="boolean"&&!$1(y)&&(Array.isArray(y)?y:[y]).forEach(b=>{const j=ey(e,b);if(!j)return;const{transitionEnd:T,transition:P,...E}=j;for(const C in E){let k=E[C];if(Array.isArray(k)){const M=x?k.length-1:0;k=k[M]}k!==null&&(i[C]=k)}for(const C in T)i[C]=T[C]}),i}const Lr=e=>e;class Bw{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Wk(e){let t=new Bw,n=new Bw,r=0,i=!1,s=!1;const o=new WeakSet,u={schedule:(h,p=!1,x=!1)=>{const y=x&&i,N=y?t:n;return p&&o.add(h),N.add(h)&&y&&i&&(r=t.order.length),h},cancel:h=>{n.remove(h),o.delete(h)},process:h=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let p=0;p<r;p++){const x=t.order[p];x(h),o.has(x)&&(u.schedule(x),e())}i=!1,s&&(s=!1,u.process(h))}};return u}const qf=["prepare","read","update","preRender","render","postRender"],$k=40;function Gk(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=qf.reduce((y,N)=>(y[N]=Wk(()=>n=!0),y),{}),o=y=>s[y].process(i),u=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,$k),1),i.timestamp=y,i.isProcessing=!0,qf.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(u))},h=()=>{n=!0,r=!0,i.isProcessing||e(u)};return{schedule:qf.reduce((y,N)=>{const b=s[N];return y[N]=(j,T=!1,P=!1)=>(n||h(),b.schedule(j,T,P)),y},{}),cancel:y=>qf.forEach(N=>s[N].cancel(y)),state:i,steps:s}}const{schedule:Hn,cancel:Co,state:Pi,steps:lm}=Gk(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lr,!0),Yk={useVisualState:mA({scrapeMotionValuesFromProps:fA,createRenderState:cA,onMount:(e,t,{renderState:n,latestValues:r})=>{Hn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Hn.render(()=>{Zx(n,r,{enableHardwareAcceleration:!1},Qx(t.tagName),e.transformTemplate),hA(t,n)})}})},Xk={useVisualState:mA({scrapeMotionValuesFromProps:Jx,createRenderState:Kx})};function Kk(e,{forwardMotionProps:t=!1},n,r){return{...Yx(e)?Yk:Xk,preloadedFeatures:n,useRender:Uk(t),createVisualElement:r,Component:e}}function mo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const gA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function X1(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Zk=e=>t=>gA(t)&&e(t,X1(t));function yo(e,t,n,r){return mo(e,t,Zk(n),r)}const Qk=(e,t)=>n=>t(e(n)),wl=(...e)=>e.reduce(Qk);function xA(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Fw=xA("dragHorizontal"),Uw=xA("dragVertical");function yA(e){let t=!1;if(e==="y")t=Uw();else if(e==="x")t=Fw();else{const n=Fw(),r=Uw();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function vA(){const e=yA(!0);return e?(e(),!1):!0}class Ml{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Vw(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||vA())return;const u=e.getProps();e.animationState&&u.whileHover&&e.animationState.setActive("whileHover",t),u[r]&&Hn.update(()=>u[r](s,o))};return yo(e.current,n,i,{passive:!e.getProps()[r]})}class Jk extends Ml{mount(){this.unmount=wl(Vw(this.node,!0),Vw(this.node,!1))}unmount(){}}class e7 extends Ml{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wl(mo(this.node.current,"focus",()=>this.onFocus()),mo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wA=(e,t)=>t?e===t?!0:wA(e,t.parentElement):!1;function cm(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,X1(n))}class t7 extends Ml{constructor(){super(...arguments),this.removeStartListeners=Lr,this.removeEndListeners=Lr,this.removeAccessibleListeners=Lr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=yo(window,"pointerup",(u,h)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:x,globalTapTarget:y}=this.node.getProps();Hn.update(()=>{!y&&!wA(this.node.current,u.target)?x&&x(u,h):p&&p(u,h)})},{passive:!(r.onTap||r.onPointerUp)}),o=yo(window,"pointercancel",(u,h)=>this.cancelPress(u,h),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=wl(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=u=>{u.key!=="Enter"||!this.checkPressEnd()||cm("up",(h,p)=>{const{onTap:x}=this.node.getProps();x&&Hn.update(()=>x(h,p))})};this.removeEndListeners(),this.removeEndListeners=mo(this.node.current,"keyup",o),cm("down",(u,h)=>{this.startPress(u,h)})},n=mo(this.node.current,"keydown",t),r=()=>{this.isPressing&&cm("cancel",(s,o)=>this.cancelPress(s,o))},i=mo(this.node.current,"blur",r);this.removeAccessibleListeners=wl(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Hn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!vA()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Hn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=yo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=mo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=wl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Kg=new WeakMap,um=new WeakMap,n7=e=>{const t=Kg.get(e.target);t&&t(e)},r7=e=>{e.forEach(n7)};function i7({root:e,...t}){const n=e||document;um.has(n)||um.set(n,{});const r=um.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(r7,{root:e,...t})),r[i]}function s7(e,t,n){const r=i7(t);return Kg.set(e,n),r.observe(e),()=>{Kg.delete(e),r.unobserve(e)}}const a7={some:0,all:1};class o7 extends Ml{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:a7[i]},u=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,s&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:x,onViewportLeave:y}=this.node.getProps(),N=p?x:y;N&&N(h)};return s7(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(l7(t,n))&&this.startObserver()}unmount(){}}function l7({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const c7={inView:{Feature:o7},tap:{Feature:t7},focus:{Feature:e7},hover:{Feature:Jk}};function bA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function u7(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function d7(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function K1(e,t,n){const r=e.getProps();return ey(r,t,n!==void 0?n:r.custom,u7(e),d7(e))}let ty=Lr;const Ec=e=>e*1e3,vo=e=>e/1e3,h7={current:!1},NA=e=>Array.isArray(e)&&typeof e[0]=="number";function AA(e){return!!(!e||typeof e=="string"&&SA[e]||NA(e)||Array.isArray(e)&&e.every(AA))}const qd=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,SA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qd([0,.65,.55,1]),circOut:qd([.55,0,1,.45]),backIn:qd([.31,.01,.66,-.59]),backOut:qd([.33,1.53,.69,.99])};function CA(e){if(e)return NA(e)?qd(e):Array.isArray(e)?e.map(CA):SA[e]}function f7(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:u,times:h}={}){const p={[t]:n};h&&(p.offset=h);const x=CA(u);return Array.isArray(x)&&(p.easing=x),e.animate(p,{delay:r,duration:i,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function p7(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const EA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,m7=1e-7,g7=12;function x7(e,t,n,r,i){let s,o,u=0;do o=t+(n-t)/2,s=EA(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>m7&&++u<g7);return o}function Zh(e,t,n,r){if(e===t&&n===r)return Lr;const i=s=>x7(s,0,1,e,n);return s=>s===0||s===1?s:EA(i(s),t,r)}const y7=Zh(.42,0,1,1),v7=Zh(0,0,.58,1),_A=Zh(.42,0,.58,1),w7=e=>Array.isArray(e)&&typeof e[0]!="number",TA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,IA=e=>t=>1-e(1-t),ny=e=>1-Math.sin(Math.acos(e)),kA=IA(ny),b7=TA(ny),jA=Zh(.33,1.53,.69,.99),ry=IA(jA),N7=TA(ry),A7=e=>(e*=2)<1?.5*ry(e):.5*(2-Math.pow(2,-10*(e-1))),S7={linear:Lr,easeIn:y7,easeInOut:_A,easeOut:v7,circIn:ny,circInOut:b7,circOut:kA,backIn:ry,backInOut:N7,backOut:jA,anticipate:A7},zw=e=>{if(Array.isArray(e)){ty(e.length===4);const[t,n,r,i]=e;return Zh(t,n,r,i)}else if(typeof e=="string")return S7[e];return e},iy=(e,t)=>n=>!!(Xh(n)&&Ek.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),LA=(e,t,n)=>r=>{if(!Xh(r))return r;const[i,s,o,u]=r.match(Y1);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},C7=e=>Al(0,255,e),dm={...Fc,transform:e=>Math.round(C7(e))},wc={test:iy("rgb","red"),parse:LA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+dm.transform(e)+", "+dm.transform(t)+", "+dm.transform(n)+", "+nh(th.transform(r))+")"};function E7(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Zg={test:iy("#"),parse:E7,transform:wc.transform},Su={test:iy("hsl","hue"),parse:LA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+qa.transform(nh(t))+", "+qa.transform(nh(n))+", "+nh(th.transform(r))+")"},Wi={test:e=>wc.test(e)||Zg.test(e)||Su.test(e),parse:e=>wc.test(e)?wc.parse(e):Su.test(e)?Su.parse(e):Zg.parse(e),transform:e=>Xh(e)?e:e.hasOwnProperty("red")?wc.transform(e):Su.transform(e)},hr=(e,t,n)=>-n*e+n*t+e;function hm(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _7({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const u=n<.5?n*(1+t):n+t-n*t,h=2*n-u;i=hm(h,u,e+1/3),s=hm(h,u,e),o=hm(h,u,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const fm=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},T7=[Zg,wc,Su],I7=e=>T7.find(t=>t.test(e));function Hw(e){const t=I7(e);let n=t.parse(e);return t===Su&&(n=_7(n)),n}const PA=(e,t)=>{const n=Hw(e),r=Hw(t),i={...n};return s=>(i.red=fm(n.red,r.red,s),i.green=fm(n.green,r.green,s),i.blue=fm(n.blue,r.blue,s),i.alpha=hr(n.alpha,r.alpha,s),wc.transform(i))};function k7(e){var t,n;return isNaN(e)&&Xh(e)&&(((t=e.match(Y1))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(sA))===null||n===void 0?void 0:n.length)||0)>0}const OA={regex:Sk,countKey:"Vars",token:"${v}",parse:Lr},DA={regex:sA,countKey:"Colors",token:"${c}",parse:Wi.parse},MA={regex:Y1,countKey:"Numbers",token:"${n}",parse:Fc.parse};function pm(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function r1(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&pm(n,OA),pm(n,DA),pm(n,MA),n}function RA(e){return r1(e).values}function BA(e){const{values:t,numColors:n,numVars:r,tokenised:i}=r1(e),s=t.length;return o=>{let u=i;for(let h=0;h<s;h++)h<r?u=u.replace(OA.token,o[h]):h<r+n?u=u.replace(DA.token,Wi.transform(o[h])):u=u.replace(MA.token,nh(o[h]));return u}}const j7=e=>typeof e=="number"?0:e;function L7(e){const t=RA(e);return BA(e)(t.map(j7))}const Sl={test:k7,parse:RA,createTransformer:BA,getAnimatableNone:L7},FA=(e,t)=>n=>`${n>0?t:e}`;function UA(e,t){return typeof e=="number"?n=>hr(e,t,n):Wi.test(e)?PA(e,t):e.startsWith("var(")?FA(e,t):zA(e,t)}const VA=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>UA(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},P7=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=UA(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},zA=(e,t)=>{const n=Sl.createTransformer(t),r=r1(e),i=r1(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?wl(VA(r.values,i.values),n):FA(e,t)},Oh=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},qw=(e,t)=>n=>hr(e,t,n);function O7(e){return typeof e=="number"?qw:typeof e=="string"?Wi.test(e)?PA:zA:Array.isArray(e)?VA:typeof e=="object"?P7:qw}function D7(e,t,n){const r=[],i=n||O7(e[0]),s=e.length-1;for(let o=0;o<s;o++){let u=i(e[o],e[o+1]);if(t){const h=Array.isArray(t)?t[o]||Lr:t;u=wl(h,u)}r.push(u)}return r}function HA(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(ty(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=D7(t,r,i),u=o.length,h=p=>{let x=0;if(u>1)for(;x<e.length-2&&!(p<e[x+1]);x++);const y=Oh(e[x],e[x+1],p);return o[x](y)};return n?p=>h(Al(e[0],e[s-1],p)):h}function M7(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Oh(0,t,r);e.push(hr(n,1,i))}}function R7(e){const t=[0];return M7(t,e.length-1),t}function B7(e,t){return e.map(n=>n*t)}function F7(e,t){return e.map(()=>t||_A).splice(0,e.length-1)}function i1({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=w7(r)?r.map(zw):zw(r),s={done:!1,value:t[0]},o=B7(n&&n.length===t.length?n:R7(t),e),u=HA(o,t,{ease:Array.isArray(i)?i:F7(t,i)});return{calculatedDuration:e,next:h=>(s.value=u(h),s.done=h>=e,s)}}function qA(e,t){return t?e*(1e3/t):0}const U7=5;function WA(e,t,n){const r=Math.max(t-U7,0);return qA(n-e(r),t-r)}const mm=.001,V7=.01,z7=10,H7=.05,q7=1;function W7({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s,o=1-t;o=Al(H7,q7,o),e=Al(V7,z7,vo(e)),o<1?(i=p=>{const x=p*o,y=x*e,N=x-n,b=Qg(p,o),j=Math.exp(-y);return mm-N/b*j},s=p=>{const y=p*o*e,N=y*n+n,b=Math.pow(o,2)*Math.pow(p,2)*e,j=Math.exp(-y),T=Qg(Math.pow(p,2),o);return(-i(p)+mm>0?-1:1)*((N-b)*j)/T}):(i=p=>{const x=Math.exp(-p*e),y=(p-n)*e+1;return-mm+x*y},s=p=>{const x=Math.exp(-p*e),y=(n-p)*(e*e);return x*y});const u=5/e,h=G7(i,s,u);if(e=Ec(e),isNaN(h))return{stiffness:100,damping:10,duration:e};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:o*2*Math.sqrt(r*p),duration:e}}}const $7=12;function G7(e,t,n){let r=n;for(let i=1;i<$7;i++)r=r-e(r)/t(r);return r}function Qg(e,t){return e*Math.sqrt(1-t*t)}const Y7=["duration","bounce"],X7=["stiffness","damping","mass"];function Ww(e,t){return t.some(n=>e[n]!==void 0)}function K7(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!Ww(e,X7)&&Ww(e,Y7)){const n=W7(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function $A({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:u,damping:h,mass:p,duration:x,velocity:y,isResolvedFromDuration:N}=K7({...r,velocity:-vo(r.velocity||0)}),b=y||0,j=h/(2*Math.sqrt(u*p)),T=s-i,P=vo(Math.sqrt(u/p)),E=Math.abs(T)<5;n||(n=E?.01:2),t||(t=E?.005:.5);let C;if(j<1){const k=Qg(P,j);C=M=>{const B=Math.exp(-j*P*M);return s-B*((b+j*P*T)/k*Math.sin(k*M)+T*Math.cos(k*M))}}else if(j===1)C=k=>s-Math.exp(-P*k)*(T+(b+P*T)*k);else{const k=P*Math.sqrt(j*j-1);C=M=>{const B=Math.exp(-j*P*M),ne=Math.min(k*M,300);return s-B*((b+j*P*T)*Math.sinh(ne)+k*T*Math.cosh(ne))/k}}return{calculatedDuration:N&&x||null,next:k=>{const M=C(k);if(N)o.done=k>=x;else{let B=b;k!==0&&(j<1?B=WA(C,k,M):B=0);const ne=Math.abs(B)<=n,F=Math.abs(s-M)<=t;o.done=ne&&F}return o.value=o.done?s:M,o}}}function $w({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:u,max:h,restDelta:p=.5,restSpeed:x}){const y=e[0],N={done:!1,value:y},b=X=>u!==void 0&&X<u||h!==void 0&&X>h,j=X=>u===void 0?h:h===void 0||Math.abs(u-X)<Math.abs(h-X)?u:h;let T=n*t;const P=y+T,E=o===void 0?P:o(P);E!==P&&(T=E-y);const C=X=>-T*Math.exp(-X/r),k=X=>E+C(X),M=X=>{const J=C(X),ve=k(X);N.done=Math.abs(J)<=p,N.value=N.done?E:ve};let B,ne;const F=X=>{b(N.value)&&(B=X,ne=$A({keyframes:[N.value,j(N.value)],velocity:WA(k,X,N.value),damping:i,stiffness:s,restDelta:p,restSpeed:x}))};return F(0),{calculatedDuration:null,next:X=>{let J=!1;return!ne&&B===void 0&&(J=!0,M(X),F(X)),B!==void 0&&X>B?ne.next(X-B):(!J&&M(X),N)}}}const Z7=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Hn.update(t,!0),stop:()=>Co(t),now:()=>Pi.isProcessing?Pi.timestamp:performance.now()}},Gw=2e4;function Yw(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<Gw;)t+=n,r=e.next(t);return t>=Gw?1/0:t}const Q7={decay:$w,inertia:$w,tween:i1,keyframes:i1,spring:$A};function s1({autoplay:e=!0,delay:t=0,driver:n=Z7,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",onPlay:h,onStop:p,onComplete:x,onUpdate:y,...N}){let b=1,j=!1,T,P;const E=()=>{P=new Promise(Ee=>{T=Ee})};E();let C;const k=Q7[i]||i1;let M;k!==i1&&typeof r[0]!="number"&&(M=HA([0,100],r,{clamp:!1}),r=[0,100]);const B=k({...N,keyframes:r});let ne;u==="mirror"&&(ne=k({...N,keyframes:[...r].reverse(),velocity:-(N.velocity||0)}));let F="idle",X=null,J=null,ve=null;B.calculatedDuration===null&&s&&(B.calculatedDuration=Yw(B));const{calculatedDuration:W}=B;let z=1/0,re=1/0;W!==null&&(z=W+o,re=z*(s+1)-o);let ae=0;const te=Ee=>{if(J===null)return;b>0&&(J=Math.min(J,Ee)),b<0&&(J=Math.min(Ee-re/b,J)),X!==null?ae=X:ae=Math.round(Ee-J)*b;const R=ae-t*(b>=0?1:-1),K=b>=0?R<0:R>re;ae=Math.max(R,0),F==="finished"&&X===null&&(ae=re);let ee=ae,me=B;if(s){const Oe=Math.min(ae,re)/z;let He=Math.floor(Oe),ze=Oe%1;!ze&&Oe>=1&&(ze=1),ze===1&&He--,He=Math.min(He,s+1),!!(He%2)&&(u==="reverse"?(ze=1-ze,o&&(ze-=o/z)):u==="mirror"&&(me=ne)),ee=Al(0,1,ze)*z}const he=K?{done:!1,value:r[0]}:me.next(ee);M&&(he.value=M(he.value));let{done:ke}=he;!K&&W!==null&&(ke=b>=0?ae>=re:ae<=0);const je=X===null&&(F==="finished"||F==="running"&&ke);return y&&y(he.value),je&&ge(),he},Se=()=>{C&&C.stop(),C=void 0},Ae=()=>{F="idle",Se(),T(),E(),J=ve=null},ge=()=>{F="finished",x&&x(),Se(),T()},ie=()=>{if(j)return;C||(C=n(te));const Ee=C.now();h&&h(),X!==null?J=Ee-X:(!J||F==="finished")&&(J=Ee),F==="finished"&&E(),ve=J,X=null,F="running",C.start()};e&&ie();const xe={then(Ee,R){return P.then(Ee,R)},get time(){return vo(ae)},set time(Ee){Ee=Ec(Ee),ae=Ee,X!==null||!C||b===0?X=Ee:J=C.now()-Ee/b},get duration(){const Ee=B.calculatedDuration===null?Yw(B):B.calculatedDuration;return vo(Ee)},get speed(){return b},set speed(Ee){Ee===b||!C||(b=Ee,xe.time=vo(ae))},get state(){return F},play:ie,pause:()=>{F="paused",X=ae},stop:()=>{j=!0,F!=="idle"&&(F="idle",p&&p(),Ae())},cancel:()=>{ve!==null&&te(ve),Ae()},complete:()=>{F="finished"},sample:Ee=>(J=0,te(Ee))};return xe}function J7(e){let t;return()=>(t===void 0&&(t=e()),t)}const ej=J7(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),tj=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Wf=10,nj=2e4,rj=(e,t)=>t.type==="spring"||e==="backgroundColor"||!AA(t.ease);function ij(e,t,{onUpdate:n,onComplete:r,...i}){if(!(ej()&&tj.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,u,h,p=!1;const x=()=>{h=new Promise(k=>{u=k})};x();let{keyframes:y,duration:N=300,ease:b,times:j}=i;if(rj(t,i)){const k=s1({...i,repeat:0,delay:0});let M={done:!1,value:y[0]};const B=[];let ne=0;for(;!M.done&&ne<nj;)M=k.sample(ne),B.push(M.value),ne+=Wf;j=void 0,y=B,N=ne-Wf,b="linear"}const T=f7(e.owner.current,t,y,{...i,duration:N,ease:b,times:j}),P=()=>{p=!1,T.cancel()},E=()=>{p=!0,Hn.update(P),u(),x()};return T.onfinish=()=>{p||(e.set(p7(y,i)),r&&r(),E())},{then(k,M){return h.then(k,M)},attachTimeline(k){return T.timeline=k,T.onfinish=null,Lr},get time(){return vo(T.currentTime||0)},set time(k){T.currentTime=Ec(k)},get speed(){return T.playbackRate},set speed(k){T.playbackRate=k},get duration(){return vo(N)},play:()=>{o||(T.play(),Co(P))},pause:()=>T.pause(),stop:()=>{if(o=!0,T.playState==="idle")return;const{currentTime:k}=T;if(k){const M=s1({...i,autoplay:!1});e.setWithVelocity(M.sample(k-Wf).value,M.sample(k).value,Wf)}E()},complete:()=>{p||T.finish()},cancel:E}}function sj({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Lr,pause:Lr,stop:Lr,then:s=>(s(),Promise.resolve()),cancel:Lr,complete:Lr});return t?s1({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const aj={type:"spring",stiffness:500,damping:25,restSpeed:10},oj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),lj={type:"keyframes",duration:.8},cj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},uj=(e,{keyframes:t})=>t.length>2?lj:Bc.has(e)?e.startsWith("scale")?oj(t[1]):aj:cj,Jg=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Sl.test(t)||t==="0")&&!t.startsWith("url(")),dj=new Set(["brightness","contrast","saturate","opacity"]);function hj(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Y1)||[];if(!r)return e;const i=n.replace(r,"");let s=dj.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const fj=/([a-z-]*)\(.*?\)/g,e2={...Sl,getAnimatableNone:e=>{const t=e.match(fj);return t?t.map(hj).join(" "):e}},pj={...aA,color:Wi,backgroundColor:Wi,outlineColor:Wi,fill:Wi,stroke:Wi,borderColor:Wi,borderTopColor:Wi,borderRightColor:Wi,borderBottomColor:Wi,borderLeftColor:Wi,filter:e2,WebkitFilter:e2},sy=e=>pj[e];function GA(e,t){let n=sy(e);return n!==e2&&(n=Sl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const YA=e=>/^0[^.\s]+$/.test(e);function mj(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||YA(e)}function gj(e,t,n,r){const i=Jg(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:e.get();let u;const h=[];for(let p=0;p<s.length;p++)s[p]===null&&(s[p]=p===0?o:s[p-1]),mj(s[p])&&h.push(p),typeof s[p]=="string"&&s[p]!=="none"&&s[p]!=="0"&&(u=s[p]);if(i&&h.length&&u)for(let p=0;p<h.length;p++){const x=h[p];s[x]=GA(t,u)}return s}function xj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:u,from:h,elapsed:p,...x}){return!!Object.keys(x).length}function ay(e,t){return e[t]||e.default||e}const yj={skipAnimations:!1},oy=(e,t,n,r={})=>i=>{const s=ay(r,e)||{},o=s.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ec(o);const h=gj(t,e,n,s),p=h[0],x=h[h.length-1],y=Jg(e,p),N=Jg(e,x);let b={keyframes:h,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-u,onUpdate:j=>{t.set(j),s.onUpdate&&s.onUpdate(j)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(xj(s)||(b={...b,...uj(e,b)}),b.duration&&(b.duration=Ec(b.duration)),b.repeatDelay&&(b.repeatDelay=Ec(b.repeatDelay)),!y||!N||h7.current||s.type===!1||yj.skipAnimations)return sj(b);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const j=ij(t,e,b);if(j)return j}return s1(b)};function a1(e){return!!(us(e)&&e.add)}const XA=e=>/^\-?\d*\.?\d+$/.test(e);function ly(e,t){e.indexOf(t)===-1&&e.push(t)}function cy(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class uy{constructor(){this.subscriptions=[]}add(t){return ly(this.subscriptions,t),()=>cy(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const vj=e=>!isNaN(parseFloat(e));class wj{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Pi;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Hn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Hn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=vj(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new uy);const r=this.events[t].add(n);return t==="change"?()=>{r(),Hn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?qA(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Yu(e,t){return new wj(e,t)}const KA=e=>t=>t.test(e),bj={test:e=>e==="auto",parse:e=>e},ZA=[Fc,Ft,qa,Ko,Tk,_k,bj],jd=e=>ZA.find(KA(e)),Nj=[...ZA,Wi,Sl],Aj=e=>Nj.find(KA(e));function Sj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Yu(n))}function Cj(e,t){const n=K1(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const u=zk(s[o]);Sj(e,o,u)}}function Ej(e,t,n){var r,i;const s=Object.keys(t).filter(u=>!e.hasValue(u)),o=s.length;if(o)for(let u=0;u<o;u++){const h=s[u],p=t[h];let x=null;Array.isArray(p)&&(x=p[0]),x===null&&(x=(i=(r=n[h])!==null&&r!==void 0?r:e.readValue(h))!==null&&i!==void 0?i:t[h]),x!=null&&(typeof x=="string"&&(XA(x)||YA(x))?x=parseFloat(x):!Aj(x)&&Sl.test(p)&&(x=GA(h,p)),e.addValue(h,Yu(x,{owner:e})),n[h]===void 0&&(n[h]=x),x!==null&&e.setBaseTarget(h,x))}}function _j(e,t){return t?(t[e]||t.default||t).from:void 0}function Tj(e,t,n){const r={};for(const i in e){const s=_j(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function Ij({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function kj(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function QA(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...u}=e.makeTargetAnimatable(t);const h=e.getValue("willChange");r&&(s=r);const p=[],x=i&&e.animationState&&e.animationState.getState()[i];for(const y in u){const N=e.getValue(y),b=u[y];if(!N||b===void 0||x&&Ij(x,y))continue;const j={delay:n,elapsed:0,...ay(s||{},y)};if(window.HandoffAppearAnimations){const E=e.getProps()[JN];if(E){const C=window.HandoffAppearAnimations(E,y,N,Hn);C!==null&&(j.elapsed=C,j.isHandoff=!0)}}let T=!j.isHandoff&&!kj(N,b);if(j.type==="spring"&&(N.getVelocity()||j.velocity)&&(T=!1),N.animation&&(T=!1),T)continue;N.start(oy(y,N,b,e.shouldReduceMotion&&Bc.has(y)?{type:!1}:j));const P=N.animation;a1(h)&&(h.add(y),P.then(()=>h.remove(y))),p.push(P)}return o&&Promise.all(p).then(()=>{o&&Cj(e,o)}),p}function t2(e,t,n={}){const r=K1(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(QA(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:x,staggerDirection:y}=i;return jj(e,t,p+h,x,y,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[h,p]=u==="beforeChildren"?[s,o]:[o,s];return h().then(()=>p())}else return Promise.all([s(),o(n.delay)])}function jj(e,t,n=0,r=0,i=1,s){const o=[],u=(e.variantChildren.size-1)*r,h=i===1?(p=0)=>p*r:(p=0)=>u-p*r;return Array.from(e.variantChildren).sort(Lj).forEach((p,x)=>{p.notify("AnimationStart",t),o.push(t2(p,t,{...s,delay:n+h(x)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(o)}function Lj(e,t){return e.sortNodePosition(t)}function Pj(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>t2(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=t2(e,t,n);else{const i=typeof t=="function"?K1(e,t,n.custom):t;r=Promise.all(QA(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Oj=[...Wx].reverse(),Dj=Wx.length;function Mj(e){return t=>Promise.all(t.map(({animation:n,options:r})=>Pj(e,n,r)))}function Rj(e){let t=Mj(e);const n=Fj();let r=!0;const i=(h,p)=>{const x=K1(e,p);if(x){const{transition:y,transitionEnd:N,...b}=x;h={...h,...b,...N}}return h};function s(h){t=h(e)}function o(h,p){const x=e.getProps(),y=e.getVariantContext(!0)||{},N=[],b=new Set;let j={},T=1/0;for(let E=0;E<Dj;E++){const C=Oj[E],k=n[C],M=x[C]!==void 0?x[C]:y[C],B=Lh(M),ne=C===p?k.isActive:null;ne===!1&&(T=E);let F=M===y[C]&&M!==x[C]&&B;if(F&&r&&e.manuallyAnimateOnMount&&(F=!1),k.protectedKeys={...j},!k.isActive&&ne===null||!M&&!k.prevProp||$1(M)||typeof M=="boolean")continue;let J=Bj(k.prevProp,M)||C===p&&k.isActive&&!F&&B||E>T&&B,ve=!1;const W=Array.isArray(M)?M:[M];let z=W.reduce(i,{});ne===!1&&(z={});const{prevResolvedValues:re={}}=k,ae={...re,...z},te=Se=>{J=!0,b.has(Se)&&(ve=!0,b.delete(Se)),k.needsAnimating[Se]=!0};for(const Se in ae){const Ae=z[Se],ge=re[Se];if(j.hasOwnProperty(Se))continue;let ie=!1;n1(Ae)&&n1(ge)?ie=!bA(Ae,ge):ie=Ae!==ge,ie?Ae!==void 0?te(Se):b.add(Se):Ae!==void 0&&b.has(Se)?te(Se):k.protectedKeys[Se]=!0}k.prevProp=M,k.prevResolvedValues=z,k.isActive&&(j={...j,...z}),r&&e.blockInitialAnimation&&(J=!1),J&&(!F||ve)&&N.push(...W.map(Se=>({animation:Se,options:{type:C,...h}})))}if(b.size){const E={};b.forEach(C=>{const k=e.getBaseTarget(C);k!==void 0&&(E[C]=k)}),N.push({animation:E})}let P=!!N.length;return r&&(x.initial===!1||x.initial===x.animate)&&!e.manuallyAnimateOnMount&&(P=!1),r=!1,P?t(N):Promise.resolve()}function u(h,p,x){var y;if(n[h].isActive===p)return Promise.resolve();(y=e.variantChildren)===null||y===void 0||y.forEach(b=>{var j;return(j=b.animationState)===null||j===void 0?void 0:j.setActive(h,p)}),n[h].isActive=p;const N=o(x,h);for(const b in n)n[b].protectedKeys={};return N}return{animateChanges:o,setActive:u,setAnimateFunction:s,getState:()=>n}}function Bj(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!bA(t,e):!1}function sc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Fj(){return{animate:sc(!0),whileInView:sc(),whileHover:sc(),whileTap:sc(),whileDrag:sc(),whileFocus:sc(),exit:sc()}}class Uj extends Ml{constructor(t){super(t),t.animationState||(t.animationState=Rj(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),$1(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Vj=0;class zj extends Ml{constructor(){super(...arguments),this.id=Vj++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Hj={animation:{Feature:Uj},exit:{Feature:zj}},Xw=(e,t)=>Math.abs(e-t);function qj(e,t){const n=Xw(e.x,t.x),r=Xw(e.y,t.y);return Math.sqrt(n**2+r**2)}class JA{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=xm(this.lastMoveEventInfo,this.history),N=this.startEvent!==null,b=qj(y.offset,{x:0,y:0})>=3;if(!N&&!b)return;const{point:j}=y,{timestamp:T}=Pi;this.history.push({...j,timestamp:T});const{onStart:P,onMove:E}=this.handlers;N||(P&&P(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,y)},this.handlePointerMove=(y,N)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=gm(N,this.transformPagePoint),Hn.update(this.updatePoint,!0)},this.handlePointerUp=(y,N)=>{this.end();const{onEnd:b,onSessionEnd:j,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=xm(y.type==="pointercancel"?this.lastMoveEventInfo:gm(N,this.transformPagePoint),this.history);this.startEvent&&b&&b(y,P),j&&j(y,P)},!gA(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=X1(t),u=gm(o,this.transformPagePoint),{point:h}=u,{timestamp:p}=Pi;this.history=[{...h,timestamp:p}];const{onSessionStart:x}=n;x&&x(t,xm(u,this.history)),this.removeListeners=wl(yo(this.contextWindow,"pointermove",this.handlePointerMove),yo(this.contextWindow,"pointerup",this.handlePointerUp),yo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Co(this.updatePoint)}}function gm(e,t){return t?{point:t(e.point)}:e}function Kw(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xm({point:e},t){return{point:e,delta:Kw(e,eS(t)),offset:Kw(e,Wj(t)),velocity:$j(t,.1)}}function Wj(e){return e[0]}function eS(e){return e[e.length-1]}function $j(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=eS(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Ec(t)));)n--;if(!r)return{x:0,y:0};const s=vo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ts(e){return e.max-e.min}function n2(e,t=0,n=.01){return Math.abs(e-t)<=n}function Zw(e,t,n,r=.5){e.origin=r,e.originPoint=hr(t.min,t.max,e.origin),e.scale=Ts(n)/Ts(t),(n2(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=hr(n.min,n.max,e.origin)-e.originPoint,(n2(e.translate)||isNaN(e.translate))&&(e.translate=0)}function rh(e,t,n,r){Zw(e.x,t.x,n.x,r?r.originX:void 0),Zw(e.y,t.y,n.y,r?r.originY:void 0)}function Qw(e,t,n){e.min=n.min+t.min,e.max=e.min+Ts(t)}function Gj(e,t,n){Qw(e.x,t.x,n.x),Qw(e.y,t.y,n.y)}function Jw(e,t,n){e.min=t.min-n.min,e.max=e.min+Ts(t)}function ih(e,t,n){Jw(e.x,t.x,n.x),Jw(e.y,t.y,n.y)}function Yj(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?hr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?hr(n,e,r.max):Math.min(e,n)),e}function e5(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Xj(e,{top:t,left:n,bottom:r,right:i}){return{x:e5(e.x,n,i),y:e5(e.y,t,r)}}function t5(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Kj(e,t){return{x:t5(e.x,t.x),y:t5(e.y,t.y)}}function Zj(e,t){let n=.5;const r=Ts(e),i=Ts(t);return i>r?n=Oh(t.min,t.max-r,e.min):r>i&&(n=Oh(e.min,e.max-i,t.min)),Al(0,1,n)}function Qj(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const r2=.35;function Jj(e=r2){return e===!1?e=0:e===!0&&(e=r2),{x:n5(e,"left","right"),y:n5(e,"top","bottom")}}function n5(e,t,n){return{min:r5(e,t),max:r5(e,n)}}function r5(e,t){return typeof e=="number"?e:e[t]||0}const i5=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cu=()=>({x:i5(),y:i5()}),s5=()=>({min:0,max:0}),Vr=()=>({x:s5(),y:s5()});function qs(e){return[e("x"),e("y")]}function tS({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function eL({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function tL(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ym(e){return e===void 0||e===1}function i2({scale:e,scaleX:t,scaleY:n}){return!ym(e)||!ym(t)||!ym(n)}function uc(e){return i2(e)||nS(e)||e.z||e.rotate||e.rotateX||e.rotateY}function nS(e){return a5(e.x)||a5(e.y)}function a5(e){return e&&e!=="0%"}function o1(e,t,n){const r=e-n,i=t*r;return n+i}function o5(e,t,n,r,i){return i!==void 0&&(e=o1(e,i,r)),o1(e,n,r)+t}function s2(e,t=0,n=1,r,i){e.min=o5(e.min,t,n,r,i),e.max=o5(e.max,t,n,r,i)}function rS(e,{x:t,y:n}){s2(e.x,t.translate,t.scale,t.originPoint),s2(e.y,n.translate,n.scale,n.originPoint)}function nL(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let u=0;u<i;u++){s=n[u],o=s.projectionDelta;const h=s.instance;h&&h.style&&h.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Eu(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,rS(e,o)),r&&uc(s.latestValues)&&Eu(e,s.latestValues))}t.x=l5(t.x),t.y=l5(t.y)}function l5(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function el(e,t){e.min=e.min+t,e.max=e.max+t}function c5(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=hr(e.min,e.max,s);s2(e,t[n],t[r],o,t.scale)}const rL=["x","scaleX","originX"],iL=["y","scaleY","originY"];function Eu(e,t){c5(e.x,t,rL),c5(e.y,t,iL)}function iS(e,t){return tS(tL(e.getBoundingClientRect(),t))}function sL(e,t,n){const r=iS(e,n),{scroll:i}=t;return i&&(el(r.x,i.offset.x),el(r.y,i.offset.y)),r}const sS=({current:e})=>e?e.ownerDocument.defaultView:null,aL=new WeakMap;class oL{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=x=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(X1(x,"page").point)},s=(x,y)=>{const{drag:N,dragPropagation:b,onDragStart:j}=this.getProps();if(N&&!b&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=yA(N),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qs(P=>{let E=this.getAxisMotionValue(P).get()||0;if(qa.test(E)){const{projection:C}=this.visualElement;if(C&&C.layout){const k=C.layout.layoutBox[P];k&&(E=Ts(k)*(parseFloat(E)/100))}}this.originPoint[P]=E}),j&&Hn.update(()=>j(x,y),!1,!0);const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},o=(x,y)=>{const{dragPropagation:N,dragDirectionLock:b,onDirectionLock:j,onDrag:T}=this.getProps();if(!N&&!this.openGlobalLock)return;const{offset:P}=y;if(b&&this.currentDirection===null){this.currentDirection=lL(P),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",y.point,P),this.updateAxis("y",y.point,P),this.visualElement.render(),T&&T(x,y)},u=(x,y)=>this.stop(x,y),h=()=>qs(x=>{var y;return this.getAnimationState(x)==="paused"&&((y=this.getAxisMotionValue(x).animation)===null||y===void 0?void 0:y.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new JA(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:sS(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Hn.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!$f(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Yj(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&Au(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Xj(i.layoutBox,n):this.constraints=!1,this.elastic=Jj(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qs(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Qj(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Au(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=sL(r,i.root,this.visualElement.getTransformPagePoint());let o=Kj(i.layout.layoutBox,s);if(n){const u=n(eL(o));this.hasMutatedConstraints=!!u,u&&(o=tS(u))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),h=this.constraints||{},p=qs(x=>{if(!$f(x,n,this.currentDirection))return;let y=h&&h[x]||{};o&&(y={min:0,max:0});const N=i?200:1e6,b=i?40:1e7,j={type:"inertia",velocity:r?t[x]:0,bounceStiffness:N,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...s,...y};return this.startAxisValueAnimation(x,j)});return Promise.all(p).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(oy(t,r,0,n))}stopAnimation(){qs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qs(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){qs(n=>{const{drag:r}=this.getProps();if(!$f(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:u}=i.layout.layoutBox[n];s.set(t[n]-hr(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Au(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};qs(o=>{const u=this.getAxisMotionValue(o);if(u){const h=u.get();i[o]=Zj({min:h,max:h},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),qs(o=>{if(!$f(o,t,null))return;const u=this.getAxisMotionValue(o),{min:h,max:p}=this.constraints[o];u.set(hr(h,p,i[o]))})}addListeners(){if(!this.visualElement.current)return;aL.set(this.visualElement,this);const t=this.visualElement.current,n=yo(t,"pointerdown",h=>{const{drag:p,dragListener:x=!0}=this.getProps();p&&x&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();Au(h)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=mo(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(qs(x=>{const y=this.getAxisMotionValue(x);y&&(this.originPoint[x]+=h[x].translate,y.set(y.get()+h[x].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=r2,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:u}}}function $f(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function lL(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class cL extends Ml{constructor(t){super(t),this.removeGroupControls=Lr,this.removeListeners=Lr,this.controls=new oL(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const u5=e=>(t,n)=>{e&&Hn.update(()=>e(t,n))};class uL extends Ml{constructor(){super(...arguments),this.removePointerDownListener=Lr}onPointerDown(t){this.session=new JA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:sS(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:u5(t),onStart:u5(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Hn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=yo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function dL(){const e=fe.useContext(q1);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=fe.useId();return fe.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const b0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function d5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ld={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ft.test(e))e=parseFloat(e);else return e;const n=d5(e,t.target.x),r=d5(e,t.target.y);return`${n}% ${r}%`}},hL={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Sl.parse(e);if(i.length>5)return r;const s=Sl.createTransformer(e),o=typeof i[0]!="number"?1:0,u=n.x.scale*t.x,h=n.y.scale*t.y;i[0+o]/=u,i[1+o]/=h;const p=hr(u,h,.5);return typeof i[2+o]=="number"&&(i[2+o]/=p),typeof i[3+o]=="number"&&(i[3+o]/=p),s(i)}};class fL extends Ot.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;wk(pL),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),b0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Hn.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function aS(e){const[t,n]=dL(),r=fe.useContext(Gx);return Ot.createElement(fL,{...e,layoutGroup:r,switchLayoutGroup:fe.useContext(tA),isPresent:t,safeToRemove:n})}const pL={borderRadius:{...Ld,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ld,borderTopRightRadius:Ld,borderBottomLeftRadius:Ld,borderBottomRightRadius:Ld,boxShadow:hL},oS=["TopLeft","TopRight","BottomLeft","BottomRight"],mL=oS.length,h5=e=>typeof e=="string"?parseFloat(e):e,f5=e=>typeof e=="number"||Ft.test(e);function gL(e,t,n,r,i,s){i?(e.opacity=hr(0,n.opacity!==void 0?n.opacity:1,xL(r)),e.opacityExit=hr(t.opacity!==void 0?t.opacity:1,0,yL(r))):s&&(e.opacity=hr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<mL;o++){const u=`border${oS[o]}Radius`;let h=p5(t,u),p=p5(n,u);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||f5(h)===f5(p)?(e[u]=Math.max(hr(h5(h),h5(p),r),0),(qa.test(p)||qa.test(h))&&(e[u]+="%")):e[u]=p}(t.rotate||n.rotate)&&(e.rotate=hr(t.rotate||0,n.rotate||0,r))}function p5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const xL=lS(0,.5,kA),yL=lS(.5,.95,Lr);function lS(e,t,n){return r=>r<e?0:r>t?1:n(Oh(e,t,r))}function m5(e,t){e.min=t.min,e.max=t.max}function Hs(e,t){m5(e.x,t.x),m5(e.y,t.y)}function g5(e,t,n,r,i){return e-=t,e=o1(e,1/n,r),i!==void 0&&(e=o1(e,1/i,r)),e}function vL(e,t=0,n=1,r=.5,i,s=e,o=e){if(qa.test(t)&&(t=parseFloat(t),t=hr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let u=hr(s.min,s.max,r);e===s&&(u-=t),e.min=g5(e.min,t,n,u,i),e.max=g5(e.max,t,n,u,i)}function x5(e,t,[n,r,i],s,o){vL(e,t[n],t[r],t[i],t.scale,s,o)}const wL=["x","scaleX","originX"],bL=["y","scaleY","originY"];function y5(e,t,n,r){x5(e.x,t,wL,n?n.x:void 0,r?r.x:void 0),x5(e.y,t,bL,n?n.y:void 0,r?r.y:void 0)}function v5(e){return e.translate===0&&e.scale===1}function cS(e){return v5(e.x)&&v5(e.y)}function NL(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function uS(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function w5(e){return Ts(e.x)/Ts(e.y)}class AL{constructor(){this.members=[]}add(t){ly(this.members,t),t.scheduleRender()}remove(t){if(cy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function b5(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:h,rotateX:p,rotateY:x}=n;h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),x&&(r+=`rotateY(${x}deg) `)}const o=e.x.scale*t.x,u=e.y.scale*t.y;return(o!==1||u!==1)&&(r+=`scale(${o}, ${u})`),r||"none"}const SL=(e,t)=>e.depth-t.depth;class CL{constructor(){this.children=[],this.isDirty=!1}add(t){ly(this.children,t),this.isDirty=!0}remove(t){cy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(SL),this.isDirty=!1,this.children.forEach(t)}}function EL(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Co(r),e(s-t))};return Hn.read(r,!0),()=>Co(r)}function _L(e){window.MotionDebug&&window.MotionDebug.record(e)}function TL(e){return e instanceof SVGElement&&e.tagName!=="svg"}function IL(e,t,n){const r=us(e)?e:Yu(e);return r.start(oy("",r,t,n)),r.animation}const N5=["","X","Y","Z"],kL={visibility:"hidden"},A5=1e3;let jL=0;const dc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function dS({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},u=t==null?void 0:t()){this.id=jL++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,dc.totalNodes=dc.resolvedTargetDeltas=dc.recalculatedProjection=0,this.nodes.forEach(OL),this.nodes.forEach(FL),this.nodes.forEach(UL),this.nodes.forEach(DL),_L(dc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new CL)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new uy),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const h=this.eventHandlers.get(o);h&&h.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=TL(o),this.instance=o;const{layoutId:h,layout:p,visualElement:x}=this.options;if(x&&!x.current&&x.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(p||h)&&(this.isLayoutDirty=!0),e){let y;const N=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,y&&y(),y=EL(N,250),b0.hasAnimatedSinceResize&&(b0.hasAnimatedSinceResize=!1,this.nodes.forEach(C5))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&x&&(h||p)&&this.addEventListener("didUpdate",({delta:y,hasLayoutChanged:N,hasRelativeTargetChanged:b,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||x.getDefaultTransition()||WL,{onLayoutAnimationStart:P,onLayoutAnimationComplete:E}=x.getProps(),C=!this.targetLayout||!uS(this.targetLayout,j)||b,k=!N&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||N&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(y,k);const M={...ay(T,"layout"),onPlay:P,onComplete:E};(x.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else N||C5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Co(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VL),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let x=0;x<this.path.length;x++){const y=this.path[x];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:u,layout:h}=this.options;if(u===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(S5);return}this.isUpdating||this.nodes.forEach(RL),this.isUpdating=!1,this.nodes.forEach(BL),this.nodes.forEach(LL),this.nodes.forEach(PL),this.clearAllSnapshots();const u=performance.now();Pi.delta=Al(0,1e3/60,u-Pi.timestamp),Pi.timestamp=u,Pi.isProcessing=!0,lm.update.process(Pi),lm.preRender.process(Pi),lm.render.process(Pi),Pi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(ML),this.sharedNodes.forEach(zL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Hn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Hn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!cS(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,x=p!==this.prevTransformTemplateValue;o&&(u||uc(this.latestValues)||x)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let h=this.removeElementScroll(u);return o&&(h=this.removeTransform(h)),$L(h),{animationId:this.root.animationId,measuredBox:u,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Vr();const u=o.measureViewportBox(),{scroll:h}=this.root;return h&&(el(u.x,h.offset.x),el(u.y,h.offset.y)),u}removeElementScroll(o){const u=Vr();Hs(u,o);for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:x,options:y}=p;if(p!==this.root&&x&&y.layoutScroll){if(x.isRoot){Hs(u,o);const{scroll:N}=this.root;N&&(el(u.x,-N.offset.x),el(u.y,-N.offset.y))}el(u.x,x.offset.x),el(u.y,x.offset.y)}}return u}applyTransform(o,u=!1){const h=Vr();Hs(h,o);for(let p=0;p<this.path.length;p++){const x=this.path[p];!u&&x.options.layoutScroll&&x.scroll&&x!==x.root&&Eu(h,{x:-x.scroll.offset.x,y:-x.scroll.offset.y}),uc(x.latestValues)&&Eu(h,x.latestValues)}return uc(this.latestValues)&&Eu(h,this.latestValues),h}removeTransform(o){const u=Vr();Hs(u,o);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!uc(p.latestValues))continue;i2(p.latestValues)&&p.updateSnapshot();const x=Vr(),y=p.measurePageBox();Hs(x,y),y5(u,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,x)}return uc(this.latestValues)&&y5(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var u;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(o||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:y,layoutId:N}=this.options;if(!(!this.layout||!(y||N))){if(this.resolvedRelativeTargetAt=Pi.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vr(),this.relativeTargetOrigin=Vr(),ih(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vr(),this.targetWithTransforms=Vr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Gj(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Hs(this.target,this.layout.layoutBox),rS(this.target,this.targetDelta)):Hs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vr(),this.relativeTargetOrigin=Vr(),ih(this.relativeTargetOrigin,this.target,b.target),Hs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}dc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||i2(this.parent.latestValues)||nS(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let p=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Pi.timestamp&&(p=!1),p)return;const{layout:x,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(x||y))return;Hs(this.layoutCorrected,this.layout.layoutBox);const N=this.treeScale.x,b=this.treeScale.y;nL(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:j}=u;if(!j){this.projectionTransform&&(this.projectionDelta=Cu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Cu(),this.projectionDeltaWithTransform=Cu());const T=this.projectionTransform;rh(this.projectionDelta,this.layoutCorrected,j,this.latestValues),this.projectionTransform=b5(this.projectionDelta,this.treeScale),(this.projectionTransform!==T||this.treeScale.x!==N||this.treeScale.y!==b)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),dc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,u=!1){const h=this.snapshot,p=h?h.latestValues:{},x={...this.latestValues},y=Cu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const N=Vr(),b=h?h.source:void 0,j=this.layout?this.layout.source:void 0,T=b!==j,P=this.getStack(),E=!P||P.members.length<=1,C=!!(T&&!E&&this.options.crossfade===!0&&!this.path.some(qL));this.animationProgress=0;let k;this.mixTargetDelta=M=>{const B=M/1e3;E5(y.x,o.x,B),E5(y.y,o.y,B),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ih(N,this.layout.layoutBox,this.relativeParent.layout.layoutBox),HL(this.relativeTarget,this.relativeTargetOrigin,N,B),k&&NL(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Vr()),Hs(k,this.relativeTarget)),T&&(this.animationValues=x,gL(x,p,this.latestValues,B,C,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Co(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Hn.update(()=>{b0.hasAnimatedSinceResize=!0,this.currentAnimation=IL(0,A5,{...o,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(A5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:h,layout:p,latestValues:x}=o;if(!(!u||!h||!p)){if(this!==o&&this.layout&&p&&hS(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||Vr();const y=Ts(this.layout.layoutBox.x);h.x.min=o.target.x.min,h.x.max=h.x.min+y;const N=Ts(this.layout.layoutBox.y);h.y.min=o.target.y.min,h.y.max=h.y.min+N}Hs(u,h),Eu(u,x),rh(this.projectionDeltaWithTransform,this.layoutCorrected,u,x)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new AL),this.sharedNodes.get(o).add(u);const p=u.options.initialPromotionConfig;u.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:u}=this.options;return u?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:u}=this.options;return u?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:h}=o;if((h.rotate||h.rotateX||h.rotateY||h.rotateZ)&&(u=!0),!u)return;const p={};for(let x=0;x<N5.length;x++){const y="rotate"+N5[x];h[y]&&(p[y]=h[y],o.setStaticValue(y,0))}o.render();for(const x in p)o.setStaticValue(x,p[x]);o.scheduleRender()}getProjectionStyles(o){var u,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return kL;const p={visibility:""},x=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=w0(o==null?void 0:o.pointerEvents)||"",p.transform=x?x(this.latestValues,""):"none",p;const y=this.getLead();if(!this.projectionDelta||!this.layout||!y.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=w0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!uc(this.latestValues)&&(T.transform=x?x({},""):"none",this.hasProjected=!1),T}const N=y.animationValues||y.latestValues;this.applyTransformsToTarget(),p.transform=b5(this.projectionDeltaWithTransform,this.treeScale,N),x&&(p.transform=x(N,p.transform));const{x:b,y:j}=this.projectionDelta;p.transformOrigin=`${b.origin*100}% ${j.origin*100}% 0`,y.animationValues?p.opacity=y===this?(h=(u=N.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:N.opacityExit:p.opacity=y===this?N.opacity!==void 0?N.opacity:"":N.opacityExit!==void 0?N.opacityExit:0;for(const T in e1){if(N[T]===void 0)continue;const{correct:P,applyTo:E}=e1[T],C=p.transform==="none"?N[T]:P(N[T],y);if(E){const k=E.length;for(let M=0;M<k;M++)p[E[M]]=C}else p[T]=C}return this.options.layoutId&&(p.pointerEvents=y===this?w0(o==null?void 0:o.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var u;return(u=o.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(S5),this.root.sharedNodes.clear()}}}function LL(e){e.updateLayout()}function PL(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?qs(y=>{const N=o?n.measuredBox[y]:n.layoutBox[y],b=Ts(N);N.min=r[y].min,N.max=N.min+b}):hS(s,n.layoutBox,r)&&qs(y=>{const N=o?n.measuredBox[y]:n.layoutBox[y],b=Ts(r[y]);N.max=N.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[y].max=e.relativeTarget[y].min+b)});const u=Cu();rh(u,r,n.layoutBox);const h=Cu();o?rh(h,e.applyTransform(i,!0),n.measuredBox):rh(h,r,n.layoutBox);const p=!cS(u);let x=!1;if(!e.resumeFrom){const y=e.getClosestProjectingParent();if(y&&!y.resumeFrom){const{snapshot:N,layout:b}=y;if(N&&b){const j=Vr();ih(j,n.layoutBox,N.layoutBox);const T=Vr();ih(T,r,b.layoutBox),uS(j,T)||(x=!0),y.options.layoutRoot&&(e.relativeTarget=T,e.relativeTargetOrigin=j,e.relativeParent=y)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:u,hasLayoutChanged:p,hasRelativeTargetChanged:x})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function OL(e){dc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function DL(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function ML(e){e.clearSnapshot()}function S5(e){e.clearMeasurements()}function RL(e){e.isLayoutDirty=!1}function BL(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function C5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function FL(e){e.resolveTargetDelta()}function UL(e){e.calcProjection()}function VL(e){e.resetRotation()}function zL(e){e.removeLeadSnapshot()}function E5(e,t,n){e.translate=hr(t.translate,0,n),e.scale=hr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function _5(e,t,n,r){e.min=hr(t.min,n.min,r),e.max=hr(t.max,n.max,r)}function HL(e,t,n,r){_5(e.x,t.x,n.x,r),_5(e.y,t.y,n.y,r)}function qL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const WL={duration:.45,ease:[.4,0,.1,1]},T5=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),I5=T5("applewebkit/")&&!T5("chrome/")?Math.round:Lr;function k5(e){e.min=I5(e.min),e.max=I5(e.max)}function $L(e){k5(e.x),k5(e.y)}function hS(e,t,n){return e==="position"||e==="preserve-aspect"&&!n2(w5(t),w5(n),.2)}const GL=dS({attachResizeListener:(e,t)=>mo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vm={current:void 0},fS=dS({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vm.current){const e=new GL({});e.mount(window),e.setOptions({layoutScroll:!0}),vm.current=e}return vm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),YL={pan:{Feature:uL},drag:{Feature:cL,ProjectionNode:fS,MeasureLayout:aS}},XL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function KL(e){const t=XL.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function a2(e,t,n=1){const[r,i]=KL(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return XA(o)?parseFloat(o):o}else return Xg(i)?a2(i,t,n+1):i}function ZL(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!Xg(s))return;const o=a2(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!Xg(s))continue;const o=a2(s,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const QL=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),pS=e=>QL.has(e),JL=e=>Object.keys(e).some(pS),j5=e=>e===Fc||e===Ft,L5=(e,t)=>parseFloat(e.split(", ")[t]),P5=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return L5(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?L5(s[1],e):0}},eP=new Set(["x","y","z"]),tP=Yh.filter(e=>!eP.has(e));function nP(e){const t=[];return tP.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Xu={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:P5(4,13),y:P5(5,14)};Xu.translateX=Xu.x;Xu.translateY=Xu.y;const rP=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,u={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(p=>{u[p]=Xu[p](r,s)}),t.render();const h=t.measureViewportBox();return n.forEach(p=>{const x=t.getValue(p);x&&x.jump(u[p]),e[p]=Xu[p](h,s)}),e},iP=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(pS);let s=[],o=!1;const u=[];if(i.forEach(h=>{const p=e.getValue(h);if(!e.hasValue(h))return;let x=n[h],y=jd(x);const N=t[h];let b;if(n1(N)){const j=N.length,T=N[0]===null?1:0;x=N[T],y=jd(x);for(let P=T;P<j&&N[P]!==null;P++)b?ty(jd(N[P])===b):b=jd(N[P])}else b=jd(N);if(y!==b)if(j5(y)&&j5(b)){const j=p.get();typeof j=="string"&&p.set(parseFloat(j)),typeof N=="string"?t[h]=parseFloat(N):Array.isArray(N)&&b===Ft&&(t[h]=N.map(parseFloat))}else y!=null&&y.transform&&(b!=null&&b.transform)&&(x===0||N===0)?x===0?p.set(b.transform(x)):t[h]=y.transform(N):(o||(s=nP(e),o=!0),u.push(h),r[h]=r[h]!==void 0?r[h]:t[h],p.jump(N))}),u.length){const h=u.indexOf("height")>=0?window.pageYOffset:null,p=rP(t,e,u);return s.length&&s.forEach(([x,y])=>{e.getValue(x).set(y)}),e.render(),W1&&h!==null&&window.scrollTo({top:h}),{target:p,transitionEnd:r}}else return{target:t,transitionEnd:r}};function sP(e,t,n,r){return JL(t)?iP(e,t,n,r):{target:t,transitionEnd:r}}const aP=(e,t,n,r)=>{const i=ZL(e,t,r);return t=i.target,r=i.transitionEnd,sP(e,t,n,r)},o2={current:null},mS={current:!1};function oP(){if(mS.current=!0,!!W1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>o2.current=e.matches;e.addListener(t),t()}else o2.current=!1}function lP(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(us(s))e.addValue(i,s),a1(r)&&r.add(i);else if(us(o))e.addValue(i,Yu(s,{owner:e})),a1(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const u=e.getValue(i);!u.hasAnimated&&u.set(s)}else{const u=e.getStaticValue(i);e.addValue(i,Yu(u!==void 0?u:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const O5=new WeakMap,gS=Object.keys(Ph),cP=gS.length,D5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],uP=$x.length;class dP{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Hn.render(this.render,!1,!0);const{latestValues:u,renderState:h}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=G1(n),this.isVariantNode=eA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...x}=this.scrapeMotionValuesFromProps(n,{});for(const y in x){const N=x[y];u[y]!==void 0&&us(N)&&(N.set(u[y],!1),a1(p)&&p.add(y))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,O5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),mS.current||oP(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:o2.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){O5.delete(this.current),this.projection&&this.projection.unmount(),Co(this.notifyUpdate),Co(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Bc.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&Hn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,u;for(let h=0;h<cP;h++){const p=gS[h],{isEnabled:x,Feature:y,ProjectionNode:N,MeasureLayout:b}=Ph[p];N&&(o=N),x(n)&&(!this.features[p]&&y&&(this.features[p]=new y(this)),b&&(u=b))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:h,layout:p,drag:x,dragConstraints:y,layoutScroll:N,layoutRoot:b}=n;this.projection.setOptions({layoutId:h,layout:p,alwaysMeasureLayout:!!x||y&&Au(y),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof p=="string"?p:"both",initialPromotionConfig:s,layoutScroll:N,layoutRoot:b})}return u}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<D5.length;r++){const i=D5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=lP(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<uP;r++){const i=$x[r],s=this.props[i];(Lh(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Yu(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=ey(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!us(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new uy),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class xS extends dP{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=Tj(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){Ej(this,r,o);const u=aP(this,r,o,n);n=u.transitionEnd,r=u.target}return{transition:t,transitionEnd:n,...r}}}function hP(e){return window.getComputedStyle(e)}class fP extends xS{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Bc.has(n)){const r=sy(n);return r&&r.default||0}else{const r=hP(t),i=(iA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return iS(t,n)}build(t,n,r,i){Xx(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Jx(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;us(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){uA(t,n,r,i)}}class pP extends xS{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Bc.has(n)){const r=sy(n);return r&&r.default||0}return n=dA.has(n)?n:qx(n),t.getAttribute(n)}measureInstanceViewportBox(){return Vr()}scrapeMotionValuesFromProps(t,n){return fA(t,n)}build(t,n,r,i){Zx(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){hA(t,n,r,i)}mount(t){this.isSVGTag=Qx(t.tagName),super.mount(t)}}const mP=(e,t)=>Yx(e)?new pP(t,{enableHardwareAcceleration:!1}):new fP(t,{enableHardwareAcceleration:!0}),gP={layout:{ProjectionNode:fS,MeasureLayout:aS}},xP={...Hj,...c7,...YL,...gP},Xe=yk((e,t)=>Kk(e,t,xP,mP));function yS(){const e=fe.useRef(!1);return Hx(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function yP(){const e=yS(),[t,n]=fe.useState(0),r=fe.useCallback(()=>{e.current&&n(t+1)},[t]);return[fe.useCallback(()=>Hn.postRender(r),[r]),t]}class vP extends fe.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function wP({children:e,isPresent:t}){const n=fe.useId(),r=fe.useRef(null),i=fe.useRef({width:0,height:0,top:0,left:0});return fe.useInsertionEffect(()=>{const{width:s,height:o,top:u,left:h}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const p=document.createElement("style");return document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${u}px !important;
            left: ${h}px !important;
          }
        `),()=>{document.head.removeChild(p)}},[t]),fe.createElement(vP,{isPresent:t,childRef:r,sizeRef:i},fe.cloneElement(e,{ref:r}))}const wm=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const u=pA(bP),h=fe.useId(),p=fe.useMemo(()=>({id:h,initial:t,isPresent:n,custom:i,onExitComplete:x=>{u.set(x,!0);for(const y of u.values())if(!y)return;r&&r()},register:x=>(u.set(x,!1),()=>u.delete(x))}),s?void 0:[n]);return fe.useMemo(()=>{u.forEach((x,y)=>u.set(y,!1))},[n]),fe.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=fe.createElement(wP,{isPresent:n},e)),fe.createElement(q1.Provider,{value:p},e)};function bP(){return new Map}function NP(e){return fe.useEffect(()=>()=>e(),[])}const hc=e=>e.key||"";function AP(e,t){e.forEach(n=>{const r=hc(n);t.set(r,n)})}function SP(e){const t=[];return fe.Children.forEach(e,n=>{fe.isValidElement(n)&&t.push(n)}),t}const dy=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const u=fe.useContext(Gx).forceRender||yP()[0],h=yS(),p=SP(e);let x=p;const y=fe.useRef(new Map).current,N=fe.useRef(x),b=fe.useRef(new Map).current,j=fe.useRef(!0);if(Hx(()=>{j.current=!1,AP(p,b),N.current=x}),NP(()=>{j.current=!0,b.clear(),y.clear()}),j.current)return fe.createElement(fe.Fragment,null,x.map(C=>fe.createElement(wm,{key:hc(C),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},C)));x=[...x];const T=N.current.map(hc),P=p.map(hc),E=T.length;for(let C=0;C<E;C++){const k=T[C];P.indexOf(k)===-1&&!y.has(k)&&y.set(k,void 0)}return o==="wait"&&y.size&&(x=[]),y.forEach((C,k)=>{if(P.indexOf(k)!==-1)return;const M=b.get(k);if(!M)return;const B=T.indexOf(k);let ne=C;if(!ne){const F=()=>{y.delete(k);const X=Array.from(b.keys()).filter(J=>!P.includes(J));if(X.forEach(J=>b.delete(J)),N.current=p.filter(J=>{const ve=hc(J);return ve===k||X.includes(ve)}),!y.size){if(h.current===!1)return;u(),r&&r()}};ne=fe.createElement(wm,{key:hc(M),isPresent:!1,onExitComplete:F,custom:t,presenceAffectsLayout:s,mode:o},M),y.set(k,ne)}x.splice(B,0,ne)}),x=x.map(C=>{const k=C.key;return y.has(k)?C:fe.createElement(wm,{key:hc(C),isPresent:!0,presenceAffectsLayout:s,mode:o},C)}),fe.createElement(fe.Fragment,null,y.size?x:x.map(C=>fe.cloneElement(C)))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Wt=(e,t)=>{const n=fe.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:u="",children:h,...p},x)=>fe.createElement("svg",{ref:x,...CP,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${EP(e)}`,u].join(" "),...p},[...t.map(([y,N])=>fe.createElement(y,N)),...Array.isArray(h)?h:[h]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Wt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=Wt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=Wt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=Wt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=Wt("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=Wt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=Wt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=Wt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=Wt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Wt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Wt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=Wt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=Wt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=Wt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Wt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=Wt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=Wt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=Wt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=Wt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=Wt("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=Wt("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=Wt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=Wt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Wt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Wt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=Wt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=Wt("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=Wt("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=Wt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=Wt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=Wt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Wt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=Wt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Wt("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Wt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=Wt("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Wt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=Wt("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=Wt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=Wt("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Wt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sh=Wt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=Wt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Wt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=Wt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=Wt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ES=()=>{const[e,t]=fe.useState(!1),[n,r]=fe.useState(!1),i=Mc();fe.useEffect(()=>{const o=()=>{r(window.scrollY>50)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const s=[{name:"Home",href:i.pathname==="/"?"#home":"/#home"},{name:"Events",href:i.pathname==="/"?"#events":"/events"},{name:"About",href:i.pathname==="/"?"#about":"/#about"},{name:"Contact",href:i.pathname==="/"?"#contact":"/#contact"}];return d.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 px-2 md:px-4 pt-2 md:pt-4",children:d.jsx(Xe.nav,{initial:{y:-100},animate:{y:0},className:`transition-all duration-500 ease-out ${n?"bg-white/80 backdrop-blur-xl shadow-2xl border-2 border-slate-200/80 rounded-2xl max-w-4xl md:max-w-7xl mx-auto":"bg-transparent max-w-4xl md:max-w-7xl mx-auto"}`,children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:[d.jsxs("div",{className:"flex items-center justify-between h-14 md:h-16 relative",children:[d.jsx("div",{className:"hidden md:flex items-center z-10",children:d.jsx("img",{src:"/carntext-b.svg",alt:"Carnival LDN",className:"h-6 md:h-8 w-auto max-w-[120px] md:max-w-[220px] object-contain transition-all duration-300",style:{filter:n?"none":"brightness(0) invert(1) drop-shadow(0 0 8px rgba(0,0,0,0.5))"}})}),d.jsx(Xe.div,{whileHover:{scale:1.05},className:"pl-2 md:pl-0 md:absolute md:left-1/2 md:transform md:-translate-x-1/2 z-10",children:d.jsx("div",{className:"relative",children:d.jsx("img",{src:n?"/carnival-logo.svg":"/carnival-logo-w.svg",alt:"Carnival LDN Logo",className:"w-10 h-10 md:w-12 md:h-12 object-contain transition-all duration-300",style:{backgroundColor:"transparent"}})})}),d.jsx("div",{className:"flex justify-end z-10",children:d.jsx(Xe.button,{whileTap:{scale:.95},onClick:()=>t(!e),className:`p-4 transition-colors rounded-lg ${n?"text-gray-700 hover:text-gray-900 hover:bg-gray-100":"text-white hover:text-gray-200 hover:bg-white/10"}`,children:e?d.jsx(Rl,{size:28,strokeWidth:2.5}):d.jsx(PP,{size:28,strokeWidth:2.5})})})]}),d.jsx(dy,{children:e&&d.jsx(Xe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`md:hidden border-t mt-2 overflow-hidden ${n?"border-gray-200/50":"border-white/30"}`,children:d.jsxs("div",{className:"px-2 py-6 space-y-0",children:[s.map((o,u)=>d.jsxs("div",{children:[d.jsx(Xe.a,{href:o.href,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},onClick:()=>t(!1),className:`block text-center text-lg font-medium transition-colors py-3 rounded-lg ${n?"text-gray-700 hover:text-gray-900 hover:bg-gray-50":"text-white hover:text-gray-200 hover:bg-white/10"}`,children:o.name}),u<s.length-1&&d.jsx("div",{className:`border-b mx-4 ${n?"border-gray-200":"border-white/30"}`})]},o.name)),d.jsx(Xe.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s.length*.1},className:`w-full py-3 rounded-lg font-medium transition-colors text-base mt-4 ${n?"bg-gray-900 hover:bg-gray-800 text-white":"bg-white/90 hover:bg-white text-gray-900"}`,children:"Book Event"})]})})})]})})})},Bl=()=>{const e=fe.useRef(null),[t,n]=fe.useState(!1),[r,i]=fe.useState("full");return fe.useEffect(()=>{const s=()=>{if(e.current){const u=["upper","lower","full"],h=u[Math.floor(Math.random()*u.length)];i(h),n(!0),setTimeout(()=>{n(!1)},200);const p=Math.random()*500+100;setTimeout(s,p)}},o=setTimeout(()=>{s()},100);return()=>{clearTimeout(o)}},[]),{glitchRef:e,isGlitching:t,glitchType:r}},UP=()=>d.jsxs(Xe.span,{className:"inline-block px-3 sm:px-4 md:px-6 py-2 sm:py-2.5 md:py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20 text-sm sm:text-base md:text-lg",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.5)"},animate:{boxShadow:["0 0 10px rgba(255, 255, 255, 0.1)","0 0 20px rgba(255, 255, 255, 0.2)","0 0 10px rgba(255, 255, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[d.jsx(F5,{className:"hidden md:inline-block mr-2 w-4 h-4 md:w-5 md:h-5 text-yellow-400"}),"London's Most Professional Events Experience",d.jsx(F5,{className:"hidden md:inline-block ml-2 w-4 h-4 md:w-5 md:h-5 text-yellow-400"})]}),VP=()=>{const{glitchRef:e,isGlitching:t,glitchType:n}=Bl(),r=Rc(),i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3,delayChildren:.2}}},s={hidden:{y:50,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",damping:15,stiffness:100}}},o=()=>{r("/events")},u=()=>{const h=document.getElementById("contact");h&&h.scrollIntoView({behavior:"smooth"})};return d.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-16 sm:pt-20 md:pt-32 pb-12 sm:pb-16 md:pb-24 px-2 sm:px-4",children:[d.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[d.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",children:d.jsx("source",{src:"/vid.mp4",type:"video/mp4"})}),d.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),d.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 text-center relative z-10",children:d.jsxs(Xe.div,{variants:i,initial:"hidden",animate:"visible",className:"space-y-6 md:space-y-8",children:[d.jsx(Xe.div,{variants:s,children:d.jsx("h1",{ref:e,className:`text-6xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl glitch-text ${t?`glitch-active glitch-${n}`:""}`,"data-text":"CARNIVAL LDN",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"CARNIVAL LDN"})}),d.jsxs(Xe.div,{variants:s,className:"space-y-4 md:space-y-6 lg:space-y-7",children:[d.jsx(Xe.h2,{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-light max-w-4xl mx-auto leading-relaxed px-2 text-white drop-shadow-lg",children:d.jsx(UP,{})}),d.jsx(Xe.p,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"text-s sm:text-sm md:text-base lg:text-lg xl:text-xl max-w-3xl mx-auto leading-relaxed px-2 bg-gradient-to-r from-gray-200 via-white to-gray-200 bg-[length:200%_200%] bg-clip-text text-transparent drop-shadow-lg",children:"From corporate events to cultural celebrations, from exclusive parties to memorable occasions"})]}),d.jsxs(Xe.div,{variants:s,className:"flex flex-col sm:flex-row gap-3 sm:gap-4 md:gap-6 justify-center items-center pt-4 sm:pt-6 md:pt-8 px-2 sm:px-4",children:[d.jsxs(Xe.button,{onClick:o,whileHover:{scale:1.05,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},whileTap:{scale:.95},className:"bg-white/90 hover:bg-white text-gray-900 font-bold text-base sm:text-base md:text-lg px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 md:py-4 rounded-lg group w-3/4 sm:w-auto flex items-center justify-center space-x-2 transition-all shadow-lg backdrop-blur-sm border border-white/30",children:[d.jsx("span",{children:"Explore Events"}),d.jsx(l1,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 group-hover:translate-x-1 transition-transform"})]}),d.jsx(Xe.button,{onClick:u,whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-transparent hover:bg-white/90 text-white hover:text-gray-900 px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 md:py-4 text-base sm:text-base md:text-lg font-semibold rounded-lg border-2 border-white/70 w-3/4 sm:w-auto transition-all backdrop-blur-sm",children:"Book Private Event"})]})]})})]})},zP={},V5=e=>{let t;const n=new Set,r=(x,y)=>{const N=typeof x=="function"?x(t):x;if(!Object.is(N,t)){const b=t;t=y??(typeof N!="object"||N===null)?N:Object.assign({},t,N),n.forEach(j=>j(t,b))}},i=()=>t,h={setState:r,getState:i,getInitialState:()=>p,subscribe:x=>(n.add(x),()=>n.delete(x)),destroy:()=>{(zP?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},p=t=e(r,i,h);return h},HP=e=>e?V5(e):V5;var _S={exports:{}},TS={},IS={exports:{}},kS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zu=fe;function qP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var WP=typeof Object.is=="function"?Object.is:qP,$P=Zu.useState,GP=Zu.useEffect,YP=Zu.useLayoutEffect,XP=Zu.useDebugValue;function KP(e,t){var n=t(),r=$P({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return YP(function(){i.value=n,i.getSnapshot=t,bm(i)&&s({inst:i})},[e,n,t]),GP(function(){return bm(i)&&s({inst:i}),e(function(){bm(i)&&s({inst:i})})},[e]),XP(n),n}function bm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!WP(e,n)}catch{return!0}}function ZP(e,t){return t()}var QP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ZP:KP;kS.useSyncExternalStore=Zu.useSyncExternalStore!==void 0?Zu.useSyncExternalStore:QP;IS.exports=kS;var JP=IS.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z1=fe,eO=JP;function tO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nO=typeof Object.is=="function"?Object.is:tO,rO=eO.useSyncExternalStore,iO=Z1.useRef,sO=Z1.useEffect,aO=Z1.useMemo,oO=Z1.useDebugValue;TS.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=iO(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=aO(function(){function h(b){if(!p){if(p=!0,x=b,b=r(b),i!==void 0&&o.hasValue){var j=o.value;if(i(j,b))return y=j}return y=b}if(j=y,nO(x,b))return j;var T=r(b);return i!==void 0&&i(j,T)?(x=b,j):(x=b,y=T)}var p=!1,x,y,N=n===void 0?null:n;return[function(){return h(t())},N===null?void 0:function(){return h(N())}]},[t,n,r,i]);var u=rO(e,s[0],s[1]);return sO(function(){o.hasValue=!0,o.value=u},[u]),oO(u),u};_S.exports=TS;var lO=_S.exports;const cO=Pc(lO),jS={},{useDebugValue:uO}=Ot,{useSyncExternalStoreWithSelector:dO}=cO;let z5=!1;const hO=e=>e;function fO(e,t=hO,n){(jS?"production":void 0)!=="production"&&n&&!z5&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),z5=!0);const r=dO(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return uO(r),r}const pO=e=>{(jS?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?HP(e):e,n=(r,i)=>fO(t,r,i);return Object.assign(n,t),n},mO=e=>pO,gO={};function xO(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=h=>h===null?null:JSON.parse(h,void 0),u=(s=n.getItem(i))!=null?s:null;return u instanceof Promise?u.then(o):o(u)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const Bh=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Bh(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Bh(r)(n)}}}},yO=(e,t)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:P=>P,version:0,merge:(P,E)=>({...E,...P}),...t},o=!1;const u=new Set,h=new Set;let p;try{p=s.getStorage()}catch{}if(!p)return e((...P)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...P)},r,i);const x=Bh(s.serialize),y=()=>{const P=s.partialize({...r()});let E;const C=x({state:P,version:s.version}).then(k=>p.setItem(s.name,k)).catch(k=>{E=k});if(E)throw E;return C},N=i.setState;i.setState=(P,E)=>{N(P,E),y()};const b=e((...P)=>{n(...P),y()},r,i);let j;const T=()=>{var P;if(!p)return;o=!1,u.forEach(C=>C(r()));const E=((P=s.onRehydrateStorage)==null?void 0:P.call(s,r()))||void 0;return Bh(p.getItem.bind(p))(s.name).then(C=>{if(C)return s.deserialize(C)}).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate)return s.migrate(C.state,C.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return C.state}).then(C=>{var k;return j=s.merge(C,(k=r())!=null?k:b),n(j,!0),y()}).then(()=>{E==null||E(j,void 0),o=!0,h.forEach(C=>C(j))}).catch(C=>{E==null||E(void 0,C)})};return i.persist={setOptions:P=>{s={...s,...P},P.getStorage&&(p=P.getStorage())},clearStorage:()=>{p==null||p.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>T(),hasHydrated:()=>o,onHydrate:P=>(u.add(P),()=>{u.delete(P)}),onFinishHydration:P=>(h.add(P),()=>{h.delete(P)})},T(),j||b},vO=(e,t)=>(n,r,i)=>{let s={storage:xO(()=>localStorage),partialize:T=>T,version:0,merge:(T,P)=>({...P,...T}),...t},o=!1;const u=new Set,h=new Set;let p=s.storage;if(!p)return e((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...T)},r,i);const x=()=>{const T=s.partialize({...r()});return p.setItem(s.name,{state:T,version:s.version})},y=i.setState;i.setState=(T,P)=>{y(T,P),x()};const N=e((...T)=>{n(...T),x()},r,i);i.getInitialState=()=>N;let b;const j=()=>{var T,P;if(!p)return;o=!1,u.forEach(C=>{var k;return C((k=r())!=null?k:N)});const E=((P=s.onRehydrateStorage)==null?void 0:P.call(s,(T=r())!=null?T:N))||void 0;return Bh(p.getItem.bind(p))(s.name).then(C=>{if(C)if(typeof C.version=="number"&&C.version!==s.version){if(s.migrate)return[!0,s.migrate(C.state,C.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,C.state];return[!1,void 0]}).then(C=>{var k;const[M,B]=C;if(b=s.merge(B,(k=r())!=null?k:N),n(b,!0),M)return x()}).then(()=>{E==null||E(b,void 0),b=r(),o=!0,h.forEach(C=>C(b))}).catch(C=>{E==null||E(void 0,C)})};return i.persist={setOptions:T=>{s={...s,...T},T.storage&&(p=T.storage)},clearStorage:()=>{p==null||p.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>j(),hasHydrated:()=>o,onHydrate:T=>(u.add(T),()=>{u.delete(T)}),onFinishHydration:T=>(h.add(T),()=>{h.delete(T)})},s.skipHydration||j(),b||N},wO=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((gO?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),yO(e,t)):vO(e,t),bO=wO,NO="modulepreload",AO=function(e){return"/"+e},H5={},El=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(h=>{if(h=AO(h),h in H5)return;H5[h]=!0;const p=h.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const y=document.createElement("link");if(y.rel=p?"stylesheet":NO,p||(y.as="script"),y.crossOrigin="",y.href=h,u&&y.setAttribute("nonce",u),document.head.appendChild(y),p)return new Promise((N,b)=>{y.addEventListener("load",N),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})},SO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>El(async()=>{const{default:r}=await Promise.resolve().then(()=>cd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class my extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class CO extends my{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class q5 extends my{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class W5 extends my{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var d2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(d2||(d2={}));var EO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};class _O{constructor(t,{headers:n={},customFetch:r,region:i=d2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=SO(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return EO(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let u={},{region:h}=n;h||(h=this.region);const p=new URL(`${this.url}/${t}`);h&&h!=="any"&&(u["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let x;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",x=o):typeof o=="string"?(u["Content-Type"]="text/plain",x=o):typeof FormData<"u"&&o instanceof FormData?x=o:(u["Content-Type"]="application/json",x=JSON.stringify(o)));const y=yield this.fetch(p.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:x}).catch(T=>{throw new CO(T)}),N=y.headers.get("x-relay-error");if(N&&N==="true")throw new q5(y);if(!y.ok)throw new W5(y);let b=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield y.json():b==="application/octet-stream"?j=yield y.blob():b==="text/event-stream"?j=y:b==="multipart/form-data"?j=yield y.formData():j=yield y.text(),{data:j,error:null,response:y}}catch(i){return{data:null,error:i,response:i instanceof W5||i instanceof q5?i.context:void 0}}})}}var ss={},gy={},Q1={},Qh={},J1={},ep={},TO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qu=TO();const IO=Qu.fetch,LS=Qu.fetch.bind(Qu),PS=Qu.Headers,kO=Qu.Request,jO=Qu.Response,cd=Object.freeze(Object.defineProperty({__proto__:null,Headers:PS,Request:kO,Response:jO,default:LS,fetch:IO},Symbol.toStringTag,{value:"Module"})),LO=JC(cd);var tp={};Object.defineProperty(tp,"__esModule",{value:!0});let PO=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};tp.default=PO;var OS=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ep,"__esModule",{value:!0});const OO=OS(LO),DO=OS(tp);let MO=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=OO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,u,h;let p=null,x=null,y=null,N=s.status,b=s.statusText;if(s.ok){if(this.method!=="HEAD"){const E=await s.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=E:x=JSON.parse(E))}const T=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),P=(u=s.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");T&&P&&P.length>1&&(y=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(p={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,y=null,N=406,b="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const T=await s.text();try{p=JSON.parse(T),Array.isArray(p)&&s.status===404&&(x=[],p=null,N=200,b="OK")}catch{s.status===404&&T===""?(N=204,b="No Content"):p={message:T}}if(p&&this.isMaybeSingle&&(!((h=p==null?void 0:p.details)===null||h===void 0)&&h.includes("0 rows"))&&(p=null,N=200,b="OK"),p&&this.shouldThrowOnError)throw new DO.default(p)}return{error:p,data:x,count:y,status:N,statusText:b}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,u,h;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(u=s==null?void 0:s.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(h=s==null?void 0:s.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};ep.default=MO;var RO=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(J1,"__esModule",{value:!0});const BO=RO(ep);let FO=class extends BO.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var u;const h=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),p=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${p}"; options=${h};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};J1.default=FO;var UO=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qh,"__esModule",{value:!0});const VO=UO(J1);let zO=class extends VO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Qh.default=zO;var HO=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Q1,"__esModule",{value:!0});const Pd=HO(Qh);let qO=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Pd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(o.length>0){const u=[...new Set(o)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new Pd.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",u=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),s||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(t)){const h=t.reduce((p,x)=>p.concat(Object.keys(x)),[]);if(h.length>0){const p=[...new Set(h)].map(x=>`"${x}"`);this.url.searchParams.set("columns",p.join(","))}}return new Pd.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Pd.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Pd.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Q1.default=qO;var np={},rp={};Object.defineProperty(rp,"__esModule",{value:!0});rp.version=void 0;rp.version="0.0.0-automated";Object.defineProperty(np,"__esModule",{value:!0});np.DEFAULT_HEADERS=void 0;const WO=rp;np.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${WO.version}`};var DS=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(gy,"__esModule",{value:!0});const $O=DS(Q1),GO=DS(Qh),YO=np;let XO=class MS{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},YO.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new $O.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new MS(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const u=new URL(`${this.url}/rpc/${t}`);let h;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([x,y])=>y!==void 0).map(([x,y])=>[x,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([x,y])=>{u.searchParams.append(x,y)})):(o="POST",h=n);const p=Object.assign({},this.headers);return s&&(p.Prefer=`count=${s}`),new GO.default({method:o,url:u,headers:p,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}};gy.default=XO;var ud=xi&&xi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ss,"__esModule",{value:!0});ss.PostgrestError=ss.PostgrestBuilder=ss.PostgrestTransformBuilder=ss.PostgrestFilterBuilder=ss.PostgrestQueryBuilder=ss.PostgrestClient=void 0;const RS=ud(gy);ss.PostgrestClient=RS.default;const BS=ud(Q1);ss.PostgrestQueryBuilder=BS.default;const FS=ud(Qh);ss.PostgrestFilterBuilder=FS.default;const US=ud(J1);ss.PostgrestTransformBuilder=US.default;const VS=ud(ep);ss.PostgrestBuilder=VS.default;const zS=ud(tp);ss.PostgrestError=zS.default;var KO=ss.default={PostgrestClient:RS.default,PostgrestQueryBuilder:BS.default,PostgrestFilterBuilder:FS.default,PostgrestTransformBuilder:US.default,PostgrestBuilder:VS.default,PostgrestError:zS.default};const{PostgrestClient:ZO,PostgrestQueryBuilder:nU,PostgrestFilterBuilder:rU,PostgrestTransformBuilder:iU,PostgrestBuilder:sU,PostgrestError:aU}=KO;class QO{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const JO="2.15.1",eD=`realtime-js/${JO}`,tD="1.0.0",h2=1e4,nD=1e3,rD=100;var ah;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ah||(ah={}));var Yr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Yr||(Yr={}));var pa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pa||(pa={}));var f2;(function(e){e.websocket="websocket"})(f2||(f2={}));var mc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(mc||(mc={}));class iD{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(t.slice(o,o+i));o=o+i;const h=r.decode(t.slice(o,o+s));o=o+s;const p=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:u,event:h,payload:p}}}class HS{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Vn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Vn||(Vn={}));const $5=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=sD(o,e,t,i),s),{})},sD=(e,t,n,r)=>{const i=t.find(u=>u.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?qS(s,o):p2(o)},qS=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return cD(t,n)}switch(e){case Vn.bool:return aD(t);case Vn.float4:case Vn.float8:case Vn.int2:case Vn.int4:case Vn.int8:case Vn.numeric:case Vn.oid:return oD(t);case Vn.json:case Vn.jsonb:return lD(t);case Vn.timestamp:return uD(t);case Vn.abstime:case Vn.date:case Vn.daterange:case Vn.int4range:case Vn.int8range:case Vn.money:case Vn.reltime:case Vn.text:case Vn.time:case Vn.timestamptz:case Vn.timetz:case Vn.tsrange:case Vn.tstzrange:return p2(t);default:return p2(t)}},p2=e=>e,aD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},oD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},cD=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(u=>qS(t,u))}return e},uD=e=>typeof e=="string"?e.replace(" ","T"):e,WS=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Nm{constructor(t,n,r={},i=h2){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var G5;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(G5||(G5={}));class oh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=oh.syncState(this.state,i,s,o),this.pendingDiffs.forEach(h=>{this.state=oh.syncDiff(this.state,h,s,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=oh.syncDiff(this.state,i,s,o),u())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),u={},h={};return this.map(s,(p,x)=>{o[p]||(h[p]=x)}),this.map(o,(p,x)=>{const y=s[p];if(y){const N=x.map(P=>P.presence_ref),b=y.map(P=>P.presence_ref),j=x.filter(P=>b.indexOf(P.presence_ref)<0),T=y.filter(P=>N.indexOf(P.presence_ref)<0);j.length>0&&(u[p]=j),T.length>0&&(h[p]=T)}else u[p]=x}),this.syncDiff(s,{joins:u,leaves:h},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(u,h)=>{var p;const x=(p=t[u])!==null&&p!==void 0?p:[];if(t[u]=this.cloneDeep(h),x.length>0){const y=t[u].map(b=>b.presence_ref),N=x.filter(b=>y.indexOf(b.presence_ref)<0);t[u].unshift(...N)}r(u,x,h)}),this.map(o,(u,h)=>{let p=t[u];if(!p)return;const x=h.map(y=>y.presence_ref);p=p.filter(y=>x.indexOf(y.presence_ref)<0),t[u]=p,i(u,p,h),p.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Y5;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Y5||(Y5={}));var lh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(lh||(lh={}));var uo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(uo||(uo={}));class xy{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Yr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Nm(this,pa.join,this.params,this.timeout),this.rejoinTimer=new HS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pa.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new oh(this),this.broadcastEndpointURL=WS(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Yr.closed){const{config:{broadcast:s,presence:o,private:u}}=this.params,h=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(N=>N.filter))!==null&&i!==void 0?i:[],p=!!this.bindings[lh.PRESENCE]&&this.bindings[lh.PRESENCE].length>0,x={},y={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:p}),postgres_changes:h,private:u};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(N=>t==null?void 0:t(uo.CHANNEL_ERROR,N)),this._onClose(()=>t==null?void 0:t(uo.CLOSED)),this.updateJoinPayload(Object.assign({config:y},x)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:N})=>{var b;if(this.socket.setAuth(),N===void 0){t==null||t(uo.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,T=(b=j==null?void 0:j.length)!==null&&b!==void 0?b:0,P=[];for(let E=0;E<T;E++){const C=j[E],{filter:{event:k,schema:M,table:B,filter:ne}}=C,F=N&&N[E];if(F&&F.event===k&&F.schema===M&&F.table===B&&F.filter===ne)P.push(Object.assign(Object.assign({},C),{id:F.id}));else{this.unsubscribe(),this.state=Yr.errored,t==null||t(uo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,t&&t(uo.SUBSCRIBED);return}}).receive("error",N=>{this.state=Yr.errored,t==null||t(uo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(N).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(uo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Yr.joined&&t===lh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=p.body)===null||i===void 0?void 0:i.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,u,h;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&s("ok"),p.receive("ok",()=>s("ok")),p.receive("error",()=>s("error")),p.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Yr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pa.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Nm(this,pa.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yr.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Nm(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rD){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:u,error:h,leave:p,join:x}=pa;if(r&&[u,h,p,x].indexOf(o)>=0&&r!==this._joinRef())return;let N=this._onMessage(o,n,r);if(n&&!N)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var j,T,P;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((P=(T=b.filter)===null||T===void 0?void 0:T.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===o}).map(b=>b.callback(N,r)):(s=this.bindings[o])===null||s===void 0||s.filter(b=>{var j,T,P,E,C,k;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const M=b.id,B=(j=b.filter)===null||j===void 0?void 0:j.event;return M&&((T=n.ids)===null||T===void 0?void 0:T.includes(M))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((P=n.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const M=(C=(E=b==null?void 0:b.filter)===null||E===void 0?void 0:E.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return M==="*"||M===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof N=="object"&&"ids"in N){const j=N.data,{schema:T,table:P,commit_timestamp:E,type:C,errors:k}=j;N=Object.assign(Object.assign({},{schema:T,table:P,commit_timestamp:E,eventType:C,new:{},old:{},errors:k}),this._getPayloadRecords(j))}b.callback(N,r)})}_isClosed(){return this.state===Yr.closed}_isJoined(){return this.state===Yr.joined}_isJoining(){return this.state===Yr.joining}_isLeaving(){return this.state===Yr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&xy.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pa.close,{},t)}_onError(t){this._on(pa.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=$5(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=$5(t.columns,t.old_record)),n}}const X5=()=>{},Gf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dD=[1e3,2e3,5e3,1e4],hD=1e4,fD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pD{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=h2,this.transport=null,this.heartbeatIntervalMs=Gf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=X5,this.ref=0,this.reconnectTimer=null,this.logger=X5,this.conn=null,this.sendBuffer=[],this.serializer=new iD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>El(async()=>{const{default:u}=await Promise.resolve().then(()=>cd);return{default:u}},void 0).then(({default:u})=>u(...o)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${f2.websocket}`,this.httpEndpoint=WS(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=QO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tD}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ah.connecting:return mc.Connecting;case ah.open:return mc.Open;case ah.closing:return mc.Closing;default:return mc.Closed}}isConnected(){return this.connectionState()===mc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new xy(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(nD,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Gf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,u=o?`(${o})`:"",h=s.status||"";this.log("receive",`${h} ${r} ${i} ${u}`.trim(),s),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(pa.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([fD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:eD};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(pa.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new HS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,u,h,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:h2,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Gf.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:x=>dD[x-1]||hD,this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(x,y)=>y(JSON.stringify(x)),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class yy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Xr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class mD extends yy{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class m2 extends yy{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var gD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};const $S=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>El(async()=>{const{default:r}=await Promise.resolve().then(()=>cd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},xD=()=>gD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield El(()=>Promise.resolve().then(()=>cd),void 0)).Response:Response}),g2=e=>{if(Array.isArray(e))return e.map(n=>g2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=g2(r)}),t},yD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Uc=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};const Am=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),vD=(e,t,n)=>Uc(void 0,void 0,void 0,function*(){const r=yield xD();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new mD(Am(i),s,o))}).catch(i=>{t(new m2(Am(i),i))}):t(new m2(Am(e),e))}),wD=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(yD(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Jh(e,t,n,r,i,s){return Uc(this,void 0,void 0,function*(){return new Promise((o,u)=>{e(n,wD(t,r,i,s)).then(h=>{if(!h.ok)throw h;return r!=null&&r.noResolveJson?h:h.json()}).then(h=>o(h)).catch(h=>vD(h,u,r))})})}function h1(e,t,n,r){return Uc(this,void 0,void 0,function*(){return Jh(e,"GET",t,n,r)})}function Da(e,t,n,r,i){return Uc(this,void 0,void 0,function*(){return Jh(e,"POST",t,r,i,n)})}function x2(e,t,n,r,i){return Uc(this,void 0,void 0,function*(){return Jh(e,"PUT",t,r,i,n)})}function bD(e,t,n,r){return Uc(this,void 0,void 0,function*(){return Jh(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function GS(e,t,n,r,i){return Uc(this,void 0,void 0,function*(){return Jh(e,"DELETE",t,r,i,n)})}var qi=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};const ND={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},K5={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AD{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=$S(i)}uploadOrUpdate(t,n,r,i){return qi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},K5),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const h=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),h&&s.append("metadata",this.encodeMetadata(h)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),h&&s.append("metadata",this.encodeMetadata(h))):(s=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,h&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const p=this._removeEmptyFolders(n),x=this._getFinalPath(p),y=yield(t=="PUT"?x2:Da)(this.fetch,`${this.url}/object/${x}`,s,Object.assign({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(s){if(Xr(s))return{data:null,error:s};throw s}})}upload(t,n,r){return qi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return qi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",n);try{let h;const p=Object.assign({upsert:K5.upsert},i),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",p.cacheControl)):(h=r,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType);const y=yield x2(this.fetch,u.toString(),h,{headers:x});return{data:{path:s,fullPath:y.Key},error:null}}catch(h){if(Xr(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,n){return qi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Da(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),u=o.searchParams.get("token");if(!u)throw new yy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}update(t,n,r){return qi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return qi(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return qi(this,void 0,void 0,function*(){try{return{data:{path:(yield Da(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return qi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Da(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return qi(this,void 0,void 0,function*(){try{const i=yield Da(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}download(t,n){return qi(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield h1(this.fetch,`${this.url}/${i}/${u}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Xr(u))return{data:null,error:u};throw u}})}info(t){return qi(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield h1(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:g2(r),error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}exists(t){return qi(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield bD(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Xr(r)&&r instanceof m2){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&i.push(h);let p=i.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${p}`)}}}remove(t){return qi(this,void 0,void 0,function*(){try{return{data:yield GS(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Xr(n))return{data:null,error:n};throw n}})}list(t,n,r){return qi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},ND),n),{prefix:t||""});return{data:yield Da(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}listV2(t,n){return qi(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Da(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const SD="2.11.0",CD={"X-Client-Info":`storage-js/${SD}`};var Jc=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};class ED{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},CD),n),this.fetch=$S(r)}listBuckets(){return Jc(this,void 0,void 0,function*(){try{return{data:yield h1(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Xr(t))return{data:null,error:t};throw t}})}getBucket(t){return Jc(this,void 0,void 0,function*(){try{return{data:yield h1(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Xr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Jc(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Jc(this,void 0,void 0,function*(){try{return{data:yield x2(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Jc(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Xr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Jc(this,void 0,void 0,function*(){try{return{data:yield GS(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Xr(n))return{data:null,error:n};throw n}})}}class _D extends ED{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new AD(this.url,this.headers,t,this.fetch)}}const TD="2.55.0";let Wd="";typeof Deno<"u"?Wd="deno":typeof document<"u"?Wd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wd="react-native":Wd="node";const ID={"X-Client-Info":`supabase-js-${Wd}/${TD}`},kD={headers:ID},jD={schema:"public"},LD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},PD={};var OD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};const DD=e=>{let t;return e?t=e:typeof fetch>"u"?t=LS:t=fetch,(...n)=>t(...n)},MD=()=>typeof Headers>"u"?PS:Headers,RD=(e,t,n)=>{const r=DD(n),i=MD();return(s,o)=>OD(void 0,void 0,void 0,function*(){var u;const h=(u=yield t())!==null&&u!==void 0?u:e;let p=new i(o==null?void 0:o.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),r(s,Object.assign(Object.assign({},o),{headers:p}))})};var BD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};function FD(e){return e.endsWith("/")?e:e+"/"}function UD(e,t){var n,r;const{db:i,auth:s,realtime:o,global:u}=e,{db:h,auth:p,realtime:x,global:y}=t,N={db:Object.assign(Object.assign({},h),i),auth:Object.assign(Object.assign({},p),s),realtime:Object.assign(Object.assign({},x),o),storage:{},global:Object.assign(Object.assign(Object.assign({},y),u),{headers:Object.assign(Object.assign({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>BD(this,void 0,void 0,function*(){return""})};return e.accessToken?N.accessToken=e.accessToken:delete N.accessToken,N}const YS="2.71.1",ou=30*1e3,y2=3,Sm=y2*ou,VD="http://localhost:9999",zD="supabase.auth.token",HD={"X-Client-Info":`gotrue-js/${YS}`},v2="X-Supabase-Api-Version",XS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WD=10*60*1e3;class vy extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function en(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class $D extends vy{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function GD(e){return en(e)&&e.name==="AuthApiError"}class KS extends vy{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Fl extends vy{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Zo extends Fl{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function YD(e){return en(e)&&e.name==="AuthSessionMissingError"}class Yf extends Fl{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xf extends Fl{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Kf extends Fl{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function XD(e){return en(e)&&e.name==="AuthImplicitGrantRedirectError"}class Z5 extends Fl{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class w2 extends Fl{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Cm(e){return en(e)&&e.name==="AuthRetryableFetchError"}class Q5 extends Fl{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class b2 extends Fl{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const f1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),J5=` 	
\r=`.split(""),KD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<J5.length;t+=1)e[J5[t].charCodeAt(0)]=-2;for(let t=0;t<f1.length;t+=1)e[f1[t].charCodeAt(0)]=t;return e})();function eb(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(f1[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(f1[r]),t.queuedBits-=6}}function ZS(e,t,n){const r=KD[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function tb(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{JD(o,r,n)};for(let o=0;o<e.length;o+=1)ZS(e.charCodeAt(o),i,s);return t.join("")}function ZD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function QD(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}ZD(r,t)}}function JD(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function e9(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)ZS(e.charCodeAt(i),n,r);return new Uint8Array(t)}function t9(e){const t=[];return QD(e,n=>t.push(n)),new Uint8Array(t)}function n9(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>eb(i,n,r)),eb(null,n,r),t.join("")}function r9(e){return Math.round(Date.now()/1e3)+e}function i9(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ua=()=>typeof window<"u"&&typeof document<"u",ac={tested:!1,writable:!1},QS=()=>{if(!ua())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ac.tested)return ac.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ac.tested=!0,ac.writable=!0}catch{ac.tested=!0,ac.writable=!1}return ac.writable};function s9(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const JS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>El(async()=>{const{default:r}=await Promise.resolve().then(()=>cd);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},a9=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",lu=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},oc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},$o=async(e,t)=>{await e.removeItem(t)};class ip{constructor(){this.promise=new ip.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ip.promiseConstructor=Promise;function Em(e){const t=e.split(".");if(t.length!==3)throw new b2("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!qD.test(t[r]))throw new b2("JWT not in base64url format");return{header:JSON.parse(tb(t[0])),payload:JSON.parse(tb(t[1])),signature:e9(t[2]),raw:{header:t[0],payload:t[1]}}}async function o9(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function l9(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function c9(e){return("0"+e.toString(16)).substr(-2)}function u9(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,c9).join("")}async function d9(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function h9(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await d9(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function eu(e,t,n=!1){const r=u9();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await lu(e,`${t}-code-verifier`,i);const s=await h9(r);return[s,r===s?"plain":"s256"]}const f9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function p9(e){const t=e.headers.get(v2);if(!t||!t.match(f9))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function m9(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function g9(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const x9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tu(e){if(!x9.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function _m(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function nb(e){return JSON.parse(JSON.stringify(e))}var y9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const fc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),v9=[502,503,504];async function rb(e){var t;if(!a9(e))throw new w2(fc(e),0);if(v9.includes(e.status))throw new w2(fc(e),e.status);let n;try{n=await e.json()}catch(s){throw new KS(fc(s),s)}let r;const i=p9(e);if(i&&i.getTime()>=XS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Q5(fc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Zo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new Q5(fc(n),e.status,n.weak_password.reasons);throw new $D(fc(n),e.status||500,r)}const w9=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function on(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[v2]||(s[v2]=XS["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",h=await b9(e,t,n+u,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(h):{data:Object.assign({},h),error:null}}async function b9(e,t,n,r,i,s){const o=w9(t,r,i,s);let u;try{u=await e(n,Object.assign({},o))}catch(h){throw console.error(h),new w2(fc(h),0)}if(u.ok||await rb(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(h){await rb(h)}}function lo(e){var t;let n=null;C9(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=r9(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ib(e){const t=lo(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function il(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function N9(e){return{data:e,error:null}}function A9(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=y9(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},h=Object.assign({},o);return{data:{properties:u,user:h},error:null}}function S9(e){return e}function C9(e){return e.access_token&&e.refresh_token&&e.expires_in}const Tm=["global","local","others"];var E9=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class _9{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=JS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Tm[0]){if(Tm.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tm.join(", ")}`);try{return await on(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(en(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await on(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:il})}catch(r){if(en(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=E9(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await on(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:A9,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(en(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await on(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:il})}catch(n){if(en(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,u,h;try{const p={nextPage:null,lastPage:0,total:0},x=await on(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:S9});if(x.error)throw x.error;const y=await x.json(),N=(o=x.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(h=(u=x.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(j=>{const T=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(j.split(";")[1].split("=")[1]);p[`${P}Page`]=T}),p.total=parseInt(N)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(en(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){tu(t);try{return await on(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:il})}catch(n){if(en(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){tu(t);try{return await on(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:il})}catch(r){if(en(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){tu(t);try{return await on(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:il})}catch(r){if(en(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){tu(t.userId);try{const{data:n,error:r}=await on(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(en(n))return{data:null,error:n};throw n}}async _deleteFactor(t){tu(t.userId),tu(t.id);try{return{data:await on(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(en(n))return{data:null,error:n};throw n}}}function sb(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function T9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const nu={debug:!!(globalThis&&QS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class e6 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class I9 extends e6{}async function k9(e,t,n){nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),nu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw nu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new I9(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(nu.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}T9();const j9={url:VD,storageKey:zD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function ab(e,t,n){return await n()}const ru={};class Fh{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fh.nextInstanceID,Fh.nextInstanceID+=1,this.instanceID>0&&ua()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},j9),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new _9({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=JS(i.fetch),this.lock=i.lock||ab,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ua()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=k9:this.lock=ab,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:QS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sb(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=sb(this.memoryStorage)),ua()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=ru[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){ru[this.storageKey]=Object.assign(Object.assign({},ru[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=ru[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ru[this.storageKey]=Object.assign(Object.assign({},ru[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${YS}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=s9(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),ua()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),XD(s)){const h=(t=s.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return en(n)?{error:n}:{error:new KS("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await on(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:lo}),{data:o,error:u}=s;if(u||!o)return{data:{user:null,session:null},error:u};const h=o.session,p=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(s){if(en(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:x,password:y,options:N}=t;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await eu(this.storage,this.storageKey)),s=await on(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:N==null?void 0:N.emailRedirectTo,body:{email:x,password:y,data:(n=N==null?void 0:N.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken},code_challenge:b,code_challenge_method:j},xform:lo})}else if("phone"in t){const{phone:x,password:y,options:N}=t;s=await on(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(r=N==null?void 0:N.data)!==null&&r!==void 0?r:{},channel:(i=N==null?void 0:N.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:N==null?void 0:N.captchaToken}},xform:lo})}else throw new Xf("You must provide either an email or phone number and a password");const{data:o,error:u}=s;if(u||!o)return{data:{user:null,session:null},error:u};const h=o.session,p=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(s){if(en(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:u}=t;n=await on(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:ib})}else if("phone"in t){const{phone:s,password:o,options:u}=t;n=await on(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:ib})}else throw new Xf("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Yf}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(en(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,u,h,p,x,y,N,b;let j,T;if("message"in t)j=t.message,T=t.signature;else{const{chain:P,wallet:E,statement:C,options:k}=t;let M;if(ua())if(typeof E=="object")M=E;else{const ne=window;if("solana"in ne&&typeof ne.solana=="object"&&("signIn"in ne.solana&&typeof ne.solana.signIn=="function"||"signMessage"in ne.solana&&typeof ne.solana.signMessage=="function"))M=ne.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=E}const B=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in M&&M.signIn){const ne=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),C?{statement:C}:null));let F;if(Array.isArray(ne)&&ne[0]&&typeof ne[0]=="object")F=ne[0];else if(ne&&typeof ne=="object"&&"signedMessage"in ne&&"signature"in ne)F=ne;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)j=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),T=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${B.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(i=(r=k==null?void 0:k.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=k==null?void 0:k.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((p=k==null?void 0:k.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((y=(x=k==null?void 0:k.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...k.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const ne=await M.signMessage(new TextEncoder().encode(j),"utf8");if(!ne||!(ne instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=ne}}try{const{data:P,error:E}=await on(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:n9(T)},!((N=t.options)===null||N===void 0)&&N.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:lo});if(E)throw E;return!P||!P.session||!P.user?{data:{user:null,session:null},error:new Yf}:(P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),{data:Object.assign({},P),error:E})}catch(P){if(en(P))return{data:{user:null,session:null},error:P};throw P}}async _exchangeCodeForSession(t){const n=await oc(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await on(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:lo});if(await $o(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Yf}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(en(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,u=await on(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:lo}),{data:h,error:p}=u;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Yf}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(n){if(en(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:u,options:h}=t;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await eu(this.storage,this.storageKey));const{error:y}=await on(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(r=h==null?void 0:h.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:x},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in t){const{phone:u,options:h}=t,{data:p,error:x}=await on(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=h==null?void 0:h.data)!==null&&i!==void 0?i:{},create_user:(s=h==null?void 0:h.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(o=h==null?void 0:h.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:x}}throw new Xf("You must provide either an email or phone number.")}catch(u){if(en(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await on(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:lo});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const h=o.session,p=o.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(i){if(en(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await eu(this.storage,this.storageKey)),await on(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:N9})}catch(s){if(en(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Zo;const{error:i}=await on(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(en(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await on(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:u}=await on(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new Xf("You must provide either an email or phone number and a type")}catch(n){if(en(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await oc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Sm:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await oc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=_m()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,p,x)=>(!o&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,p,x))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await on(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:il}):await this._useSession(async n=>{var r,i,s;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zo}:await on(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:il})})}catch(n){if(en(n))return YD(n)&&(await this._removeSession(),await $o(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Zo;const o=i.session;let u=null,h=null;this.flowType==="pkce"&&t.email!=null&&([u,h]=await eu(this.storage,this.storageKey));const{data:p,error:x}=await on(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:h}),jwt:o.access_token,xform:il});if(x)throw x;return o.user=p.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(en(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Zo;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=Em(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:u,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:h}=await this._getUser(t.access_token);if(h)throw h;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(en(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:u}=n;if(u)throw u;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Zo;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(en(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!ua())throw new Kf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Kf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Z5("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Kf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Z5("No code detected.");const{data:C,error:k}=await this._exchangeCodeForSession(t.code);if(k)throw k;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:u,expires_at:h,token_type:p}=t;if(!s||!u||!o||!p)throw new Kf("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(u);let N=x+y;h&&(N=parseInt(h));const b=N-x;b*1e3<=ou&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${y}s`);const j=N-y;x-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,N,x):x-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,N,x);const{data:T,error:P}=await this._getUser(s);if(P)throw P;const E={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:y,expires_at:N,refresh_token:o,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(en(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await oc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(GD(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await $o(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=i9(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await eu(this.storage,this.storageKey,!0));try{return await on(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(en(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(en(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,u,h,p,x;const{data:y,error:N}=s;if(N)throw N;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await on(this.fetch,"GET",b,{headers:this.headers,jwt:(x=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&x!==void 0?x:void 0})});if(i)throw i;return ua()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(en(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await on(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(en(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await l9(async i=>(i>0&&await o9(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await on(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:lo})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Cm(s)&&Date.now()+o-r<ou})}catch(r){if(this._debug(n,"error",r),en(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),ua()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await oc(this.storage,this.storageKey);if(i&&this.userStorage){let o=await oc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await lu(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:_m()}else if(i&&!i.user&&!i.user){const o=await oc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await $o(this.storage,this.storageKey+"-user"),await lu(this.storage,this.storageKey,i)):i.user=_m()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Sm;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${Sm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Cm(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Zo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new ip;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Zo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={session:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),en(s)){const o={session:null,error:s};return Cm(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(h){s.push(h)}});if(await Promise.all(o),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await lu(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=nb(i);await lu(this.storage,this.storageKey,s)}else{const i=nb(n);await lu(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await $o(this.storage,this.storageKey),await $o(this.storage,this.storageKey+"-code-verifier"),await $o(this.storage,this.storageKey+"-user"),this.userStorage&&await $o(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ua()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ou);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/ou);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ou}ms, refresh threshold is ${y2} ticks`),i<=y2&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof e6)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ua()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await eu(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await on(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(en(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:p}=await on(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&(!((i=h==null?void 0:h.totp)===null||i===void 0)&&i.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(en(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:u}=await on(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:u})})}catch(n){if(en(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await on(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(en(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Em(i.access_token);let u=null;o.aal&&(u=o.aal);let h=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const x=o.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+WD>i)return r;const{data:s,error:o}=await on(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:j}=await this.getSession();if(j||!b.session)return{data:null,error:j};r=b.session.access_token}const{header:i,payload:s,signature:o,raw:{header:u,payload:h}}=Em(r);n!=null&&n.allowExpired||m9(s.exp);const p=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:s,header:i,signature:o},error:null}}const x=g9(i.alg),y=await crypto.subtle.importKey("jwk",p,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,o,t9(`${u}.${h}`)))throw new b2("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(en(r))return{data:null,error:r};throw r}}}Fh.nextInstanceID=0;const L9=Fh;class P9 extends L9{constructor(t){super(t)}}var O9=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})};class D9{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=FD(t),h=new URL(u);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,x={db:jD,realtime:PD,auth:Object.assign(Object.assign({},LD),{storageKey:p}),global:kD},y=UD(r??{},x);this.storageKey=(i=y.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=y.global.headers)!==null&&s!==void 0?s:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(N,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=y.auth)!==null&&o!==void 0?o:{},this.headers,y.global.fetch),this.fetch=RD(n,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new ZO(new URL("rest/v1",h).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new _D(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new _O(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return O9(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:u,debug:h},p,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new P9({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:u,debug:h,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new pD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const M9=(e,t,n)=>new D9(e,t,n);function R9(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}R9()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const B9="https://smbmvdzheqkblixjfdpn.supabase.co",F9="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtYm12ZHpoZXFrYmxpeGpmZHBuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUyNzgyODAsImV4cCI6MjA3MDg1NDI4MH0.twkaCp07rbguIiLnT8fsWDwmA8eACF1BMvcv6Wo0_DQ",Gt=M9(B9,F9),ob={email:"admin@carnival.com",password:"admin123"},_o=mO()(bO((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,events:[],orders:[],login:async(n,r)=>{e({isLoading:!0});try{return n===ob.email&&r===ob.password?(e({user:{id:"1",email:n,name:"Admin User",role:"admin",createdAt:new Date},isAuthenticated:!0,isLoading:!1}),!0):(e({isLoading:!1}),!1)}catch(i){return console.error("Login error:",i),e({isLoading:!1}),!1}},logout:()=>{e({user:null,isAuthenticated:!1})},getEvents:async()=>{e({isLoading:!0});try{const{data:n,error:r}=await Gt.from("events").select("*").order("created_at",{ascending:!1});if(r)throw r;const{data:i,error:s}=await Gt.from("ticket_tiers").select("*");s&&console.error("Error fetching ticket tiers:",s);const o=(n||[]).map(u=>{const h=(i||[]).filter(p=>p.event_id===u.id);return{...u,isArchived:u.is_archived??!1,ticketTiers:h.map(p=>({id:p.id,eventId:p.event_id,name:p.name,price:p.price,originalPrice:p.original_price,capacity:p.capacity,soldCount:p.sold_count,availableFrom:p.available_from,availableUntil:p.available_until,description:p.description,benefits:p.benefits,isActive:p.is_active})).sort((p,x)=>p.price-x.price)}});console.log("Events with tiers:",o),e({events:o,isLoading:!1})}catch(n){console.error("Error fetching events:",n),Oi.error("Failed to load events"),e({isLoading:!1})}},addEvent:async n=>{try{const r={title:n.title,date:n.date,time:n.time,venue:n.venue,price:n.price,description:n.description,capacity:n.capacity,image:n.image,tags:n.tags.split(",").map(o=>o.trim()).filter(o=>o),gradient:n.gradient,is_archived:!1};console.log("Adding new event:",r);const{data:i,error:s}=await Gt.from("events").insert([r]).select().single();if(s)throw console.error("Supabase insert error:",s),s;if(console.log("Event added successfully, now adding ticket tiers"),n.ticketTiers&&n.ticketTiers.length>0){const o=n.ticketTiers.map(p=>({id:p.id,event_id:i.id,name:p.name,price:p.price,original_price:p.originalPrice||null,capacity:p.capacity,sold_count:p.soldCount||0,available_from:p.availableFrom?new Date(p.availableFrom).toISOString():null,available_until:p.availableUntil?new Date(p.availableUntil).toISOString():null,description:p.description||null,benefits:p.benefits||[],is_active:p.isActive!==!1}));console.log("Inserting ticket tiers:",o),console.log("About to insert ticket tiers into database:",o);const{data:u,error:h}=await Gt.from("ticket_tiers").insert(o).select();h?(console.error("Error inserting ticket tiers:",h),console.error("Error details:",h.details,h.hint,h.message)):console.log("Ticket tiers added successfully:",u)}await t().getEvents()}catch(r){console.error("Error adding event:",r),Oi.error("Failed to add event")}},updateEvent:async(n,r)=>{try{const i={title:r.title,date:r.date,time:r.time,venue:r.venue,price:r.price,description:r.description,capacity:r.capacity,image:r.image,tags:r.tags.split(",").map(o=>o.trim()).filter(o=>o),gradient:r.gradient};console.log("Updating event with data:",i);const{error:s}=await Gt.from("events").update(i).eq("id",n);if(s)throw console.error("Supabase update error:",s),s;if(r.ticketTiers){const{error:o}=await Gt.from("ticket_tiers").delete().eq("event_id",n);if(o&&console.error("Error deleting existing ticket tiers:",o),r.ticketTiers.length>0){const u=r.ticketTiers.map(p=>({id:p.id,event_id:n,name:p.name,price:p.price,original_price:p.originalPrice,capacity:p.capacity,sold_count:p.soldCount,available_from:p.availableFrom,available_until:p.availableUntil,description:p.description,benefits:p.benefits,is_active:p.isActive}));console.log("Updating ticket tiers:",u);const{error:h}=await Gt.from("ticket_tiers").insert(u);h?console.error("Error updating ticket tiers:",h):console.log("Ticket tiers updated successfully")}}console.log("Event updated successfully"),await t().getEvents()}catch(i){console.error("Error updating event:",i),Oi.error("Failed to update event")}},deleteEvent:async n=>{try{const{data:r,error:i}=await Gt.from("events").select("is_archived").eq("id",n).single();i&&console.error("Error fetching event before delete:",i);const s=(r==null?void 0:r.is_archived)===!0;if(!s){Oi.error("Cannot delete: Only archived events can be deleted. Please archive the event first.");const x=new Error("Cannot delete non-archived events");throw x.code="EVENT_NOT_ARCHIVED",x}const{data:o,error:u}=await Gt.from("orders").select("id").eq("event_id",n);if(u&&console.error("Error checking event orders before delete:",u),(o||[]).length>0&&console.log(`📊 Event has ${(o||[]).length} orders - proceeding with deletion of all related data`),s){console.log(`🗑️ Deleting archived event ${n} and all related data...`);const{error:x}=await Gt.from("ticket_scans").delete().eq("event_id",n);x?console.error("Error deleting ticket_scans for event:",x):console.log("✅ Deleted ticket_scans for event");const{error:y}=await Gt.from("guestlist_scans").delete().eq("event_id",n);y?console.error("Error deleting guestlist_scans for event:",y):console.log("✅ Deleted guestlist_scans for event");const{data:N,error:b}=await Gt.from("orders").select("id").eq("event_id",n);b&&console.error("Error fetching orders to delete:",b);const j=(N||[]).map(P=>P.id);if(j.length>0){console.log(`🗑️ Deleting ${j.length} orders and related data...`);const{error:P}=await Gt.from("order_tickets").delete().in("order_id",j);P?console.error("Error deleting order_tickets for event:",P):console.log("✅ Deleted order_tickets for event");const{error:E}=await Gt.from("orders").delete().eq("event_id",n);E?console.error("Error deleting orders for event:",E):console.log("✅ Deleted orders for event")}const{error:T}=await Gt.from("guestlists").delete().eq("event_id",n);T?console.error("Error deleting guestlists for event:",T):console.log("✅ Deleted guestlists for event")}const{error:h}=await Gt.from("ticket_tiers").delete().eq("event_id",n);h&&console.error("Error deleting ticket tiers:",h);const{error:p}=await Gt.from("events").delete().eq("id",n);if(p)throw p;await t().getEvents(),Oi.success("Event deleted successfully")}catch(r){console.error("Error deleting event:",r),(r==null?void 0:r.code)==="EVENT_HAS_ORDERS"?Oi.error("Cannot delete: this event has existing orders. Consider archiving it or enabling cascade deletes in Supabase."):(r==null?void 0:r.code)==="EVENT_NOT_ARCHIVED"||((r==null?void 0:r.code)==="23503"?Oi.error("Cannot delete event: There are still references to this event in the system. Please contact support if this persists."):Oi.error("Failed to delete event"))}},archiveEvent:async(n,r)=>{try{const{error:i}=await Gt.from("events").update({is_archived:r}).eq("id",n);if(i)throw i;await t().getEvents()}catch(i){console.error("Error archiving event:",i),Oi.error("Failed to update archive status. Ensure `is_archived boolean default false` exists on events table.")}},subscribeToEvents:()=>Gt.channel("events").on("postgres_changes",{event:"*",schema:"public",table:"events"},r=>{console.log("Database change detected:",r),t().getEvents()}).subscribe(r=>{console.log("Subscription status:",r)}),getOrders:async()=>{try{console.log("🔄 Fetching orders with tickets and scans...");const{data:n,error:r}=await Gt.from("orders").select("*").order("created_at",{ascending:!1});if(r)throw r;const i=await Promise.all((n||[]).map(async s=>{const{data:o,error:u}=await Gt.from("order_tickets").select("*").eq("order_id",s.id);u&&console.error("Error fetching tickets for order:",s.id,u);const h=(o||[]).map(b=>({id:b.id,orderId:b.order_id,ticketTierId:b.ticket_tier_id,quantity:b.quantity,unitPrice:b.unit_price,totalPrice:b.total_price})),{data:p,error:x}=await Gt.from("ticket_scans").select("*").eq("order_id",s.id).order("scanned_at",{ascending:!1});x&&console.error("Error fetching scans for order:",s.id,x);const y=(p||[]).map(b=>({id:b.id,orderId:b.order_id,ticketTierId:b.ticket_tier_id,customerEmail:b.customer_email,eventId:b.event_id,scanType:b.scan_type,scannedAt:b.scanned_at,scannedBy:b.scanned_by,location:b.location,notes:b.notes}));return{id:s.id,eventId:s.event_id,userId:s.user_id,stripePaymentIntentId:s.stripe_payment_intent_id,status:s.status,totalAmount:s.total_amount,currency:s.currency,tickets:h,customerEmail:s.customer_email,customerName:s.customer_name,customerPhone:s.customer_phone,customerDateOfBirth:s.customer_date_of_birth,customerGender:s.customer_gender,createdAt:s.created_at,updatedAt:s.updated_at,scans:y}}));console.log("📦 Orders with tickets and scans (mapped):",i),e({orders:i})}catch(n){console.error("Error fetching orders:",n),e({orders:[]})}},validateTicket:async(n,r,i,s="entry")=>{try{if(console.log("🔍 Validating ticket:",{orderId:n,ticketTierId:r,customerEmail:i}),s==="entry"){const{data:b,error:j}=await Gt.from("ticket_scans").select("*").eq("order_id",n).eq("ticket_tier_id",r).eq("scan_type","entry");if(j&&console.error("Error checking existing entry scans:",j),b&&b.length>0)return console.log("❌ Ticket already scanned for entry"),{isValid:!1,message:"Ticket already scanned for entry",orderStatus:"completed",eventDate:"unknown",customerName:"unknown",customerEmail:i,eventId:b[0].event_id}}else if(s==="exit"){const{data:b,error:j}=await Gt.from("ticket_scans").select("*").eq("order_id",n).eq("ticket_tier_id",r).eq("scan_type","entry");if(j&&console.error("Error checking existing entry scans for exit:",j),!b||b.length===0)return console.log("❌ Cannot exit without entry scan"),{isValid:!1,message:"Cannot exit without entry scan",orderStatus:"completed",eventDate:"unknown",customerName:"unknown",customerEmail:i};const{data:T,error:P}=await Gt.from("ticket_scans").select("*").eq("order_id",n).eq("ticket_tier_id",r).eq("scan_type","exit");if(P&&console.error("Error checking existing exit scans:",P),T&&T.length>0)return console.log("❌ Ticket already scanned for exit"),{isValid:!1,message:"Ticket already scanned for exit",orderStatus:"completed",eventDate:"unknown",customerName:"unknown",customerEmail:i,eventId:b[0].event_id}}const{data:o,error:u}=await Gt.from("orders").select("*").eq("id",n).eq("customer_email",i).single();if(u||!o){console.log("❌ Order not found:",{orderError:u,orderId:n,customerEmail:i});const{data:b}=await Gt.from("orders").select("*").eq("id",n).single();return b?(console.log("🔍 Order found but email mismatch:",{orderEmail:b.customer_email,scannedEmail:i}),{isValid:!1,message:"Customer email does not match order",orderStatus:b.status||"unknown",eventDate:"unknown",customerName:b.customer_name||"unknown",customerEmail:i}):{isValid:!1,message:"Order not found",orderStatus:"unknown",eventDate:"unknown",customerName:"unknown",customerEmail:i}}if(console.log("✅ Order found:",o),o.status!=="completed")return console.log("❌ Payment not completed:",o.status),{isValid:!1,message:"Payment not completed",orderStatus:o.status,eventDate:"unknown",customerName:o.customer_name||"unknown",customerEmail:i};const{data:h,error:p}=await Gt.from("events").select("*").eq("id",o.event_id).single();if(p||!h)return console.log("❌ Event not found:",p),{isValid:!1,message:"Event not found",orderStatus:o.status,eventDate:"unknown",customerName:o.customer_name||"unknown",customerEmail:i};console.log("✅ Event found:",h);const x=h.date;if(x&&new Date(x)<new Date)return console.log("❌ Event has passed:",x),{isValid:!1,message:"Event has passed",orderStatus:o.status,eventDate:x,customerName:o.customer_name||"unknown",customerEmail:i};console.log("🔍 Looking for ticket tier:",{ticketTierId:r,orderEventId:o.event_id});const{data:y,error:N}=await Gt.from("ticket_tiers").select("*").eq("id",r).single();if(N||!y){console.log("❌ Ticket tier not found:",{ticketTierId:r,error:N});const{data:b,error:j}=await Gt.from("ticket_tiers").select("*").eq("event_id",o.event_id);return console.log("🔍 All ticket tiers for this event:",{eventId:o.event_id,tiers:b,error:j}),{isValid:!1,message:"Ticket tier not found",orderStatus:o.status,eventDate:x||"unknown",customerName:o.customer_name||"unknown",customerEmail:i}}return y.event_id!==o.event_id?(console.log("❌ Ticket tier does not belong to this event:",{tierEventId:y.event_id,orderEventId:o.event_id}),{isValid:!1,message:"Ticket tier does not belong to this event",orderStatus:o.status,eventDate:x||"unknown",customerName:o.customer_name||"unknown",customerEmail:i}):(console.log("✅ Ticket tier found:",y),y.is_active?(console.log("✅ Ticket validation successful"),{isValid:!0,message:`Ticket is valid for ${s}`,orderStatus:o.status,eventDate:x||"unknown",customerName:o.customer_name||"unknown",customerEmail:i,eventId:o.event_id,eventTitle:h.title,ticketTierName:y.name}):(console.log("❌ Ticket tier is inactive"),{isValid:!1,message:"Ticket tier is inactive",orderStatus:o.status,eventDate:x||"unknown",customerName:o.customer_name||"unknown",customerEmail:i}))}catch(o){return console.error("❌ Error validating ticket:",o),{isValid:!1,message:"Failed to validate ticket",orderStatus:"unknown",eventDate:"unknown",customerName:"unknown",customerEmail:i}}},recordTicketScan:async n=>{try{const{error:r}=await Gt.from("ticket_scans").insert({order_id:n.orderId,ticket_tier_id:n.ticketTierId,customer_email:n.customerEmail,event_id:n.eventId,scan_type:n.scanType,scanned_by:n.scannedBy,location:n.location,notes:n.notes,scanned_at:new Date().toISOString()});if(r)throw console.error("Error recording ticket scan:",r),r}catch(r){throw console.error("Error recording ticket scan:",r),r}},searchTickets:async n=>{try{console.log("🔍 Searching for tickets with term:",n);const{data:r,error:i}=await Gt.from("orders").select(`
              *,
              events!inner(title, date, venue),
              ticket_tiers!inner(name)
            `).or(`customer_name.ilike.%${n}%,customer_email.ilike.%${n}%,id.ilike.%${n}%`).order("created_at",{ascending:!1});if(i)throw i;const o=(await Promise.all((r||[]).map(async u=>{const{data:h,error:p}=await Gt.from("order_tickets").select("*").eq("order_id",u.id);p&&console.error("Error fetching tickets for order:",u.id,p);const{data:x,error:y}=await Gt.from("ticket_scans").select("*").eq("order_id",u.id).order("scanned_at",{ascending:!1});y&&console.error("Error fetching scans for order:",u.id,y);const N=(x||[]).map(C=>({id:C.id,orderId:C.order_id,ticketTierId:C.ticket_tier_id,customerEmail:C.customer_email,eventId:C.event_id,scanType:C.scan_type,scannedAt:C.scanned_at,scannedBy:C.scanned_by,location:C.location,notes:C.notes})),b=N.filter(C=>C.scanType==="entry"),j=N.filter(C=>C.scanType==="exit");let T="not_scanned";b.length>0&&j.length>0?T="scanned_both":b.length>0?T="scanned_in":j.length>0&&(T="scanned_out");const P=N.length>0?new Date(N[0].scannedAt):void 0;return(h||[]).map(C=>{var k,M,B;return{orderId:u.id,customerName:u.customer_name||"N/A",customerEmail:u.customer_email||"N/A",eventTitle:((k=u.events)==null?void 0:k.title)||"N/A",eventDate:((M=u.events)==null?void 0:M.date)||"N/A",eventVenue:((B=u.events)==null?void 0:B.venue)||"N/A",ticketTierName:C.ticket_tier_id||"N/A",quantity:C.quantity||0,totalPrice:C.total_price||0,orderStatus:u.status||"N/A",orderDate:new Date(u.created_at),scans:N,lastScanTime:P,scanStatus:T}})}))).flat();return console.log("🔍 Search results:",o),o}catch(r){return console.error("Error searching tickets:",r),[]}},debugTicketData:async(n,r)=>{try{let i=`🔍 Debug: Checking database for:
Order ID: ${n}
Ticket Tier ID: ${r}

`;const{data:s,error:o}=await Gt.from("orders").select("*").eq("id",n).single();o?i+=`❌ Order Error: ${o.message}
`:s?i+=`✅ Order Found:
- Status: ${s.status}
- Customer: ${s.customer_name}
- Email: ${s.customer_email}
- Event ID: ${s.event_id}

`:i+=`❌ Order Not Found

`;const{data:u,error:h}=await Gt.from("ticket_tiers").select("*").eq("id",r).single();if(h?i+=`❌ Ticket Tier Error: ${h.message}
`:u?i+=`✅ Ticket Tier Found:
- Name: ${u.name}
- Event ID: ${u.event_id}
- Active: ${u.is_active}

`:i+=`❌ Ticket Tier Not Found

`,s!=null&&s.event_id){const{data:y,error:N}=await Gt.from("events").select("*").eq("id",s.event_id).single();N?i+=`❌ Event Error: ${N.message}
`:y?i+=`✅ Event Found:
- Title: ${y.title}
- Date: ${y.date}

`:i+=`❌ Event Not Found

`}if(s!=null&&s.event_id){const{data:y,error:N}=await Gt.from("ticket_tiers").select("*").eq("event_id",s.event_id);N?i+=`❌ Event Tiers Error: ${N.message}
`:y&&y.length>0?(i+=`✅ Event Ticket Tiers (${y.length}):
`,y.forEach(b=>i+=`- ${b.id}: ${b.name}
`),i+=`
`):i+=`❌ No Ticket Tiers Found for Event

`}const{data:p,error:x}=await Gt.from("ticket_tiers").select("*");return x?i+=`❌ All Tiers Error: ${x.message}
`:p&&p.length>0?(i+=`📊 Total Ticket Tiers in DB: ${p.length}
`,p.slice(0,5).forEach(y=>i+=`- ${y.id}: ${y.name}
`),p.length>5&&(i+=`... and ${p.length-5} more
`),i+=`
`):i+=`❌ No Ticket Tiers in Database

`,i}catch(i){return`❌ Debug Error: ${i}
`}},validateGuestlist:async(n,r="entry")=>{try{console.log("🔍 Validating guestlist:",{guestlistId:n,scanType:r});const{data:i,error:s}=await Gt.from("guestlists").select("*").eq("id",n).single();if(s||!i)return console.log("❌ Guestlist not found:",s),{isValid:!1,message:"Guestlist not found",orderStatus:"unknown",eventDate:"unknown",customerName:"unknown",customerEmail:"unknown"};if(i.remaining_scans<=0)return console.log("❌ No remaining scans for guestlist"),{isValid:!1,message:"All tickets from this group pass have been used",orderStatus:"completed",eventDate:"unknown",customerName:i.lead_name,customerEmail:i.lead_email};const{data:o,error:u}=await Gt.from("events").select("*").eq("id",i.event_id).single();if(u||!o)return console.log("❌ Event not found:",u),{isValid:!1,message:"Event not found",orderStatus:"completed",eventDate:"unknown",customerName:i.lead_name,customerEmail:i.lead_email};const h=o.date;return h&&new Date(h)<new Date?(console.log("❌ Event has passed:",h),{isValid:!1,message:"Event has passed",orderStatus:"completed",eventDate:h,customerName:i.lead_name,customerEmail:i.lead_email}):(console.log("✅ Guestlist validation successful"),{isValid:!0,message:`Group pass valid - ${i.remaining_scans} tickets remaining`,orderStatus:"completed",eventDate:h||"unknown",customerName:i.lead_name,customerEmail:i.lead_email,eventId:i.event_id,eventTitle:o.title,ticketTierName:`Group Pass (${i.total_tickets} tickets)`})}catch(i){return console.error("❌ Error validating guestlist:",i),{isValid:!1,message:"Failed to validate guestlist",orderStatus:"unknown",eventDate:"unknown",customerName:"unknown",customerEmail:"unknown"}}},recordGuestlistScan:async n=>{try{const{error:r}=await Gt.rpc("decrement_guestlist_scans",{guestlist_uuid:n.guestlistId});if(r)throw console.error("Error decrementing guestlist scans:",r),r;const{error:i}=await Gt.from("guestlist_scans").insert({guestlist_id:n.guestlistId,event_id:n.eventId,scan_type:n.scanType,scanned_by:n.scannedBy||"admin",location:n.location||"",notes:n.notes||"",scanned_at:new Date().toISOString()});if(i)throw console.error("Error recording guestlist scan:",i),i}catch(r){throw console.error("Error recording guestlist scan:",r),r}}}),{name:"carnival-admin-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),U9=()=>{const{events:e}=_o(),t=Rc(),{glitchRef:n,isGlitching:r,glitchType:i}=Bl();fe.useEffect(()=>{zx("/events","Carnival LDN - Events")},[]);const s=o=>{sk(o.id,o.title),t(`/events?event=${o.id}`)};return d.jsxs("section",{id:"events",className:"py-16 md:py-20 relative px-4 overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[d.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-150",children:d.jsx("source",{src:"/vid-ev.mp4",type:"video/mp4"})}),d.jsx("div",{className:"absolute inset-0 bg-gray-900/70"})]}),d.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[d.jsxs(Xe.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12 md:mb-16",children:[d.jsx(Xe.h2,{ref:n,animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:8,repeat:1/0,ease:"linear"},className:`text-5xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 pb-1 glitch-text ${r?`glitch-active glitch-${i}`:""}`,"data-text":"EVENTS",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"EVENTS"}),d.jsxs(Xe.p,{className:"text-base sm:text-lg md:text-lg text-white max-w-fit mx-auto leading-relaxed px-6 py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.5)"},animate:{boxShadow:["0 0 10px rgba(255, 255, 255, 0.1)","0 0 20px rgba(255, 255, 255, 0.2)","0 0 10px rgba(255, 255, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[d.jsx("span",{className:"block sm:hidden",children:"⚡ Events that hit different ⚡"}),d.jsx("span",{className:"hidden sm:block",children:"⚡ From rooftop raves to underground vibes - events that hit different ⚡"})]})]}),d.jsx("div",{className:`grid gap-6 md:gap-8 ${e.filter(o=>!o.isArchived).slice(0,3).length===1?"grid-cols-1 max-w-md mx-auto":e.filter(o=>!o.isArchived).slice(0,3).length===2?"grid-cols-1 md:grid-cols-2 max-w-4xl mx-auto":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:e.filter(o=>!o.isArchived).slice(0,3).map((o,u)=>d.jsxs(Xe.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:u*.1},whileHover:{y:-4},className:"group relative bg-gradient-to-br from-white via-gray-50 to-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer backdrop-blur-sm",children:[d.jsxs("div",{className:"relative h-48 md:h-56 overflow-hidden",onClick:()=>s(o),children:[d.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:h=>{const p=h.target;p.src=`https://via.placeholder.com/400x300/6B7280/FFFFFF?text=${encodeURIComponent(o.title)}`}}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),d.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:o.tags.slice(0,2).map(h=>d.jsx("span",{className:"bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-semibold text-gray-800 shadow-sm border border-white/20",children:h},h))}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:d.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight drop-shadow-lg",children:o.title})})]}),d.jsxs("div",{className:"p-5 md:p-6 space-y-4",onClick:()=>s(o),children:[d.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-2",children:o.description}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[d.jsx(yi,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.date})]}),d.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[d.jsx(Qs,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.time})]}),d.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[d.jsx(Cl,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.venue})]})]}),d.jsxs(Xe.button,{onClick:h=>{h.stopPropagation(),lk("Get Tickets",`Events Section - ${o.title}`),s(o)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 hover:from-gray-800 hover:via-gray-700 hover:to-gray-800 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 text-sm md:text-base flex items-center justify-center gap-3 shadow-lg hover:shadow-xl group-hover:shadow-2xl",children:[d.jsx("span",{children:"Get Tickets"}),d.jsx(l1,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]},o.id))})]})]})},V9=()=>{const{glitchRef:e,isGlitching:t,glitchType:n}=Bl(),r=[{icon:yi,number:"500+",label:"Epic Nights Created"},{icon:Qr,number:"50K+",label:"Happy Party People"},{icon:R5,number:"25+",label:"Industry Awards"},{icon:IP,number:"10+",label:"Years of Experience"}];return d.jsxs("section",{id:"about",className:"py-16 md:py-20 relative bg-gradient-to-br from-black via-gray-900 to-black overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/80 via-gray-900/60 to-black/80"}),d.jsx("div",{className:"absolute inset-0 opacity-5",children:d.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),d.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-transparent via-white/10 to-transparent"}),d.jsx("div",{className:"absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-transparent via-white/5 to-transparent"}),d.jsx("div",{className:"absolute top-1/3 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/5 to-transparent"})]}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 relative z-10",children:[d.jsxs(Xe.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12 md:mb-16",children:[d.jsx(Xe.h2,{ref:e,"data-text":"ABOUT US",className:`text-5xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 glitch-text text-white ${t?`glitch-active glitch-${n}`:""}`,style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"ABOUT US"}),d.jsxs(Xe.p,{className:"text-base sm:text-lg md:text-lg text-white max-w-fit mx-auto leading-relaxed px-6 py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.5)"},animate:{boxShadow:["0 0 10px rgba(255, 255, 255, 0.1)","0 0 20px rgba(255, 255, 255, 0.2)","0 0 10px rgba(255, 255, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[d.jsx("span",{className:"block sm:hidden",children:"Creating epic nights since 2018"}),d.jsx("span",{className:"hidden sm:block",children:"We make London's most unforgettable nights happen"})]})]}),d.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 md:gap-12 items-stretch mb-16 md:mb-20",children:[d.jsxs(Xe.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"bg-white/5 border border-white/20 rounded-2xl p-8 md:p-12 backdrop-blur-sm shadow-2xl hover:shadow-white/10 transition-all duration-500 flex flex-col justify-center",children:[d.jsx(Xe.h3,{className:"text-3xl md:text-4xl font-bold mb-6 md:mb-8 text-white text-center md:text-left",children:"Our Story"}),d.jsxs("div",{className:"space-y-6 text-gray-300 leading-relaxed text-center md:text-left",children:[d.jsx("p",{className:"text-lg md:text-xl",children:"Born from the underground scene, Carnival LDN started as a passion project for people who believed London deserved better parties."}),d.jsx("p",{className:"text-lg md:text-xl",children:"We've grown from throwing warehouse raves to becoming the city's most trusted name in unforgettable experiences."})]})]}),d.jsx(Xe.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"grid grid-cols-2 gap-4 md:gap-6",children:r.map((i,s)=>d.jsxs(Xe.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{delay:s*.1,type:"spring"},whileHover:{scale:1.05,y:-5},className:"bg-white/5 border border-white/20 rounded-xl p-6 md:p-8 text-center group cursor-default hover:bg-white/10 transition-all duration-300 backdrop-blur-sm shadow-xl hover:shadow-white/10",children:[d.jsx(i.icon,{className:"w-10 h-10 md:w-12 md:h-12 text-white mx-auto mb-4 group-hover:scale-110 transition-transform"}),d.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:i.number}),d.jsx("div",{className:"text-gray-300 text-sm md:text-base leading-tight",children:i.label})]},i.label))})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"bg-white/5 border border-white/20 rounded-2xl p-8 md:p-12 backdrop-blur-sm shadow-2xl hover:shadow-white/10 transition-all duration-500 mb-12",children:[d.jsx(Xe.h4,{className:"text-2xl md:text-3xl font-bold text-center mb-8 text-white",children:"Why Choose Us?"}),d.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs("div",{className:"text-center group",children:[d.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:d.jsx(R5,{className:"w-8 h-8 text-black"})}),d.jsx("span",{className:"text-gray-300 font-medium",children:"Unmatched energy and atmosphere"})]}),d.jsxs("div",{className:"text-center group",children:[d.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:d.jsx(B5,{className:"w-8 h-8 text-black"})}),d.jsx("span",{className:"text-gray-300 font-medium",children:"Premium venue and artist partnerships"})]}),d.jsxs("div",{className:"text-center group",children:[d.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:d.jsx(B5,{className:"w-8 h-8 text-black"})}),d.jsx("span",{className:"text-gray-300 font-medium",children:"Authentic scene knowledge"})]}),d.jsxs("div",{className:"text-center group",children:[d.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:d.jsx(Qr,{className:"w-8 h-8 text-black"})}),d.jsx("span",{className:"text-gray-300 font-medium",children:"Community-focused approach"})]})]})]})]})]})},z9=()=>{const{glitchRef:e,isGlitching:t,glitchType:n}=Bl();return d.jsxs("section",{id:"contact",className:"py-16 md:py-20 relative bg-gradient-to-br from-black via-gray-900 to-black overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/80 via-gray-900/60 to-black/80"}),d.jsx("div",{className:"absolute inset-0 opacity-5",children:d.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),d.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-transparent via-white/10 to-transparent"}),d.jsx("div",{className:"absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-transparent via-white/5 to-transparent"}),d.jsx("div",{className:"absolute top-1/3 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/5 to-transparent"})]}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 relative z-10",children:[d.jsxs(Xe.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12 md:mb-16",children:[d.jsx(Xe.h2,{ref:e,"data-text":"GET IN TOUCH",className:`text-4xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 glitch-text text-white ${t?`glitch-active glitch-${n}`:""}`,style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"GET IN TOUCH"}),d.jsx(Xe.p,{className:"text-base sm:text-lg md:text-lg text-white max-w-fit mx-auto leading-relaxed px-6 py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.5)"},animate:{boxShadow:["0 0 10px rgba(255, 255, 255, 0.1)","0 0 20px rgba(255, 255, 255, 0.2)","0 0 10px rgba(255, 255, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Ready to create an exceptional event?"})]}),d.jsxs("div",{className:"grid lg:grid-cols-5 gap-8 md:gap-12 items-stretch",children:[d.jsxs(Xe.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"lg:col-span-3 bg-white/5 border border-white/20 rounded-2xl p-6 md:p-8 backdrop-blur-sm shadow-2xl hover:shadow-white/10 transition-all duration-500 flex flex-col",children:[d.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-4 md:mb-6",children:"Send us a message"}),d.jsxs("form",{className:"space-y-4 md:space-y-6 flex-1 flex flex-col",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"First Name"}),d.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white focus:border-white/40 transition-all text-white placeholder-gray-400",placeholder:"John"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Last Name"}),d.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white focus:border-white/40 transition-all text-white placeholder-gray-400",placeholder:"Doe"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),d.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white focus:border-white/40 transition-all text-white placeholder-gray-400",placeholder:"john@company.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone"}),d.jsx("input",{type:"tel",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white focus:border-white/40 transition-all text-white placeholder-gray-400",placeholder:"+44 20 1234 5678"})]}),d.jsxs("div",{className:"flex-1",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Message"}),d.jsx("textarea",{rows:6,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white focus:border-white/40 transition-all text-white placeholder-gray-400 resize-none",placeholder:"Tell us how we can help you..."})]}),d.jsx("div",{className:"pt-0",children:d.jsxs(Xe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white hover:bg-gray-100 text-black px-6 md:px-8 py-3 rounded-lg font-medium transition-all duration-300 text-sm md:text-base flex items-center justify-center space-x-2 w-full shadow-lg",children:[d.jsx(py,{className:"w-4 h-4 md:w-5 md:h-5"}),d.jsx("span",{children:"Send Message"})]})})]})]}),d.jsxs(Xe.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"lg:col-span-2 space-y-6 md:space-y-8 flex flex-col",children:[d.jsxs("div",{className:"bg-white/5 border border-white/20 rounded-2xl p-6 md:p-8 backdrop-blur-sm shadow-2xl hover:shadow-white/10 transition-all duration-500 flex-1",children:[d.jsx(Xe.h3,{className:"text-xl md:text-2xl font-bold mb-4 md:mb-6 text-center lg:text-left text-white",children:"Contact Information"}),d.jsxs("div",{className:"space-y-4 md:space-y-6",children:[d.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[d.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-lg flex items-center justify-center",children:d.jsx(fy,{className:"w-5 h-5 md:w-6 md:h-6 text-black"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-white",children:"Email"}),d.jsx("p",{className:"text-gray-300",children:"parternships@carnivalldn.com"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[d.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-lg flex items-center justify-center",children:d.jsx(NS,{className:"w-5 h-5 md:w-6 md:h-6 text-black"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-white",children:"Phone"}),d.jsx("p",{className:"text-gray-300",children:"+44 20 1234 5678"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[d.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-lg flex items-center justify-center",children:d.jsx(Cl,{className:"w-5 h-5 md:w-6 md:h-6 text-black"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-white",children:"Address"}),d.jsx("p",{className:"text-gray-300",children:"123 Event Street, London, UK"})]})]}),d.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[d.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-lg flex items-center justify-center",children:d.jsx(Qs,{className:"w-5 h-5 md:w-6 md:h-6 text-black"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-white",children:"Business Hours"}),d.jsx("p",{className:"text-gray-300",children:"Mon-Fri: 9AM-6PM"})]})]})]})]}),d.jsxs("div",{className:"bg-white/5 border border-white/20 rounded-2xl p-6 md:p-8 backdrop-blur-sm shadow-2xl hover:shadow-white/10 transition-all duration-500",children:[d.jsx(Xe.h3,{className:"text-xl md:text-2xl font-bold mb-4 md:mb-6 text-center lg:text-left text-white",children:"Connect With Us"}),d.jsx("p",{className:"text-sm md:text-base text-gray-300 mb-4 md:mb-6 leading-relaxed text-center lg:text-left",children:"Follow our journey and stay updated with the latest events, behind-the-scenes content, and exclusive offers."}),d.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[d.jsxs(Xe.a,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},href:"#",className:"bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl p-4 text-center transition-all duration-300 group",children:[d.jsx(jP,{className:"w-6 h-6 text-white mx-auto mb-2 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white transition-colors",children:"Instagram"})]}),d.jsxs(Xe.a,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},href:"#",className:"bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl p-4 text-center transition-all duration-300 group",children:[d.jsx(OP,{className:"w-6 h-6 text-white mx-auto mb-2 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white transition-colors",children:"WhatsApp"})]}),d.jsxs(Xe.a,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},href:"#",className:"bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl p-4 text-center transition-all duration-300 group",children:[d.jsx(LP,{className:"w-6 h-6 text-white mx-auto mb-2 group-hover:scale-110 transition-transform"}),d.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white transition-colors",children:"LinkedIn"})]})]})]})]})]})]})]})},t6=()=>d.jsx("footer",{className:"bg-gradient-to-br from-black via-gray-900 to-black text-white py-12 md:py-16 relative overflow-hidden border-t border-white/10",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 relative z-10",children:[d.jsx("div",{className:"grid grid-cols-1 gap-8 md:gap-10",children:d.jsxs("div",{className:"text-center",children:[d.jsx(Xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"flex items-center justify-center mb-4",children:d.jsx("img",{src:"/carnival-logo.svg",alt:"Carnival LDN Logo",className:"w-16 h-16 md:w-20 md:h-20 object-contain",style:{filter:"brightness(0) invert(1)"}})}),d.jsx("p",{className:"text-gray-400 text-sm md:text-base leading-relaxed mb-4 max-w-md mx-auto px-4",children:"London's premier professional events company, creating exceptional experiences that elevate your brand and strengthen business relationships."}),d.jsx("p",{className:"text-gray-500 text-xs md:text-sm text-center",children:"Established in London, 2014"})]})}),d.jsx(Xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6},className:"border-t border-gray-800 mt-8 md:mt-12 pt-6 md:pt-8",children:d.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[d.jsx("p",{className:"text-gray-400 text-sm",children:"© 2025 Carnival LDN. All rights reserved."}),d.jsxs("div",{className:"flex space-x-4",children:[d.jsx("a",{href:"/privacy-policy",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Privacy Policy"}),d.jsx("a",{href:"/terms-of-service",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Terms of Service"}),d.jsx("a",{href:"/cookie-policy",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Cookie Policy"})]})]})})]})}),H9=()=>{const e=Array.from({length:15},(t,n)=>({id:n,size:Math.random()*200+50,duration:Math.random()*25+20,delay:Math.random()*10,x:Math.random()*100,y:Math.random()*100}));return d.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[e.map(t=>d.jsx(Xe.div,{className:"absolute rounded-full mix-blend-multiply filter blur-xl opacity-5",style:{width:t.size,height:t.size,left:`${t.x}%`,top:`${t.y}%`,background:`radial-gradient(circle,
              ${t.id%3===0?"rgb(107, 114, 128)":t.id%3===1?"rgb(75, 85, 99)":"rgb(156, 163, 175)"} 0%, transparent 70%)`},animate:{x:[0,50,-25,0],y:[0,-50,25,0],scale:[1,1.1,.9,1]},transition:{duration:t.duration,repeat:1/0,delay:t.delay,ease:"easeInOut"}},t.id)),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white via-gray-50 to-white opacity-90"})]})};var ef=e=>e.type==="checkbox",bc=e=>e instanceof Date,Gi=e=>e==null;const n6=e=>typeof e=="object";var Or=e=>!Gi(e)&&!Array.isArray(e)&&n6(e)&&!bc(e),q9=e=>Or(e)&&e.target?ef(e.target)?e.target.checked:e.target.value:e,W9=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,$9=(e,t)=>e.has(W9(t)),G9=e=>{const t=e.constructor&&e.constructor.prototype;return Or(t)&&t.hasOwnProperty("isPrototypeOf")},wy=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ai(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(wy&&(e instanceof Blob||r))&&(n||Or(e)))if(t=n?[]:{},!n&&!G9(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=ai(e[i]));else return e;return t}var sp=e=>/^\w*$/.test(e),zr=e=>e===void 0,by=e=>Array.isArray(e)?e.filter(Boolean):[],Ny=e=>by(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Tt=(e,t,n)=>{if(!t||!Or(e))return n;const r=(sp(t)?[t]:Ny(t)).reduce((i,s)=>Gi(i)?i:i[s],e);return zr(r)||r===e?zr(e[t])?n:e[t]:r},Ra=e=>typeof e=="boolean",ir=(e,t,n)=>{let r=-1;const i=sp(t)?[t]:Ny(t),s=i.length,o=s-1;for(;++r<s;){const u=i[r];let h=n;if(r!==o){const p=e[u];h=Or(p)||Array.isArray(p)?p:isNaN(+i[r+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=h,e=e[u]}};const lb={BLUR:"blur",FOCUS_OUT:"focusout"},xa={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ao={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Y9=Ot.createContext(null);Y9.displayName="HookFormContext";var X9=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==xa.all&&(t._proxyFormState[o]=!r||xa.all),e[o]}});return i};const K9=typeof window<"u"?Ot.useLayoutEffect:Ot.useEffect;var Ua=e=>typeof e=="string",Z9=(e,t,n,r,i)=>Ua(e)?(r&&t.watch.add(e),Tt(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),Tt(n,s))):(r&&(t.watchAll=!0),n),N2=e=>Gi(e)||!n6(e);function sl(e,t,n=new WeakSet){if(N2(e)||N2(t))return e===t;if(bc(e)&&bc(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const o=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const u=t[s];if(bc(o)&&bc(u)||Or(o)&&Or(u)||Array.isArray(o)&&Array.isArray(u)?!sl(o,u,n):o!==u)return!1}}return!0}var Q9=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},ch=e=>Array.isArray(e)?e:[e],cb=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},rs=e=>Or(e)&&!Object.keys(e).length,Ay=e=>e.type==="file",ya=e=>typeof e=="function",p1=e=>{if(!wy)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},r6=e=>e.type==="select-multiple",Sy=e=>e.type==="radio",J9=e=>Sy(e)||ef(e),Im=e=>p1(e)&&e.isConnected;function eM(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=zr(e)?r++:e[t[r++]];return e}function tM(e){for(const t in e)if(e.hasOwnProperty(t)&&!zr(e[t]))return!1;return!0}function Ur(e,t){const n=Array.isArray(t)?t:sp(t)?[t]:Ny(t),r=n.length===1?e:eM(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Or(r)&&rs(r)||Array.isArray(r)&&tM(r))&&Ur(e,n.slice(0,-1)),e}var i6=e=>{for(const t in e)if(ya(e[t]))return!0;return!1};function m1(e,t={}){const n=Array.isArray(e);if(Or(e)||n)for(const r in e)Array.isArray(e[r])||Or(e[r])&&!i6(e[r])?(t[r]=Array.isArray(e[r])?[]:{},m1(e[r],t[r])):Gi(e[r])||(t[r]=!0);return t}function s6(e,t,n){const r=Array.isArray(e);if(Or(e)||r)for(const i in e)Array.isArray(e[i])||Or(e[i])&&!i6(e[i])?zr(t)||N2(n[i])?n[i]=Array.isArray(e[i])?m1(e[i],[]):{...m1(e[i])}:s6(e[i],Gi(t)?{}:t[i],n[i]):n[i]=!sl(e[i],t[i]);return n}var Od=(e,t)=>s6(e,t,m1(t));const ub={value:!1,isValid:!1},db={value:!0,isValid:!0};var a6=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!zr(e[0].attributes.value)?zr(e[0].value)||e[0].value===""?db:{value:e[0].value,isValid:!0}:db:ub}return ub},o6=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>zr(e)?e:t?e===""?NaN:e&&+e:n&&Ua(e)?new Date(e):r?r(e):e;const hb={isValid:!1,value:null};var l6=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,hb):hb;function fb(e){const t=e.ref;return Ay(t)?t.files:Sy(t)?l6(e.refs).value:r6(t)?[...t.selectedOptions].map(({value:n})=>n):ef(t)?a6(e.refs).value:o6(zr(t.value)?e.ref.value:t.value,e)}var nM=(e,t,n,r)=>{const i={};for(const s of e){const o=Tt(t,s);o&&ir(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},g1=e=>e instanceof RegExp,Dd=e=>zr(e)?e:g1(e)?e.source:Or(e)?g1(e.value)?e.value.source:e.value:e,pb=e=>({isOnSubmit:!e||e===xa.onSubmit,isOnBlur:e===xa.onBlur,isOnChange:e===xa.onChange,isOnAll:e===xa.all,isOnTouch:e===xa.onTouched});const mb="AsyncFunction";var rM=e=>!!e&&!!e.validate&&!!(ya(e.validate)&&e.validate.constructor.name===mb||Or(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===mb)),iM=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),gb=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const uh=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=Tt(e,i);if(s){const{_f:o,...u}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(uh(u,t))break}else if(Or(u)&&uh(u,t))break}}};function xb(e,t,n){const r=Tt(e,n);if(r||sp(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=Tt(t,s),u=Tt(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(u&&u.type)return{name:s,error:u};if(u&&u.root&&u.root.type)return{name:`${s}.root`,error:u.root};i.pop()}return{name:n}}var sM=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return rs(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||xa.all))},aM=(e,t,n)=>!e||!t||e===t||ch(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),oM=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,lM=(e,t)=>!by(Tt(e,t)).length&&Ur(e,t),cM=(e,t,n)=>{const r=ch(Tt(e,n));return ir(r,"root",t[n]),ir(e,n,r),e},N0=e=>Ua(e);function yb(e,t,n="validate"){if(N0(e)||Array.isArray(e)&&e.every(N0)||Ra(e)&&!e)return{type:n,message:N0(e)?e:"",ref:t}}var iu=e=>Or(e)&&!g1(e)?e:{value:e,message:""},vb=async(e,t,n,r,i,s)=>{const{ref:o,refs:u,required:h,maxLength:p,minLength:x,min:y,max:N,pattern:b,validate:j,name:T,valueAsNumber:P,mount:E}=e._f,C=Tt(n,T);if(!E||t.has(T))return{};const k=u?u[0]:o,M=z=>{i&&k.reportValidity&&(k.setCustomValidity(Ra(z)?"":z||""),k.reportValidity())},B={},ne=Sy(o),F=ef(o),X=ne||F,J=(P||Ay(o))&&zr(o.value)&&zr(C)||p1(o)&&o.value===""||C===""||Array.isArray(C)&&!C.length,ve=Q9.bind(null,T,r,B),W=(z,re,ae,te=ao.maxLength,Se=ao.minLength)=>{const Ae=z?re:ae;B[T]={type:z?te:Se,message:Ae,ref:o,...ve(z?te:Se,Ae)}};if(s?!Array.isArray(C)||!C.length:h&&(!X&&(J||Gi(C))||Ra(C)&&!C||F&&!a6(u).isValid||ne&&!l6(u).isValid)){const{value:z,message:re}=N0(h)?{value:!!h,message:h}:iu(h);if(z&&(B[T]={type:ao.required,message:re,ref:k,...ve(ao.required,re)},!r))return M(re),B}if(!J&&(!Gi(y)||!Gi(N))){let z,re;const ae=iu(N),te=iu(y);if(!Gi(C)&&!isNaN(C)){const Se=o.valueAsNumber||C&&+C;Gi(ae.value)||(z=Se>ae.value),Gi(te.value)||(re=Se<te.value)}else{const Se=o.valueAsDate||new Date(C),Ae=xe=>new Date(new Date().toDateString()+" "+xe),ge=o.type=="time",ie=o.type=="week";Ua(ae.value)&&C&&(z=ge?Ae(C)>Ae(ae.value):ie?C>ae.value:Se>new Date(ae.value)),Ua(te.value)&&C&&(re=ge?Ae(C)<Ae(te.value):ie?C<te.value:Se<new Date(te.value))}if((z||re)&&(W(!!z,ae.message,te.message,ao.max,ao.min),!r))return M(B[T].message),B}if((p||x)&&!J&&(Ua(C)||s&&Array.isArray(C))){const z=iu(p),re=iu(x),ae=!Gi(z.value)&&C.length>+z.value,te=!Gi(re.value)&&C.length<+re.value;if((ae||te)&&(W(ae,z.message,re.message),!r))return M(B[T].message),B}if(b&&!J&&Ua(C)){const{value:z,message:re}=iu(b);if(g1(z)&&!C.match(z)&&(B[T]={type:ao.pattern,message:re,ref:o,...ve(ao.pattern,re)},!r))return M(re),B}if(j){if(ya(j)){const z=await j(C,n),re=yb(z,k);if(re&&(B[T]={...re,...ve(ao.validate,re.message)},!r))return M(re.message),B}else if(Or(j)){let z={};for(const re in j){if(!rs(z)&&!r)break;const ae=yb(await j[re](C,n),k,re);ae&&(z={...ae,...ve(re,ae.message)},M(ae.message),r&&(B[T]=z))}if(!rs(z)&&(B[T]={ref:k,...z},!r))return B}}return M(!0),B};const uM={mode:xa.onSubmit,reValidateMode:xa.onChange,shouldFocusError:!0};function dM(e={}){let t={...uM,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:ya(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Or(t.defaultValues)||Or(t.values)?ai(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:ai(i),o={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},h,p=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let y={...x};const N={array:cb(),state:cb()},b=t.criteriaMode===xa.all,j=se=>ce=>{clearTimeout(p),p=setTimeout(se,ce)},T=async se=>{if(!t.disabled&&(x.isValid||y.isValid||se)){const ce=t.resolver?rs((await F()).errors):await J(r,!0);ce!==n.isValid&&N.state.next({isValid:ce})}},P=(se,ce)=>{!t.disabled&&(x.isValidating||x.validatingFields||y.isValidating||y.validatingFields)&&((se||Array.from(u.mount)).forEach(we=>{we&&(ce?ir(n.validatingFields,we,ce):Ur(n.validatingFields,we))}),N.state.next({validatingFields:n.validatingFields,isValidating:!rs(n.validatingFields)}))},E=(se,ce=[],we,qe,Be=!0,We=!0)=>{if(qe&&we&&!t.disabled){if(o.action=!0,We&&Array.isArray(Tt(r,se))){const Je=we(Tt(r,se),qe.argA,qe.argB);Be&&ir(r,se,Je)}if(We&&Array.isArray(Tt(n.errors,se))){const Je=we(Tt(n.errors,se),qe.argA,qe.argB);Be&&ir(n.errors,se,Je),lM(n.errors,se)}if((x.touchedFields||y.touchedFields)&&We&&Array.isArray(Tt(n.touchedFields,se))){const Je=we(Tt(n.touchedFields,se),qe.argA,qe.argB);Be&&ir(n.touchedFields,se,Je)}(x.dirtyFields||y.dirtyFields)&&(n.dirtyFields=Od(i,s)),N.state.next({name:se,isDirty:W(se,ce),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ir(s,se,ce)},C=(se,ce)=>{ir(n.errors,se,ce),N.state.next({errors:n.errors})},k=se=>{n.errors=se,N.state.next({errors:n.errors,isValid:!1})},M=(se,ce,we,qe)=>{const Be=Tt(r,se);if(Be){const We=Tt(s,se,zr(we)?Tt(i,se):we);zr(We)||qe&&qe.defaultChecked||ce?ir(s,se,ce?We:fb(Be._f)):ae(se,We),o.mount&&T()}},B=(se,ce,we,qe,Be)=>{let We=!1,Je=!1;const yt={name:se};if(!t.disabled){if(!we||qe){(x.isDirty||y.isDirty)&&(Je=n.isDirty,n.isDirty=yt.isDirty=W(),We=Je!==yt.isDirty);const xt=sl(Tt(i,se),ce);Je=!!Tt(n.dirtyFields,se),xt?Ur(n.dirtyFields,se):ir(n.dirtyFields,se,!0),yt.dirtyFields=n.dirtyFields,We=We||(x.dirtyFields||y.dirtyFields)&&Je!==!xt}if(we){const xt=Tt(n.touchedFields,se);xt||(ir(n.touchedFields,se,we),yt.touchedFields=n.touchedFields,We=We||(x.touchedFields||y.touchedFields)&&xt!==we)}We&&Be&&N.state.next(yt)}return We?yt:{}},ne=(se,ce,we,qe)=>{const Be=Tt(n.errors,se),We=(x.isValid||y.isValid)&&Ra(ce)&&n.isValid!==ce;if(t.delayError&&we?(h=j(()=>C(se,we)),h(t.delayError)):(clearTimeout(p),h=null,we?ir(n.errors,se,we):Ur(n.errors,se)),(we?!sl(Be,we):Be)||!rs(qe)||We){const Je={...qe,...We&&Ra(ce)?{isValid:ce}:{},errors:n.errors,name:se};n={...n,...Je},N.state.next(Je)}},F=async se=>{P(se,!0);const ce=await t.resolver(s,t.context,nM(se||u.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return P(se),ce},X=async se=>{const{errors:ce}=await F(se);if(se)for(const we of se){const qe=Tt(ce,we);qe?ir(n.errors,we,qe):Ur(n.errors,we)}else n.errors=ce;return ce},J=async(se,ce,we={valid:!0})=>{for(const qe in se){const Be=se[qe];if(Be){const{_f:We,...Je}=Be;if(We){const yt=u.array.has(We.name),xt=Be._f&&rM(Be._f);xt&&x.validatingFields&&P([qe],!0);const ht=await vb(Be,u.disabled,s,b,t.shouldUseNativeValidation&&!ce,yt);if(xt&&x.validatingFields&&P([qe]),ht[We.name]&&(we.valid=!1,ce))break;!ce&&(Tt(ht,We.name)?yt?cM(n.errors,ht,We.name):ir(n.errors,We.name,ht[We.name]):Ur(n.errors,We.name))}!rs(Je)&&await J(Je,ce,we)}}return we.valid},ve=()=>{for(const se of u.unMount){const ce=Tt(r,se);ce&&(ce._f.refs?ce._f.refs.every(we=>!Im(we)):!Im(ce._f.ref))&&ke(se)}u.unMount=new Set},W=(se,ce)=>!t.disabled&&(se&&ce&&ir(s,se,ce),!sl(xe(),i)),z=(se,ce,we)=>Z9(se,u,{...o.mount?s:zr(ce)?i:Ua(se)?{[se]:ce}:ce},we,ce),re=se=>by(Tt(o.mount?s:i,se,t.shouldUnregister?Tt(i,se,[]):[])),ae=(se,ce,we={})=>{const qe=Tt(r,se);let Be=ce;if(qe){const We=qe._f;We&&(!We.disabled&&ir(s,se,o6(ce,We)),Be=p1(We.ref)&&Gi(ce)?"":ce,r6(We.ref)?[...We.ref.options].forEach(Je=>Je.selected=Be.includes(Je.value)):We.refs?ef(We.ref)?We.refs.forEach(Je=>{(!Je.defaultChecked||!Je.disabled)&&(Array.isArray(Be)?Je.checked=!!Be.find(yt=>yt===Je.value):Je.checked=Be===Je.value||!!Be)}):We.refs.forEach(Je=>Je.checked=Je.value===Be):Ay(We.ref)?We.ref.value="":(We.ref.value=Be,We.ref.type||N.state.next({name:se,values:ai(s)})))}(we.shouldDirty||we.shouldTouch)&&B(se,Be,we.shouldTouch,we.shouldDirty,!0),we.shouldValidate&&ie(se)},te=(se,ce,we)=>{for(const qe in ce){if(!ce.hasOwnProperty(qe))return;const Be=ce[qe],We=se+"."+qe,Je=Tt(r,We);(u.array.has(se)||Or(Be)||Je&&!Je._f)&&!bc(Be)?te(We,Be,we):ae(We,Be,we)}},Se=(se,ce,we={})=>{const qe=Tt(r,se),Be=u.array.has(se),We=ai(ce);ir(s,se,We),Be?(N.array.next({name:se,values:ai(s)}),(x.isDirty||x.dirtyFields||y.isDirty||y.dirtyFields)&&we.shouldDirty&&N.state.next({name:se,dirtyFields:Od(i,s),isDirty:W(se,We)})):qe&&!qe._f&&!Gi(We)?te(se,We,we):ae(se,We,we),gb(se,u)&&N.state.next({...n,name:se}),N.state.next({name:o.mount?se:void 0,values:ai(s)})},Ae=async se=>{o.mount=!0;const ce=se.target;let we=ce.name,qe=!0;const Be=Tt(r,we),We=xt=>{qe=Number.isNaN(xt)||bc(xt)&&isNaN(xt.getTime())||sl(xt,Tt(s,we,xt))},Je=pb(t.mode),yt=pb(t.reValidateMode);if(Be){let xt,ht;const Mt=ce.type?fb(Be._f):q9(se),dt=se.type===lb.BLUR||se.type===lb.FOCUS_OUT,kn=!iM(Be._f)&&!t.resolver&&!Tt(n.errors,we)&&!Be._f.deps||oM(dt,Tt(n.touchedFields,we),n.isSubmitted,yt,Je),Et=gb(we,u,dt);ir(s,we,Mt),dt?(Be._f.onBlur&&Be._f.onBlur(se),h&&h(0)):Be._f.onChange&&Be._f.onChange(se);const lt=B(we,Mt,dt),Bt=!rs(lt)||Et;if(!dt&&N.state.next({name:we,type:se.type,values:ai(s)}),kn)return(x.isValid||y.isValid)&&(t.mode==="onBlur"?dt&&T():dt||T()),Bt&&N.state.next({name:we,...Et?{}:lt});if(!dt&&Et&&N.state.next({...n}),t.resolver){const{errors:Pt}=await F([we]);if(We(Mt),qe){const un=xb(n.errors,r,we),nn=xb(Pt,r,un.name||we);xt=nn.error,we=nn.name,ht=rs(Pt)}}else P([we],!0),xt=(await vb(Be,u.disabled,s,b,t.shouldUseNativeValidation))[we],P([we]),We(Mt),qe&&(xt?ht=!1:(x.isValid||y.isValid)&&(ht=await J(r,!0)));qe&&(Be._f.deps&&ie(Be._f.deps),ne(we,ht,xt,lt))}},ge=(se,ce)=>{if(Tt(n.errors,ce)&&se.focus)return se.focus(),1},ie=async(se,ce={})=>{let we,qe;const Be=ch(se);if(t.resolver){const We=await X(zr(se)?se:Be);we=rs(We),qe=se?!Be.some(Je=>Tt(We,Je)):we}else se?(qe=(await Promise.all(Be.map(async We=>{const Je=Tt(r,We);return await J(Je&&Je._f?{[We]:Je}:Je)}))).every(Boolean),!(!qe&&!n.isValid)&&T()):qe=we=await J(r);return N.state.next({...!Ua(se)||(x.isValid||y.isValid)&&we!==n.isValid?{}:{name:se},...t.resolver||!se?{isValid:we}:{},errors:n.errors}),ce.shouldFocus&&!qe&&uh(r,ge,se?Be:u.mount),qe},xe=se=>{const ce={...o.mount?s:i};return zr(se)?ce:Ua(se)?Tt(ce,se):se.map(we=>Tt(ce,we))},Ee=(se,ce)=>({invalid:!!Tt((ce||n).errors,se),isDirty:!!Tt((ce||n).dirtyFields,se),error:Tt((ce||n).errors,se),isValidating:!!Tt(n.validatingFields,se),isTouched:!!Tt((ce||n).touchedFields,se)}),R=se=>{se&&ch(se).forEach(ce=>Ur(n.errors,ce)),N.state.next({errors:se?n.errors:{}})},K=(se,ce,we)=>{const qe=(Tt(r,se,{_f:{}})._f||{}).ref,Be=Tt(n.errors,se)||{},{ref:We,message:Je,type:yt,...xt}=Be;ir(n.errors,se,{...xt,...ce,ref:qe}),N.state.next({name:se,errors:n.errors,isValid:!1}),we&&we.shouldFocus&&qe&&qe.focus&&qe.focus()},ee=(se,ce)=>ya(se)?N.state.subscribe({next:we=>"values"in we&&se(z(void 0,ce),we)}):z(se,ce,!0),me=se=>N.state.subscribe({next:ce=>{aM(se.name,ce.name,se.exact)&&sM(ce,se.formState||x,bt,se.reRenderRoot)&&se.callback({values:{...s},...n,...ce,defaultValues:i})}}).unsubscribe,he=se=>(o.mount=!0,y={...y,...se.formState},me({...se,formState:y})),ke=(se,ce={})=>{for(const we of se?ch(se):u.mount)u.mount.delete(we),u.array.delete(we),ce.keepValue||(Ur(r,we),Ur(s,we)),!ce.keepError&&Ur(n.errors,we),!ce.keepDirty&&Ur(n.dirtyFields,we),!ce.keepTouched&&Ur(n.touchedFields,we),!ce.keepIsValidating&&Ur(n.validatingFields,we),!t.shouldUnregister&&!ce.keepDefaultValue&&Ur(i,we);N.state.next({values:ai(s)}),N.state.next({...n,...ce.keepDirty?{isDirty:W()}:{}}),!ce.keepIsValid&&T()},je=({disabled:se,name:ce})=>{(Ra(se)&&o.mount||se||u.disabled.has(ce))&&(se?u.disabled.add(ce):u.disabled.delete(ce))},Oe=(se,ce={})=>{let we=Tt(r,se);const qe=Ra(ce.disabled)||Ra(t.disabled);return ir(r,se,{...we||{},_f:{...we&&we._f?we._f:{ref:{name:se}},name:se,mount:!0,...ce}}),u.mount.add(se),we?je({disabled:Ra(ce.disabled)?ce.disabled:t.disabled,name:se}):M(se,!0,ce.value),{...qe?{disabled:ce.disabled||t.disabled}:{},...t.progressive?{required:!!ce.required,min:Dd(ce.min),max:Dd(ce.max),minLength:Dd(ce.minLength),maxLength:Dd(ce.maxLength),pattern:Dd(ce.pattern)}:{},name:se,onChange:Ae,onBlur:Ae,ref:Be=>{if(Be){Oe(se,ce),we=Tt(r,se);const We=zr(Be.value)&&Be.querySelectorAll&&Be.querySelectorAll("input,select,textarea")[0]||Be,Je=J9(We),yt=we._f.refs||[];if(Je?yt.find(xt=>xt===We):We===we._f.ref)return;ir(r,se,{_f:{...we._f,...Je?{refs:[...yt.filter(Im),We,...Array.isArray(Tt(i,se))?[{}]:[]],ref:{type:We.type,name:se}}:{ref:We}}}),M(se,!1,void 0,We)}else we=Tt(r,se,{}),we._f&&(we._f.mount=!1),(t.shouldUnregister||ce.shouldUnregister)&&!($9(u.array,se)&&o.action)&&u.unMount.add(se)}}},He=()=>t.shouldFocusError&&uh(r,ge,u.mount),ze=se=>{Ra(se)&&(N.state.next({disabled:se}),uh(r,(ce,we)=>{const qe=Tt(r,we);qe&&(ce.disabled=qe._f.disabled||se,Array.isArray(qe._f.refs)&&qe._f.refs.forEach(Be=>{Be.disabled=qe._f.disabled||se}))},0,!1))},it=(se,ce)=>async we=>{let qe;we&&(we.preventDefault&&we.preventDefault(),we.persist&&we.persist());let Be=ai(s);if(N.state.next({isSubmitting:!0}),t.resolver){const{errors:We,values:Je}=await F();n.errors=We,Be=ai(Je)}else await J(r);if(u.disabled.size)for(const We of u.disabled)Ur(Be,We);if(Ur(n.errors,"root"),rs(n.errors)){N.state.next({errors:{}});try{await se(Be,we)}catch(We){qe=We}}else ce&&await ce({...n.errors},we),He(),setTimeout(He);if(N.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:rs(n.errors)&&!qe,submitCount:n.submitCount+1,errors:n.errors}),qe)throw qe},$e=(se,ce={})=>{Tt(r,se)&&(zr(ce.defaultValue)?Se(se,ai(Tt(i,se))):(Se(se,ce.defaultValue),ir(i,se,ai(ce.defaultValue))),ce.keepTouched||Ur(n.touchedFields,se),ce.keepDirty||(Ur(n.dirtyFields,se),n.isDirty=ce.defaultValue?W(se,ai(Tt(i,se))):W()),ce.keepError||(Ur(n.errors,se),x.isValid&&T()),N.state.next({...n}))},vt=(se,ce={})=>{const we=se?ai(se):i,qe=ai(we),Be=rs(se),We=Be?i:qe;if(ce.keepDefaultValues||(i=we),!ce.keepValues){if(ce.keepDirtyValues){const Je=new Set([...u.mount,...Object.keys(Od(i,s))]);for(const yt of Array.from(Je))Tt(n.dirtyFields,yt)?ir(We,yt,Tt(s,yt)):Se(yt,Tt(We,yt))}else{if(wy&&zr(se))for(const Je of u.mount){const yt=Tt(r,Je);if(yt&&yt._f){const xt=Array.isArray(yt._f.refs)?yt._f.refs[0]:yt._f.ref;if(p1(xt)){const ht=xt.closest("form");if(ht){ht.reset();break}}}}if(ce.keepFieldsRef)for(const Je of u.mount)Se(Je,Tt(We,Je));else r={}}s=t.shouldUnregister?ce.keepDefaultValues?ai(i):{}:ai(We),N.array.next({values:{...We}}),N.state.next({values:{...We}})}u={mount:ce.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!x.isValid||!!ce.keepIsValid||!!ce.keepDirtyValues,o.watch=!!t.shouldUnregister,N.state.next({submitCount:ce.keepSubmitCount?n.submitCount:0,isDirty:Be?!1:ce.keepDirty?n.isDirty:!!(ce.keepDefaultValues&&!sl(se,i)),isSubmitted:ce.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Be?{}:ce.keepDirtyValues?ce.keepDefaultValues&&s?Od(i,s):n.dirtyFields:ce.keepDefaultValues&&se?Od(i,se):ce.keepDirty?n.dirtyFields:{},touchedFields:ce.keepTouched?n.touchedFields:{},errors:ce.keepErrors?n.errors:{},isSubmitSuccessful:ce.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Ve=(se,ce)=>vt(ya(se)?se(s):se,ce),pe=(se,ce={})=>{const we=Tt(r,se),qe=we&&we._f;if(qe){const Be=qe.refs?qe.refs[0]:qe.ref;Be.focus&&(Be.focus(),ce.shouldSelect&&ya(Be.select)&&Be.select())}},bt=se=>{n={...n,...se}},Ge={control:{register:Oe,unregister:ke,getFieldState:Ee,handleSubmit:it,setError:K,_subscribe:me,_runSchema:F,_focusError:He,_getWatch:z,_getDirty:W,_setValid:T,_setFieldArray:E,_setDisabledField:je,_setErrors:k,_getFieldArray:re,_reset:vt,_resetDefaultValues:()=>ya(t.defaultValues)&&t.defaultValues().then(se=>{Ve(se,t.resetOptions),N.state.next({isLoading:!1})}),_removeUnmounted:ve,_disableForm:ze,_subjects:N,_proxyFormState:x,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(se){o=se},get _defaultValues(){return i},get _names(){return u},set _names(se){u=se},get _formState(){return n},get _options(){return t},set _options(se){t={...t,...se}}},subscribe:he,trigger:ie,register:Oe,handleSubmit:it,watch:ee,setValue:Se,getValues:xe,reset:Ve,resetField:$e,clearErrors:R,unregister:ke,setError:K,setFocus:pe,getFieldState:Ee};return{...Ge,formControl:Ge}}function c6(e={}){const t=Ot.useRef(void 0),n=Ot.useRef(void 0),[r,i]=Ot.useState({isDirty:!1,isValidating:!1,isLoading:ya(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ya(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!ya(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...u}=dM(e);t.current={...u,formState:r}}const s=t.current.control;return s._options=e,K9(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(u=>({...u,isReady:!0})),s._formState.isReady=!0,o},[s]),Ot.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Ot.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),Ot.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),Ot.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),Ot.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Ot.useEffect(()=>{e.values&&!sl(e.values,n.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),Ot.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=X9(r,s),t.current}const hM=()=>{const[e,t]=fe.useState(!1),[n,r]=fe.useState(""),i=Rc(),{login:s,isLoading:o}=_o(),{register:u,handleSubmit:h,formState:{errors:p}}=c6(),x=async y=>{r(""),await s(y.email,y.password)?(Oi.success("Welcome back, Admin!"),i("/admin/dashboard")):(r("Invalid email or password"),Oi.error("Invalid email or password"))};return d.jsx("div",{className:"min-h-screen flex items-start justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",style:{paddingTop:"20vh"},children:d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:[d.jsxs("div",{children:[d.jsx(Xe.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mx-auto h-12 w-12 bg-gray-900 rounded-full flex items-center justify-center",children:d.jsx(Mh,{className:"h-6 w-6 text-white"})}),d.jsx(Xe.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Login"}),d.jsx(Xe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access the dashboard"})]}),d.jsxs(Xe.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 space-y-6",onSubmit:h(x),children:[n&&d.jsxs(Xe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-md p-4 flex items-center space-x-2",children:[d.jsx(l2,{className:"h-5 w-5 text-red-400"}),d.jsx("span",{className:"text-sm text-red-600",children:n})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),d.jsxs("div",{className:"mt-1 relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(fy,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{...u("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),id:"email",type:"email",autoComplete:"email",className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-gray-900 focus:border-gray-900 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),p.email&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email.message})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),d.jsxs("div",{className:"mt-1 relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-20",children:d.jsx(Mh,{className:"h-5 w-5 text-gray-400"})}),d.jsx("input",{...u("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),id:"password",type:e?"text":"password",autoComplete:"current-password",className:"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-gray-900 focus:border-gray-900 focus:z-10 sm:text-sm",placeholder:"Enter your password"}),d.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center z-20",onClick:()=>t(!e),children:e?d.jsx(kP,{className:"h-5 w-5 text-gray-400"}):d.jsx(Dh,{className:"h-5 w-5 text-gray-400"})})]}),p.password&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password.message})]})]}),d.jsx("div",{children:d.jsx(Xe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:o?d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),d.jsx("span",{children:"Signing in..."})]}):"Sign in"})}),d.jsx("div",{className:"text-center",children:d.jsx("p",{className:"text-xs text-gray-500",children:"Demo credentials: admin@carnival.com / admin123"})})]})]})})},fM=({ticketTiers:e,eventId:t,onSave:n,onClose:r})=>{var T,P;const[i,s]=fe.useState(e||[]),[o,u]=fe.useState({name:"",price:void 0,originalPrice:void 0,capacity:void 0,soldCount:0,availableFrom:new Date,availableUntil:new Date(Date.now()+30*24*60*60*1e3),description:"",benefits:[],isActive:!0}),h=()=>{if(console.log("addTier called with newTier:",o),console.log("Validation check:",{hasName:!!o.name,hasPrice:!!o.price,hasCapacity:!!o.capacity,name:o.name,price:o.price,capacity:o.capacity}),(o.name||"").toString().trim().length>0&&o.price!==void 0&&o.price>=0&&o.capacity!==void 0&&o.capacity>0){const E={id:`tier_${Date.now()}`,eventId:t,name:o.name||"",price:(o.price||0)*100,originalPrice:o.originalPrice!==void 0?(o.originalPrice||0)*100:void 0,capacity:o.capacity||0,soldCount:0,availableFrom:o.availableFrom,availableUntil:o.availableUntil,description:o.description||"",benefits:(o.benefits||[]).filter(C=>C.trim()),isActive:o.isActive!==!1};console.log("Created tier:",E),s([...i,E]),console.log("Updated tiers array:",[...i,E]),u({name:"",price:void 0,originalPrice:void 0,capacity:void 0,soldCount:0,availableFrom:new Date,availableUntil:new Date(Date.now()+30*24*60*60*1e3),description:"",benefits:[],isActive:!0})}else console.log("Validation failed - missing required fields")},p=E=>{s(i.filter(C=>C.id!==E))},x=(E,C)=>{s(i.map(k=>k.id===E?{...k,...C}:k))},y=E=>{const C=i.find(k=>k.id===E);C&&x(E,{benefits:[...C.benefits||[],""]})},N=(E,C,k)=>{const M=i.find(B=>B.id===E);if(M){const B=[...M.benefits||[]];B[C]=k,x(E,{benefits:B})}},b=(E,C)=>{const k=i.find(M=>M.id===E);if(k){const M=(k.benefits||[]).filter((B,ne)=>ne!==C);x(E,{benefits:M})}},j=()=>{console.log("handleSave called with tiers:",i),console.log("Tiers length:",i.length),console.log("Tiers details:",i.map(E=>({id:E.id,name:E.name,price:E.price,capacity:E.capacity}))),n(i),r()};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",onClick:E=>E.stopPropagation(),children:d.jsxs(Xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Ticket Tiers"}),d.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:d.jsx(Rl,{className:"h-6 w-6"})})]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Tier"}),d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:d.jsxs("p",{className:"text-sm text-blue-800",children:[d.jsx("strong",{children:"How it works:"}),' Create different ticket types with different prices. For example: "Early Bird" at £25, "VIP" at £50, or "Student" at £15. Set how many tickets are available for each tier.']})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier Name"}),d.jsx("input",{type:"text",placeholder:"e.g., Early Bird, VIP, Student",value:o.name,onChange:E=>u({...o,name:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),d.jsx("input",{type:"number",placeholder:"e.g., 25 for £25",value:o.price??"",onChange:E=>{const C=E.target.value;u({...o,price:C===""?void 0:parseFloat(C)||0})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),d.jsx("input",{type:"number",placeholder:"e.g., 100 tickets",value:o.capacity??"",onChange:E=>{const C=E.target.value;u({...o,capacity:C===""?void 0:parseInt(C)||0})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Price (Optional)"}),d.jsx("input",{type:"number",placeholder:"e.g., 35 for £35 (shows discount)",value:o.originalPrice??"",onChange:E=>{const C=E.target.value;u({...o,originalPrice:C===""?void 0:parseFloat(C)||0})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available From"}),d.jsx("input",{type:"date",value:(T=o.availableFrom)==null?void 0:T.toISOString().split("T")[0],onChange:E=>u({...o,availableFrom:new Date(E.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Until"}),d.jsx("input",{type:"date",value:(P=o.availableUntil)==null?void 0:P.toISOString().split("T")[0],onChange:E=>u({...o,availableUntil:new Date(E.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),d.jsx("textarea",{placeholder:"Description (optional)",value:o.description,onChange:E=>u({...o,description:E.target.value}),className:"w-full mt-4 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2}),d.jsxs("div",{className:"mt-4 flex items-center justify-end gap-4",children:[d.jsxs("label",{htmlFor:"new-tier-active",className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[d.jsx("input",{id:"new-tier-active",type:"checkbox",checked:o.isActive!==!1,onChange:E=>u({...o,isActive:E.target.checked})}),"Active (allow sales)"]}),d.jsx("button",{onClick:h,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Tier"})]})]}),d.jsx("div",{className:"space-y-4",children:i.map(E=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsx("input",{type:"text",value:E.name,onChange:C=>x(E.id,{name:C.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),d.jsx("input",{type:"number",value:E.price/100,onChange:C=>x(E.id,{price:(parseFloat(C.target.value)||0)*100}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),d.jsx("input",{type:"number",value:E.capacity,onChange:C=>x(E.id,{capacity:parseInt(C.target.value)||0}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Benefits"}),d.jsxs("div",{className:"space-y-2",children:[(E.benefits||[]).map((C,k)=>d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",value:C,onChange:M=>N(E.id,k,M.target.value),placeholder:"Benefit description",className:"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),d.jsx("button",{onClick:()=>b(E.id,k),className:"px-2 py-2 text-red-600 hover:text-red-800",children:d.jsx(u2,{className:"h-4 w-4"})})]},k)),d.jsxs("button",{onClick:()=>y(E.id),className:"text-blue-600 hover:text-blue-800 text-sm flex items-center gap-1",children:[d.jsx(DP,{className:"h-4 w-4"}),"Add Benefit"]})]})]})]}),d.jsx("button",{onClick:()=>p(E.id),className:"ml-4 text-red-600 hover:text-red-800",children:d.jsx(u2,{className:"h-5 w-5"})})]}),d.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[d.jsxs("span",{children:["Available: ",E.capacity-E.soldCount," / ",E.capacity]}),d.jsxs("span",{children:["Price: £",(E.price/100).toFixed(2)]}),E.originalPrice&&E.originalPrice>E.price&&d.jsxs("span",{className:"line-through text-gray-400",children:["£",(E.originalPrice/100).toFixed(2)]}),d.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[E.capacity-E.soldCount<=0&&d.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700",children:"Sold out by capacity"}),d.jsxs("label",{className:"flex items-center gap-2",children:[d.jsx("input",{type:"checkbox",checked:E.isActive===!1,disabled:E.capacity-E.soldCount<=0,onChange:C=>x(E.id,{isActive:!C.target.checked})}),d.jsx("span",{children:"Mark as sold out (disable sales)"})]})]})]})]},E.id))}),d.jsxs("div",{className:"flex justify-end gap-4 mt-6 pt-6 border-t",children:[d.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:j,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},pM=({event:e,onClose:t})=>{const{addEvent:n,updateEvent:r}=_o(),[i,s]=fe.useState(!1),[o,u]=fe.useState((e==null?void 0:e.ticketTiers)||[]),{register:h,handleSubmit:p,reset:x,formState:{errors:y}}=c6();fe.useEffect(()=>{e&&x({title:e.title,date:e.date,time:e.time,venue:e.venue,description:e.description,capacity:e.capacity,tags:e.tags.join(", "),gradient:e.gradient,image:e.image,bookingUrl:e.bookingUrl})},[e,x]);const N=T=>{console.log("Form submitted with ticket tiers:",o);const P=o.map(B=>({...B,eventId:(e==null?void 0:e.id)||"new_event"})),E=P.filter(B=>B.isActive!==!1&&typeof B.price=="number"),C=E.length>0?Math.min(...E.map(B=>B.price)):0,k=C>0?`From £${(C/100).toFixed(0)}`:"Free",M={...T,price:k,ticketTiers:P};console.log("Final event data to save:",M),e?r(e.id,M):n(M),t()},b=T=>{console.log("Ticket tiers saved in EventForm:",T),u(T),s(!1)},j=[{value:"from-gray-600 to-gray-800",label:"Gray"},{value:"from-gray-700 to-gray-900",label:"Dark Gray"},{value:"from-gray-800 to-black",label:"Black"},{value:"from-gray-500 to-gray-700",label:"Light Gray"},{value:"from-blue-600 to-blue-800",label:"Blue"},{value:"from-green-600 to-green-800",label:"Green"},{value:"from-purple-600 to-purple-800",label:"Purple"},{value:"from-red-600 to-red-800",label:"Red"}];return d.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:[d.jsxs(Xe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:T=>T.stopPropagation(),children:[d.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e?"Edit Event":"Add New Event"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:d.jsx(Rl,{className:"h-6 w-6"})})]}),d.jsxs("form",{onSubmit:p(N),className:"p-6 space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),d.jsx("input",{...h("title",{required:"Title is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter event title"}),y.title&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.title.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(yi,{className:"inline h-4 w-4 mr-1"}),"Date"]}),d.jsx("input",{...h("date",{required:"Date is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"e.g., Dec 15, 2024"}),y.date&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.date.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Qs,{className:"inline h-4 w-4 mr-1"}),"Time"]}),d.jsx("input",{...h("time",{required:"Time is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"e.g., 7:00 PM"}),y.time&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.time.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Cl,{className:"inline h-4 w-4 mr-1"}),"Venue"]}),d.jsx("input",{...h("venue",{required:"Venue is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter venue name"}),y.venue&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.venue.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(Qr,{className:"inline h-4 w-4 mr-1"}),"Capacity"]}),d.jsx("input",{...h("capacity",{required:"Capacity is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"e.g., 200"}),y.capacity&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.capacity.message})]}),d.jsxs("div",{children:[d.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[d.jsx(BP,{className:"inline h-4 w-4 mr-1"}),"Tags (comma-separated)"]}),d.jsx("input",{...h("tags",{required:"Tags are required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"e.g., Corporate, Networking, Formal"}),y.tags&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.tags.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Theme"}),d.jsx("select",{...h("gradient",{required:"Gradient is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",children:j.map(T=>d.jsx("option",{value:T.value,children:T.label},T.value))}),y.gradient&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.gradient.message})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Image URL"}),d.jsx("input",{...h("image",{required:"Image URL is required",pattern:{value:/^https?:\/\/.+/,message:"Please enter a valid URL starting with http:// or https://"}}),type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"https://images.unsplash.com/photo-..."}),y.image&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.image.message}),d.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Tip: You can use Picsum URLs like https://picsum.photos/800/600?random=1 or Unsplash URLs"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ticket Tiers"}),d.jsxs("button",{type:"button",onClick:()=>s(!0),className:"flex items-center gap-2 px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[d.jsx(Ku,{className:"h-4 w-4"}),"Manage Tiers"]})]}),o.length>0?d.jsx("div",{className:"space-y-2",children:o.sort((T,P)=>T.price-P.price).map(T=>d.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[d.jsxs("div",{children:[d.jsx("span",{className:"font-medium text-gray-900",children:T.name}),d.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["£",(T.price/100).toFixed(2)," - ",T.capacity," available"]})]}),d.jsxs("span",{className:"text-sm text-gray-500",children:[T.capacity-T.soldCount," left"]})]},T.id))}):d.jsx("p",{className:"text-sm text-gray-500",children:'No ticket tiers configured. Click "Manage Tiers" to add pricing options.'})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking URL (Optional - will be replaced by Stripe checkout)"}),d.jsx("input",{...h("bookingUrl"),type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"https://example.com/book/event (optional)"}),y.bookingUrl&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.bookingUrl.message})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),d.jsx("textarea",{...h("description",{required:"Description is required"}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter event description"}),y.description&&d.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.description.message})]}),d.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[d.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),d.jsx("button",{type:"submit",className:"px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-md transition-colors",children:e?"Update Event":"Create Event"})]})]})]},(e==null?void 0:e.id)||"new-event"),i&&d.jsx(fM,{ticketTiers:o,eventId:(e==null?void 0:e.id)||"new_event",onSave:b,onClose:()=>s(!1)})]})},mM=({selectedTimeframe:e,selectedEvent:t,events:n,activeTab:r,onTimeframeChange:i,onEventChange:s,onTabChange:o,onRefresh:u})=>d.jsx("div",{className:"bg-white shadow-sm border-b",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Manage analytics, events, orders, and scan tickets"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("select",{value:e,onChange:h=>i(h.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[d.jsx("option",{value:"7d",children:"Last 7 days"}),d.jsx("option",{value:"30d",children:"Last 30 days"}),d.jsx("option",{value:"90d",children:"Last 90 days"})]}),d.jsxs("select",{value:t,onChange:h=>s(h.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[d.jsx("option",{value:"all",children:"All Events"}),n==null?void 0:n.map(h=>d.jsx("option",{value:h.id,children:h.title},h.id))]}),d.jsx("button",{onClick:u,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:d.jsx(AS,{className:"h-5 w-5"})})]})]}),d.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[d.jsx("button",{onClick:()=>o("analytics"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${r==="analytics"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Analytics"}),d.jsx("button",{onClick:()=>o("events"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${r==="events"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Event Management"}),d.jsx("button",{onClick:()=>o("orders"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${r==="orders"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Orders"})]})]})}),gM=({stats:e,onExportAll:t,quickEventButtons:n})=>{const r=E=>`£${(E/100).toFixed(2)}`,i=E=>`${E.toFixed(1)}%`;if(!e)return null;const s=(E,C)=>C===0?E>0?100:0:(E-C)/C*100,o=Math.floor(e.totalRevenue*(.7+Math.random()*.3)),u=Math.floor(e.totalOrders*(.6+Math.random()*.4)),h=Math.floor(e.totalTickets*(.65+Math.random()*.35)),p=e.conversionRate*(.8+Math.random()*.2),x=s(e.totalRevenue,o),y=s(e.totalOrders,u),N=s(e.totalTickets,h),b=s(e.conversionRate,p),j=E=>E>=15?"text-green-600 bg-green-100 border-green-200":E>=5?"text-blue-600 bg-blue-100 border-blue-200":E>=0?"text-yellow-600 bg-yellow-100 border-yellow-200":"text-red-600 bg-red-100 border-red-200",T=E=>E>=0?d.jsx(M5,{className:"h-4 w-4 text-green-500 mr-1"}):d.jsx(M5,{className:"h-4 w-4 text-red-500 mr-1 transform rotate-90"}),P=E=>E>=15?"Excellent Growth":E>=5?"Good Growth":E>=0?"Stable":"Declining";return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex items-center gap-2",children:n}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>window.location.href="/scanner",className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors shadow-sm",children:[d.jsx(MP,{className:"h-4 w-4"}),"Ticket Scanner"]}),d.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[d.jsx(hy,{className:"h-4 w-4"}),"Export Customer Data"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r(e.totalRevenue)})]}),d.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:d.jsx(u1,{className:"h-6 w-6 text-green-600"})})]}),d.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[T(x),d.jsxs("span",{className:`font-medium px-2 py-1 rounded-full text-xs border ${j(x)}`,children:[x>=0?"+":"",i(x)]}),d.jsx("span",{className:"text-gray-500 ml-2",children:"from last period"})]}),d.jsx("div",{className:"mt-2",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${x>=15?"bg-green-100 text-green-800 border-green-200":x>=5?"bg-blue-100 text-blue-800 border-blue-200":x>=0?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:P(x)})})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.totalOrders})]}),d.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:d.jsx(Ku,{className:"h-6 w-6 text-blue-600"})})]}),d.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[T(y),d.jsxs("span",{className:`font-medium px-2 py-1 rounded-full text-xs border ${j(y)}`,children:[y>=0?"+":"",i(y)]}),d.jsx("span",{className:"text-gray-500 ml-2",children:"from last period"})]}),d.jsx("div",{className:"mt-2",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${y>=15?"bg-green-100 text-green-800 border-green-200":y>=5?"bg-blue-100 text-blue-800 border-blue-200":y>=0?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:P(y)})})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tickets Sold"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.totalTickets})]}),d.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:d.jsx(Qr,{className:"h-6 w-6 text-purple-600"})})]}),d.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[T(N),d.jsxs("span",{className:`font-medium px-2 py-1 rounded-full text-xs border ${j(N)}`,children:[N>=0?"+":"",i(N)]}),d.jsx("span",{className:"text-gray-500 ml-2",children:"from last period"})]}),d.jsx("div",{className:"mt-2",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${N>=15?"bg-green-100 text-green-800 border-green-200":N>=5?"bg-blue-100 text-blue-800 border-blue-200":N>=0?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:P(N)})})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),d.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i(e.conversionRate)})]}),d.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:d.jsx(sh,{className:"h-6 w-6 text-orange-600"})})]}),d.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[T(b),d.jsxs("span",{className:`font-medium px-2 py-1 rounded-full text-xs border ${j(b)}`,children:[b>=0?"+":"",i(b)]}),d.jsx("span",{className:"text-gray-500 ml-2",children:"from last period"})]}),d.jsx("div",{className:"mt-2",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${b>=15?"bg-green-100 text-green-800 border-green-200":b>=5?"bg-blue-100 text-blue-800 border-blue-200":b>=0?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:P(b)})})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Insights"}),d.jsx("div",{className:"flex gap-2",children:d.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full border border-green-200",children:e.topPerformingEvent?"Top Event":"No Data"})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Average Order Value"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(e.averageOrderValue)})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Revenue per Ticket"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(e.totalRevenue/Math.max(1,e.totalTickets))})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Orders per Day"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:(e.totalOrders/30).toFixed(1)})]})]})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Insights"}),d.jsx("div",{className:"flex gap-2",children:d.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:e.totalOrders>0?"Active":"No Orders"})})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Events with Sales"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.revenueByEvent.filter(E=>E.revenue>0).length})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Top Tier Sales"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.ticketSalesByTier.length>0?e.ticketSalesByTier[0].tier:"N/A"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-gray-600",children:"Daily Revenue Avg"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(e.dailyRevenue.reduce((E,C)=>E+C.revenue,0)/Math.max(1,e.dailyRevenue.length))})]})]})]})]})]})},xM=({stats:e,events:t})=>{var N,b;const n=j=>`£${(j/100).toFixed(2)}`;if(!e||!t)return null;const r=()=>{const j=new Date,T=new Date(j.getTime()+7*24*60*60*1e3);return t.filter(P=>!P.isArchived).filter(P=>{const E=new Date(P.date);return E>=j&&E<=T}).sort((P,E)=>new Date(P.date).getTime()-new Date(E.date).getTime()).slice(0,3)},i=()=>{const j=t.filter(E=>!E.isArchived);if(j.length===0)return 0;const T=j.reduce((E,C)=>E+(parseInt(C.capacity)||0),0),P=e.ticketSalesByTier.reduce((E,C)=>E+C.sold,0);return T>0?P/T*100:0},s=()=>e.ticketSalesByTier.length===0?null:e.ticketSalesByTier.sort((j,T)=>T.sold-j.sold)[0],o=()=>{const j=r();if(j.length===0)return{score:0,label:"No Events",color:"gray"};const T=i(),P=j.map(M=>{const B=new Date(M.date),ne=new Date;return Math.ceil((B.getTime()-ne.getTime())/(1e3*60*60*24))});let E=0;T>=80?E+=40:T>=60?E+=30:T>=40?E+=20:E+=10;const C=P.reduce((M,B)=>M+B,0)/P.length;C<=3?E+=30:C<=7?E+=25:C<=14?E+=20:E+=15;const k=e.dailyRevenue.slice(-7).reduce((M,B)=>M+B.revenue,0);return k>=1e4?E+=30:k>=5e3?E+=25:k>=1e3?E+=20:E+=10,E>=80?{score:E,label:"Excellent",color:"green"}:E>=60?{score:E,label:"Good",color:"blue"}:E>=40?{score:E,label:"Fair",color:"yellow"}:{score:E,label:"Needs Attention",color:"red"}},u=r(),h=i(),p=s(),x=o(),y=j=>{switch(j){case"green":return d.jsx(Is,{className:"h-5 w-5 text-green-600"});case"blue":return d.jsx(sh,{className:"h-5 w-5 text-blue-600"});case"yellow":return d.jsx(l2,{className:"h-5 w-5 text-yellow-600"});case"red":return d.jsx(l2,{className:"h-5 w-5 text-red-600"});default:return d.jsx(Qs,{className:"h-5 w-5 text-gray-600"})}};return d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8 mb-8",children:[d.jsxs(Xe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Event Performance"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(yi,{className:"h-5 w-5 text-blue-600"}),d.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:"Live Data"})]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:d.jsx(yi,{className:"h-4 w-4 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upcoming Events"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Next 7 days"})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-2xl font-bold text-blue-900",children:u.length}),u.length>0&&d.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[(b=(N=u[0])==null?void 0:N.title)==null?void 0:b.slice(0,15),"..."]})]})]}),d.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-100",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:d.jsx(Qr,{className:"h-4 w-4 text-green-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Capacity"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Utilization"})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[h.toFixed(0),"%"]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-2",children:d.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-1 rounded-full transition-all duration-300",style:{width:`${Math.min(h,100)}%`}})})]})]}),d.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-100",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:d.jsx(c2,{className:"h-4 w-4 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Best Selling"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Ticket Tier"})]})]}),d.jsx("div",{className:"text-center",children:p?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"text-lg font-bold text-purple-900",children:p.tier.split(" - ")[1]}),d.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[p.sold," sold"]})]}):d.jsx("p",{className:"text-lg font-bold text-gray-400",children:"No sales yet"})})]}),d.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-100",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[d.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:y(x.color)}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Event Health"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Score"})]})]}),d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-lg font-bold text-orange-900",children:x.label}),d.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:[x.score,"/100"]})]})]})]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${h>=80?"bg-green-100 text-green-800 border-green-200":h>=60?"bg-blue-100 text-blue-800 border-blue-200":h>=40?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:[h.toFixed(0),"% Capacity Filled"]}),d.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full border border-purple-200",children:[e.ticketSalesByTier.filter(j=>j.revenue>0).length," Active Tiers"]})]})})]}),d.jsxs(Xe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Business Insights"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sh,{className:"h-5 w-5 text-gray-400"}),d.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-indigo-100 text-indigo-800 rounded-full border border-indigo-200",children:"Live Data"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:d.jsx(Qr,{className:"h-5 w-5 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Customer Acquisition"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Last 30 days"})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-lg font-bold text-blue-900",children:e.ticketSalesByTier.reduce((j,T)=>j+T.sold,0)}),d.jsx("p",{className:"text-xs text-blue-600",children:"New customers"})]})]})}),d.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:d.jsx(sh,{className:"h-5 w-5 text-green-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Revenue per Customer"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Average"})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-lg font-bold text-green-900",children:n(e.ticketSalesByTier.reduce((j,T)=>j+T.revenue,0)/Math.max(1,e.ticketSalesByTier.reduce((j,T)=>j+T.sold,0)))}),d.jsx("p",{className:"text-xs text-green-600",children:"Per customer"})]})]})}),d.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:d.jsx(yi,{className:"h-5 w-5 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Event Performance"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Success Rate"})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-lg font-bold text-purple-900",children:[e.revenueByEvent.filter(j=>j.revenue>0).length,"/",e.revenueByEvent.length]}),d.jsx("p",{className:"text-xs text-purple-600",children:"Events with sales"})]})]})})]})]})]})})},yM=({currentEvents:e,archivedEvents:t,onAddEvent:n,onEditEvent:r,onArchiveToggle:i,onDeleteEvent:s,onGuestlist:o})=>{const u=(h,p=!1)=>d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Venue"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiers"}),d.jsx("th",{className:"px-6 py-3"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(x=>{var y;return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-[220px]",children:x.title})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.date}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 truncate max-w-[180px]",children:x.venue}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((y=x.ticketTiers)==null?void 0:y.length)||0}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:d.jsxs("div",{className:"flex items-center justify-end gap-2",children:[d.jsxs("button",{onClick:()=>o(x),className:"px-3 py-1 rounded-md border border-blue-200 text-blue-700 hover:bg-blue-50 flex items-center gap-1",children:[d.jsx(Qr,{className:"h-4 w-4"}),"Guestlist"]}),d.jsx("button",{onClick:()=>r(x),className:"px-3 py-1 rounded-md border text-gray-700 hover:bg-gray-50",children:"Edit"}),d.jsx("button",{onClick:()=>i(x),className:"px-3 py-1 rounded-md border text-gray-700 hover:bg-gray-50",children:p?"Unarchive":"Archive"}),p&&d.jsx("button",{onClick:()=>s(x),className:"px-3 py-1 rounded-md border border-red-200 text-red-700 hover:bg-red-50",children:"Delete"})]})})]},x.id)})})]})})});return d.jsxs("div",{className:"space-y-10",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Manage Events"}),d.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-md text-sm",children:"Add Event"})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h4",{className:"text-md font-semibold text-gray-800",children:"Current Events"}),d.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," events"]})]}),u(e,!1)]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h4",{className:"text-md font-semibold text-gray-800",children:"Archived Events"}),d.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," events"]})]}),u(t,!0)]})]})},vM=({orders:e,events:t})=>{const[n,r]=fe.useState(""),[i,s]=fe.useState(10),[o,u]=fe.useState(1),h=E=>`£${(E/100).toFixed(2)}`,p=E=>{if(!E.scans||E.scans.length===0)return{text:"Not Scanned",color:"text-gray-500",icon:Qs};const C=E.scans.filter(B=>B.scanType==="entry"),k=E.scans.filter(B=>B.scanType==="exit"),M=E.scans[0];return C.length>0&&k.length>0?{text:"Scanned In & Out",color:"text-blue-600",icon:Is,time:new Date(M.scannedAt).toLocaleTimeString()}:C.length>0?{text:"Scanned In",color:"text-green-600",icon:Is,time:new Date(M.scannedAt).toLocaleTimeString()}:k.length>0?{text:"Scanned Out",color:"text-orange-600",icon:Rh,time:new Date(M.scannedAt).toLocaleTimeString()}:{text:"Not Scanned",color:"text-gray-500",icon:Qs}},x=e.filter(E=>{var k,M,B,ne,F;if(!n.trim())return!0;const C=n.toLowerCase();return((k=E.customerName)==null?void 0:k.toLowerCase().includes(C))||((M=E.customerEmail)==null?void 0:M.toLowerCase().includes(C))||((B=E.id)==null?void 0:B.toLowerCase().includes(C))||((F=(ne=t==null?void 0:t.find(X=>X.id===E.eventId))==null?void 0:ne.title)==null?void 0:F.toLowerCase().includes(C))}),y=Math.ceil(x.length/i),N=(o-1)*i,b=N+i,j=x.slice(N,b),T=E=>{u(E)},P=E=>{s(E),u(1)};return!e||e.length===0?d.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center",children:d.jsx("p",{className:"text-gray-500",children:"No orders to display"})}):d.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Orders"}),d.jsx("div",{className:"flex items-center gap-3",children:d.jsxs("div",{className:"relative",children:[d.jsx(SS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search orders...",value:n,onChange:E=>{r(E.target.value),u(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]})})]})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tickets"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scan Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:j.map(E=>{var M,B,ne;const C=p(E),k=C.icon;return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("span",{className:"text-sm font-medium text-gray-900 font-mono",children:[(M=E.id)==null?void 0:M.slice(0,8),"..."]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.customerName}),d.jsx("div",{className:"text-sm text-gray-500",children:E.customerEmail})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((B=t==null?void 0:t.find(F=>F.id===E.eventId))==null?void 0:B.title)||"Unknown Event"}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((ne=E.tickets)==null?void 0:ne.reduce((F,X)=>F+(X.quantity||0),0))||0}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:h(E.totalAmount||0)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${E.status==="completed"?"bg-green-100 text-green-800":E.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:E.status})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsxs("div",{className:`flex items-center gap-1 ${C.color}`,children:[d.jsx(k,{className:"h-4 w-4"}),d.jsx("span",{className:"text-xs font-medium",children:C.text})]}),C.time&&d.jsx("span",{className:"text-xs text-gray-500",children:C.time})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.createdAt).toLocaleDateString()})]},E.id)})})]})}),d.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),d.jsxs("select",{value:i,onChange:E=>P(Number(E.target.value)),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:5,children:"5"}),d.jsx("option",{value:10,children:"10"}),d.jsx("option",{value:25,children:"25"}),d.jsx("option",{value:50,children:"50"})]}),d.jsx("span",{className:"text-sm text-gray-600",children:"records"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",N+1," to ",Math.min(b,x.length)," of ",x.length," results",n&&d.jsxs("span",{className:"ml-2 text-blue-600",children:["(filtered from ",e.length," total)"]})]}),y>1&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>T(o-1),disabled:o===1,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),d.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:y},(E,C)=>C+1).map(E=>d.jsx("button",{onClick:()=>T(E),className:`px-3 py-1 text-sm font-medium rounded-md ${E===o?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"}`,children:E},E))}),d.jsx("button",{onClick:()=>T(o+1),disabled:o===y,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})})]})},wM=({orders:e,events:t})=>{const n=r=>`£${(r/100).toFixed(2)}`;return!e||e.length===0?d.jsx(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center",children:d.jsx("p",{className:"text-gray-500",children:"No recent orders to display"})}):d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"})}),d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"w-full",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>{var i,s;return d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsxs("span",{className:"text-sm font-medium text-gray-900 font-mono",children:[(i=r.id)==null?void 0:i.slice(0,8),"..."]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.customerName}),d.jsx("div",{className:"text-sm text-gray-500",children:r.customerEmail})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsx("span",{className:"text-sm text-gray-900",children:((s=t==null?void 0:t.find(o=>o.id===r.eventId))==null?void 0:s.title)||"Unknown Event"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n(r.totalAmount||0)})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${r.status==="completed"?"bg-green-100 text-green-800":r.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.status})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:new Date(r.createdAt).toLocaleDateString()})]},r.id)})})]})})]})},bM=({creatingEvents:e,onCreateEvent:t})=>d.jsxs(d.Fragment,{children:[d.jsx("button",{onClick:()=>t("sundowner"),disabled:e.includes("sundowner"),className:"px-3 py-2 bg-gradient-to-r from-orange-400 to-red-500 text-white text-sm font-medium rounded-lg hover:from-orange-500 hover:to-red-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:e.includes("sundowner")?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):d.jsx(d.Fragment,{children:"🌅 Add Sundowner"})}),d.jsx("button",{onClick:()=>t("bollywood"),disabled:e.includes("bollywood"),className:"px-3 py-2 bg-gradient-to-r from-purple-400 to-pink-500 text-white text-sm font-medium rounded-lg hover:from-purple-500 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:e.includes("bollywood")?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):d.jsx(d.Fragment,{children:"🎭 Add Bollywood Night"})}),d.jsx("button",{onClick:()=>t("carnival"),disabled:e.includes("carnival"),className:"px-3 py-2 bg-gradient-to-r from-green-400 to-blue-500 text-white text-sm font-medium rounded-lg hover:from-green-500 hover:to-blue-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:e.includes("carnival")?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):d.jsx(d.Fragment,{children:"🎪 Add Carnival"})})]}),NM=({confirm:e,onClose:t,onConfirm:n})=>e?d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:d.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 text-center",onClick:r=>r.stopPropagation(),children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.type==="delete"?"Delete Event":e.event.isArchived?"Unarchive Event":"Archive Event"}),d.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e.type==="delete"?"This will permanently delete the event and related data (if archived). This action cannot be undone.":e.event.isArchived?"This will unarchive the event and make it visible again.":"This will archive the event and hide it from public view."}),d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md border text-gray-700",children:"Cancel"}),d.jsx("button",{onClick:n,className:`px-4 py-2 rounded-md text-white ${e.type==="delete"?"bg-red-600 hover:bg-red-700":"bg-gray-900 hover:bg-gray-800"}`,children:e.type==="delete"?"Delete":e.event.isArchived?"Unarchive":"Archive"})]})]})}):null,AM=({order:e,event:t,isOpen:n,onClose:r})=>{var y,N;if(!e||!t)return null;const i=b=>`£${(b/100).toFixed(2)}`,s=b=>(typeof b=="string"?new Date(b):b).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),o=b=>(typeof b=="string"?new Date(b):b).toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"}),u=b=>{const j=new Date(b),T=new Date;let P=T.getFullYear()-j.getFullYear();const E=T.getMonth()-j.getMonth();return(E<0||E===0&&T.getDate()<j.getDate())&&P--,P},p=(()=>{if(!e.scans||e.scans.length===0)return{text:"Not Scanned",color:"text-gray-500",icon:Qs};const b=e.scans.filter(P=>P.scanType==="entry"),j=e.scans.filter(P=>P.scanType==="exit"),T=e.scans[0];return b.length>0&&j.length>0?{text:"Scanned In & Out",color:"text-blue-600",icon:Is,time:new Date(T.scannedAt).toLocaleTimeString()}:b.length>0?{text:"Scanned In",color:"text-green-600",icon:Is,time:new Date(T.scannedAt).toLocaleTimeString()}:j.length>0?{text:"Scanned Out",color:"text-orange-600",icon:Rh,time:new Date(T.scannedAt).toLocaleTimeString()}:{text:"Not Scanned",color:"text-gray-500",icon:Qs}})(),x=p.icon;return d.jsx(dy,{children:n&&d.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",onClick:r,children:d.jsxs(Xe.div,{initial:{scale:.95,opacity:0,y:20},animate:{scale:1,opacity:1,y:0},exit:{scale:.95,opacity:0,y:20},transition:{type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",onClick:b=>b.stopPropagation(),children:[d.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-6",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-12 h-12 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:d.jsx(Ku,{className:"h-6 w-6"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold",children:"Order Details"}),d.jsxs("p",{className:"text-blue-100",children:["Order ID: ",(y=e.id)==null?void 0:y.slice(0,8),"..."]})]})]}),d.jsx("button",{onClick:r,className:"w-10 h-10 bg-white bg-opacity-20 rounded-full flex items-center justify-center hover:bg-white hover:bg-opacity-30 transition-colors",children:d.jsx(Rl,{className:"h-5 w-5"})})]})}),d.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-120px)]",children:d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(vS,{className:"h-5 w-5 text-blue-600"}),"Order Information"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Status:"}),d.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full border ${e.status==="completed"?"bg-green-100 text-green-800 border-green-200":e.status==="pending"?"bg-yellow-100 text-yellow-800 border-yellow-200":e.status==="failed"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:e.status||"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),d.jsx("span",{className:"font-semibold text-gray-900",children:i(e.totalAmount||0)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Currency:"}),d.jsx("span",{className:"text-gray-900",children:((N=e.currency)==null?void 0:N.toUpperCase())||"GBP"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Order Date:"}),d.jsx("span",{className:"text-gray-900",children:s(e.createdAt)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Order Time:"}),d.jsx("span",{className:"text-gray-900",children:o(e.createdAt)})]}),e.stripePaymentIntentId&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Payment ID:"}),d.jsxs("span",{className:"text-gray-900 font-mono text-sm",children:[e.stripePaymentIntentId.slice(0,20),"..."]})]})]})]}),d.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(CS,{className:"h-5 w-5 text-green-600"}),"Customer Information"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Name:"}),d.jsx("span",{className:"font-semibold text-gray-900",children:e.customerName||"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Email:"}),d.jsx("span",{className:"text-gray-900",children:e.customerEmail||"N/A"})]}),e.customerPhone&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Phone:"}),d.jsx("span",{className:"text-gray-900",children:e.customerPhone})]}),e.customerDateOfBirth&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Date of Birth:"}),d.jsx("span",{className:"text-gray-900",children:s(e.customerDateOfBirth)})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Age:"}),d.jsxs("span",{className:"text-gray-900",children:[u(e.customerDateOfBirth)," years old"]})]})]}),e.customerGender&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Gender:"}),d.jsx("span",{className:"text-gray-900",children:e.customerGender==="prefer_not_to_say"?"Prefer not to say":e.customerGender.charAt(0).toUpperCase()+e.customerGender.slice(1)})]})]})]})]}),d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(yi,{className:"h-5 w-5 text-purple-600"}),"Event Information"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Event:"}),d.jsx("span",{className:"font-semibold text-gray-900",children:t.title})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Date:"}),d.jsx("span",{className:"text-gray-900",children:t.date})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Time:"}),d.jsx("span",{className:"text-gray-900",children:t.time})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Venue:"}),d.jsx("span",{className:"text-gray-900",children:t.venue})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Capacity:"}),d.jsxs("span",{className:"text-gray-900",children:[t.capacity," people"]})]})]})]}),d.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(Ku,{className:"h-5 w-5 text-orange-600"}),"Ticket Details"]}),e.tickets&&e.tickets.length>0?d.jsx("div",{className:"space-y-3",children:e.tickets.map((b,j)=>{var P;const T=(P=t.ticketTiers)==null?void 0:P.find(E=>E.id===b.ticketTierId);return d.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200",children:[d.jsxs("div",{className:"flex justify-between items-start mb-2",children:[d.jsx("span",{className:"font-medium text-gray-900",children:(T==null?void 0:T.name)||"Unknown Tier"}),d.jsxs("span",{className:"text-sm text-gray-500",children:["#",j+1]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Quantity:"}),d.jsx("span",{className:"text-gray-900",children:b.quantity})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Unit Price:"}),d.jsx("span",{className:"text-gray-900",children:T?i(T.price):"N/A"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Price:"}),d.jsx("span",{className:"font-semibold text-gray-900",children:i(b.totalPrice||0)})]})]})]},j)})}):d.jsx("p",{className:"text-gray-500 text-center py-4",children:"No ticket information available"})]}),d.jsxs("div",{className:"bg-gray-50 rounded-xl p-6",children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(x,{className:"h-5 w-5 text-blue-600"}),"Scan Status"]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsx("span",{className:"text-gray-600",children:"Status:"}),d.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full border ${p.color==="text-green-600"?"bg-green-100 text-green-800 border-green-200":p.color==="text-blue-600"?"bg-blue-100 text-blue-800 border-blue-200":p.color==="text-orange-600"?"bg-orange-100 text-orange-800 border-orange-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:p.text})]}),e.scans&&e.scans.length>0&&d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Scans:"}),d.jsx("span",{className:"text-gray-900",children:e.scans.length})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Last Scan:"}),d.jsxs("span",{className:"text-gray-900",children:[s(e.scans[0].scannedAt)," at ",o(e.scans[0].scannedAt)]})]}),e.scans[0].scannedBy&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Scanned By:"}),d.jsx("span",{className:"text-gray-900",children:e.scans[0].scannedBy})]}),e.scans[0].location&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Location:"}),d.jsx("span",{className:"text-gray-900",children:e.scans[0].location})]})]})]})]})]})]})}),d.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:d.jsx("div",{className:"flex justify-end gap-3",children:d.jsx("button",{onClick:r,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Close"})})})]})})})},SM=({events:e,orders:t,selectedEvent:n,onExportEventData:r})=>{var ge;const[i,s]=fe.useState(1),[o,u]=fe.useState(5),[h,p]=fe.useState(""),[x,y]=fe.useState(null),[N,b]=fe.useState(!1),j=ie=>`£${(ie/100).toFixed(2)}`,T=ie=>`${ie.toFixed(1)}%`,P=e.find(ie=>ie.id===n);if(!P)return null;const E=t.filter(ie=>ie.eventId===n);console.log("🔍 EventSpecificStats Debug:",{selectedEvent:n,totalOrders:t.length,eventOrdersCount:E.length,sampleOrder:E[0],ordersWithAge:E.filter(ie=>ie.customerDateOfBirth).length,ordersWithGender:E.filter(ie=>ie.customerGender).length});const C=E.filter(ie=>{var Ee,R,K;if(!h.trim())return!0;const xe=h.toLowerCase();return((Ee=ie.customerName)==null?void 0:Ee.toLowerCase().includes(xe))||((R=ie.customerEmail)==null?void 0:R.toLowerCase().includes(xe))||((K=ie.id)==null?void 0:K.toLowerCase().includes(xe))}),k=ie=>{if(!ie.scans||ie.scans.length===0)return{text:"Not Scanned",color:"text-gray-500",icon:Qs};const xe=ie.scans.filter(K=>K.scanType==="entry"),Ee=ie.scans.filter(K=>K.scanType==="exit"),R=ie.scans[0];return xe.length>0&&Ee.length>0?{text:"Scanned In & Out",color:"text-blue-600",icon:Is,time:new Date(R.scannedAt).toLocaleTimeString()}:xe.length>0?{text:"Scanned In",color:"text-green-600",icon:Is,time:new Date(R.scannedAt).toLocaleTimeString()}:Ee.length>0?{text:"Scanned Out",color:"text-orange-600",icon:Rh,time:new Date(R.scannedAt).toLocaleTimeString()}:{text:"Not Scanned",color:"text-gray-500",icon:Qs}},M={totalRevenue:E.reduce((ie,xe)=>ie+(xe.totalAmount||0),0),totalOrders:E.length,totalTickets:E.reduce((ie,xe)=>{var Ee;return ie+(((Ee=xe.tickets)==null?void 0:Ee.reduce((R,K)=>R+(K.quantity||0),0))||0)},0),capacity:parseInt(P.capacity||"0"),utilizationRate:parseInt(P.capacity||"0")>0?E.reduce((ie,xe)=>{var Ee;return ie+(((Ee=xe.tickets)==null?void 0:Ee.reduce((R,K)=>R+(K.quantity||0),0))||0)},0)/parseInt(P.capacity||"0")*100:0},B=((ge=P.ticketTiers)==null?void 0:ge.map(ie=>{const xe=E.filter(K=>{var ee;return(ee=K.tickets)==null?void 0:ee.some(me=>me.ticketTierId===ie.id)}),Ee=xe.reduce((K,ee)=>{var he;const me=((he=ee.tickets)==null?void 0:he.filter(ke=>ke.ticketTierId===ie.id))||[];return K+me.reduce((ke,je)=>ke+(je.totalPrice||0),0)},0),R=xe.reduce((K,ee)=>{var he;const me=((he=ee.tickets)==null?void 0:he.filter(ke=>ke.ticketTierId===ie.id))||[];return K+me.reduce((ke,je)=>ke+(je.quantity||0),0)},0);return{name:ie.name,sold:R,capacity:ie.capacity,revenue:Ee,utilizationRate:ie.capacity>0?R/ie.capacity*100:0,revenuePerTicket:R>0?Ee/R:0}}).sort((ie,xe)=>xe.revenue-ie.revenue))||[],ne=ie=>ie>=80?"bg-green-100 text-green-800 border-green-200":ie>=50?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",F=()=>{if(E.length===0)return{date:"N/A",revenue:0};const ie=E.reduce((Ee,R)=>{const K=new Date(R.createdAt).toDateString();return Ee[K]=(Ee[K]||0)+(R.totalAmount||0),Ee},{}),xe=Object.entries(ie).reduce((Ee,[R,K])=>K>Ee.revenue?{date:R,revenue:K}:Ee,{date:"",revenue:0});return{date:xe.date?new Date(xe.date).toLocaleDateString("en-GB",{month:"short",day:"numeric"}):"N/A",revenue:xe.revenue}},X=()=>E.length===0?0:new Set(E.map(xe=>new Date(xe.createdAt).toDateString())).size,J=Math.ceil(C.length/o),ve=(i-1)*o,W=ve+o,z=C.slice(ve,W),re=ie=>{s(ie)},ae=ie=>{u(ie),s(1)},te=ie=>{y(ie),b(!0)},Se=()=>{b(!1),y(null)},Ae=()=>{const ie=E.map(xe=>{var R;return((R=xe.tickets)==null?void 0:R.map(K=>{var ke,je;const ee=(ke=P.ticketTiers)==null?void 0:ke.find(Oe=>Oe.id===K.ticketTierId),me=k(xe),he=xe.scans&&xe.scans.length>0?new Date(xe.scans[0].scannedAt).toLocaleString():"Never";return{"Order ID":((je=xe.id)==null?void 0:je.slice(0,8))||"N/A","Customer Name":xe.customerName||"N/A","Customer Email":xe.customerEmail||"N/A","Ticket Tier":(ee==null?void 0:ee.name)||"Unknown Tier",Quantity:K.quantity||0,"Unit Price":ee?`£${(ee.price/100).toFixed(2)}`:"N/A","Total Price":`£${((K.totalPrice||0)/100).toFixed(2)}`,"Order Status":xe.status||"N/A","Scan Status":me.text,"Last Scan Time":he,"Order Date":new Date(xe.createdAt).toLocaleDateString(),"Order Time":new Date(xe.createdAt).toLocaleTimeString()}}))||[]}).flat();if(ie.length>0){const xe=["Order ID,Customer Name,Customer Email,Ticket Tier,Quantity,Unit Price,Total Price,Order Status,Scan Status,Last Scan Time,Order Date,Order Time",...ie.map(ee=>`${ee["Order ID"]},${ee["Customer Name"]},${ee["Customer Email"]},${ee["Ticket Tier"]},${ee.Quantity},${ee["Unit Price"]},${ee["Total Price"]},${ee["Order Status"]},${ee["Scan Status"]},${ee["Last Scan Time"]},${ee["Order Date"]},${ee["Order Time"]}`)].join(`
`),Ee=new Blob([xe],{type:"text/csv;charset=utf-8;"}),R=document.createElement("a"),K=URL.createObjectURL(Ee);R.setAttribute("href",K),R.setAttribute("download",`event-sales-${P.title.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.csv`),R.style.visibility="hidden",document.body.appendChild(R),R.click(),document.body.removeChild(R)}};return d.jsxs("div",{className:"space-y-8",children:[d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:d.jsx(yi,{className:"h-8 w-8 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:P.title}),d.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(yi,{className:"h-4 w-4"}),d.jsx("span",{children:P.date})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(Cl,{className:"h-4 w-4"}),d.jsx("span",{children:P.venue})]})]})]})]}),d.jsx("button",{onClick:()=>r(n),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:"Export Event Data"})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full border border-green-200",children:"Active Sales"}),d.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${ne(M.utilizationRate)}`,children:[T(M.utilizationRate)," Capacity Used"]}),d.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:[M.totalOrders," Orders"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsx(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:j(M.totalRevenue)})]}),d.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:d.jsx(u1,{className:"h-5 w-5 text-green-600"})})]})}),d.jsx(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tickets Sold"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.totalTickets})]}),d.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:d.jsx(Qr,{className:"h-5 w-5 text-blue-600"})})]})}),d.jsx(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Capacity Used"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:T(M.utilizationRate)})]}),d.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:d.jsx(yi,{className:"h-5 w-5 text-purple-600"})})]})}),d.jsx(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Performance"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:M.utilizationRate>=80?"Excellent":M.utilizationRate>=50?"Good":M.utilizationRate>=20?"Fair":"Poor"})]}),d.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:d.jsx(c2,{className:"h-5 w-5 text-orange-600"})})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Age Distribution"}),(()=>{const ie={"18-24":0,"25-34":0,"35-44":0,"45+":0};E.forEach(R=>{if(R.customerDateOfBirth){const K=new Date(R.customerDateOfBirth),ee=new Date;let me=ee.getFullYear()-K.getFullYear();const he=ee.getMonth()-K.getMonth();(he<0||he===0&&ee.getDate()<K.getDate())&&me--,me>=18&&me<=24?ie["18-24"]++:me>=25&&me<=34?ie["25-34"]++:me>=35&&me<=44?ie["35-44"]++:me>=45&&ie["45+"]++}});const xe=["#3B82F6","#10B981","#F59E0B","#EF4444"],Ee=Object.values(ie).reduce((R,K)=>R+K,0);return Ee>0?d.jsxs("div",{className:"flex gap-8 items-center",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsxs("div",{className:"relative w-56 h-56",children:[d.jsx("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:Object.entries(ie).map(([R,K],ee)=>{const me=Ee>0?K/Ee*100:0,he=2*Math.PI*45,ke=`${me/100*he} ${he}`,je=ee===0?0:Object.entries(ie).slice(0,ee).reduce((Oe,[He,ze])=>Oe+ze/Ee*100,0)*he/100;return d.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:xe[ee],strokeWidth:"8",strokeDasharray:ke,strokeDashoffset:-je,className:`transition-all duration-300 hover:stroke-width-10 ${K===0?"opacity-30":""}`},R)})}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-gray-900",children:Ee}),d.jsx("div",{className:"text-sm text-gray-600",children:"Customers"})]})})]})}),d.jsx("div",{className:"flex-1 space-y-2",children:Object.entries(ie).map(([R,K],ee)=>{const me=Ee>0?K/Ee*100:0;return d.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${K===0?"bg-gray-100 opacity-60":"bg-gray-50"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:xe[ee]}}),d.jsx("span",{className:`text-sm font-medium ${K===0?"text-gray-500":"text-gray-700"}`,children:R})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:`text-sm font-bold ${K===0?"text-gray-400":"text-gray-900"}`,children:K}),d.jsxs("div",{className:`text-xs ${K===0?"text-gray-400":"text-gray-500"}`,children:[me.toFixed(1),"%"]})]})]},R)})})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(Qr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),d.jsx("p",{children:"No age data available"})]})})()]}),d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Gender Distribution"}),(()=>{const ie={male:0,female:0,other:0,prefer_not_to_say:0};E.forEach(R=>{R.customerGender&&ie[R.customerGender]++});const xe=["#3B82F6","#EC4899","#10B981","#6B7280"],Ee=Object.values(ie).reduce((R,K)=>R+K,0);return Ee>0?d.jsxs("div",{className:"flex gap-8 items-center",children:[d.jsx("div",{className:"flex-shrink-0",children:d.jsxs("div",{className:"relative w-56 h-56",children:[d.jsx("svg",{className:"w-full h-full transform -rotate-90",viewBox:"0 0 100 100",children:Object.entries(ie).map(([R,K],ee)=>{const me=Ee>0?K/Ee*100:0,he=2*Math.PI*45,ke=`${me/100*he} ${he}`,je=ee===0?0:Object.entries(ie).slice(0,ee).reduce((Oe,[He,ze])=>Oe+ze/Ee*100,0)*he/100;return d.jsx("circle",{cx:"50",cy:"50",r:"45",fill:"none",stroke:xe[ee],strokeWidth:"8",strokeDasharray:ke,strokeDashoffset:-je,className:`transition-all duration-300 hover:stroke-width-10 ${K===0?"opacity-30":""}`},R)})}),d.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-3xl font-bold text-gray-900",children:Ee}),d.jsx("div",{className:"text-sm text-gray-600",children:"Customers"})]})})]})}),d.jsx("div",{className:"flex-1 space-y-2",children:Object.entries(ie).map(([R,K],ee)=>{const me=Ee>0?K/Ee*100:0,he=R==="prefer_not_to_say"?"Prefer not to say":R.charAt(0).toUpperCase()+R.slice(1);return d.jsxs("div",{className:`flex items-center justify-between p-2 rounded-lg ${K===0?"bg-gray-100 opacity-60":"bg-gray-50"}`,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:xe[ee]}}),d.jsx("span",{className:`text-sm font-medium ${K===0?"text-gray-500":"text-gray-700"}`,children:he})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:`text-sm font-bold ${K===0?"text-gray-400":"text-gray-900"}`,children:K}),d.jsxs("div",{className:`text-xs ${K===0?"text-gray-400":"text-gray-500"}`,children:[me.toFixed(1),"%"]})]})]},R)})})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(Qr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),d.jsx("p",{children:"No gender data available"})]})})()]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Ticket Tier Performance"}),B.length>0?d.jsx("div",{className:"space-y-4",children:B.map((ie,xe)=>d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${xe===0?"bg-yellow-100 text-yellow-800 border border-yellow-200":xe===1?"bg-gray-100 text-gray-800 border border-gray-200":xe===2?"bg-orange-100 text-orange-800 border border-orange-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:xe+1}),d.jsxs("div",{children:[d.jsx("span",{className:"text-sm font-medium text-gray-900",children:ie.name}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsxs("span",{className:"text-xs text-gray-500",children:[ie.sold,"/",ie.capacity," tickets"]}),d.jsxs("span",{className:`px-2 py-1 text-xs rounded-full border ${ne(ie.utilizationRate)}`,children:[T(ie.utilizationRate)," full"]})]})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-sm font-semibold text-gray-900",children:j(ie.revenue)}),d.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[j(ie.revenuePerTicket)," per ticket"]})]})]},xe))}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(c2,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),d.jsx("p",{children:"No tier data available"})]})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Event Insights"}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(sh,{className:"h-5 w-5 text-gray-400"}),d.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-indigo-100 text-indigo-800 rounded-full border border-indigo-200",children:"Analytics"})]})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:d.jsx(Qr,{className:"h-5 w-5 text-blue-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Average Order Value"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Per transaction"})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-lg font-bold text-blue-900",children:j(M.totalOrders>0?M.totalRevenue/M.totalOrders:0)}),d.jsx("p",{className:"text-xs text-blue-600",children:"Per order"})]})]})}),d.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:d.jsx(u1,{className:"h-5 w-5 text-green-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Revenue per Ticket"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Average"})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-lg font-bold text-green-900",children:j(M.totalTickets>0?M.totalRevenue/M.totalTickets:0)}),d.jsx("p",{className:"text-xs text-green-600",children:"Per ticket"})]})]})}),d.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:d.jsx(yi,{className:"h-5 w-5 text-purple-600"})}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Peak Sales Day"}),d.jsx("p",{className:"text-xs text-gray-500",children:"Best performance"})]})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-lg font-bold text-purple-900",children:F().date}),d.jsx("p",{className:"text-xs text-purple-600",children:j(F().revenue)})]})]})})]}),d.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${X()>=20?"bg-green-100 text-green-800 border-green-200":X()>=15?"bg-blue-100 text-blue-800 border-blue-200":X()>=10?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:[X()," Active Days"]}),d.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-orange-100 text-orange-800 rounded-full border border-orange-200",children:[B.filter(ie=>ie.revenue>0).length," Active Tiers"]})]})})]})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[d.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Event Orders"}),d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"relative",children:[d.jsx(SS,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),d.jsx("input",{type:"text",placeholder:"Search orders...",value:h,onChange:ie=>{p(ie.target.value),s(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-64"})]}),d.jsxs("button",{onClick:Ae,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[d.jsx(hy,{className:"h-4 w-4"}),"Export Sales Info"]})]})]})}),z.length>0?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tickets"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scan Status"}),d.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.map(ie=>{var xe,Ee;return d.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>te(ie),children:[d.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:[(xe=ie.id)==null?void 0:xe.slice(0,8),"..."]}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.customerName||"N/A"}),d.jsx("div",{className:"text-sm text-gray-500",children:ie.customerEmail||"N/A"})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsx("div",{className:"space-y-1",children:(Ee=ie.tickets)==null?void 0:Ee.map((R,K)=>{var me;const ee=(me=P.ticketTiers)==null?void 0:me.find(he=>he.id===R.ticketTierId);return d.jsxs("div",{className:"text-sm text-gray-900",children:[d.jsx("span",{className:"font-medium",children:(ee==null?void 0:ee.name)||"Unknown Tier"}),d.jsxs("span",{className:"text-gray-500 ml-2",children:["x",R.quantity]})]},K)})})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:j(ie.totalAmount||0)}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:d.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${ie.status==="completed"?"bg-green-100 text-green-800 border-green-200":ie.status==="pending"?"bg-yellow-100 text-yellow-800 border-yellow-200":ie.status==="failed"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:ie.status||"N/A"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:(()=>{const R=k(ie),K=R.icon;return d.jsxs("div",{className:"flex flex-col items-center gap-1",children:[d.jsxs("div",{className:`flex items-center gap-1 ${R.color}`,children:[d.jsx(K,{className:"h-4 w-4"}),d.jsx("span",{className:"text-xs font-medium",children:R.text})]}),R.time&&d.jsx("span",{className:"text-xs text-gray-500",children:R.time})]})})()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:new Date(ie.createdAt).toLocaleDateString()})]},ie.id)})})]})}),d.jsx("div",{className:"px-6 py-4 border-t border-gray-100",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),d.jsxs("select",{value:o,onChange:ie=>ae(Number(ie.target.value)),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[d.jsx("option",{value:5,children:"5"}),d.jsx("option",{value:10,children:"10"}),d.jsx("option",{value:25,children:"25"}),d.jsx("option",{value:50,children:"50"})]}),d.jsx("span",{className:"text-sm text-gray-600",children:"records"})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",ve+1," to ",Math.min(W,C.length)," of ",C.length," results",h&&d.jsxs("span",{className:"ml-2 text-blue-600",children:["(filtered from ",E.length," total)"]})]}),J>1&&d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("button",{onClick:()=>re(i-1),disabled:i===1,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),d.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:J},(ie,xe)=>xe+1).map(ie=>d.jsx("button",{onClick:()=>re(ie),className:`px-3 py-1 text-sm font-medium rounded-md ${ie===i?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"}`,children:ie},ie))}),d.jsx("button",{onClick:()=>re(i+1),disabled:i===J,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})})]}):d.jsxs("div",{className:"text-center py-8 text-gray-500",children:[d.jsx(Qr,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),d.jsx("p",{children:"No orders found for this event"})]})]}),d.jsx(AM,{order:x,event:P,isOpen:N,onClose:Se})]})};var Nt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Nt||(Nt={}));var wb=new Map([[Nt.QR_CODE,"QR_CODE"],[Nt.AZTEC,"AZTEC"],[Nt.CODABAR,"CODABAR"],[Nt.CODE_39,"CODE_39"],[Nt.CODE_93,"CODE_93"],[Nt.CODE_128,"CODE_128"],[Nt.DATA_MATRIX,"DATA_MATRIX"],[Nt.MAXICODE,"MAXICODE"],[Nt.ITF,"ITF"],[Nt.EAN_13,"EAN_13"],[Nt.EAN_8,"EAN_8"],[Nt.PDF_417,"PDF_417"],[Nt.RSS_14,"RSS_14"],[Nt.RSS_EXPANDED,"RSS_EXPANDED"],[Nt.UPC_A,"UPC_A"],[Nt.UPC_E,"UPC_E"],[Nt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),bb;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(bb||(bb={}));function CM(e){return Object.values(Nt).includes(e)}var _l;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(_l||(_l={}));var ma=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[_l.SCAN_TYPE_CAMERA,_l.SCAN_TYPE_FILE],e}(),u6=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!wb.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,wb.get(t))},e}(),Nb=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),A2;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(A2||(A2={}));var d6=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:A2.UNKWOWN_ERROR}},e}(),h6=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function Ma(e){return typeof e>"u"||e===null}function EM(e,t,n){return e>n?n:e<t?t:e}var _u=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),_n=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Ab=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),f6=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(t),u=0,h=o;u<h.length;u++){var p=h[u];if(s.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},e}(),S2={exports:{}};(function(e,t){(function(n,r){r(t)})(xi,function(n){function r(V){return V==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,a){V.__proto__=a}||function(V,a){for(var l in a)a.hasOwnProperty(l)&&(V[l]=a[l])};function s(V,a){i(V,a);function l(){this.constructor=V}V.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}function o(V,a){var l=Object.setPrototypeOf;l?l(V,a):V.__proto__=a}function u(V,a){a===void 0&&(a=V.constructor);var l=Error.captureStackTrace;l&&l(V,a)}var h=function(V){s(a,V);function a(l){var c=this.constructor,f=V.call(this,l)||this;return Object.defineProperty(f,"name",{value:c.name,enumerable:!1}),o(f,c.prototype),u(f),f}return a}(Error);class p extends h{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}p.kind="Exception";class x extends p{}x.kind="ArgumentException";class y extends p{}y.kind="IllegalArgumentException";class N{constructor(a){if(this.binarizer=a,a===null)throw new y("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,l){return this.binarizer.getBlackRow(a,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,l,c,f){const m=this.binarizer.getLuminanceSource().crop(a,l,c,f);return new N(this.binarizer.createBinarizer(m))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new N(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new N(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends p{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class j{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class T{static arraycopy(a,l,c,f,m){for(;m--;)c[f++]=a[l++]}static currentTimeMillis(){return Date.now()}}class P extends p{}P.kind="IndexOutOfBoundsException";class E extends P{constructor(a=void 0,l=void 0){super(l),this.index=a,this.message=l}}E.kind="ArrayIndexOutOfBoundsException";class C{static fill(a,l){for(let c=0,f=a.length;c<f;c++)a[c]=l}static fillWithin(a,l,c,f){C.rangeCheck(a.length,l,c);for(let m=l;m<c;m++)a[m]=f}static rangeCheck(a,l,c){if(l>c)throw new y("fromIndex("+l+") > toIndex("+c+")");if(l<0)throw new E(l);if(c>a)throw new E(c)}static asList(...a){return a}static create(a,l,c){return Array.from({length:a}).map(m=>Array.from({length:l}).fill(c))}static createInt32Array(a,l,c){return Array.from({length:a}).map(m=>Int32Array.from({length:l}).fill(c))}static equals(a,l){if(!a||!l||!a.length||!l.length||a.length!==l.length)return!1;for(let c=0,f=a.length;c<f;c++)if(a[c]!==l[c])return!1;return!0}static hashCode(a){if(a===null)return 0;let l=1;for(const c of a)l=31*l+c;return l}static fillUint8Array(a,l){for(let c=0;c!==a.length;c++)a[c]=l}static copyOf(a,l){return a.slice(0,l)}static copyOfUint8Array(a,l){if(a.length<=l){const c=new Uint8Array(l);return c.set(a),c}return a.slice(0,l)}static copyOfRange(a,l,c){const f=c-l,m=new Int32Array(f);return T.arraycopy(a,l,m,0,f),m}static binarySearch(a,l,c){c===void 0&&(c=C.numberComparator);let f=0,m=a.length-1;for(;f<=m;){const g=m+f>>1,w=c(l,a[g]);if(w>0)f=g+1;else if(w<0)m=g-1;else return g}return-f-1}static numberComparator(a,l){return a-l}}class k{static numberOfTrailingZeros(a){let l;if(a===0)return 32;let c=31;return l=a<<16,l!==0&&(c-=16,a=l),l=a<<8,l!==0&&(c-=8,a=l),l=a<<4,l!==0&&(c-=4,a=l),l=a<<2,l!==0&&(c-=2,a=l),c-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let l=1;return a>>>16||(l+=16,a<<=16),a>>>24||(l+=8,a<<=8),a>>>28||(l+=4,a<<=4),a>>>30||(l+=2,a<<=2),l-=a>>>31,l}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,l){return Math.trunc(a/l)}static parseInt(a,l=void 0){return parseInt(a,l)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(a,l){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,l==null?this.bits=M.makeArray(a):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const l=M.makeArray(a);T.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const l=this.size;if(a>=l)return l;const c=this.bits;let f=Math.floor(a/32),m=c[f];m&=~((1<<(a&31))-1);const g=c.length;for(;m===0;){if(++f===g)return l;m=c[f]}const w=f*32+k.numberOfTrailingZeros(m);return w>l?l:w}getNextUnset(a){const l=this.size;if(a>=l)return l;const c=this.bits;let f=Math.floor(a/32),m=~c[f];m&=~((1<<(a&31))-1);const g=c.length;for(;m===0;){if(++f===g)return l;m=~c[f]}const w=f*32+k.numberOfTrailingZeros(m);return w>l?l:w}setBulk(a,l){this.bits[Math.floor(a/32)]=l}setRange(a,l){if(l<a||a<0||l>this.size)throw new y;if(l===a)return;l--;const c=Math.floor(a/32),f=Math.floor(l/32),m=this.bits;for(let g=c;g<=f;g++){const w=g>c?0:a&31,I=(2<<(g<f?31:l&31))-(1<<w);m[g]|=I}}clear(){const a=this.bits.length,l=this.bits;for(let c=0;c<a;c++)l[c]=0}isRange(a,l,c){if(l<a||a<0||l>this.size)throw new y;if(l===a)return!0;l--;const f=Math.floor(a/32),m=Math.floor(l/32),g=this.bits;for(let w=f;w<=m;w++){const S=w>f?0:a&31,D=(2<<(w<m?31:l&31))-(1<<S)&4294967295;if((g[w]&D)!==(c?D:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,l){if(l<0||l>32)throw new y("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let c=l;c>0;c--)this.appendBit((a>>c-1&1)===1)}appendBitArray(a){const l=a.size;this.ensureCapacity(this.size+l);for(let c=0;c<l;c++)this.appendBit(a.get(c))}xor(a){if(this.size!==a.size)throw new y("Sizes don't match");const l=this.bits;for(let c=0,f=l.length;c<f;c++)l[c]^=a.bits[c]}toBytes(a,l,c,f){for(let m=0;m<f;m++){let g=0;for(let w=0;w<8;w++)this.get(a)&&(g|=1<<7-w),a++;l[c+m]=g}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),c=l+1,f=this.bits;for(let m=0;m<c;m++){let g=f[m];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,a[l-m]=g}if(this.size!==c*32){const m=c*32-this.size;let g=a[0]>>>m;for(let w=1;w<c;w++){const S=a[w];g|=S<<32-m,a[w-1]=g,g=S>>>m}a[c-1]=g}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof M))return!1;const l=a;return this.size===l.size&&C.equals(this.bits,l.bits)}hashCode(){return 31*this.size+C.hashCode(this.bits)}toString(){let a="";for(let l=0,c=this.size;l<c;l++)l&7||(a+=" "),a+=this.get(l)?"X":".";return a}clone(){return new M(this.size,this.bits.slice())}}var B;(function(V){V[V.OTHER=0]="OTHER",V[V.PURE_BARCODE=1]="PURE_BARCODE",V[V.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",V[V.TRY_HARDER=3]="TRY_HARDER",V[V.CHARACTER_SET=4]="CHARACTER_SET",V[V.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",V[V.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",V[V.ASSUME_GS1=7]="ASSUME_GS1",V[V.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",V[V.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",V[V.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(B||(B={}));var ne=B;class F extends p{static getFormatInstance(){return new F}}F.kind="FormatException";var X;(function(V){V[V.Cp437=0]="Cp437",V[V.ISO8859_1=1]="ISO8859_1",V[V.ISO8859_2=2]="ISO8859_2",V[V.ISO8859_3=3]="ISO8859_3",V[V.ISO8859_4=4]="ISO8859_4",V[V.ISO8859_5=5]="ISO8859_5",V[V.ISO8859_6=6]="ISO8859_6",V[V.ISO8859_7=7]="ISO8859_7",V[V.ISO8859_8=8]="ISO8859_8",V[V.ISO8859_9=9]="ISO8859_9",V[V.ISO8859_10=10]="ISO8859_10",V[V.ISO8859_11=11]="ISO8859_11",V[V.ISO8859_13=12]="ISO8859_13",V[V.ISO8859_14=13]="ISO8859_14",V[V.ISO8859_15=14]="ISO8859_15",V[V.ISO8859_16=15]="ISO8859_16",V[V.SJIS=16]="SJIS",V[V.Cp1250=17]="Cp1250",V[V.Cp1251=18]="Cp1251",V[V.Cp1252=19]="Cp1252",V[V.Cp1256=20]="Cp1256",V[V.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",V[V.UTF8=22]="UTF8",V[V.ASCII=23]="ASCII",V[V.Big5=24]="Big5",V[V.GB18030=25]="GB18030",V[V.EUC_KR=26]="EUC_KR"})(X||(X={}));class J{constructor(a,l,c,...f){this.valueIdentifier=a,this.name=c,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=f,J.VALUE_IDENTIFIER_TO_ECI.set(a,this),J.NAME_TO_ECI.set(c,this);const m=this.values;for(let g=0,w=m.length;g!==w;g++){const S=m[g];J.VALUES_TO_ECI.set(S,this)}for(const g of f)J.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new F("incorect value");const l=J.VALUES_TO_ECI.get(a);if(l===void 0)throw new F("incorect value");return l}static getCharacterSetECIByName(a){const l=J.NAME_TO_ECI.get(a);if(l===void 0)throw new F("incorect value");return l}equals(a){if(!(a instanceof J))return!1;const l=a;return this.getName()===l.getName()}}J.VALUE_IDENTIFIER_TO_ECI=new Map,J.VALUES_TO_ECI=new Map,J.NAME_TO_ECI=new Map,J.Cp437=new J(X.Cp437,Int32Array.from([0,2]),"Cp437"),J.ISO8859_1=new J(X.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),J.ISO8859_2=new J(X.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),J.ISO8859_3=new J(X.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),J.ISO8859_4=new J(X.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),J.ISO8859_5=new J(X.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),J.ISO8859_6=new J(X.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),J.ISO8859_7=new J(X.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),J.ISO8859_8=new J(X.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),J.ISO8859_9=new J(X.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),J.ISO8859_10=new J(X.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),J.ISO8859_11=new J(X.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),J.ISO8859_13=new J(X.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),J.ISO8859_14=new J(X.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),J.ISO8859_15=new J(X.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),J.ISO8859_16=new J(X.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),J.SJIS=new J(X.SJIS,20,"SJIS","Shift_JIS"),J.Cp1250=new J(X.Cp1250,21,"Cp1250","windows-1250"),J.Cp1251=new J(X.Cp1251,22,"Cp1251","windows-1251"),J.Cp1252=new J(X.Cp1252,23,"Cp1252","windows-1252"),J.Cp1256=new J(X.Cp1256,24,"Cp1256","windows-1256"),J.UnicodeBigUnmarked=new J(X.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),J.UTF8=new J(X.UTF8,26,"UTF8","UTF-8"),J.ASCII=new J(X.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),J.Big5=new J(X.Big5,28,"Big5"),J.GB18030=new J(X.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),J.EUC_KR=new J(X.EUC_KR,30,"EUC_KR","EUC-KR");class ve extends p{}ve.kind="UnsupportedOperationException";class W{static decode(a,l){const c=this.encodingName(l);return this.customDecoder?this.customDecoder(a,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(a,c):new TextDecoder(c).decode(a)}static shouldDecodeOnFallback(a){return!W.isBrowser()&&a==="ISO-8859-1"}static encode(a,l){const c=this.encodingName(l);return this.customEncoder?this.customEncoder(a,c):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof J?a:J.getCharacterSetECIByName(a)}static decodeFallback(a,l){const c=this.encodingCharacterSet(l);if(W.isDecodeFallbackSupported(c)){let f="";for(let m=0,g=a.length;m<g;m++){let w=a[m].toString(16);w.length<2&&(w="0"+w),f+="%"+w}return decodeURIComponent(f)}if(c.equals(J.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new ve(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals(J.UTF8)||a.equals(J.ISO8859_1)||a.equals(J.ASCII)}static encodeFallback(a){const c=btoa(unescape(encodeURIComponent(a))).split(""),f=[];for(let m=0;m<c.length;m++)f.push(c[m].charCodeAt(0));return new Uint8Array(f)}}class z{static castAsNonUtf8Char(a,l=null){const c=l?l.getName():this.ISO88591;return W.decode(new Uint8Array([a]),c)}static guessEncoding(a,l){if(l!=null&&l.get(ne.CHARACTER_SET)!==void 0)return l.get(ne.CHARACTER_SET).toString();const c=a.length;let f=!0,m=!0,g=!0,w=0,S=0,I=0,D=0,U=0,G=0,ue=0,ye=0,Ne=0,Ie=0,Ue=0;const rt=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let ot=0;ot<c&&(f||m||g);ot++){const st=a[ot]&255;g&&(w>0?st&128?w--:g=!1:st&128&&(st&64?(w++,st&32?(w++,st&16?(w++,st&8?g=!1:D++):I++):S++):g=!1)),f&&(st>127&&st<160?f=!1:st>159&&(st<192||st===215||st===247)&&Ue++),m&&(U>0?st<64||st===127||st>252?m=!1:U--:st===128||st===160||st>239?m=!1:st>160&&st<224?(G++,ye=0,ue++,ue>Ne&&(Ne=ue)):st>127?(U++,ue=0,ye++,ye>Ie&&(Ie=ye)):(ue=0,ye=0))}return g&&w>0&&(g=!1),m&&U>0&&(m=!1),g&&(rt||S+I+D>0)?z.UTF8:m&&(z.ASSUME_SHIFT_JIS||Ne>=3||Ie>=3)?z.SHIFT_JIS:f&&m?Ne===2&&G===2||Ue*10>=c?z.SHIFT_JIS:z.ISO88591:f?z.ISO88591:m?z.SHIFT_JIS:g?z.UTF8:z.PLATFORM_DEFAULT_ENCODING}static format(a,...l){let c=-1;function f(g,w,S,I,D,U){if(g==="%%")return"%";if(l[++c]===void 0)return;g=I?parseInt(I.substr(1)):void 0;let G=D?parseInt(D.substr(1)):void 0,ue;switch(U){case"s":ue=l[c];break;case"c":ue=l[c][0];break;case"f":ue=parseFloat(l[c]).toFixed(g);break;case"p":ue=parseFloat(l[c]).toPrecision(g);break;case"e":ue=parseFloat(l[c]).toExponential(g);break;case"x":ue=parseInt(l[c]).toString(G||16);break;case"d":ue=parseFloat(parseInt(l[c],G||10).toPrecision(g)).toFixed(0);break}ue=typeof ue=="object"?JSON.stringify(ue):(+ue).toString(G);let ye=parseInt(S),Ne=S&&S[0]+""=="0"?"0":" ";for(;ue.length<ye;)ue=w!==void 0?ue+Ne:Ne+ue;return ue}let m=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(m,f)}static getBytes(a,l){return W.encode(a,l)}static getCharCode(a,l=0){return a.charCodeAt(l)}static getCharAt(a){return String.fromCharCode(a)}}z.SHIFT_JIS=J.SJIS.getName(),z.GB2312="GB2312",z.ISO88591=J.ISO8859_1.getName(),z.EUC_JP="EUC_JP",z.UTF8=J.UTF8.getName(),z.PLATFORM_DEFAULT_ENCODING=z.UTF8,z.ASSUME_SHIFT_JIS=!1;class re{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=z.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,l,c){for(let f=l;l<l+c;f++)this.append(a[f]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+1)}substring(a,l){return this.value.substring(a,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+l.length)}}class ae{constructor(a,l,c,f){if(this.width=a,this.height=l,this.rowSize=c,this.bits=f,l==null&&(l=a),this.height=l,a<1||l<1)throw new y("Both dimensions must be greater than 0");c==null&&(c=Math.floor((a+31)/32)),this.rowSize=c,f==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const l=a.length,c=a[0].length,f=new ae(c,l);for(let m=0;m<l;m++){const g=a[m];for(let w=0;w<c;w++)g[w]&&f.set(w,m)}return f}static parseFromString(a,l,c){if(a===null)throw new y("stringRepresentation cannot be null");const f=new Array(a.length);let m=0,g=0,w=-1,S=0,I=0;for(;I<a.length;)if(a.charAt(I)===`
`||a.charAt(I)==="\r"){if(m>g){if(w===-1)w=m-g;else if(m-g!==w)throw new y("row lengths do not match");g=m,S++}I++}else if(a.substring(I,I+l.length)===l)I+=l.length,f[m]=!0,m++;else if(a.substring(I,I+c.length)===c)I+=c.length,f[m]=!1,m++;else throw new y("illegal character encountered: "+a.substring(I));if(m>g){if(w===-1)w=m-g;else if(m-g!==w)throw new y("row lengths do not match");S++}const D=new ae(w,S);for(let U=0;U<m;U++)f[U]&&D.set(Math.floor(U%w),Math.floor(U/w));return D}get(a,l){const c=l*this.rowSize+Math.floor(a/32);return(this.bits[c]>>>(a&31)&1)!==0}set(a,l){const c=l*this.rowSize+Math.floor(a/32);this.bits[c]|=1<<(a&31)&4294967295}unset(a,l){const c=l*this.rowSize+Math.floor(a/32);this.bits[c]&=~(1<<(a&31)&4294967295)}flip(a,l){const c=l*this.rowSize+Math.floor(a/32);this.bits[c]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new y("input matrix dimensions do not match");const l=new M(Math.floor(this.width/32)+1),c=this.rowSize,f=this.bits;for(let m=0,g=this.height;m<g;m++){const w=m*c,S=a.getRow(m,l).getBitArray();for(let I=0;I<c;I++)f[w+I]^=S[I]}}clear(){const a=this.bits,l=a.length;for(let c=0;c<l;c++)a[c]=0}setRegion(a,l,c,f){if(l<0||a<0)throw new y("Left and top must be nonnegative");if(f<1||c<1)throw new y("Height and width must be at least 1");const m=a+c,g=l+f;if(g>this.height||m>this.width)throw new y("The region must fit inside the matrix");const w=this.rowSize,S=this.bits;for(let I=l;I<g;I++){const D=I*w;for(let U=a;U<m;U++)S[D+Math.floor(U/32)]|=1<<(U&31)&4294967295}}getRow(a,l){l==null||l.getSize()<this.width?l=new M(this.width):l.clear();const c=this.rowSize,f=this.bits,m=a*c;for(let g=0;g<c;g++)l.setBulk(g*32,f[m+g]);return l}setRow(a,l){T.arraycopy(l.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),l=this.getHeight();let c=new M(a),f=new M(a);for(let m=0,g=Math.floor((l+1)/2);m<g;m++)c=this.getRow(m,c),f=this.getRow(l-1-m,f),c.reverse(),f.reverse(),this.setRow(m,f),this.setRow(l-1-m,c)}getEnclosingRectangle(){const a=this.width,l=this.height,c=this.rowSize,f=this.bits;let m=a,g=l,w=-1,S=-1;for(let I=0;I<l;I++)for(let D=0;D<c;D++){const U=f[I*c+D];if(U!==0){if(I<g&&(g=I),I>S&&(S=I),D*32<m){let G=0;for(;!(U<<31-G&4294967295);)G++;D*32+G<m&&(m=D*32+G)}if(D*32+31>w){let G=31;for(;!(U>>>G);)G--;D*32+G>w&&(w=D*32+G)}}}return w<m||S<g?null:Int32Array.from([m,g,w-m+1,S-g+1])}getTopLeftOnBit(){const a=this.rowSize,l=this.bits;let c=0;for(;c<l.length&&l[c]===0;)c++;if(c===l.length)return null;const f=c/a;let m=c%a*32;const g=l[c];let w=0;for(;!(g<<31-w&4294967295);)w++;return m+=w,Int32Array.from([m,f])}getBottomRightOnBit(){const a=this.rowSize,l=this.bits;let c=l.length-1;for(;c>=0&&l[c]===0;)c--;if(c<0)return null;const f=Math.floor(c/a);let m=Math.floor(c%a)*32;const g=l[c];let w=31;for(;!(g>>>w);)w--;return m+=w,Int32Array.from([m,f])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof ae))return!1;const l=a;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&C.equals(this.bits,l.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+C.hashCode(this.bits),a}toString(a="X ",l="  ",c=`
`){return this.buildToString(a,l,c)}buildToString(a,l,c){let f=new re;for(let m=0,g=this.height;m<g;m++){for(let w=0,S=this.width;w<S;w++)f.append(this.get(w,m)?a:l);f.append(c)}return f.toString()}clone(){return new ae(this.width,this.height,this.rowSize,this.bits.slice())}}class te extends p{static getNotFoundInstance(){return new te}}te.kind="NotFoundException";class Se extends j{constructor(a){super(a),this.luminances=Se.EMPTY,this.buckets=new Int32Array(Se.LUMINANCE_BUCKETS)}getBlackRow(a,l){const c=this.getLuminanceSource(),f=c.getWidth();l==null||l.getSize()<f?l=new M(f):l.clear(),this.initArrays(f);const m=c.getRow(a,this.luminances),g=this.buckets;for(let S=0;S<f;S++)g[(m[S]&255)>>Se.LUMINANCE_SHIFT]++;const w=Se.estimateBlackPoint(g);if(f<3)for(let S=0;S<f;S++)(m[S]&255)<w&&l.set(S);else{let S=m[0]&255,I=m[1]&255;for(let D=1;D<f-1;D++){const U=m[D+1]&255;(I*4-S-U)/2<w&&l.set(D),S=I,I=U}}return l}getBlackMatrix(){const a=this.getLuminanceSource(),l=a.getWidth(),c=a.getHeight(),f=new ae(l,c);this.initArrays(l);const m=this.buckets;for(let S=1;S<5;S++){const I=Math.floor(c*S/5),D=a.getRow(I,this.luminances),U=Math.floor(l*4/5);for(let G=Math.floor(l/5);G<U;G++){const ue=D[G]&255;m[ue>>Se.LUMINANCE_SHIFT]++}}const g=Se.estimateBlackPoint(m),w=a.getMatrix();for(let S=0;S<c;S++){const I=S*l;for(let D=0;D<l;D++)(w[I+D]&255)<g&&f.set(D,S)}return f}createBinarizer(a){return new Se(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const l=this.buckets;for(let c=0;c<Se.LUMINANCE_BUCKETS;c++)l[c]=0}static estimateBlackPoint(a){const l=a.length;let c=0,f=0,m=0;for(let D=0;D<l;D++)a[D]>m&&(f=D,m=a[D]),a[D]>c&&(c=a[D]);let g=0,w=0;for(let D=0;D<l;D++){const U=D-f,G=a[D]*U*U;G>w&&(g=D,w=G)}if(f>g){const D=f;f=g,g=D}if(g-f<=l/16)throw new te;let S=g-1,I=-1;for(let D=g-1;D>f;D--){const U=D-f,G=U*U*(g-D)*(c-a[D]);G>I&&(S=D,I=G)}return S<<Se.LUMINANCE_SHIFT}}Se.LUMINANCE_BITS=5,Se.LUMINANCE_SHIFT=8-Se.LUMINANCE_BITS,Se.LUMINANCE_BUCKETS=1<<Se.LUMINANCE_BITS,Se.EMPTY=Uint8ClampedArray.from([0]);class Ae extends Se{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),l=a.getWidth(),c=a.getHeight();if(l>=Ae.MINIMUM_DIMENSION&&c>=Ae.MINIMUM_DIMENSION){const f=a.getMatrix();let m=l>>Ae.BLOCK_SIZE_POWER;l&Ae.BLOCK_SIZE_MASK&&m++;let g=c>>Ae.BLOCK_SIZE_POWER;c&Ae.BLOCK_SIZE_MASK&&g++;const w=Ae.calculateBlackPoints(f,m,g,l,c),S=new ae(l,c);Ae.calculateThresholdForBlock(f,m,g,l,c,w,S),this.matrix=S}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new Ae(a)}static calculateThresholdForBlock(a,l,c,f,m,g,w){const S=m-Ae.BLOCK_SIZE,I=f-Ae.BLOCK_SIZE;for(let D=0;D<c;D++){let U=D<<Ae.BLOCK_SIZE_POWER;U>S&&(U=S);const G=Ae.cap(D,2,c-3);for(let ue=0;ue<l;ue++){let ye=ue<<Ae.BLOCK_SIZE_POWER;ye>I&&(ye=I);const Ne=Ae.cap(ue,2,l-3);let Ie=0;for(let rt=-2;rt<=2;rt++){const ot=g[G+rt];Ie+=ot[Ne-2]+ot[Ne-1]+ot[Ne]+ot[Ne+1]+ot[Ne+2]}const Ue=Ie/25;Ae.thresholdBlock(a,ye,U,Ue,f,w)}}}static cap(a,l,c){return a<l?l:a>c?c:a}static thresholdBlock(a,l,c,f,m,g){for(let w=0,S=c*m+l;w<Ae.BLOCK_SIZE;w++,S+=m)for(let I=0;I<Ae.BLOCK_SIZE;I++)(a[S+I]&255)<=f&&g.set(l+I,c+w)}static calculateBlackPoints(a,l,c,f,m){const g=m-Ae.BLOCK_SIZE,w=f-Ae.BLOCK_SIZE,S=new Array(c);for(let I=0;I<c;I++){S[I]=new Int32Array(l);let D=I<<Ae.BLOCK_SIZE_POWER;D>g&&(D=g);for(let U=0;U<l;U++){let G=U<<Ae.BLOCK_SIZE_POWER;G>w&&(G=w);let ue=0,ye=255,Ne=0;for(let Ue=0,rt=D*f+G;Ue<Ae.BLOCK_SIZE;Ue++,rt+=f){for(let ot=0;ot<Ae.BLOCK_SIZE;ot++){const st=a[rt+ot]&255;ue+=st,st<ye&&(ye=st),st>Ne&&(Ne=st)}if(Ne-ye>Ae.MIN_DYNAMIC_RANGE)for(Ue++,rt+=f;Ue<Ae.BLOCK_SIZE;Ue++,rt+=f)for(let ot=0;ot<Ae.BLOCK_SIZE;ot++)ue+=a[rt+ot]&255}let Ie=ue>>Ae.BLOCK_SIZE_POWER*2;if(Ne-ye<=Ae.MIN_DYNAMIC_RANGE&&(Ie=ye/2,I>0&&U>0)){const Ue=(S[I-1][U]+2*S[I][U-1]+S[I-1][U-1])/4;ye<Ue&&(Ie=Ue)}S[I][U]=Ie}}return S}}Ae.BLOCK_SIZE_POWER=3,Ae.BLOCK_SIZE=1<<Ae.BLOCK_SIZE_POWER,Ae.BLOCK_SIZE_MASK=Ae.BLOCK_SIZE-1,Ae.MINIMUM_DIMENSION=Ae.BLOCK_SIZE*5,Ae.MIN_DYNAMIC_RANGE=24;class ge{constructor(a,l){this.width=a,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,l,c,f){throw new ve("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ve("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ve("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let l=new re;for(let c=0;c<this.height;c++){const f=this.getRow(c,a);for(let m=0;m<this.width;m++){const g=f[m]&255;let w;g<64?w="#":g<128?w="+":g<192?w=".":w=" ",l.append(w)}l.append(`
`)}return l.toString()}}class ie extends ge{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,l){const c=this.delegate.getRow(a,l),f=this.getWidth();for(let m=0;m<f;m++)c[m]=255-(c[m]&255);return c}getMatrix(){const a=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(l);for(let f=0;f<l;f++)c[f]=255-(a[f]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(a,l,c,f){return new ie(this.delegate.crop(a,l,c,f))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ie(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ie(this.delegate.rotateCounterClockwise45())}}class xe extends ge{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=xe.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const l=a.getContext("2d").getImageData(0,0,a.width,a.height);return xe.toGrayscaleBuffer(l.data,a.width,a.height)}static toGrayscaleBuffer(a,l,c){const f=new Uint8ClampedArray(l*c);for(let m=0,g=0,w=a.length;m<w;m+=4,g++){let S;if(a[m+3]===0)S=255;else{const D=a[m],U=a[m+1],G=a[m+2];S=306*D+601*U+117*G+512>>10}f[g]=S}return f}getRow(a,l){if(a<0||a>=this.getHeight())throw new y("Requested row is outside the image: "+a);const c=this.getWidth(),f=a*c;return l===null?l=this.buffer.slice(f,f+c):(l.length<c&&(l=new Uint8ClampedArray(c)),l.set(this.buffer.slice(f,f+c))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,l,c,f){return super.crop(a,l,c,f),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const l=this.getTempCanvasElement(),c=l.getContext("2d"),f=a*xe.DEGREE_TO_RADIANS,m=this.canvas.width,g=this.canvas.height,w=Math.ceil(Math.abs(Math.cos(f))*m+Math.abs(Math.sin(f))*g),S=Math.ceil(Math.abs(Math.sin(f))*m+Math.abs(Math.cos(f))*g);return l.width=w,l.height=S,c.translate(w/2,S/2),c.rotate(f),c.drawImage(this.canvas,m/-2,g/-2),this.buffer=xe.makeBufferFromCanvasImageData(l),this}invert(){return new ie(this)}}xe.DEGREE_TO_RADIANS=Math.PI/180;class Ee{constructor(a,l,c){this.deviceId=a,this.label=l,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var R=(globalThis||xi||self||window||void 0)&&(globalThis||xi||self||window||void 0).__awaiter||function(V,a,l,c){function f(m){return m instanceof l?m:new l(function(g){g(m)})}return new(l||(l=Promise))(function(m,g){function w(D){try{I(c.next(D))}catch(U){g(U)}}function S(D){try{I(c.throw(D))}catch(U){g(U)}}function I(D){D.done?m(D.value):f(D.value).then(w,S)}I((c=c.apply(V,a||[])).next())})};class K{constructor(a,l=500,c){this.reader=a,this.timeBetweenScansMillis=l,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return R(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const c of a){const f=c.kind==="video"?"videoinput":c.kind;if(f!=="videoinput")continue;const m=c.deviceId||c.id,g=c.label||`Video device ${l.length+1}`,w=c.groupId,S={deviceId:m,label:g,kind:f,groupId:w};l.push(S)}return l})}getVideoInputDevices(){return R(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new Ee(l.deviceId,l.label))})}findDeviceById(a){return R(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(c=>c.deviceId===a):null})}decodeFromInputVideoDevice(a,l){return R(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,l)})}decodeOnceFromVideoDevice(a,l){return R(this,void 0,void 0,function*(){this.reset();let c;a?c={deviceId:{exact:a}}:c={facingMode:"environment"};const f={video:c};return yield this.decodeOnceFromConstraints(f,l)})}decodeOnceFromConstraints(a,l){return R(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(c,l)})}decodeOnceFromStream(a,l){return R(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(a,l);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(a,l,c){return R(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,l,c)})}decodeFromVideoDevice(a,l,c){return R(this,void 0,void 0,function*(){let f;a?f={deviceId:{exact:a}}:f={facingMode:"environment"};const m={video:f};return yield this.decodeFromConstraints(m,l,c)})}decodeFromConstraints(a,l,c){return R(this,void 0,void 0,function*(){const f=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(f,l,c)})}decodeFromStream(a,l,c){return R(this,void 0,void 0,function*(){this.reset();const f=yield this.attachStreamToVideo(a,l);return yield this.decodeContinuously(f,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,l){return R(this,void 0,void 0,function*(){const c=this.prepareVideoElement(l);return this.addVideoSource(c,a),this.videoElement=c,this.stream=a,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(a){return new Promise((l,c)=>this.playVideoOnLoad(a,()=>l()))}playVideoOnLoad(a,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",l),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return R(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,l){const c=document.getElementById(a);if(!c)throw new x(`element with id '${a}' not found`);if(c.nodeName.toLowerCase()!==l.toLowerCase())throw new x(`element with id '${a}' must be an ${l} element`);return c}decodeFromImage(a,l){if(!a&&!l)throw new x("either imageElement with a src set or an url must be provided");return l&&!a?this.decodeFromImageUrl(l):this.decodeFromImageElement(a)}decodeFromVideo(a,l){if(!a&&!l)throw new x("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,l,c){if(a===void 0&&l===void 0)throw new x("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrlContinuously(l,c):this.decodeFromVideoElementContinuously(a,c)}decodeFromImageElement(a){if(!a)throw new x("An image element must be provided.");this.reset();const l=this.prepareImageElement(a);this.imageElement=l;let c;return this.isImageLoaded(l)?c=this.decodeOnce(l,!1,!0):c=this._decodeOnLoadImage(l),c}decodeFromVideoElement(a){const l=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(a,l){const c=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(c,l)}_decodeFromVideoElementSetup(a){if(!a)throw new x("A video element must be provided.");this.reset();const l=this.prepareVideoElement(a);return this.videoElement=l,l}decodeFromImageUrl(a){if(!a)throw new x("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const c=this._decodeOnLoadImage(l);return l.src=a,c}decodeFromVideoUrl(a){if(!a)throw new x("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElement(l);return l.src=a,c}decodeFromVideoUrlContinuously(a,l){if(!a)throw new x("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),f=this.decodeFromVideoElementContinuously(c,l);return c.src=a,f}_decodeOnLoadImage(a){return new Promise((l,c)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(l,c),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return R(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,l){return R(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,l)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let l;return typeof a>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(l=a),l}prepareVideoElement(a){let l;return!a&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(l=a),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(a,l=!0,c=!0){this._stopAsyncDecode=!1;const f=(m,g)=>{if(this._stopAsyncDecode){g(new te("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const w=this.decode(a);m(w)}catch(w){const S=l&&w instanceof te,D=(w instanceof b||w instanceof F)&&c;if(S||D)return setTimeout(f,this._timeBetweenDecodingAttempts,m,g);g(w)}};return new Promise((m,g)=>f(m,g))}decodeContinuously(a,l){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const f=this.decode(a);l(f,null),setTimeout(c,this.timeBetweenScansMillis)}catch(f){l(null,f);const m=f instanceof b||f instanceof F,g=f instanceof te;(m||g)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(a){const l=this.createBinaryBitmap(a);return this.decodeBitmap(l)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,l,c){l||(l={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(a,l,c=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const l=this.getCaptureCanvas(a),c=new xe(l),f=new Ae(c);return new N(f)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const l=this.createCaptureCanvas(a);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let c,f;return typeof a<"u"&&(a instanceof HTMLVideoElement?(c=a.videoWidth,f=a.videoHeight):a instanceof HTMLImageElement&&(c=a.naturalWidth||a.width,f=a.naturalHeight||a.height)),l.style.width=c+"px",l.style.height=f+"px",l.width=c,l.height=f,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,l){try{a.srcObject=l}catch{a.src=URL.createObjectURL(l)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class ee{constructor(a,l,c=l==null?0:8*l.length,f,m,g=T.currentTimeMillis()){this.text=a,this.rawBytes=l,this.numBits=c,this.resultPoints=f,this.format=m,this.timestamp=g,this.text=a,this.rawBytes=l,c==null?this.numBits=l==null?0:8*l.length:this.numBits=c,this.resultPoints=f,this.format=m,this.resultMetadata=null,g==null?this.timestamp=T.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,l)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const l=this.resultPoints;if(l===null)this.resultPoints=a;else if(a!==null&&a.length>0){const c=new Array(l.length+a.length);T.arraycopy(l,0,c,0,l.length),T.arraycopy(a,0,c,l.length,a.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var me;(function(V){V[V.AZTEC=0]="AZTEC",V[V.CODABAR=1]="CODABAR",V[V.CODE_39=2]="CODE_39",V[V.CODE_93=3]="CODE_93",V[V.CODE_128=4]="CODE_128",V[V.DATA_MATRIX=5]="DATA_MATRIX",V[V.EAN_8=6]="EAN_8",V[V.EAN_13=7]="EAN_13",V[V.ITF=8]="ITF",V[V.MAXICODE=9]="MAXICODE",V[V.PDF_417=10]="PDF_417",V[V.QR_CODE=11]="QR_CODE",V[V.RSS_14=12]="RSS_14",V[V.RSS_EXPANDED=13]="RSS_EXPANDED",V[V.UPC_A=14]="UPC_A",V[V.UPC_E=15]="UPC_E",V[V.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(me||(me={}));var he=me,ke;(function(V){V[V.OTHER=0]="OTHER",V[V.ORIENTATION=1]="ORIENTATION",V[V.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",V[V.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",V[V.ISSUE_NUMBER=4]="ISSUE_NUMBER",V[V.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",V[V.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",V[V.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",V[V.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",V[V.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",V[V.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(ke||(ke={}));var je=ke;class Oe{constructor(a,l,c,f,m=-1,g=-1){this.rawBytes=a,this.text=l,this.byteSegments=c,this.ecLevel=f,this.structuredAppendSequenceNumber=m,this.structuredAppendParity=g,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class He{exp(a){return this.expTable[a]}log(a){if(a===0)throw new y;return this.logTable[a]}static addOrSubtract(a,l){return a^l}}class ze{constructor(a,l){if(l.length===0)throw new y;this.field=a;const c=l.length;if(c>1&&l[0]===0){let f=1;for(;f<c&&l[f]===0;)f++;f===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-f),T.arraycopy(l,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const l=this.coefficients;let c;if(a===1){c=0;for(let g=0,w=l.length;g!==w;g++){const S=l[g];c=He.addOrSubtract(c,S)}return c}c=l[0];const f=l.length,m=this.field;for(let g=1;g<f;g++)c=He.addOrSubtract(m.multiply(a,c),l[g]);return c}addOrSubtract(a){if(!this.field.equals(a.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,c=a.coefficients;if(l.length>c.length){const g=l;l=c,c=g}let f=new Int32Array(c.length);const m=c.length-l.length;T.arraycopy(c,0,f,0,m);for(let g=m;g<c.length;g++)f[g]=He.addOrSubtract(l[g-m],c[g]);return new ze(this.field,f)}multiply(a){if(!this.field.equals(a.field))throw new y("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const l=this.coefficients,c=l.length,f=a.coefficients,m=f.length,g=new Int32Array(c+m-1),w=this.field;for(let S=0;S<c;S++){const I=l[S];for(let D=0;D<m;D++)g[S+D]=He.addOrSubtract(g[S+D],w.multiply(I,f[D]))}return new ze(w,g)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const l=this.coefficients.length,c=this.field,f=new Int32Array(l),m=this.coefficients;for(let g=0;g<l;g++)f[g]=c.multiply(m[g],a);return new ze(c,f)}multiplyByMonomial(a,l){if(a<0)throw new y;if(l===0)return this.field.getZero();const c=this.coefficients,f=c.length,m=new Int32Array(f+a),g=this.field;for(let w=0;w<f;w++)m[w]=g.multiply(c[w],l);return new ze(g,m)}divide(a){if(!this.field.equals(a.field))throw new y("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new y("Divide by 0");const l=this.field;let c=l.getZero(),f=this;const m=a.getCoefficient(a.getDegree()),g=l.inverse(m);for(;f.getDegree()>=a.getDegree()&&!f.isZero();){const w=f.getDegree()-a.getDegree(),S=l.multiply(f.getCoefficient(f.getDegree()),g),I=a.multiplyByMonomial(w,S),D=l.buildMonomial(w,S);c=c.addOrSubtract(D),f=f.addOrSubtract(I)}return[c,f]}toString(){let a="";for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);if(c!==0){if(c<0?(a+=" - ",c=-c):a.length>0&&(a+=" + "),l===0||c!==1){const f=this.field.log(c);f===0?a+="1":f===1?a+="a":(a+="a^",a+=f)}l!==0&&(l===1?a+="x":(a+="x^",a+=l))}}return a}}class it extends p{}it.kind="ArithmeticException";class $e extends He{constructor(a,l,c){super(),this.primitive=a,this.size=l,this.generatorBase=c;const f=new Int32Array(l);let m=1;for(let w=0;w<l;w++)f[w]=m,m*=2,m>=l&&(m^=a,m&=l-1);this.expTable=f;const g=new Int32Array(l);for(let w=0;w<l-1;w++)g[f[w]]=w;this.logTable=g,this.zero=new ze(this,Int32Array.from([0])),this.one=new ze(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new y;if(l===0)return this.zero;const c=new Int32Array(a+1);return c[0]=l,new ze(this,c)}inverse(a){if(a===0)throw new it;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}$e.AZTEC_DATA_12=new $e(4201,4096,1),$e.AZTEC_DATA_10=new $e(1033,1024,1),$e.AZTEC_DATA_6=new $e(67,64,1),$e.AZTEC_PARAM=new $e(19,16,1),$e.QR_CODE_FIELD_256=new $e(285,256,0),$e.DATA_MATRIX_FIELD_256=new $e(301,256,1),$e.AZTEC_DATA_8=$e.DATA_MATRIX_FIELD_256,$e.MAXICODE_FIELD_64=$e.AZTEC_DATA_6;class vt extends p{}vt.kind="ReedSolomonException";class Ve extends p{}Ve.kind="IllegalStateException";class pe{constructor(a){this.field=a}decode(a,l){const c=this.field,f=new ze(c,a),m=new Int32Array(l);let g=!0;for(let ue=0;ue<l;ue++){const ye=f.evaluateAt(c.exp(ue+c.getGeneratorBase()));m[m.length-1-ue]=ye,ye!==0&&(g=!1)}if(g)return;const w=new ze(c,m),S=this.runEuclideanAlgorithm(c.buildMonomial(l,1),w,l),I=S[0],D=S[1],U=this.findErrorLocations(I),G=this.findErrorMagnitudes(D,U);for(let ue=0;ue<U.length;ue++){const ye=a.length-1-c.log(U[ue]);if(ye<0)throw new vt("Bad error location");a[ye]=$e.addOrSubtract(a[ye],G[ue])}}runEuclideanAlgorithm(a,l,c){if(a.getDegree()<l.getDegree()){const ue=a;a=l,l=ue}const f=this.field;let m=a,g=l,w=f.getZero(),S=f.getOne();for(;g.getDegree()>=(c/2|0);){let ue=m,ye=w;if(m=g,w=S,m.isZero())throw new vt("r_{i-1} was zero");g=ue;let Ne=f.getZero();const Ie=m.getCoefficient(m.getDegree()),Ue=f.inverse(Ie);for(;g.getDegree()>=m.getDegree()&&!g.isZero();){const rt=g.getDegree()-m.getDegree(),ot=f.multiply(g.getCoefficient(g.getDegree()),Ue);Ne=Ne.addOrSubtract(f.buildMonomial(rt,ot)),g=g.addOrSubtract(m.multiplyByMonomial(rt,ot))}if(S=Ne.multiply(w).addOrSubtract(ye),g.getDegree()>=m.getDegree())throw new Ve("Division algorithm failed to reduce polynomial?")}const I=S.getCoefficient(0);if(I===0)throw new vt("sigmaTilde(0) was zero");const D=f.inverse(I),U=S.multiplyScalar(D),G=g.multiplyScalar(D);return[U,G]}findErrorLocations(a){const l=a.getDegree();if(l===1)return Int32Array.from([a.getCoefficient(1)]);const c=new Int32Array(l);let f=0;const m=this.field;for(let g=1;g<m.getSize()&&f<l;g++)a.evaluateAt(g)===0&&(c[f]=m.inverse(g),f++);if(f!==l)throw new vt("Error locator degree does not match number of roots");return c}findErrorMagnitudes(a,l){const c=l.length,f=new Int32Array(c),m=this.field;for(let g=0;g<c;g++){const w=m.inverse(l[g]);let S=1;for(let I=0;I<c;I++)if(g!==I){const D=m.multiply(l[I],w),U=D&1?D&-2:D|1;S=m.multiply(S,U)}f[g]=m.multiply(a.evaluateAt(w),m.inverse(S)),m.getGeneratorBase()!==0&&(f[g]=m.multiply(f[g],w))}return f}}var bt;(function(V){V[V.UPPER=0]="UPPER",V[V.LOWER=1]="LOWER",V[V.MIXED=2]="MIXED",V[V.DIGIT=3]="DIGIT",V[V.PUNCT=4]="PUNCT",V[V.BINARY=5]="BINARY"})(bt||(bt={}));class ct{decode(a){this.ddata=a;let l=a.getBits(),c=this.extractBits(l),f=this.correctBits(c),m=ct.convertBoolArrayToByteArray(f),g=ct.getEncodedData(f),w=new Oe(m,g,null,null);return w.setNumBits(f.length),w}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let l=a.length,c=bt.UPPER,f=bt.UPPER,m="",g=0;for(;g<l;)if(f===bt.BINARY){if(l-g<5)break;let w=ct.readCode(a,g,5);if(g+=5,w===0){if(l-g<11)break;w=ct.readCode(a,g,11)+31,g+=11}for(let S=0;S<w;S++){if(l-g<8){g=l;break}const I=ct.readCode(a,g,8);m+=z.castAsNonUtf8Char(I),g+=8}f=c}else{let w=f===bt.DIGIT?4:5;if(l-g<w)break;let S=ct.readCode(a,g,w);g+=w;let I=ct.getCharacter(f,S);I.startsWith("CTRL_")?(c=f,f=ct.getTable(I.charAt(5)),I.charAt(6)==="L"&&(c=f)):(m+=I,f=c)}return m}static getTable(a){switch(a){case"L":return bt.LOWER;case"P":return bt.PUNCT;case"M":return bt.MIXED;case"D":return bt.DIGIT;case"B":return bt.BINARY;case"U":default:return bt.UPPER}}static getCharacter(a,l){switch(a){case bt.UPPER:return ct.UPPER_TABLE[l];case bt.LOWER:return ct.LOWER_TABLE[l];case bt.MIXED:return ct.MIXED_TABLE[l];case bt.PUNCT:return ct.PUNCT_TABLE[l];case bt.DIGIT:return ct.DIGIT_TABLE[l];default:throw new Ve("Bad table")}}correctBits(a){let l,c;this.ddata.getNbLayers()<=2?(c=6,l=$e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,l=$e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,l=$e.AZTEC_DATA_10):(c=12,l=$e.AZTEC_DATA_12);let f=this.ddata.getNbDatablocks(),m=a.length/c;if(m<f)throw new F;let g=a.length%c,w=new Int32Array(m);for(let G=0;G<m;G++,g+=c)w[G]=ct.readCode(a,g,c);try{new pe(l).decode(w,m-f)}catch(G){throw new F(G)}let S=(1<<c)-1,I=0;for(let G=0;G<f;G++){let ue=w[G];if(ue===0||ue===S)throw new F;(ue===1||ue===S-1)&&I++}let D=new Array(f*c-I),U=0;for(let G=0;G<f;G++){let ue=w[G];if(ue===1||ue===S-1)D.fill(ue>1,U,U+c-1),U+=c-1;else for(let ye=c-1;ye>=0;--ye)D[U++]=(ue&1<<ye)!==0}return D}extractBits(a){let l=this.ddata.isCompact(),c=this.ddata.getNbLayers(),f=(l?11:14)+c*4,m=new Int32Array(f),g=new Array(this.totalBitsInLayer(c,l));if(l)for(let w=0;w<m.length;w++)m[w]=w;else{let w=f+1+2*k.truncDivision(k.truncDivision(f,2)-1,15),S=f/2,I=k.truncDivision(w,2);for(let D=0;D<S;D++){let U=D+k.truncDivision(D,15);m[S-D-1]=I-U-1,m[S+D]=I+U+1}}for(let w=0,S=0;w<c;w++){let I=(c-w)*4+(l?9:12),D=w*2,U=f-1-D;for(let G=0;G<I;G++){let ue=G*2;for(let ye=0;ye<2;ye++)g[S+ue+ye]=a.get(m[D+ye],m[D+G]),g[S+2*I+ue+ye]=a.get(m[D+G],m[U-ye]),g[S+4*I+ue+ye]=a.get(m[U-ye],m[U-G]),g[S+6*I+ue+ye]=a.get(m[U-G],m[D+ye])}S+=I*8}return g}static readCode(a,l,c){let f=0;for(let m=l;m<l+c;m++)f<<=1,a[m]&&(f|=1);return f}static readByte(a,l){let c=a.length-l;return c>=8?ct.readCode(a,l,8):ct.readCode(a,l,c)<<8-c}static convertBoolArrayToByteArray(a){let l=new Uint8Array((a.length+7)/8);for(let c=0;c<l.length;c++)l[c]=ct.readByte(a,8*c);return l}totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}ct.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],ct.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],ct.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],ct.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],ct.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Ge{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,l,c,f){const m=a-c,g=l-f;return Math.sqrt(m*m+g*g)}static sum(a){let l=0;for(let c=0,f=a.length;c!==f;c++){const m=a[c];l+=m}return l}}class se{static floatToIntBits(a){return a}}se.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ce{constructor(a,l){this.x=a,this.y=l}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof ce){const l=a;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*se.floatToIntBits(this.x)+se.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const l=this.distance(a[0],a[1]),c=this.distance(a[1],a[2]),f=this.distance(a[0],a[2]);let m,g,w;if(c>=l&&c>=f?(g=a[0],m=a[1],w=a[2]):f>=c&&f>=l?(g=a[1],m=a[0],w=a[2]):(g=a[2],m=a[0],w=a[1]),this.crossProductZ(m,g,w)<0){const S=m;m=w,w=S}a[0]=m,a[1]=g,a[2]=w}static distance(a,l){return Ge.distance(a.x,a.y,l.x,l.y)}static crossProductZ(a,l,c){const f=l.x,m=l.y;return(c.x-f)*(a.y-m)-(c.y-m)*(a.x-f)}}class we{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class qe extends we{constructor(a,l,c,f,m){super(a,l),this.compact=c,this.nbDatablocks=f,this.nbLayers=m}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Be{constructor(a,l,c,f){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),l==null&&(l=Be.INIT_SIZE),c==null&&(c=a.getWidth()/2|0),f==null&&(f=a.getHeight()/2|0);const m=l/2|0;if(this.leftInit=c-m,this.rightInit=c+m,this.upInit=f-m,this.downInit=f+m,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new te}detect(){let a=this.leftInit,l=this.rightInit,c=this.upInit,f=this.downInit,m=!1,g=!0,w=!1,S=!1,I=!1,D=!1,U=!1;const G=this.width,ue=this.height;for(;g;){g=!1;let ye=!0;for(;(ye||!S)&&l<G;)ye=this.containsBlackPoint(c,f,l,!1),ye?(l++,g=!0,S=!0):S||l++;if(l>=G){m=!0;break}let Ne=!0;for(;(Ne||!I)&&f<ue;)Ne=this.containsBlackPoint(a,l,f,!0),Ne?(f++,g=!0,I=!0):I||f++;if(f>=ue){m=!0;break}let Ie=!0;for(;(Ie||!D)&&a>=0;)Ie=this.containsBlackPoint(c,f,a,!1),Ie?(a--,g=!0,D=!0):D||a--;if(a<0){m=!0;break}let Ue=!0;for(;(Ue||!U)&&c>=0;)Ue=this.containsBlackPoint(a,l,c,!0),Ue?(c--,g=!0,U=!0):U||c--;if(c<0){m=!0;break}g&&(w=!0)}if(!m&&w){const ye=l-a;let Ne=null;for(let ot=1;Ne===null&&ot<ye;ot++)Ne=this.getBlackPointOnSegment(a,f-ot,a+ot,f);if(Ne==null)throw new te;let Ie=null;for(let ot=1;Ie===null&&ot<ye;ot++)Ie=this.getBlackPointOnSegment(a,c+ot,a+ot,c);if(Ie==null)throw new te;let Ue=null;for(let ot=1;Ue===null&&ot<ye;ot++)Ue=this.getBlackPointOnSegment(l,c+ot,l-ot,c);if(Ue==null)throw new te;let rt=null;for(let ot=1;rt===null&&ot<ye;ot++)rt=this.getBlackPointOnSegment(l,f-ot,l-ot,f);if(rt==null)throw new te;return this.centerEdges(rt,Ne,Ue,Ie)}else throw new te}getBlackPointOnSegment(a,l,c,f){const m=Ge.round(Ge.distance(a,l,c,f)),g=(c-a)/m,w=(f-l)/m,S=this.image;for(let I=0;I<m;I++){const D=Ge.round(a+I*g),U=Ge.round(l+I*w);if(S.get(D,U))return new ce(D,U)}return null}centerEdges(a,l,c,f){const m=a.getX(),g=a.getY(),w=l.getX(),S=l.getY(),I=c.getX(),D=c.getY(),U=f.getX(),G=f.getY(),ue=Be.CORR;return m<this.width/2?[new ce(U-ue,G+ue),new ce(w+ue,S+ue),new ce(I-ue,D-ue),new ce(m+ue,g-ue)]:[new ce(U+ue,G+ue),new ce(w+ue,S-ue),new ce(I-ue,D+ue),new ce(m-ue,g-ue)]}containsBlackPoint(a,l,c,f){const m=this.image;if(f){for(let g=a;g<=l;g++)if(m.get(g,c))return!0}else for(let g=a;g<=l;g++)if(m.get(c,g))return!0;return!1}}Be.INIT_SIZE=10,Be.CORR=1;class We{static checkAndNudgePoints(a,l){const c=a.getWidth(),f=a.getHeight();let m=!0;for(let g=0;g<l.length&&m;g+=2){const w=Math.floor(l[g]),S=Math.floor(l[g+1]);if(w<-1||w>c||S<-1||S>f)throw new te;m=!1,w===-1?(l[g]=0,m=!0):w===c&&(l[g]=c-1,m=!0),S===-1?(l[g+1]=0,m=!0):S===f&&(l[g+1]=f-1,m=!0)}m=!0;for(let g=l.length-2;g>=0&&m;g-=2){const w=Math.floor(l[g]),S=Math.floor(l[g+1]);if(w<-1||w>c||S<-1||S>f)throw new te;m=!1,w===-1?(l[g]=0,m=!0):w===c&&(l[g]=c-1,m=!0),S===-1?(l[g+1]=0,m=!0):S===f&&(l[g+1]=f-1,m=!0)}}}class Je{constructor(a,l,c,f,m,g,w,S,I){this.a11=a,this.a21=l,this.a31=c,this.a12=f,this.a22=m,this.a32=g,this.a13=w,this.a23=S,this.a33=I}static quadrilateralToQuadrilateral(a,l,c,f,m,g,w,S,I,D,U,G,ue,ye,Ne,Ie){const Ue=Je.quadrilateralToSquare(a,l,c,f,m,g,w,S);return Je.squareToQuadrilateral(I,D,U,G,ue,ye,Ne,Ie).times(Ue)}transformPoints(a){const l=a.length,c=this.a11,f=this.a12,m=this.a13,g=this.a21,w=this.a22,S=this.a23,I=this.a31,D=this.a32,U=this.a33;for(let G=0;G<l;G+=2){const ue=a[G],ye=a[G+1],Ne=m*ue+S*ye+U;a[G]=(c*ue+g*ye+I)/Ne,a[G+1]=(f*ue+w*ye+D)/Ne}}transformPointsWithValues(a,l){const c=this.a11,f=this.a12,m=this.a13,g=this.a21,w=this.a22,S=this.a23,I=this.a31,D=this.a32,U=this.a33,G=a.length;for(let ue=0;ue<G;ue++){const ye=a[ue],Ne=l[ue],Ie=m*ye+S*Ne+U;a[ue]=(c*ye+g*Ne+I)/Ie,l[ue]=(f*ye+w*Ne+D)/Ie}}static squareToQuadrilateral(a,l,c,f,m,g,w,S){const I=a-c+m-w,D=l-f+g-S;if(I===0&&D===0)return new Je(c-a,m-c,a,f-l,g-f,l,0,0,1);{const U=c-m,G=w-m,ue=f-g,ye=S-g,Ne=U*ye-G*ue,Ie=(I*ye-G*D)/Ne,Ue=(U*D-I*ue)/Ne;return new Je(c-a+Ie*c,w-a+Ue*w,a,f-l+Ie*f,S-l+Ue*S,l,Ie,Ue,1)}}static quadrilateralToSquare(a,l,c,f,m,g,w,S){return Je.squareToQuadrilateral(a,l,c,f,m,g,w,S).buildAdjoint()}buildAdjoint(){return new Je(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new Je(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class yt extends We{sampleGrid(a,l,c,f,m,g,w,S,I,D,U,G,ue,ye,Ne,Ie,Ue,rt,ot){const st=Je.quadrilateralToQuadrilateral(f,m,g,w,S,I,D,U,G,ue,ye,Ne,Ie,Ue,rt,ot);return this.sampleGridWithTransform(a,l,c,st)}sampleGridWithTransform(a,l,c,f){if(l<=0||c<=0)throw new te;const m=new ae(l,c),g=new Float32Array(2*l);for(let w=0;w<c;w++){const S=g.length,I=w+.5;for(let D=0;D<S;D+=2)g[D]=D/2+.5,g[D+1]=I;f.transformPoints(g),We.checkAndNudgePoints(a,g);try{for(let D=0;D<S;D+=2)a.get(Math.floor(g[D]),Math.floor(g[D+1]))&&m.set(D/2,w)}catch{throw new te}}return m}}class xt{static setGridSampler(a){xt.gridSampler=a}static getInstance(){return xt.gridSampler}}xt.gridSampler=new yt;class ht{constructor(a,l){this.x=a,this.y=l}toResultPoint(){return new ce(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Mt{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let l=this.getMatrixCenter(),c=this.getBullsEyeCorners(l);if(a){let g=c[0];c[0]=c[2],c[2]=g}this.extractParameters(c);let f=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),m=this.getMatrixCornerPoints(c);return new qe(f,m,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new te;let l=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(a[0],a[1],l),this.sampleLine(a[1],a[2],l),this.sampleLine(a[2],a[3],l),this.sampleLine(a[3],a[0],l)]);this.shift=this.getRotation(c,l);let f=0;for(let g=0;g<4;g++){let w=c[(this.shift+g)%4];this.compact?(f<<=7,f+=w>>1&127):(f<<=10,f+=(w>>2&992)+(w>>1&31))}let m=this.getCorrectedParameterData(f,this.compact);this.compact?(this.nbLayers=(m>>6)+1,this.nbDataBlocks=(m&63)+1):(this.nbLayers=(m>>11)+1,this.nbDataBlocks=(m&2047)+1)}getRotation(a,l){let c=0;a.forEach((f,m,g)=>{let w=(f>>l-2<<1)+(f&1);c=(c<<3)+w}),c=((c&1)<<11)+(c>>1);for(let f=0;f<4;f++)if(k.bitCount(c^this.EXPECTED_CORNER_BITS[f])<=2)return f;throw new te}getCorrectedParameterData(a,l){let c,f;l?(c=7,f=2):(c=10,f=4);let m=c-f,g=new Int32Array(c);for(let S=c-1;S>=0;--S)g[S]=a&15,a>>=4;try{new pe($e.AZTEC_PARAM).decode(g,m)}catch{throw new te}let w=0;for(let S=0;S<f;S++)w=(w<<4)+g[S];return w}getBullsEyeCorners(a){let l=a,c=a,f=a,m=a,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let U=this.getFirstDifferent(l,g,1,-1),G=this.getFirstDifferent(c,g,1,1),ue=this.getFirstDifferent(f,g,-1,1),ye=this.getFirstDifferent(m,g,-1,-1);if(this.nbCenterLayers>2){let Ne=this.distancePoint(ye,U)*this.nbCenterLayers/(this.distancePoint(m,l)*(this.nbCenterLayers+2));if(Ne<.75||Ne>1.25||!this.isWhiteOrBlackRectangle(U,G,ue,ye))break}l=U,c=G,f=ue,m=ye,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new te;this.compact=this.nbCenterLayers===5;let w=new ce(l.getX()+.5,l.getY()-.5),S=new ce(c.getX()+.5,c.getY()+.5),I=new ce(f.getX()-.5,f.getY()+.5),D=new ce(m.getX()-.5,m.getY()-.5);return this.expandSquare([w,S,I,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,l,c,f;try{let w=new Be(this.image).detect();a=w[0],l=w[1],c=w[2],f=w[3]}catch{let S=this.image.getWidth()/2,I=this.image.getHeight()/2;a=this.getFirstDifferent(new ht(S+7,I-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new ht(S+7,I+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new ht(S-7,I+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new ht(S-7,I-7),!1,-1,-1).toResultPoint()}let m=Ge.round((a.getX()+f.getX()+l.getX()+c.getX())/4),g=Ge.round((a.getY()+f.getY()+l.getY()+c.getY())/4);try{let w=new Be(this.image,15,m,g).detect();a=w[0],l=w[1],c=w[2],f=w[3]}catch{a=this.getFirstDifferent(new ht(m+7,g-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new ht(m+7,g+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new ht(m-7,g+7),!1,-1,1).toResultPoint(),f=this.getFirstDifferent(new ht(m-7,g-7),!1,-1,-1).toResultPoint()}return m=Ge.round((a.getX()+f.getX()+l.getX()+c.getX())/4),g=Ge.round((a.getY()+f.getY()+l.getY()+c.getY())/4),new ht(m,g)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,l,c,f,m){let g=xt.getInstance(),w=this.getDimension(),S=w/2-this.nbCenterLayers,I=w/2+this.nbCenterLayers;return g.sampleGrid(a,w,w,S,S,I,S,I,I,S,I,l.getX(),l.getY(),c.getX(),c.getY(),f.getX(),f.getY(),m.getX(),m.getY())}sampleLine(a,l,c){let f=0,m=this.distanceResultPoint(a,l),g=m/c,w=a.getX(),S=a.getY(),I=g*(l.getX()-a.getX())/m,D=g*(l.getY()-a.getY())/m;for(let U=0;U<c;U++)this.image.get(Ge.round(w+U*I),Ge.round(S+U*D))&&(f|=1<<c-U-1);return f}isWhiteOrBlackRectangle(a,l,c,f){let m=3;a=new ht(a.getX()-m,a.getY()+m),l=new ht(l.getX()-m,l.getY()-m),c=new ht(c.getX()+m,c.getY()-m),f=new ht(f.getX()+m,f.getY()+m);let g=this.getColor(f,a);if(g===0)return!1;let w=this.getColor(a,l);return w!==g||(w=this.getColor(l,c),w!==g)?!1:(w=this.getColor(c,f),w===g)}getColor(a,l){let c=this.distancePoint(a,l),f=(l.getX()-a.getX())/c,m=(l.getY()-a.getY())/c,g=0,w=a.getX(),S=a.getY(),I=this.image.get(a.getX(),a.getY()),D=Math.ceil(c);for(let G=0;G<D;G++)w+=f,S+=m,this.image.get(Ge.round(w),Ge.round(S))!==I&&g++;let U=g/c;return U>.1&&U<.9?0:U<=.1===I?1:-1}getFirstDifferent(a,l,c,f){let m=a.getX()+c,g=a.getY()+f;for(;this.isValid(m,g)&&this.image.get(m,g)===l;)m+=c,g+=f;for(m-=c,g-=f;this.isValid(m,g)&&this.image.get(m,g)===l;)m+=c;for(m-=c;this.isValid(m,g)&&this.image.get(m,g)===l;)g+=f;return g-=f,new ht(m,g)}expandSquare(a,l,c){let f=c/(2*l),m=a[0].getX()-a[2].getX(),g=a[0].getY()-a[2].getY(),w=(a[0].getX()+a[2].getX())/2,S=(a[0].getY()+a[2].getY())/2,I=new ce(w+f*m,S+f*g),D=new ce(w-f*m,S-f*g);m=a[1].getX()-a[3].getX(),g=a[1].getY()-a[3].getY(),w=(a[1].getX()+a[3].getX())/2,S=(a[1].getY()+a[3].getY())/2;let U=new ce(w+f*m,S+f*g),G=new ce(w-f*m,S-f*g);return[I,U,D,G]}isValid(a,l){return a>=0&&a<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(a){let l=Ge.round(a.getX()),c=Ge.round(a.getY());return this.isValid(l,c)}distancePoint(a,l){return Ge.distance(a.getX(),a.getY(),l.getX(),l.getY())}distanceResultPoint(a,l){return Ge.distance(a.getX(),a.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class dt{decode(a,l=null){let c=null,f=new Mt(a.getBlackMatrix()),m=null,g=null;try{let D=f.detectMirror(!1);m=D.getPoints(),this.reportFoundResultPoints(l,m),g=new ct().decode(D)}catch(D){c=D}if(g==null)try{let D=f.detectMirror(!0);m=D.getPoints(),this.reportFoundResultPoints(l,m),g=new ct().decode(D)}catch(D){throw c??D}let w=new ee(g.getText(),g.getRawBytes(),g.getNumBits(),m,he.AZTEC,T.currentTimeMillis()),S=g.getByteSegments();S!=null&&w.putMetadata(je.BYTE_SEGMENTS,S);let I=g.getECLevel();return I!=null&&w.putMetadata(je.ERROR_CORRECTION_LEVEL,I),w}reportFoundResultPoints(a,l){if(a!=null){let c=a.get(ne.NEED_RESULT_POINT_CALLBACK);c!=null&&l.forEach((f,m,g)=>{c.foundPossibleResultPoint(f)})}}reset(){}}class kn extends K{constructor(a=500){super(new dt,a)}}class Et{decode(a,l){try{return this.doDecode(a,l)}catch{if(l&&l.get(ne.TRY_HARDER)===!0&&a.isRotateSupported()){const m=a.rotateCounterClockwise(),g=this.doDecode(m,l),w=g.getResultMetadata();let S=270;w!==null&&w.get(je.ORIENTATION)===!0&&(S=S+w.get(je.ORIENTATION)%360),g.putMetadata(je.ORIENTATION,S);const I=g.getResultPoints();if(I!==null){const D=m.getHeight();for(let U=0;U<I.length;U++)I[U]=new ce(D-I[U].getY()-1,I[U].getX())}return g}else throw new te}}reset(){}doDecode(a,l){const c=a.getWidth(),f=a.getHeight();let m=new M(c);const g=l&&l.get(ne.TRY_HARDER)===!0,w=Math.max(1,f>>(g?8:5));let S;g?S=f:S=15;const I=Math.trunc(f/2);for(let D=0;D<S;D++){const U=Math.trunc((D+1)/2),G=(D&1)===0,ue=I+w*(G?U:-U);if(ue<0||ue>=f)break;try{m=a.getBlackRow(ue,m)}catch{continue}for(let ye=0;ye<2;ye++){if(ye===1&&(m.reverse(),l&&l.get(ne.NEED_RESULT_POINT_CALLBACK)===!0)){const Ne=new Map;l.forEach((Ie,Ue)=>Ne.set(Ue,Ie)),Ne.delete(ne.NEED_RESULT_POINT_CALLBACK),l=Ne}try{const Ne=this.decodeRow(ue,m,l);if(ye===1){Ne.putMetadata(je.ORIENTATION,180);const Ie=Ne.getResultPoints();Ie!==null&&(Ie[0]=new ce(c-Ie[0].getX()-1,Ie[0].getY()),Ie[1]=new ce(c-Ie[1].getX()-1,Ie[1].getY()))}return Ne}catch{}}}throw new te}static recordPattern(a,l,c){const f=c.length;for(let I=0;I<f;I++)c[I]=0;const m=a.getSize();if(l>=m)throw new te;let g=!a.get(l),w=0,S=l;for(;S<m;){if(a.get(S)!==g)c[w]++;else{if(++w===f)break;c[w]=1,g=!g}S++}if(!(w===f||w===f-1&&S===m))throw new te}static recordPatternInReverse(a,l,c){let f=c.length,m=a.get(l);for(;l>0&&f>=0;)a.get(--l)!==m&&(f--,m=!m);if(f>=0)throw new te;Et.recordPattern(a,l+1,c)}static patternMatchVariance(a,l,c){const f=a.length;let m=0,g=0;for(let I=0;I<f;I++)m+=a[I],g+=l[I];if(m<g)return Number.POSITIVE_INFINITY;const w=m/g;c*=w;let S=0;for(let I=0;I<f;I++){const D=a[I],U=l[I]*w,G=D>U?D-U:U-D;if(G>c)return Number.POSITIVE_INFINITY;S+=G}return S/m}}class lt extends Et{static findStartPattern(a){const l=a.getSize(),c=a.getNextSet(0);let f=0,m=Int32Array.from([0,0,0,0,0,0]),g=c,w=!1;const S=6;for(let I=c;I<l;I++)if(a.get(I)!==w)m[f]++;else{if(f===S-1){let D=lt.MAX_AVG_VARIANCE,U=-1;for(let G=lt.CODE_START_A;G<=lt.CODE_START_C;G++){const ue=Et.patternMatchVariance(m,lt.CODE_PATTERNS[G],lt.MAX_INDIVIDUAL_VARIANCE);ue<D&&(D=ue,U=G)}if(U>=0&&a.isRange(Math.max(0,g-(I-g)/2),g,!1))return Int32Array.from([g,I,U]);g+=m[0]+m[1],m=m.slice(2,m.length-1),m[f-1]=0,m[f]=0,f--}else f++;m[f]=1,w=!w}throw new te}static decodeCode(a,l,c){Et.recordPattern(a,c,l);let f=lt.MAX_AVG_VARIANCE,m=-1;for(let g=0;g<lt.CODE_PATTERNS.length;g++){const w=lt.CODE_PATTERNS[g],S=this.patternMatchVariance(l,w,lt.MAX_INDIVIDUAL_VARIANCE);S<f&&(f=S,m=g)}if(m>=0)return m;throw new te}decodeRow(a,l,c){const f=c&&c.get(ne.ASSUME_GS1)===!0,m=lt.findStartPattern(l),g=m[2];let w=0;const S=new Uint8Array(20);S[w++]=g;let I;switch(g){case lt.CODE_START_A:I=lt.CODE_CODE_A;break;case lt.CODE_START_B:I=lt.CODE_CODE_B;break;case lt.CODE_START_C:I=lt.CODE_CODE_C;break;default:throw new F}let D=!1,U=!1,G="",ue=m[0],ye=m[1];const Ne=Int32Array.from([0,0,0,0,0,0]);let Ie=0,Ue=0,rt=g,ot=0,st=!0,tn=!1,Vt=!1;for(;!D;){const Fs=U;switch(U=!1,Ie=Ue,Ue=lt.decodeCode(l,Ne,ye),S[w++]=Ue,Ue!==lt.CODE_STOP&&(st=!0),Ue!==lt.CODE_STOP&&(ot++,rt+=ot*Ue),ue=ye,ye+=Ne.reduce((Ji,es)=>Ji+es,0),Ue){case lt.CODE_START_A:case lt.CODE_START_B:case lt.CODE_START_C:throw new F}switch(I){case lt.CODE_CODE_A:if(Ue<64)Vt===tn?G+=String.fromCharCode(32+Ue):G+=String.fromCharCode(32+Ue+128),Vt=!1;else if(Ue<96)Vt===tn?G+=String.fromCharCode(Ue-64):G+=String.fromCharCode(Ue+64),Vt=!1;else switch(Ue!==lt.CODE_STOP&&(st=!1),Ue){case lt.CODE_FNC_1:f&&(G.length===0?G+="]C1":G+="");break;case lt.CODE_FNC_2:case lt.CODE_FNC_3:break;case lt.CODE_FNC_4_A:!tn&&Vt?(tn=!0,Vt=!1):tn&&Vt?(tn=!1,Vt=!1):Vt=!0;break;case lt.CODE_SHIFT:U=!0,I=lt.CODE_CODE_B;break;case lt.CODE_CODE_B:I=lt.CODE_CODE_B;break;case lt.CODE_CODE_C:I=lt.CODE_CODE_C;break;case lt.CODE_STOP:D=!0;break}break;case lt.CODE_CODE_B:if(Ue<96)Vt===tn?G+=String.fromCharCode(32+Ue):G+=String.fromCharCode(32+Ue+128),Vt=!1;else switch(Ue!==lt.CODE_STOP&&(st=!1),Ue){case lt.CODE_FNC_1:f&&(G.length===0?G+="]C1":G+="");break;case lt.CODE_FNC_2:case lt.CODE_FNC_3:break;case lt.CODE_FNC_4_B:!tn&&Vt?(tn=!0,Vt=!1):tn&&Vt?(tn=!1,Vt=!1):Vt=!0;break;case lt.CODE_SHIFT:U=!0,I=lt.CODE_CODE_A;break;case lt.CODE_CODE_A:I=lt.CODE_CODE_A;break;case lt.CODE_CODE_C:I=lt.CODE_CODE_C;break;case lt.CODE_STOP:D=!0;break}break;case lt.CODE_CODE_C:if(Ue<100)Ue<10&&(G+="0"),G+=Ue;else switch(Ue!==lt.CODE_STOP&&(st=!1),Ue){case lt.CODE_FNC_1:f&&(G.length===0?G+="]C1":G+="");break;case lt.CODE_CODE_A:I=lt.CODE_CODE_A;break;case lt.CODE_CODE_B:I=lt.CODE_CODE_B;break;case lt.CODE_STOP:D=!0;break}break}Fs&&(I=I===lt.CODE_CODE_A?lt.CODE_CODE_B:lt.CODE_CODE_A)}const xr=ye-ue;if(ye=l.getNextUnset(ye),!l.isRange(ye,Math.min(l.getSize(),ye+(ye-ue)/2),!1))throw new te;if(rt-=ot*Ie,rt%103!==Ie)throw new b;const $r=G.length;if($r===0)throw new te;$r>0&&st&&(I===lt.CODE_CODE_C?G=G.substring(0,$r-2):G=G.substring(0,$r-1));const cr=(m[1]+m[0])/2,fn=ue+xr/2,rr=S.length,Er=new Uint8Array(rr);for(let Fs=0;Fs<rr;Fs++)Er[Fs]=S[Fs];const zi=[new ce(cr,a),new ce(fn,a)];return new ee(G,Er,0,zi,he.CODE_128,new Date().getTime())}}lt.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],lt.MAX_AVG_VARIANCE=.25,lt.MAX_INDIVIDUAL_VARIANCE=.7,lt.CODE_SHIFT=98,lt.CODE_CODE_C=99,lt.CODE_CODE_B=100,lt.CODE_CODE_A=101,lt.CODE_FNC_1=102,lt.CODE_FNC_2=97,lt.CODE_FNC_3=96,lt.CODE_FNC_4_A=101,lt.CODE_FNC_4_B=100,lt.CODE_START_A=103,lt.CODE_START_B=104,lt.CODE_START_C=105,lt.CODE_STOP=106;class Bt extends Et{constructor(a=!1,l=!1){super(),this.usingCheckDigit=a,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,l,c){let f=this.counters;f.fill(0),this.decodeRowResult="";let m=Bt.findAsteriskPattern(l,f),g=l.getNextSet(m[1]),w=l.getSize(),S,I;do{Bt.recordPattern(l,g,f);let Ne=Bt.toNarrowWidePattern(f);if(Ne<0)throw new te;S=Bt.patternToChar(Ne),this.decodeRowResult+=S,I=g;for(let Ie of f)g+=Ie;g=l.getNextSet(g)}while(S!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let Ne of f)D+=Ne;let U=g-I-D;if(g!==w&&U*2<D)throw new te;if(this.usingCheckDigit){let Ne=this.decodeRowResult.length-1,Ie=0;for(let Ue=0;Ue<Ne;Ue++)Ie+=Bt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ue));if(this.decodeRowResult.charAt(Ne)!==Bt.ALPHABET_STRING.charAt(Ie%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,Ne)}if(this.decodeRowResult.length===0)throw new te;let G;this.extendedMode?G=Bt.decodeExtended(this.decodeRowResult):G=this.decodeRowResult;let ue=(m[1]+m[0])/2,ye=I+D/2;return new ee(G,null,0,[new ce(ue,a),new ce(ye,a)],he.CODE_39,new Date().getTime())}static findAsteriskPattern(a,l){let c=a.getSize(),f=a.getNextSet(0),m=0,g=f,w=!1,S=l.length;for(let I=f;I<c;I++)if(a.get(I)!==w)l[m]++;else{if(m===S-1){if(this.toNarrowWidePattern(l)===Bt.ASTERISK_ENCODING&&a.isRange(Math.max(0,g-Math.floor((I-g)/2)),g,!1))return[g,I];g+=l[0]+l[1],l.copyWithin(0,2,2+m-1),l[m-1]=0,l[m]=0,m--}else m++;l[m]=1,w=!w}throw new te}static toNarrowWidePattern(a){let l=a.length,c=0,f;do{let m=2147483647;for(let S of a)S<m&&S>c&&(m=S);c=m,f=0;let g=0,w=0;for(let S=0;S<l;S++){let I=a[S];I>c&&(w|=1<<l-1-S,f++,g+=I)}if(f===3){for(let S=0;S<l&&f>0;S++){let I=a[S];if(I>c&&(f--,I*2>=g))return-1}return w}}while(f>3);return-1}static patternToChar(a){for(let l=0;l<Bt.CHARACTER_ENCODINGS.length;l++)if(Bt.CHARACTER_ENCODINGS[l]===a)return Bt.ALPHABET_STRING.charAt(l);if(a===Bt.ASTERISK_ENCODING)return"*";throw new te}static decodeExtended(a){let l=a.length,c="";for(let f=0;f<l;f++){let m=a.charAt(f);if(m==="+"||m==="$"||m==="%"||m==="/"){let g=a.charAt(f+1),w="\0";switch(m){case"+":if(g>="A"&&g<="Z")w=String.fromCharCode(g.charCodeAt(0)+32);else throw new F;break;case"$":if(g>="A"&&g<="Z")w=String.fromCharCode(g.charCodeAt(0)-64);else throw new F;break;case"%":if(g>="A"&&g<="E")w=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")w=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")w=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")w=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")w="\0";else if(g==="V")w="@";else if(g==="W")w="`";else if(g==="X"||g==="Y"||g==="Z")w="";else throw new F;break;case"/":if(g>="A"&&g<="O")w=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")w=":";else throw new F;break}c+=w,f++}else c+=m}return c}}Bt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Bt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Bt.ASTERISK_ENCODING=148;class Pt extends Et{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,l,c){let f=this.decodeStart(l),m=this.decodeEnd(l),g=new re;Pt.decodeMiddle(l,f[1],m[0],g);let w=g.toString(),S=null;c!=null&&(S=c.get(ne.ALLOWED_LENGTHS)),S==null&&(S=Pt.DEFAULT_ALLOWED_LENGTHS);let I=w.length,D=!1,U=0;for(let ye of S){if(I===ye){D=!0;break}ye>U&&(U=ye)}if(!D&&I>U&&(D=!0),!D)throw new F;const G=[new ce(f[1],a),new ce(m[0],a)];return new ee(w,null,0,G,he.ITF,new Date().getTime())}static decodeMiddle(a,l,c,f){let m=new Int32Array(10),g=new Int32Array(5),w=new Int32Array(5);for(m.fill(0),g.fill(0),w.fill(0);l<c;){Et.recordPattern(a,l,m);for(let I=0;I<5;I++){let D=2*I;g[I]=m[D],w[I]=m[D+1]}let S=Pt.decodeDigit(g);f.append(S.toString()),S=this.decodeDigit(w),f.append(S.toString()),m.forEach(function(I){l+=I})}}decodeStart(a){let l=Pt.skipWhiteSpace(a),c=Pt.findGuardPattern(a,l,Pt.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(a,c[0]),c}validateQuietZone(a,l){let c=this.narrowLineWidth*10;c=c<l?c:l;for(let f=l-1;c>0&&f>=0&&!a.get(f);f--)c--;if(c!==0)throw new te}static skipWhiteSpace(a){const l=a.getSize(),c=a.getNextSet(0);if(c===l)throw new te;return c}decodeEnd(a){a.reverse();try{let l=Pt.skipWhiteSpace(a),c;try{c=Pt.findGuardPattern(a,l,Pt.END_PATTERN_REVERSED[0])}catch(m){m instanceof te&&(c=Pt.findGuardPattern(a,l,Pt.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,c[0]);let f=c[0];return c[0]=a.getSize()-c[1],c[1]=a.getSize()-f,c}finally{a.reverse()}}static findGuardPattern(a,l,c){let f=c.length,m=new Int32Array(f),g=a.getSize(),w=!1,S=0,I=l;m.fill(0);for(let D=l;D<g;D++)if(a.get(D)!==w)m[S]++;else{if(S===f-1){if(Et.patternMatchVariance(m,c,Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return[I,D];I+=m[0]+m[1],T.arraycopy(m,2,m,0,S-1),m[S-1]=0,m[S]=0,S--}else S++;m[S]=1,w=!w}throw new te}static decodeDigit(a){let l=Pt.MAX_AVG_VARIANCE,c=-1,f=Pt.PATTERNS.length;for(let m=0;m<f;m++){let g=Pt.PATTERNS[m],w=Et.patternMatchVariance(a,g,Pt.MAX_INDIVIDUAL_VARIANCE);w<l?(l=w,c=m):w===l&&(c=-1)}if(c>=0)return c%10;throw new te}}Pt.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Pt.MAX_AVG_VARIANCE=.38,Pt.MAX_INDIVIDUAL_VARIANCE=.5,Pt.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Pt.START_PATTERN=Int32Array.from([1,1,1,1]),Pt.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class un extends Et{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let l=!1,c,f=0,m=Int32Array.from([0,0,0]);for(;!l;){m=Int32Array.from([0,0,0]),c=un.findGuardPattern(a,f,!1,this.START_END_PATTERN,m);let g=c[0];f=c[1];let w=g-(f-g);w>=0&&(l=a.isRange(w,g,!1))}return c}static checkChecksum(a){return un.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let c=parseInt(a.charAt(l-1),10);return un.getStandardUPCEANChecksum(a.substring(0,l-1))===c}static getStandardUPCEANChecksum(a){let l=a.length,c=0;for(let f=l-1;f>=0;f-=2){let m=a.charAt(f).charCodeAt(0)-48;if(m<0||m>9)throw new F;c+=m}c*=3;for(let f=l-2;f>=0;f-=2){let m=a.charAt(f).charCodeAt(0)-48;if(m<0||m>9)throw new F;c+=m}return(1e3-c)%10}static decodeEnd(a,l){return un.findGuardPattern(a,l,!1,un.START_END_PATTERN,new Int32Array(un.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,l,c,f){return this.findGuardPattern(a,l,c,f,new Int32Array(f.length))}static findGuardPattern(a,l,c,f,m){let g=a.getSize();l=c?a.getNextUnset(l):a.getNextSet(l);let w=0,S=l,I=f.length,D=c;for(let U=l;U<g;U++)if(a.get(U)!==D)m[w]++;else{if(w===I-1){if(Et.patternMatchVariance(m,f,un.MAX_INDIVIDUAL_VARIANCE)<un.MAX_AVG_VARIANCE)return Int32Array.from([S,U]);S+=m[0]+m[1];let G=m.slice(2,m.length-1);for(let ue=0;ue<w-1;ue++)m[ue]=G[ue];m[w-1]=0,m[w]=0,w--}else w++;m[w]=1,D=!D}throw new te}static decodeDigit(a,l,c,f){this.recordPattern(a,c,l);let m=this.MAX_AVG_VARIANCE,g=-1,w=f.length;for(let S=0;S<w;S++){let I=f[S],D=Et.patternMatchVariance(l,I,un.MAX_INDIVIDUAL_VARIANCE);D<m&&(m=D,g=S)}if(g>=0)return g;throw new te}}un.MAX_AVG_VARIANCE=.48,un.MAX_INDIVIDUAL_VARIANCE=.7,un.START_END_PATTERN=Int32Array.from([1,1,1]),un.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),un.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),un.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class nn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,c){let f=this.decodeRowStringBuffer,m=this.decodeMiddle(l,c,f),g=f.toString(),w=nn.parseExtensionString(g),S=[new ce((c[0]+c[1])/2,a),new ce(m,a)],I=new ee(g,null,0,S,he.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&I.putAllMetadata(w),I}decodeMiddle(a,l,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=a.getSize(),g=l[1],w=0;for(let I=0;I<5&&g<m;I++){let D=un.decodeDigit(a,f,g,un.L_AND_G_PATTERNS);c+=String.fromCharCode(48+D%10);for(let U of f)g+=U;D>=10&&(w|=1<<4-I),I!==4&&(g=a.getNextSet(g),g=a.getNextUnset(g))}if(c.length!==5)throw new te;let S=this.determineCheckDigit(w);if(nn.extensionChecksum(c.toString())!==S)throw new te;return g}static extensionChecksum(a){let l=a.length,c=0;for(let f=l-2;f>=0;f-=2)c+=a.charAt(f).charCodeAt(0)-48;c*=3;for(let f=l-1;f>=0;f-=2)c+=a.charAt(f).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(a){for(let l=0;l<10;l++)if(a===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new te}static parseExtensionString(a){if(a.length!==5)return null;let l=nn.parseExtension5String(a);return l==null?null:new Map([[je.SUGGESTED_PRICE,l]])}static parseExtension5String(a){let l;switch(a.charAt(0)){case"0":l="£";break;case"5":l="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let c=parseInt(a.substring(1)),f=(c/100).toString(),m=c%100,g=m<10?"0"+m:m.toString();return l+f+"."+g}}class Js{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,c){let f=this.decodeRowStringBuffer,m=this.decodeMiddle(l,c,f),g=f.toString(),w=Js.parseExtensionString(g),S=[new ce((c[0]+c[1])/2,a),new ce(m,a)],I=new ee(g,null,0,S,he.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&I.putAllMetadata(w),I}decodeMiddle(a,l,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=a.getSize(),g=l[1],w=0;for(let S=0;S<2&&g<m;S++){let I=un.decodeDigit(a,f,g,un.L_AND_G_PATTERNS);c+=String.fromCharCode(48+I%10);for(let D of f)g+=D;I>=10&&(w|=1<<1-S),S!==1&&(g=a.getNextSet(g),g=a.getNextUnset(g))}if(c.length!==2)throw new te;if(parseInt(c.toString())%4!==w)throw new te;return g}static parseExtensionString(a){return a.length!==2?null:new Map([[je.ISSUE_NUMBER,parseInt(a)]])}}class qn{static decodeRow(a,l,c){let f=un.findGuardPattern(l,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new nn().decodeRow(a,l,f)}catch{return new Js().decodeRow(a,l,f)}}}qn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Xt extends un{constructor(){super(),this.decodeRowStringBuffer="",Xt.L_AND_G_PATTERNS=Xt.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let l=Xt.L_PATTERNS[a-10],c=new Int32Array(l.length);for(let f=0;f<l.length;f++)c[f]=l[l.length-f-1];Xt.L_AND_G_PATTERNS[a]=c}}decodeRow(a,l,c){let f=Xt.findStartGuardPattern(l),m=c==null?null:c.get(ne.NEED_RESULT_POINT_CALLBACK);if(m!=null){const st=new ce((f[0]+f[1])/2,a);m.foundPossibleResultPoint(st)}let g=this.decodeMiddle(l,f,this.decodeRowStringBuffer),w=g.rowOffset,S=g.resultString;if(m!=null){const st=new ce(w,a);m.foundPossibleResultPoint(st)}let I=this.decodeEnd(l,w);if(m!=null){const st=new ce((I[0]+I[1])/2,a);m.foundPossibleResultPoint(st)}let D=I[1],U=D+(D-I[0]);if(U>=l.getSize()||!l.isRange(D,U,!1))throw new te;let G=S.toString();if(G.length<8)throw new F;if(!Xt.checkChecksum(G))throw new b;let ue=(f[1]+f[0])/2,ye=(I[1]+I[0])/2,Ne=this.getBarcodeFormat(),Ie=[new ce(ue,a),new ce(ye,a)],Ue=new ee(G,null,0,Ie,Ne,new Date().getTime()),rt=0;try{let st=qn.decodeRow(a,l,I[1]);Ue.putMetadata(je.UPC_EAN_EXTENSION,st.getText()),Ue.putAllMetadata(st.getResultMetadata()),Ue.addResultPoints(st.getResultPoints()),rt=st.getText().length}catch{}let ot=c==null?null:c.get(ne.ALLOWED_EAN_EXTENSIONS);if(ot!=null){let st=!1;for(let tn in ot)if(rt.toString()===tn){st=!0;break}if(!st)throw new te}return Ue}decodeEnd(a,l){return Xt.findGuardPattern(a,l,!1,Xt.START_END_PATTERN,new Int32Array(Xt.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return Xt.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let c=parseInt(a.charAt(l-1),10);return Xt.getStandardUPCEANChecksum(a.substring(0,l-1))===c}static getStandardUPCEANChecksum(a){let l=a.length,c=0;for(let f=l-1;f>=0;f-=2){let m=a.charAt(f).charCodeAt(0)-48;if(m<0||m>9)throw new F;c+=m}c*=3;for(let f=l-2;f>=0;f-=2){let m=a.charAt(f).charCodeAt(0)-48;if(m<0||m>9)throw new F;c+=m}return(1e3-c)%10}}class ui extends Xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,c){let f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=a.getSize(),g=l[1],w=0;for(let I=0;I<6&&g<m;I++){let D=Xt.decodeDigit(a,f,g,Xt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+D%10);for(let U of f)g+=U;D>=10&&(w|=1<<5-I)}c=ui.determineFirstDigit(c,w),g=Xt.findGuardPattern(a,g,!0,Xt.MIDDLE_PATTERN,new Int32Array(Xt.MIDDLE_PATTERN.length).fill(0))[1];for(let I=0;I<6&&g<m;I++){let D=Xt.decodeDigit(a,f,g,Xt.L_PATTERNS);c+=String.fromCharCode(48+D);for(let U of f)g+=U}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return he.EAN_13}static determineFirstDigit(a,l){for(let c=0;c<10;c++)if(l===this.FIRST_DIGIT_ENCODINGS[c])return a=String.fromCharCode(48+c)+a,a;throw new te}}ui.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Wn extends Xt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,c){const f=this.decodeMiddleCounters;f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=a.getSize(),g=l[1];for(let S=0;S<4&&g<m;S++){let I=Xt.decodeDigit(a,f,g,Xt.L_PATTERNS);c+=String.fromCharCode(48+I);for(let D of f)g+=D}g=Xt.findGuardPattern(a,g,!0,Xt.MIDDLE_PATTERN,new Int32Array(Xt.MIDDLE_PATTERN.length).fill(0))[1];for(let S=0;S<4&&g<m;S++){let I=Xt.decodeDigit(a,f,g,Xt.L_PATTERNS);c+=String.fromCharCode(48+I);for(let D of f)g+=D}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return he.EAN_8}}class zt extends Xt{constructor(){super(...arguments),this.ean13Reader=new ui}getBarcodeFormat(){return he.UPC_A}decode(a,l){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,l,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,l,c))}decodeMiddle(a,l,c){return this.ean13Reader.decodeMiddle(a,l,c)}maybeReturnResult(a){let l=a.getText();if(l.charAt(0)==="0"){let c=new ee(l.substring(1),null,null,a.getResultPoints(),he.UPC_A);return a.getResultMetadata()!=null&&c.putAllMetadata(a.getResultMetadata()),c}else throw new te}reset(){this.ean13Reader.reset()}}class Zt extends Xt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,l,c){const f=this.decodeMiddleCounters.map(I=>I);f[0]=0,f[1]=0,f[2]=0,f[3]=0;const m=a.getSize();let g=l[1],w=0;for(let I=0;I<6&&g<m;I++){const D=Zt.decodeDigit(a,f,g,Zt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+D%10);for(let U of f)g+=U;D>=10&&(w|=1<<5-I)}let S=Zt.determineNumSysAndCheckDigit(c,w);return{rowOffset:g,resultString:S}}decodeEnd(a,l){return Zt.findGuardPatternWithoutCounters(a,l,!0,Zt.MIDDLE_END_PATTERN)}checkChecksum(a){return Xt.checkChecksum(Zt.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,l){for(let c=0;c<=1;c++)for(let f=0;f<10;f++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][f]){let m=String.fromCharCode(48+c),g=String.fromCharCode(48+f);return m+a+g}throw te.getNotFoundInstance()}getBarcodeFormat(){return he.UPC_E}static convertUPCEtoUPCA(a){const l=a.slice(1,7).split("").map(m=>m.charCodeAt(0)),c=new re;c.append(a.charAt(0));let f=l[5];switch(f){case 0:case 1:case 2:c.appendChars(l,0,2),c.append(f),c.append("0000"),c.appendChars(l,2,3);break;case 3:c.appendChars(l,0,3),c.append("00000"),c.appendChars(l,3,2);break;case 4:c.appendChars(l,0,4),c.append("00000"),c.append(l[4]);break;default:c.appendChars(l,0,5),c.append("0000"),c.append(f);break}return a.length>=8&&c.append(a.charAt(7)),c.toString()}}Zt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Zt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class ea extends Et{constructor(a){super();let l=a==null?null:a.get(ne.POSSIBLE_FORMATS),c=[];r(l)?(c.push(new ui),c.push(new zt),c.push(new Wn),c.push(new Zt)):(l.indexOf(he.EAN_13)>-1&&c.push(new ui),l.indexOf(he.UPC_A)>-1&&c.push(new zt),l.indexOf(he.EAN_8)>-1&&c.push(new Wn),l.indexOf(he.UPC_E)>-1&&c.push(new Zt)),this.readers=c}decodeRow(a,l,c){for(let f of this.readers)try{const m=f.decodeRow(a,l,c),g=m.getBarcodeFormat()===he.EAN_13&&m.getText().charAt(0)==="0",w=c==null?null:c.get(ne.POSSIBLE_FORMATS),S=w==null||w.includes(he.UPC_A);if(g&&S){const I=m.getRawBytes(),D=new ee(m.getText().substring(1),I,I?I.length:null,m.getResultPoints(),he.UPC_A);return D.putAllMetadata(m.getResultMetadata()),D}return m}catch{}throw new te}reset(){for(let a of this.readers)a.reset()}}class pn extends Et{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,l){for(let c=0;c<l.length;c++)if(Et.patternMatchVariance(a,l[c],pn.MAX_INDIVIDUAL_VARIANCE)<pn.MAX_AVG_VARIANCE)return c;throw new te}static count(a){return Ge.sum(new Int32Array(a))}static increment(a,l){let c=0,f=l[0];for(let m=1;m<a.length;m++)l[m]>f&&(f=l[m],c=m);a[c]++}static decrement(a,l){let c=0,f=l[0];for(let m=1;m<a.length;m++)l[m]<f&&(f=l[m],c=m);a[c]--}static isFinderPattern(a){let l=a[0]+a[1],c=l+a[2]+a[3],f=l/c;if(f>=pn.MIN_FINDER_PATTERN_RATIO&&f<=pn.MAX_FINDER_PATTERN_RATIO){let m=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let w of a)w>g&&(g=w),w<m&&(m=w);return g<10*m}return!1}}pn.MAX_AVG_VARIANCE=.2,pn.MAX_INDIVIDUAL_VARIANCE=.45,pn.MIN_FINDER_PATTERN_RATIO=9.5/12,pn.MAX_FINDER_PATTERN_RATIO=12.5/14;class di{constructor(a,l){this.value=a,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof di))return!1;const l=a;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Bi{constructor(a,l,c,f,m){this.value=a,this.startEnd=l,this.value=a,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new ce(c,m)),this.resultPoints.push(new ce(f,m))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof Bi))return!1;const l=a;return this.value===l.value}hashCode(){return this.value}}class _t{constructor(){}static getRSSvalue(a,l,c){let f=0;for(let S of a)f+=S;let m=0,g=0,w=a.length;for(let S=0;S<w-1;S++){let I;for(I=1,g|=1<<S;I<a[S];I++,g&=~(1<<S)){let D=_t.combins(f-I-1,w-S-2);if(c&&g===0&&f-I-(w-S-1)>=w-S-1&&(D-=_t.combins(f-I-(w-S),w-S-2)),w-S-1>1){let U=0;for(let G=f-I-(w-S-2);G>l;G--)U+=_t.combins(f-I-G-1,w-S-3);D-=U*(w-1-S)}else f-I>l&&D--;m+=D}f-=I}return m}static combins(a,l){let c,f;a-l>l?(f=l,c=a-l):(f=a-l,c=l);let m=1,g=1;for(let w=a;w>c;w--)m*=w,g<=f&&(m/=g,g++);for(;g<=f;)m/=g,g++;return m}}class hs{static buildBitArray(a){let l=a.length*2-1;a[a.length-1].getRightChar()==null&&(l-=1);let c=12*l,f=new M(c),m=0,w=a[0].getRightChar().getValue();for(let S=11;S>=0;--S)w&1<<S&&f.set(m),m++;for(let S=1;S<a.length;++S){let I=a[S],D=I.getLeftChar().getValue();for(let U=11;U>=0;--U)D&1<<U&&f.set(m),m++;if(I.getRightChar()!=null){let U=I.getRightChar().getValue();for(let G=11;G>=0;--G)U&1<<G&&f.set(m),m++}}return f}}class ei{constructor(a,l){l?this.decodedInformation=null:(this.finished=a,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ti{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class mn extends ti{constructor(a,l){super(a),this.value=l}getValue(){return this.value}isFNC1(){return this.value===mn.FNC1}}mn.FNC1="$";class jn extends ti{constructor(a,l,c){super(a),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Mn extends ti{constructor(a,l,c){if(super(a),l<0||l>10||c<0||c>10)throw new F;this.firstDigit=l,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Mn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Mn.FNC1}isAnyFNC1(){return this.firstDigit===Mn.FNC1||this.secondDigit===Mn.FNC1}}Mn.FNC1=10;class gt{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new te;let l=a.substring(0,2);for(let m of gt.TWO_DIGIT_DATA_LENGTH)if(m[0]===l)return m[1]===gt.VARIABLE_LENGTH?gt.processVariableAI(2,m[2],a):gt.processFixedAI(2,m[1],a);if(a.length<3)throw new te;let c=a.substring(0,3);for(let m of gt.THREE_DIGIT_DATA_LENGTH)if(m[0]===c)return m[1]===gt.VARIABLE_LENGTH?gt.processVariableAI(3,m[2],a):gt.processFixedAI(3,m[1],a);for(let m of gt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(m[0]===c)return m[1]===gt.VARIABLE_LENGTH?gt.processVariableAI(4,m[2],a):gt.processFixedAI(4,m[1],a);if(a.length<4)throw new te;let f=a.substring(0,4);for(let m of gt.FOUR_DIGIT_DATA_LENGTH)if(m[0]===f)return m[1]===gt.VARIABLE_LENGTH?gt.processVariableAI(4,m[2],a):gt.processFixedAI(4,m[1],a);throw new te}static processFixedAI(a,l,c){if(c.length<a)throw new te;let f=c.substring(0,a);if(c.length<a+l)throw new te;let m=c.substring(a,a+l),g=c.substring(a+l),w="("+f+")"+m,S=gt.parseFieldsInGeneralPurpose(g);return S==null?w:w+S}static processVariableAI(a,l,c){let f=c.substring(0,a),m;c.length<a+l?m=c.length:m=a+l;let g=c.substring(a,m),w=c.substring(m),S="("+f+")"+g,I=gt.parseFieldsInGeneralPurpose(w);return I==null?S:S+I}}gt.VARIABLE_LENGTH=[],gt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",gt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",gt.VARIABLE_LENGTH,20],["22",gt.VARIABLE_LENGTH,29],["30",gt.VARIABLE_LENGTH,8],["37",gt.VARIABLE_LENGTH,8],["90",gt.VARIABLE_LENGTH,30],["91",gt.VARIABLE_LENGTH,30],["92",gt.VARIABLE_LENGTH,30],["93",gt.VARIABLE_LENGTH,30],["94",gt.VARIABLE_LENGTH,30],["95",gt.VARIABLE_LENGTH,30],["96",gt.VARIABLE_LENGTH,30],["97",gt.VARIABLE_LENGTH,3],["98",gt.VARIABLE_LENGTH,30],["99",gt.VARIABLE_LENGTH,30]],gt.THREE_DIGIT_DATA_LENGTH=[["240",gt.VARIABLE_LENGTH,30],["241",gt.VARIABLE_LENGTH,30],["242",gt.VARIABLE_LENGTH,6],["250",gt.VARIABLE_LENGTH,30],["251",gt.VARIABLE_LENGTH,30],["253",gt.VARIABLE_LENGTH,17],["254",gt.VARIABLE_LENGTH,20],["400",gt.VARIABLE_LENGTH,30],["401",gt.VARIABLE_LENGTH,30],["402",17],["403",gt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",gt.VARIABLE_LENGTH,20],["421",gt.VARIABLE_LENGTH,15],["422",3],["423",gt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],gt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",gt.VARIABLE_LENGTH,15],["391",gt.VARIABLE_LENGTH,18],["392",gt.VARIABLE_LENGTH,15],["393",gt.VARIABLE_LENGTH,18],["703",gt.VARIABLE_LENGTH,30]],gt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",gt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",gt.VARIABLE_LENGTH,20],["8003",gt.VARIABLE_LENGTH,30],["8004",gt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",gt.VARIABLE_LENGTH,30],["8008",gt.VARIABLE_LENGTH,12],["8018",18],["8020",gt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",gt.VARIABLE_LENGTH,70],["8200",gt.VARIABLE_LENGTH,70]];class bi{constructor(a){this.buffer=new re,this.information=a}decodeAllCodes(a,l){let c=l,f=null;do{let m=this.decodeGeneralPurposeField(c,f),g=gt.parseFieldsInGeneralPurpose(m.getNewString());if(g!=null&&a.append(g),m.isRemaining()?f=""+m.getRemainingValue():f=null,c===m.getNewPosition())break;c=m.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let l=a;l<a+3;++l)if(this.information.get(l))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let m=this.extractNumericValueFromBitArray(a,4);return m===0?new Mn(this.information.getSize(),Mn.FNC1,Mn.FNC1):new Mn(this.information.getSize(),m-1,Mn.FNC1)}let l=this.extractNumericValueFromBitArray(a,7),c=(l-8)/11,f=(l-8)%11;return new Mn(a+7,c,f)}extractNumericValueFromBitArray(a,l){return bi.extractNumericValueFromBitArray(this.information,a,l)}static extractNumericValueFromBitArray(a,l,c){let f=0;for(let m=0;m<c;++m)a.get(l+m)&&(f|=1<<c-m-1);return f}decodeGeneralPurposeField(a,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(a);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new jn(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new jn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,l;do{let c=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),a=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),a=l.isFinished()):(l=this.parseNumericBlock(),a=l.isFinished()),!(c!==this.current.getPosition())&&!a)break}while(!a);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let l;return a.isSecondDigitFNC1()?l=new jn(this.current.getPosition(),this.buffer.toString()):l=new jn(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new ei(!0,l)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let l=new jn(this.current.getPosition(),this.buffer.toString());return new ei(!0,l)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ei(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new jn(this.current.getPosition(),this.buffer.toString());return new ei(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ei(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new jn(this.current.getPosition(),this.buffer.toString());return new ei(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ei(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,7);if(c>=64&&c<116)return!0;if(a+8>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(a,8);return f>=232&&f<253}decodeIsoIec646(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new mn(a+5,mn.FNC1);if(l>=5&&l<15)return new mn(a+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(a,7);if(c>=64&&c<90)return new mn(a+7,""+(c+1));if(c>=90&&c<116)return new mn(a+7,""+(c+7));let f=this.extractNumericValueFromBitArray(a,8),m;switch(f){case 232:m="!";break;case 233:m='"';break;case 234:m="%";break;case 235:m="&";break;case 236:m="'";break;case 237:m="(";break;case 238:m=")";break;case 239:m="*";break;case 240:m="+";break;case 241:m=",";break;case 242:m="-";break;case 243:m=".";break;case 244:m="/";break;case 245:m=":";break;case 246:m=";";break;case 247:m="<";break;case 248:m="=";break;case 249:m=">";break;case 250:m="?";break;case 251:m="_";break;case 252:m=" ";break;default:throw new F}return new mn(a+8,m)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,6);return c>=16&&c<63}decodeAlphanumeric(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new mn(a+5,mn.FNC1);if(l>=5&&l<15)return new mn(a+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(a,6);if(c>=32&&c<58)return new mn(a+6,""+(c+33));let f;switch(c){case 58:f="*";break;case 59:f=",";break;case 60:f="-";break;case 61:f=".";break;case 62:f="/";break;default:throw new Ve("Decoding invalid alphanumeric value: "+c)}return new mn(a+6,f)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<5&&l+a<this.information.getSize();++l)if(l===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+l))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let l=a;l<a+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<4&&l+a<this.information.getSize();++l)if(this.information.get(a+l))return!1;return!0}}class Fi{constructor(a){this.information=a,this.generalDecoder=new bi(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Rn extends Fi{constructor(a){super(a)}encodeCompressedGtin(a,l){a.append("(01)");let c=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,l,c)}encodeCompressedGtinWithoutAI(a,l,c){for(let f=0;f<4;++f){let m=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*f,10);m/100===0&&a.append("0"),m/10===0&&a.append("0"),a.append(m)}Rn.appendCheckDigit(a,c)}static appendCheckDigit(a,l){let c=0;for(let f=0;f<13;f++){let m=a.charAt(f+l).charCodeAt(0)-48;c+=f&1?m:3*m}c=10-c%10,c===10&&(c=0),a.append(c)}}Rn.GTIN_SIZE=40;class ni extends Rn{constructor(a){super(a)}parseInformation(){let a=new re;a.append("(01)");let l=a.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(ni.HEADER_SIZE,4);return a.append(c),this.encodeCompressedGtinWithoutAI(a,ni.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(a,ni.HEADER_SIZE+44)}}ni.HEADER_SIZE=4;class Ui extends Fi{constructor(a){super(a)}parseInformation(){let a=new re;return this.getGeneralDecoder().decodeAllCodes(a,Ui.HEADER_SIZE)}}Ui.HEADER_SIZE=5;class hi extends Rn{constructor(a){super(a)}encodeCompressedWeight(a,l,c){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(l,c);this.addWeightCode(a,f);let m=this.checkWeight(f),g=1e5;for(let w=0;w<5;++w)m/g===0&&a.append("0"),g/=10;a.append(m)}}class Nr extends hi{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=Nr.HEADER_SIZE+hi.GTIN_SIZE+Nr.WEIGHT_SIZE)throw new te;let a=new re;return this.encodeCompressedGtin(a,Nr.HEADER_SIZE),this.encodeCompressedWeight(a,Nr.HEADER_SIZE+hi.GTIN_SIZE,Nr.WEIGHT_SIZE),a.toString()}}Nr.HEADER_SIZE=5,Nr.WEIGHT_SIZE=15;class Ya extends Nr{constructor(a){super(a)}addWeightCode(a,l){a.append("(3103)")}checkWeight(a){return a}}class To extends Nr{constructor(a){super(a)}addWeightCode(a,l){l<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class fi extends Rn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<fi.HEADER_SIZE+Rn.GTIN_SIZE)throw new te;let a=new re;this.encodeCompressedGtin(a,fi.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(fi.HEADER_SIZE+Rn.GTIN_SIZE,fi.LAST_DIGIT_SIZE);a.append("(392"),a.append(l),a.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(fi.HEADER_SIZE+Rn.GTIN_SIZE+fi.LAST_DIGIT_SIZE,null);return a.append(c.getNewString()),a.toString()}}fi.HEADER_SIZE=8,fi.LAST_DIGIT_SIZE=2;class mr extends Rn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<mr.HEADER_SIZE+Rn.GTIN_SIZE)throw new te;let a=new re;this.encodeCompressedGtin(a,mr.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Rn.GTIN_SIZE,mr.LAST_DIGIT_SIZE);a.append("(393"),a.append(l),a.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(mr.HEADER_SIZE+Rn.GTIN_SIZE+mr.LAST_DIGIT_SIZE,mr.FIRST_THREE_DIGITS_SIZE);c/100==0&&a.append("0"),c/10==0&&a.append("0"),a.append(c);let f=this.getGeneralDecoder().decodeGeneralPurposeField(mr.HEADER_SIZE+Rn.GTIN_SIZE+mr.LAST_DIGIT_SIZE+mr.FIRST_THREE_DIGITS_SIZE,null);return a.append(f.getNewString()),a.toString()}}mr.HEADER_SIZE=8,mr.LAST_DIGIT_SIZE=2,mr.FIRST_THREE_DIGITS_SIZE=10;class bn extends hi{constructor(a,l,c){super(a),this.dateCode=c,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=bn.HEADER_SIZE+bn.GTIN_SIZE+bn.WEIGHT_SIZE+bn.DATE_SIZE)throw new te;let a=new re;return this.encodeCompressedGtin(a,bn.HEADER_SIZE),this.encodeCompressedWeight(a,bn.HEADER_SIZE+bn.GTIN_SIZE,bn.WEIGHT_SIZE),this.encodeCompressedDate(a,bn.HEADER_SIZE+bn.GTIN_SIZE+bn.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(l,bn.DATE_SIZE);if(c==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let f=c%32;c/=32;let m=c%12+1;c/=12;let g=c;g/10==0&&a.append("0"),a.append(g),m/10==0&&a.append("0"),a.append(m),f/10==0&&a.append("0"),a.append(f)}addWeightCode(a,l){a.append("("),a.append(this.firstAIdigits),a.append(l/1e5),a.append(")")}checkWeight(a){return a%1e5}}bn.HEADER_SIZE=8,bn.WEIGHT_SIZE=20,bn.DATE_SIZE=16;function Vl(V){try{if(V.get(1))return new ni(V);if(!V.get(2))return new Ui(V);switch(bi.extractNumericValueFromBitArray(V,1,4)){case 4:return new Ya(V);case 5:return new To(V)}switch(bi.extractNumericValueFromBitArray(V,1,5)){case 12:return new fi(V);case 13:return new mr(V)}switch(bi.extractNumericValueFromBitArray(V,1,7)){case 56:return new bn(V,"310","11");case 57:return new bn(V,"320","11");case 58:return new bn(V,"310","13");case 59:return new bn(V,"320","13");case 60:return new bn(V,"310","15");case 61:return new bn(V,"320","15");case 62:return new bn(V,"310","17");case 63:return new bn(V,"320","17")}}catch(a){throw console.log(a),new Ve("unknown decoder: "+V)}}class Ps{constructor(a,l,c,f){this.leftchar=a,this.rightchar=l,this.finderpattern=c,this.maybeLast=f}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,l){return a instanceof Ps?Ps.equalsOrNull(a.leftchar,l.leftchar)&&Ps.equalsOrNull(a.rightchar,l.rightchar)&&Ps.equalsOrNull(a.finderpattern,l.finderpattern):!1}static equalsOrNull(a,l){return a===null?l===null:Ps.equals(a,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class zl{constructor(a,l,c){this.pairs=a,this.rowNumber=l,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,l){return a instanceof zl?this.checkEqualitity(a,l)&&a.wasReversed===l.wasReversed:!1}checkEqualitity(a,l){if(!a||!l)return;let c;return a.forEach((f,m)=>{l.forEach(g=>{f.getLeftChar().getValue()===g.getLeftChar().getValue()&&f.getRightChar().getValue()===g.getRightChar().getValue()&&f.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(c=!0)})}),c}}class et extends pn{constructor(a){super(...arguments),this.pairs=new Array(et.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,l,c){this.pairs.length=0,this.startFromEven=!1;try{return et.constructResult(this.decodeRow2pairs(a,l))}catch(f){this.verbose&&console.log(f)}return this.pairs.length=0,this.startFromEven=!0,et.constructResult(this.decodeRow2pairs(a,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,l){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,a))}catch(m){if(m instanceof te){if(!this.pairs.length)throw new te;c=!0}}if(this.checkChecksum())return this.pairs;let f;if(this.rows.length?f=!0:f=!1,this.storeRow(a,!1),f){let m=this.checkRowsBoolean(!1);if(m!=null||(m=this.checkRowsBoolean(!0),m!=null))return m}throw new te}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return a&&(this.rows=this.rows.reverse()),l}checkRows(a,l){for(let c=l;c<this.rows.length;c++){let f=this.rows[c];this.pairs.length=0;for(let g of a)this.pairs.push(g.getPairs());if(this.pairs.push(f.getPairs()),!et.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let m=new Array(a);m.push(f);try{return this.checkRows(m,c+1)}catch(g){this.verbose&&console.log(g)}}throw new te}static isValidSequence(a){for(let l of et.FINDER_PATTERN_SEQUENCES){if(a.length>l.length)continue;let c=!0;for(let f=0;f<a.length;f++)if(a[f].getFinderPattern().getValue()!=l[f]){c=!1;break}if(c)return!0}return!1}storeRow(a,l){let c=0,f=!1,m=!1;for(;c<this.rows.length;){let g=this.rows[c];if(g.getRowNumber()>a){m=g.isEquivalent(this.pairs);break}f=g.isEquivalent(this.pairs),c++}m||f||et.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new zl(this.pairs,a,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,l){for(let c of l)if(c.getPairs().length!==a.length){for(let f of c.getPairs())for(let m of a)if(Ps.equals(f,m))break}}static isPartialRow(a,l){for(let c of l){let f=!0;for(let m of a){let g=!1;for(let w of c.getPairs())if(m.equals(w)){g=!0;break}if(!g){f=!1;break}}if(f)return!0}return!1}getRows(){return this.rows}static constructResult(a){let l=hs.buildBitArray(a),f=Vl(l).parseInformation(),m=a[0].getFinderPattern().getResultPoints(),g=a[a.length-1].getFinderPattern().getResultPoints(),w=[m[0],m[1],g[0],g[1]];return new ee(f,null,null,w,he.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),l=a.getLeftChar(),c=a.getRightChar();if(c==null)return!1;let f=c.getChecksumPortion(),m=2;for(let w=1;w<this.pairs.size();++w){let S=this.pairs.get(w);f+=S.getLeftChar().getChecksumPortion(),m++;let I=S.getRightChar();I!=null&&(f+=I.getChecksumPortion(),m++)}return f%=211,211*(m-4)+f==l.getValue()}static getNextSecondBar(a,l){let c;return a.get(l)?(c=a.getNextUnset(l),c=a.getNextSet(c)):(c=a.getNextSet(l),c=a.getNextUnset(c)),c}retrieveNextPair(a,l,c){let f=l.length%2==0;this.startFromEven&&(f=!f);let m,g=!0,w=-1;do this.findNextPair(a,l,w),m=this.parseFoundFinderPattern(a,c,f),m==null?w=et.getNextSecondBar(a,this.startEnd[0]):g=!1;while(g);let S=this.decodeDataCharacter(a,m,f,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new te;let I;try{I=this.decodeDataCharacter(a,m,f,!1)}catch(D){I=null,this.verbose&&console.log(D)}return new Ps(S,I,m,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,l,c){let f=this.getDecodeFinderCounters();f[0]=0,f[1]=0,f[2]=0,f[3]=0;let m=a.getSize(),g;c>=0?g=c:this.isEmptyPair(l)?g=0:g=l[l.length-1].getFinderPattern().getStartEnd()[1];let w=l.length%2!=0;this.startFromEven&&(w=!w);let S=!1;for(;g<m&&(S=!a.get(g),!!S);)g++;let I=0,D=g;for(let U=g;U<m;U++)if(a.get(U)!=S)f[I]++;else{if(I==3){if(w&&et.reverseCounters(f),et.isFinderPattern(f)){this.startEnd[0]=D,this.startEnd[1]=U;return}w&&et.reverseCounters(f),D+=f[0]+f[1],f[0]=f[2],f[1]=f[3],f[2]=0,f[3]=0,I--}else I++;f[I]=1,S=!S}throw new te}static reverseCounters(a){let l=a.length;for(let c=0;c<l/2;++c){let f=a[c];a[c]=a[l-c-1],a[l-c-1]=f}}parseFoundFinderPattern(a,l,c){let f,m,g;if(c){let I=this.startEnd[0]-1;for(;I>=0&&!a.get(I);)I--;I++,f=this.startEnd[0]-I,m=I,g=this.startEnd[1]}else m=this.startEnd[0],g=a.getNextUnset(this.startEnd[1]+1),f=g-this.startEnd[1];let w=this.getDecodeFinderCounters();T.arraycopy(w,0,w,1,w.length-1),w[0]=f;let S;try{S=this.parseFinderValue(w,et.FINDER_PATTERNS)}catch{return null}return new Bi(S,[m,g],m,g,l)}decodeDataCharacter(a,l,c,f){let m=this.getDataCharacterCounters();for(let fn=0;fn<m.length;fn++)m[fn]=0;if(f)et.recordPatternInReverse(a,l.getStartEnd()[0],m);else{et.recordPattern(a,l.getStartEnd()[1],m);for(let fn=0,rr=m.length-1;fn<rr;fn++,rr--){let Er=m[fn];m[fn]=m[rr],m[rr]=Er}}let g=17,w=Ge.sum(new Int32Array(m))/g,S=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(w-S)/S>.3)throw new te;let I=this.getOddCounts(),D=this.getEvenCounts(),U=this.getOddRoundingErrors(),G=this.getEvenRoundingErrors();for(let fn=0;fn<m.length;fn++){let rr=1*m[fn]/w,Er=rr+.5;if(Er<1){if(rr<.3)throw new te;Er=1}else if(Er>8){if(rr>8.7)throw new te;Er=8}let zi=fn/2;fn&1?(D[zi]=Er,G[zi]=rr-Er):(I[zi]=Er,U[zi]=rr-Er)}this.adjustOddEvenCounts(g);let ue=4*l.getValue()+(c?0:2)+(f?0:1)-1,ye=0,Ne=0;for(let fn=I.length-1;fn>=0;fn--){if(et.isNotA1left(l,c,f)){let rr=et.WEIGHTS[ue][2*fn];Ne+=I[fn]*rr}ye+=I[fn]}let Ie=0;for(let fn=D.length-1;fn>=0;fn--)if(et.isNotA1left(l,c,f)){let rr=et.WEIGHTS[ue][2*fn+1];Ie+=D[fn]*rr}let Ue=Ne+Ie;if(ye&1||ye>13||ye<4)throw new te;let rt=(13-ye)/2,ot=et.SYMBOL_WIDEST[rt],st=9-ot,tn=_t.getRSSvalue(I,ot,!0),Vt=_t.getRSSvalue(D,st,!1),xr=et.EVEN_TOTAL_SUBSET[rt],$r=et.GSUM[rt],cr=tn*xr+Vt+$r;return new di(cr,Ue)}static isNotA1left(a,l,c){return!(a.getValue()==0&&l&&c)}adjustOddEvenCounts(a){let l=Ge.sum(new Int32Array(this.getOddCounts())),c=Ge.sum(new Int32Array(this.getEvenCounts())),f=!1,m=!1;l>13?m=!0:l<4&&(f=!0);let g=!1,w=!1;c>13?w=!0:c<4&&(g=!0);let S=l+c-a,I=(l&1)==1,D=(c&1)==0;if(S==1)if(I){if(D)throw new te;m=!0}else{if(!D)throw new te;w=!0}else if(S==-1)if(I){if(D)throw new te;f=!0}else{if(!D)throw new te;g=!0}else if(S==0){if(I){if(!D)throw new te;l<c?(f=!0,w=!0):(m=!0,g=!0)}else if(D)throw new te}else throw new te;if(f){if(m)throw new te;et.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(m&&et.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(w)throw new te;et.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&et.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}et.SYMBOL_WIDEST=[7,5,4,3,1],et.EVEN_TOTAL_SUBSET=[4,20,52,104,204],et.GSUM=[0,348,1388,2948,3988],et.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],et.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],et.FINDER_PAT_A=0,et.FINDER_PAT_B=1,et.FINDER_PAT_C=2,et.FINDER_PAT_D=3,et.FINDER_PAT_E=4,et.FINDER_PAT_F=5,et.FINDER_PATTERN_SEQUENCES=[[et.FINDER_PAT_A,et.FINDER_PAT_A],[et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B],[et.FINDER_PAT_A,et.FINDER_PAT_C,et.FINDER_PAT_B,et.FINDER_PAT_D],[et.FINDER_PAT_A,et.FINDER_PAT_E,et.FINDER_PAT_B,et.FINDER_PAT_D,et.FINDER_PAT_C],[et.FINDER_PAT_A,et.FINDER_PAT_E,et.FINDER_PAT_B,et.FINDER_PAT_D,et.FINDER_PAT_D,et.FINDER_PAT_F],[et.FINDER_PAT_A,et.FINDER_PAT_E,et.FINDER_PAT_B,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_F,et.FINDER_PAT_F],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_D],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_E],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_F,et.FINDER_PAT_F],[et.FINDER_PAT_A,et.FINDER_PAT_A,et.FINDER_PAT_B,et.FINDER_PAT_B,et.FINDER_PAT_C,et.FINDER_PAT_D,et.FINDER_PAT_D,et.FINDER_PAT_E,et.FINDER_PAT_E,et.FINDER_PAT_F,et.FINDER_PAT_F]],et.MAX_PAIRS=11;class zc extends di{constructor(a,l,c){super(a,l),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Bn extends pn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,l,c){const f=this.decodePair(l,!1,a,c);Bn.addOrTally(this.possibleLeftPairs,f),l.reverse();let m=this.decodePair(l,!0,a,c);Bn.addOrTally(this.possibleRightPairs,m),l.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let w of this.possibleRightPairs)if(w.getCount()>1&&Bn.checkChecksum(g,w))return Bn.constructResult(g,w)}throw new te}static addOrTally(a,l){if(l==null)return;let c=!1;for(let f of a)if(f.getValue()===l.getValue()){f.incrementCount(),c=!0;break}c||a.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,l){let c=4537077*a.getValue()+l.getValue(),f=new String(c).toString(),m=new re;for(let I=13-f.length;I>0;I--)m.append("0");m.append(f);let g=0;for(let I=0;I<13;I++){let D=m.charAt(I).charCodeAt(0)-48;g+=I&1?D:3*D}g=10-g%10,g===10&&(g=0),m.append(g.toString());let w=a.getFinderPattern().getResultPoints(),S=l.getFinderPattern().getResultPoints();return new ee(m.toString(),null,0,[w[0],w[1],S[0],S[1]],he.RSS_14,new Date().getTime())}static checkChecksum(a,l){let c=(a.getChecksumPortion()+16*l.getChecksumPortion())%79,f=9*a.getFinderPattern().getValue()+l.getFinderPattern().getValue();return f>72&&f--,f>8&&f--,c===f}decodePair(a,l,c,f){try{let m=this.findFinderPattern(a,l),g=this.parseFoundFinderPattern(a,c,l,m),w=f==null?null:f.get(ne.NEED_RESULT_POINT_CALLBACK);if(w!=null){let D=(m[0]+m[1])/2;l&&(D=a.getSize()-1-D),w.foundPossibleResultPoint(new ce(D,c))}let S=this.decodeDataCharacter(a,g,!0),I=this.decodeDataCharacter(a,g,!1);return new zc(1597*S.getValue()+I.getValue(),S.getChecksumPortion()+4*I.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(a,l,c){let f=this.getDataCharacterCounters();for(let Ie=0;Ie<f.length;Ie++)f[Ie]=0;if(c)Et.recordPatternInReverse(a,l.getStartEnd()[0],f);else{Et.recordPattern(a,l.getStartEnd()[1]+1,f);for(let Ie=0,Ue=f.length-1;Ie<Ue;Ie++,Ue--){let rt=f[Ie];f[Ie]=f[Ue],f[Ue]=rt}}let m=c?16:15,g=Ge.sum(new Int32Array(f))/m,w=this.getOddCounts(),S=this.getEvenCounts(),I=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Ie=0;Ie<f.length;Ie++){let Ue=f[Ie]/g,rt=Math.floor(Ue+.5);rt<1?rt=1:rt>8&&(rt=8);let ot=Math.floor(Ie/2);Ie&1?(S[ot]=rt,D[ot]=Ue-rt):(w[ot]=rt,I[ot]=Ue-rt)}this.adjustOddEvenCounts(c,m);let U=0,G=0;for(let Ie=w.length-1;Ie>=0;Ie--)G*=9,G+=w[Ie],U+=w[Ie];let ue=0,ye=0;for(let Ie=S.length-1;Ie>=0;Ie--)ue*=9,ue+=S[Ie],ye+=S[Ie];let Ne=G+3*ue;if(c){if(U&1||U>12||U<4)throw new te;let Ie=(12-U)/2,Ue=Bn.OUTSIDE_ODD_WIDEST[Ie],rt=9-Ue,ot=_t.getRSSvalue(w,Ue,!1),st=_t.getRSSvalue(S,rt,!0),tn=Bn.OUTSIDE_EVEN_TOTAL_SUBSET[Ie],Vt=Bn.OUTSIDE_GSUM[Ie];return new di(ot*tn+st+Vt,Ne)}else{if(ye&1||ye>10||ye<4)throw new te;let Ie=(10-ye)/2,Ue=Bn.INSIDE_ODD_WIDEST[Ie],rt=9-Ue,ot=_t.getRSSvalue(w,Ue,!0),st=_t.getRSSvalue(S,rt,!1),tn=Bn.INSIDE_ODD_TOTAL_SUBSET[Ie],Vt=Bn.INSIDE_GSUM[Ie];return new di(st*tn+ot+Vt,Ne)}}findFinderPattern(a,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let f=a.getSize(),m=!1,g=0;for(;g<f&&(m=!a.get(g),l!==m);)g++;let w=0,S=g;for(let I=g;I<f;I++)if(a.get(I)!==m)c[w]++;else{if(w===3){if(pn.isFinderPattern(c))return[S,I];S+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,w--}else w++;c[w]=1,m=!m}throw new te}parseFoundFinderPattern(a,l,c,f){let m=a.get(f[0]),g=f[0]-1;for(;g>=0&&m!==a.get(g);)g--;g++;const w=f[0]-g,S=this.getDecodeFinderCounters(),I=new Int32Array(S.length);T.arraycopy(S,0,I,1,S.length-1),I[0]=w;const D=this.parseFinderValue(I,Bn.FINDER_PATTERNS);let U=g,G=f[1];return c&&(U=a.getSize()-1-U,G=a.getSize()-1-G),new Bi(D,[g,f[1]],U,G,l)}adjustOddEvenCounts(a,l){let c=Ge.sum(new Int32Array(this.getOddCounts())),f=Ge.sum(new Int32Array(this.getEvenCounts())),m=!1,g=!1,w=!1,S=!1;a?(c>12?g=!0:c<4&&(m=!0),f>12?S=!0:f<4&&(w=!0)):(c>11?g=!0:c<5&&(m=!0),f>10?S=!0:f<4&&(w=!0));let I=c+f-l,D=(c&1)===(a?1:0),U=(f&1)===1;if(I===1)if(D){if(U)throw new te;g=!0}else{if(!U)throw new te;S=!0}else if(I===-1)if(D){if(U)throw new te;m=!0}else{if(!U)throw new te;w=!0}else if(I===0){if(D){if(!U)throw new te;c<f?(m=!0,S=!0):(g=!0,w=!0)}else if(U)throw new te}else throw new te;if(m){if(g)throw new te;pn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&pn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(S)throw new te;pn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&pn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Bn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Bn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Bn.OUTSIDE_GSUM=[0,161,961,2015,2715],Bn.INSIDE_GSUM=[0,336,1036,1516],Bn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Bn.INSIDE_ODD_WIDEST=[2,4,6,8],Bn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Os extends Et{constructor(a,l){super(),this.readers=[],this.verbose=l===!0;const c=a?a.get(ne.POSSIBLE_FORMATS):null,f=a&&a.get(ne.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(he.EAN_13)||c.includes(he.UPC_A)||c.includes(he.EAN_8)||c.includes(he.UPC_E))&&this.readers.push(new ea(a)),c.includes(he.CODE_39)&&this.readers.push(new Bt(f)),c.includes(he.CODE_128)&&this.readers.push(new lt),c.includes(he.ITF)&&this.readers.push(new Pt),c.includes(he.RSS_14)&&this.readers.push(new Bn),c.includes(he.RSS_EXPANDED)&&this.readers.push(new et(this.verbose))):(this.readers.push(new ea(a)),this.readers.push(new Bt),this.readers.push(new ea(a)),this.readers.push(new lt),this.readers.push(new Pt),this.readers.push(new Bn),this.readers.push(new et(this.verbose)))}decodeRow(a,l,c){for(let f=0;f<this.readers.length;f++)try{return this.readers[f].decodeRow(a,l,c)}catch{}throw new te}reset(){this.readers.forEach(a=>a.reset())}}class dd extends K{constructor(a=500,l){super(new Os(l),a,l)}}class dn{constructor(a,l,c){this.ecCodewords=a,this.ecBlocks=[l],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class hn{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Qt{constructor(a,l,c,f,m,g){this.versionNumber=a,this.symbolSizeRows=l,this.symbolSizeColumns=c,this.dataRegionSizeRows=f,this.dataRegionSizeColumns=m,this.ecBlocks=g;let w=0;const S=g.getECCodewords(),I=g.getECBlocks();for(let D of I)w+=D.getCount()*(D.getDataCodewords()+S);this.totalCodewords=w}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,l){if(a&1||l&1)throw new F;for(let c of Qt.VERSIONS)if(c.symbolSizeRows===a&&c.symbolSizeColumns===l)return c;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new Qt(1,10,10,8,8,new dn(5,new hn(1,3))),new Qt(2,12,12,10,10,new dn(7,new hn(1,5))),new Qt(3,14,14,12,12,new dn(10,new hn(1,8))),new Qt(4,16,16,14,14,new dn(12,new hn(1,12))),new Qt(5,18,18,16,16,new dn(14,new hn(1,18))),new Qt(6,20,20,18,18,new dn(18,new hn(1,22))),new Qt(7,22,22,20,20,new dn(20,new hn(1,30))),new Qt(8,24,24,22,22,new dn(24,new hn(1,36))),new Qt(9,26,26,24,24,new dn(28,new hn(1,44))),new Qt(10,32,32,14,14,new dn(36,new hn(1,62))),new Qt(11,36,36,16,16,new dn(42,new hn(1,86))),new Qt(12,40,40,18,18,new dn(48,new hn(1,114))),new Qt(13,44,44,20,20,new dn(56,new hn(1,144))),new Qt(14,48,48,22,22,new dn(68,new hn(1,174))),new Qt(15,52,52,24,24,new dn(42,new hn(2,102))),new Qt(16,64,64,14,14,new dn(56,new hn(2,140))),new Qt(17,72,72,16,16,new dn(36,new hn(4,92))),new Qt(18,80,80,18,18,new dn(48,new hn(4,114))),new Qt(19,88,88,20,20,new dn(56,new hn(4,144))),new Qt(20,96,96,22,22,new dn(68,new hn(4,174))),new Qt(21,104,104,24,24,new dn(56,new hn(6,136))),new Qt(22,120,120,18,18,new dn(68,new hn(6,175))),new Qt(23,132,132,20,20,new dn(62,new hn(8,163))),new Qt(24,144,144,22,22,new dn(62,new hn(8,156),new hn(2,155))),new Qt(25,8,18,6,16,new dn(7,new hn(1,5))),new Qt(26,8,32,6,14,new dn(11,new hn(1,10))),new Qt(27,12,26,10,24,new dn(14,new hn(1,16))),new Qt(28,12,36,10,16,new dn(18,new hn(1,22))),new Qt(29,16,36,14,16,new dn(24,new hn(1,32))),new Qt(30,16,48,14,22,new dn(28,new hn(1,49)))]}}Qt.VERSIONS=Qt.buildVersions();class Hl{constructor(a){const l=a.getHeight();if(l<8||l>144||l&1)throw new F;this.version=Hl.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new ae(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const l=a.getHeight(),c=a.getWidth();return Qt.getVersionForDimensions(l,c)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let l=0,c=4,f=0;const m=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let w=!1,S=!1,I=!1,D=!1;do if(c===m&&f===0&&!w)a[l++]=this.readCorner1(m,g)&255,c-=2,f+=2,w=!0;else if(c===m-2&&f===0&&g&3&&!S)a[l++]=this.readCorner2(m,g)&255,c-=2,f+=2,S=!0;else if(c===m+4&&f===2&&!(g&7)&&!I)a[l++]=this.readCorner3(m,g)&255,c-=2,f+=2,I=!0;else if(c===m-2&&f===0&&(g&7)===4&&!D)a[l++]=this.readCorner4(m,g)&255,c-=2,f+=2,D=!0;else{do c<m&&f>=0&&!this.readMappingMatrix.get(f,c)&&(a[l++]=this.readUtah(c,f,m,g)&255),c-=2,f+=2;while(c>=0&&f<g);c+=1,f+=3;do c>=0&&f<g&&!this.readMappingMatrix.get(f,c)&&(a[l++]=this.readUtah(c,f,m,g)&255),c+=2,f-=2;while(c<m&&f>=0);c+=3,f+=1}while(c<m||f<g);if(l!==this.version.getTotalCodewords())throw new F;return a}readModule(a,l,c,f){return a<0&&(a+=c,l+=4-(c+4&7)),l<0&&(l+=f,a+=4-(f+4&7)),this.readMappingMatrix.set(l,a),this.mappingBitMatrix.get(l,a)}readUtah(a,l,c,f){let m=0;return this.readModule(a-2,l-2,c,f)&&(m|=1),m<<=1,this.readModule(a-2,l-1,c,f)&&(m|=1),m<<=1,this.readModule(a-1,l-2,c,f)&&(m|=1),m<<=1,this.readModule(a-1,l-1,c,f)&&(m|=1),m<<=1,this.readModule(a-1,l,c,f)&&(m|=1),m<<=1,this.readModule(a,l-2,c,f)&&(m|=1),m<<=1,this.readModule(a,l-1,c,f)&&(m|=1),m<<=1,this.readModule(a,l,c,f)&&(m|=1),m}readCorner1(a,l){let c=0;return this.readModule(a-1,0,a,l)&&(c|=1),c<<=1,this.readModule(a-1,1,a,l)&&(c|=1),c<<=1,this.readModule(a-1,2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-1,a,l)&&(c|=1),c<<=1,this.readModule(1,l-1,a,l)&&(c|=1),c<<=1,this.readModule(2,l-1,a,l)&&(c|=1),c<<=1,this.readModule(3,l-1,a,l)&&(c|=1),c}readCorner2(a,l){let c=0;return this.readModule(a-3,0,a,l)&&(c|=1),c<<=1,this.readModule(a-2,0,a,l)&&(c|=1),c<<=1,this.readModule(a-1,0,a,l)&&(c|=1),c<<=1,this.readModule(0,l-4,a,l)&&(c|=1),c<<=1,this.readModule(0,l-3,a,l)&&(c|=1),c<<=1,this.readModule(0,l-2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-1,a,l)&&(c|=1),c<<=1,this.readModule(1,l-1,a,l)&&(c|=1),c}readCorner3(a,l){let c=0;return this.readModule(a-1,0,a,l)&&(c|=1),c<<=1,this.readModule(a-1,l-1,a,l)&&(c|=1),c<<=1,this.readModule(0,l-3,a,l)&&(c|=1),c<<=1,this.readModule(0,l-2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-1,a,l)&&(c|=1),c<<=1,this.readModule(1,l-3,a,l)&&(c|=1),c<<=1,this.readModule(1,l-2,a,l)&&(c|=1),c<<=1,this.readModule(1,l-1,a,l)&&(c|=1),c}readCorner4(a,l){let c=0;return this.readModule(a-3,0,a,l)&&(c|=1),c<<=1,this.readModule(a-2,0,a,l)&&(c|=1),c<<=1,this.readModule(a-1,0,a,l)&&(c|=1),c<<=1,this.readModule(0,l-2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-1,a,l)&&(c|=1),c<<=1,this.readModule(1,l-1,a,l)&&(c|=1),c<<=1,this.readModule(2,l-1,a,l)&&(c|=1),c<<=1,this.readModule(3,l-1,a,l)&&(c|=1),c}extractDataRegion(a){const l=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(a.getHeight()!==l)throw new y("Dimension of bitMatrix must match the version size");const f=this.version.getDataRegionSizeRows(),m=this.version.getDataRegionSizeColumns(),g=l/f|0,w=c/m|0,S=g*f,I=w*m,D=new ae(I,S);for(let U=0;U<g;++U){const G=U*f;for(let ue=0;ue<w;++ue){const ye=ue*m;for(let Ne=0;Ne<f;++Ne){const Ie=U*(f+2)+1+Ne,Ue=G+Ne;for(let rt=0;rt<m;++rt){const ot=ue*(m+2)+1+rt;if(a.get(ot,Ie)){const st=ye+rt;D.set(st,Ue)}}}}}return D}}class $n{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l){const c=l.getECBlocks();let f=0;const m=c.getECBlocks();for(let Ne of m)f+=Ne.getCount();const g=new Array(f);let w=0;for(let Ne of m)for(let Ie=0;Ie<Ne.getCount();Ie++){const Ue=Ne.getDataCodewords(),rt=c.getECCodewords()+Ue;g[w++]=new $n(Ue,new Uint8Array(rt))}const I=g[0].codewords.length-c.getECCodewords(),D=I-1;let U=0;for(let Ne=0;Ne<D;Ne++)for(let Ie=0;Ie<w;Ie++)g[Ie].codewords[Ne]=a[U++];const G=l.getVersionNumber()===24,ue=G?8:w;for(let Ne=0;Ne<ue;Ne++)g[Ne].codewords[I-1]=a[U++];const ye=g[0].codewords.length;for(let Ne=I;Ne<ye;Ne++)for(let Ie=0;Ie<w;Ie++){const Ue=G?(Ie+8)%w:Ie,rt=G&&Ue>7?Ne-1:Ne;g[Ue].codewords[rt]=a[U++]}if(U!==a.length)throw new y;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Io{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new y(""+a);let l=0,c=this.bitOffset,f=this.byteOffset;const m=this.bytes;if(c>0){const g=8-c,w=a<g?a:g,S=g-w,I=255>>8-w<<S;l=(m[f]&I)>>S,a-=w,c+=w,c===8&&(c=0,f++)}if(a>0){for(;a>=8;)l=l<<8|m[f]&255,f++,a-=8;if(a>0){const g=8-a,w=255>>g<<g;l=l<<a|(m[f]&w)>>g,c+=a}}return this.bitOffset=c,this.byteOffset=f,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Jn;(function(V){V[V.PAD_ENCODE=0]="PAD_ENCODE",V[V.ASCII_ENCODE=1]="ASCII_ENCODE",V[V.C40_ENCODE=2]="C40_ENCODE",V[V.TEXT_ENCODE=3]="TEXT_ENCODE",V[V.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",V[V.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",V[V.BASE256_ENCODE=6]="BASE256_ENCODE"})(Jn||(Jn={}));class fs{static decode(a){const l=new Io(a),c=new re,f=new re,m=new Array;let g=Jn.ASCII_ENCODE;do if(g===Jn.ASCII_ENCODE)g=this.decodeAsciiSegment(l,c,f);else{switch(g){case Jn.C40_ENCODE:this.decodeC40Segment(l,c);break;case Jn.TEXT_ENCODE:this.decodeTextSegment(l,c);break;case Jn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,c);break;case Jn.EDIFACT_ENCODE:this.decodeEdifactSegment(l,c);break;case Jn.BASE256_ENCODE:this.decodeBase256Segment(l,c,m);break;default:throw new F}g=Jn.ASCII_ENCODE}while(g!==Jn.PAD_ENCODE&&l.available()>0);return f.length()>0&&c.append(f.toString()),new Oe(a,c.toString(),m.length===0?null:m,null)}static decodeAsciiSegment(a,l,c){let f=!1;do{let m=a.readBits(8);if(m===0)throw new F;if(m<=128)return f&&(m+=128),l.append(String.fromCharCode(m-1)),Jn.ASCII_ENCODE;if(m===129)return Jn.PAD_ENCODE;if(m<=229){const g=m-130;g<10&&l.append("0"),l.append(""+g)}else switch(m){case 230:return Jn.C40_ENCODE;case 231:return Jn.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:f=!0;break;case 236:l.append("[)>05"),c.insert(0,"");break;case 237:l.append("[)>06"),c.insert(0,"");break;case 238:return Jn.ANSIX12_ENCODE;case 239:return Jn.TEXT_ENCODE;case 240:return Jn.EDIFACT_ENCODE;case 241:break;default:if(m!==254||a.available()!==0)throw new F;break}}while(a.available()>0);return Jn.ASCII_ENCODE}static decodeC40Segment(a,l){let c=!1;const f=[];let m=0;do{if(a.available()===8)return;const g=a.readBits(8);if(g===254)return;this.parseTwoBytes(g,a.readBits(8),f);for(let w=0;w<3;w++){const S=f[w];switch(m){case 0:if(S<3)m=S+1;else if(S<this.C40_BASIC_SET_CHARS.length){const I=this.C40_BASIC_SET_CHARS[S];c?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),c=!1):l.append(I)}else throw new F;break;case 1:c?(l.append(String.fromCharCode(S+128)),c=!1):l.append(String.fromCharCode(S)),m=0;break;case 2:if(S<this.C40_SHIFT2_SET_CHARS.length){const I=this.C40_SHIFT2_SET_CHARS[S];c?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),c=!1):l.append(I)}else switch(S){case 27:l.append("");break;case 30:c=!0;break;default:throw new F}m=0;break;case 3:c?(l.append(String.fromCharCode(S+224)),c=!1):l.append(String.fromCharCode(S+96)),m=0;break;default:throw new F}}}while(a.available()>0)}static decodeTextSegment(a,l){let c=!1,f=[],m=0;do{if(a.available()===8)return;const g=a.readBits(8);if(g===254)return;this.parseTwoBytes(g,a.readBits(8),f);for(let w=0;w<3;w++){const S=f[w];switch(m){case 0:if(S<3)m=S+1;else if(S<this.TEXT_BASIC_SET_CHARS.length){const I=this.TEXT_BASIC_SET_CHARS[S];c?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),c=!1):l.append(I)}else throw new F;break;case 1:c?(l.append(String.fromCharCode(S+128)),c=!1):l.append(String.fromCharCode(S)),m=0;break;case 2:if(S<this.TEXT_SHIFT2_SET_CHARS.length){const I=this.TEXT_SHIFT2_SET_CHARS[S];c?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),c=!1):l.append(I)}else switch(S){case 27:l.append("");break;case 30:c=!0;break;default:throw new F}m=0;break;case 3:if(S<this.TEXT_SHIFT3_SET_CHARS.length){const I=this.TEXT_SHIFT3_SET_CHARS[S];c?(l.append(String.fromCharCode(I.charCodeAt(0)+128)),c=!1):l.append(I),m=0}else throw new F;break;default:throw new F}}}while(a.available()>0)}static decodeAnsiX12Segment(a,l){const c=[];do{if(a.available()===8)return;const f=a.readBits(8);if(f===254)return;this.parseTwoBytes(f,a.readBits(8),c);for(let m=0;m<3;m++){const g=c[m];switch(g){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(g<14)l.append(String.fromCharCode(g+44));else if(g<40)l.append(String.fromCharCode(g+51));else throw new F;break}}}while(a.available()>0)}static parseTwoBytes(a,l,c){let f=(a<<8)+l-1,m=Math.floor(f/1600);c[0]=m,f-=m*1600,m=Math.floor(f/40),c[1]=m,c[2]=f-m*40}static decodeEdifactSegment(a,l){do{if(a.available()<=16)return;for(let c=0;c<4;c++){let f=a.readBits(6);if(f===31){const m=8-a.getBitOffset();m!==8&&a.readBits(m);return}f&32||(f|=64),l.append(String.fromCharCode(f))}}while(a.available()>0)}static decodeBase256Segment(a,l,c){let f=1+a.getByteOffset();const m=this.unrandomize255State(a.readBits(8),f++);let g;if(m===0?g=a.available()/8|0:m<250?g=m:g=250*(m-249)+this.unrandomize255State(a.readBits(8),f++),g<0)throw new F;const w=new Uint8Array(g);for(let S=0;S<g;S++){if(a.available()<8)throw new F;w[S]=this.unrandomize255State(a.readBits(8),f++)}c.push(w);try{l.append(W.decode(w,z.ISO88591))}catch(S){throw new Ve("Platform does not support required encoding: "+S.message)}}static unrandomize255State(a,l){const c=149*l%255+1,f=a-c;return f>=0?f:f+256}}fs.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],fs.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],fs.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],fs.TEXT_SHIFT2_SET_CHARS=fs.C40_SHIFT2_SET_CHARS,fs.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class ql{constructor(){this.rsDecoder=new pe($e.DATA_MATRIX_FIELD_256)}decode(a){const l=new Hl(a),c=l.getVersion(),f=l.readCodewords(),m=$n.getDataBlocks(f,c);let g=0;for(let I of m)g+=I.getNumDataCodewords();const w=new Uint8Array(g),S=m.length;for(let I=0;I<S;I++){const D=m[I],U=D.getCodewords(),G=D.getNumDataCodewords();this.correctErrors(U,G);for(let ue=0;ue<G;ue++)w[ue*S+I]=U[ue]}return fs.decode(w)}correctErrors(a,l){const c=new Int32Array(a);try{this.rsDecoder.decode(c,a.length-l)}catch{throw new b}for(let f=0;f<l;f++)a[f]=c[f]}}class Gn{constructor(a){this.image=a,this.rectangleDetector=new Be(this.image)}detect(){const a=this.rectangleDetector.detect();let l=this.detectSolid1(a);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new te;l=this.shiftToModuleCenter(l);const c=l[0],f=l[1],m=l[2],g=l[3];let w=this.transitionsBetween(c,g)+1,S=this.transitionsBetween(m,g)+1;(w&1)===1&&(w+=1),(S&1)===1&&(S+=1),4*w<7*S&&4*S<7*w&&(w=S=Math.max(w,S));let I=Gn.sampleGrid(this.image,c,f,m,g,w,S);return new we(I,[c,f,m,g])}static shiftPoint(a,l,c){let f=(l.getX()-a.getX())/(c+1),m=(l.getY()-a.getY())/(c+1);return new ce(a.getX()+f,a.getY()+m)}static moveAway(a,l,c){let f=a.getX(),m=a.getY();return f<l?f-=1:f+=1,m<c?m-=1:m+=1,new ce(f,m)}detectSolid1(a){let l=a[0],c=a[1],f=a[3],m=a[2],g=this.transitionsBetween(l,c),w=this.transitionsBetween(c,f),S=this.transitionsBetween(f,m),I=this.transitionsBetween(m,l),D=g,U=[m,l,c,f];return D>w&&(D=w,U[0]=l,U[1]=c,U[2]=f,U[3]=m),D>S&&(D=S,U[0]=c,U[1]=f,U[2]=m,U[3]=l),D>I&&(U[0]=f,U[1]=m,U[2]=l,U[3]=c),U}detectSolid2(a){let l=a[0],c=a[1],f=a[2],m=a[3],g=this.transitionsBetween(l,m),w=Gn.shiftPoint(c,f,(g+1)*4),S=Gn.shiftPoint(f,c,(g+1)*4),I=this.transitionsBetween(w,l),D=this.transitionsBetween(S,m);return I<D?(a[0]=l,a[1]=c,a[2]=f,a[3]=m):(a[0]=c,a[1]=f,a[2]=m,a[3]=l),a}correctTopRight(a){let l=a[0],c=a[1],f=a[2],m=a[3],g=this.transitionsBetween(l,m),w=this.transitionsBetween(c,m),S=Gn.shiftPoint(l,c,(w+1)*4),I=Gn.shiftPoint(f,c,(g+1)*4);g=this.transitionsBetween(S,m),w=this.transitionsBetween(I,m);let D=new ce(m.getX()+(f.getX()-c.getX())/(g+1),m.getY()+(f.getY()-c.getY())/(g+1)),U=new ce(m.getX()+(l.getX()-c.getX())/(w+1),m.getY()+(l.getY()-c.getY())/(w+1));if(!this.isValid(D))return this.isValid(U)?U:null;if(!this.isValid(U))return D;let G=this.transitionsBetween(S,D)+this.transitionsBetween(I,D),ue=this.transitionsBetween(S,U)+this.transitionsBetween(I,U);return G>ue?D:U}shiftToModuleCenter(a){let l=a[0],c=a[1],f=a[2],m=a[3],g=this.transitionsBetween(l,m)+1,w=this.transitionsBetween(f,m)+1,S=Gn.shiftPoint(l,c,w*4),I=Gn.shiftPoint(f,c,g*4);g=this.transitionsBetween(S,m)+1,w=this.transitionsBetween(I,m)+1,(g&1)===1&&(g+=1),(w&1)===1&&(w+=1);let D=(l.getX()+c.getX()+f.getX()+m.getX())/4,U=(l.getY()+c.getY()+f.getY()+m.getY())/4;l=Gn.moveAway(l,D,U),c=Gn.moveAway(c,D,U),f=Gn.moveAway(f,D,U),m=Gn.moveAway(m,D,U);let G,ue;return S=Gn.shiftPoint(l,c,w*4),S=Gn.shiftPoint(S,m,g*4),G=Gn.shiftPoint(c,l,w*4),G=Gn.shiftPoint(G,f,g*4),I=Gn.shiftPoint(f,m,w*4),I=Gn.shiftPoint(I,c,g*4),ue=Gn.shiftPoint(m,f,w*4),ue=Gn.shiftPoint(ue,l,g*4),[S,G,I,ue]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,l,c,f,m,g,w){return xt.getInstance().sampleGrid(a,g,w,.5,.5,g-.5,.5,g-.5,w-.5,.5,w-.5,l.getX(),l.getY(),m.getX(),m.getY(),f.getX(),f.getY(),c.getX(),c.getY())}transitionsBetween(a,l){let c=Math.trunc(a.getX()),f=Math.trunc(a.getY()),m=Math.trunc(l.getX()),g=Math.trunc(l.getY()),w=Math.abs(g-f)>Math.abs(m-c);if(w){let Ne=c;c=f,f=Ne,Ne=m,m=g,g=Ne}let S=Math.abs(m-c),I=Math.abs(g-f),D=-S/2,U=f<g?1:-1,G=c<m?1:-1,ue=0,ye=this.image.get(w?f:c,w?c:f);for(let Ne=c,Ie=f;Ne!==m;Ne+=G){let Ue=this.image.get(w?Ie:Ne,w?Ne:Ie);if(Ue!==ye&&(ue++,ye=Ue),D+=I,D>0){if(Ie===g)break;Ie+=U,D-=S}}return ue}}class Rr{constructor(){this.decoder=new ql}decode(a,l=null){let c,f;if(l!=null&&l.has(ne.PURE_BARCODE)){const I=Rr.extractPureBits(a.getBlackMatrix());c=this.decoder.decode(I),f=Rr.NO_POINTS}else{const I=new Gn(a.getBlackMatrix()).detect();c=this.decoder.decode(I.getBits()),f=I.getPoints()}const m=c.getRawBytes(),g=new ee(c.getText(),m,8*m.length,f,he.DATA_MATRIX,T.currentTimeMillis()),w=c.getByteSegments();w!=null&&g.putMetadata(je.BYTE_SEGMENTS,w);const S=c.getECLevel();return S!=null&&g.putMetadata(je.ERROR_CORRECTION_LEVEL,S),g}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),c=a.getBottomRightOnBit();if(l==null||c==null)throw new te;const f=this.moduleSize(l,a);let m=l[1];const g=c[1];let w=l[0];const I=(c[0]-w+1)/f,D=(g-m+1)/f;if(I<=0||D<=0)throw new te;const U=f/2;m+=U,w+=U;const G=new ae(I,D);for(let ue=0;ue<D;ue++){const ye=m+ue*f;for(let Ne=0;Ne<I;Ne++)a.get(w+Ne*f,ye)&&G.set(Ne,ue)}return G}static moduleSize(a,l){const c=l.getWidth();let f=a[0];const m=a[1];for(;f<c&&l.get(f,m);)f++;if(f===c)throw new te;const g=f-a[0];if(g===0)throw new te;return g}}Rr.NO_POINTS=[];class ko extends K{constructor(a=500){super(new Rr,a)}}var Ar;(function(V){V[V.L=0]="L",V[V.M=1]="M",V[V.Q=2]="Q",V[V.H=3]="H"})(Ar||(Ar={}));class wn{constructor(a,l,c){this.value=a,this.stringValue=l,this.bits=c,wn.FOR_BITS.set(c,this),wn.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return wn.L;case"M":return wn.M;case"Q":return wn.Q;case"H":return wn.H;default:throw new x(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof wn))return!1;const l=a;return this.value===l.value}static forBits(a){if(a<0||a>=wn.FOR_BITS.size)throw new y;return wn.FOR_BITS.get(a)}}wn.FOR_BITS=new Map,wn.FOR_VALUE=new Map,wn.L=new wn(Ar.L,"L",1),wn.M=new wn(Ar.M,"M",0),wn.Q=new wn(Ar.Q,"Q",3),wn.H=new wn(Ar.H,"H",2);class Sr{constructor(a){this.errorCorrectionLevel=wn.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,l){return k.bitCount(a^l)}static decodeFormatInformation(a,l){const c=Sr.doDecodeFormatInformation(a,l);return c!==null?c:Sr.doDecodeFormatInformation(a^Sr.FORMAT_INFO_MASK_QR,l^Sr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,l){let c=Number.MAX_SAFE_INTEGER,f=0;for(const m of Sr.FORMAT_INFO_DECODE_LOOKUP){const g=m[0];if(g===a||g===l)return new Sr(m[1]);let w=Sr.numBitsDiffering(a,g);w<c&&(f=m[1],c=w),a!==l&&(w=Sr.numBitsDiffering(l,g),w<c&&(f=m[1],c=w))}return c<=3?new Sr(f):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof Sr))return!1;const l=a;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}Sr.FORMAT_INFO_MASK_QR=21522,Sr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class De{constructor(a,...l){this.ecCodewordsPerBlock=a,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const l=this.ecBlocks;for(const c of l)a+=c.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class oe{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class It{constructor(a,l,...c){this.versionNumber=a,this.alignmentPatternCenters=l,this.ecBlocks=c;let f=0;const m=c[0].getECCodewordsPerBlock(),g=c[0].getECBlocks();for(const w of g)f+=w.getCount()*(w.getDataCodewords()+m);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new F;try{return this.getVersionForNumber((a-17)/4)}catch{throw new F}}static getVersionForNumber(a){if(a<1||a>40)throw new y;return It.VERSIONS[a-1]}static decodeVersionInformation(a){let l=Number.MAX_SAFE_INTEGER,c=0;for(let f=0;f<It.VERSION_DECODE_INFO.length;f++){const m=It.VERSION_DECODE_INFO[f];if(m===a)return It.getVersionForNumber(f+7);const g=Sr.numBitsDiffering(a,m);g<l&&(c=f+7,l=g)}return l<=3?It.getVersionForNumber(c):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),l=new ae(a);l.setRegion(0,0,9,9),l.setRegion(a-8,0,8,9),l.setRegion(0,a-8,9,8);const c=this.alignmentPatternCenters.length;for(let f=0;f<c;f++){const m=this.alignmentPatternCenters[f]-2;for(let g=0;g<c;g++)f===0&&(g===0||g===c-1)||f===c-1&&g===0||l.setRegion(this.alignmentPatternCenters[g]-2,m,5,5)}return l.setRegion(6,9,1,a-17),l.setRegion(9,6,a-17,1),this.versionNumber>6&&(l.setRegion(a-11,0,3,6),l.setRegion(0,a-11,6,3)),l}toString(){return""+this.versionNumber}}It.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),It.VERSIONS=[new It(1,new Int32Array(0),new De(7,new oe(1,19)),new De(10,new oe(1,16)),new De(13,new oe(1,13)),new De(17,new oe(1,9))),new It(2,Int32Array.from([6,18]),new De(10,new oe(1,34)),new De(16,new oe(1,28)),new De(22,new oe(1,22)),new De(28,new oe(1,16))),new It(3,Int32Array.from([6,22]),new De(15,new oe(1,55)),new De(26,new oe(1,44)),new De(18,new oe(2,17)),new De(22,new oe(2,13))),new It(4,Int32Array.from([6,26]),new De(20,new oe(1,80)),new De(18,new oe(2,32)),new De(26,new oe(2,24)),new De(16,new oe(4,9))),new It(5,Int32Array.from([6,30]),new De(26,new oe(1,108)),new De(24,new oe(2,43)),new De(18,new oe(2,15),new oe(2,16)),new De(22,new oe(2,11),new oe(2,12))),new It(6,Int32Array.from([6,34]),new De(18,new oe(2,68)),new De(16,new oe(4,27)),new De(24,new oe(4,19)),new De(28,new oe(4,15))),new It(7,Int32Array.from([6,22,38]),new De(20,new oe(2,78)),new De(18,new oe(4,31)),new De(18,new oe(2,14),new oe(4,15)),new De(26,new oe(4,13),new oe(1,14))),new It(8,Int32Array.from([6,24,42]),new De(24,new oe(2,97)),new De(22,new oe(2,38),new oe(2,39)),new De(22,new oe(4,18),new oe(2,19)),new De(26,new oe(4,14),new oe(2,15))),new It(9,Int32Array.from([6,26,46]),new De(30,new oe(2,116)),new De(22,new oe(3,36),new oe(2,37)),new De(20,new oe(4,16),new oe(4,17)),new De(24,new oe(4,12),new oe(4,13))),new It(10,Int32Array.from([6,28,50]),new De(18,new oe(2,68),new oe(2,69)),new De(26,new oe(4,43),new oe(1,44)),new De(24,new oe(6,19),new oe(2,20)),new De(28,new oe(6,15),new oe(2,16))),new It(11,Int32Array.from([6,30,54]),new De(20,new oe(4,81)),new De(30,new oe(1,50),new oe(4,51)),new De(28,new oe(4,22),new oe(4,23)),new De(24,new oe(3,12),new oe(8,13))),new It(12,Int32Array.from([6,32,58]),new De(24,new oe(2,92),new oe(2,93)),new De(22,new oe(6,36),new oe(2,37)),new De(26,new oe(4,20),new oe(6,21)),new De(28,new oe(7,14),new oe(4,15))),new It(13,Int32Array.from([6,34,62]),new De(26,new oe(4,107)),new De(22,new oe(8,37),new oe(1,38)),new De(24,new oe(8,20),new oe(4,21)),new De(22,new oe(12,11),new oe(4,12))),new It(14,Int32Array.from([6,26,46,66]),new De(30,new oe(3,115),new oe(1,116)),new De(24,new oe(4,40),new oe(5,41)),new De(20,new oe(11,16),new oe(5,17)),new De(24,new oe(11,12),new oe(5,13))),new It(15,Int32Array.from([6,26,48,70]),new De(22,new oe(5,87),new oe(1,88)),new De(24,new oe(5,41),new oe(5,42)),new De(30,new oe(5,24),new oe(7,25)),new De(24,new oe(11,12),new oe(7,13))),new It(16,Int32Array.from([6,26,50,74]),new De(24,new oe(5,98),new oe(1,99)),new De(28,new oe(7,45),new oe(3,46)),new De(24,new oe(15,19),new oe(2,20)),new De(30,new oe(3,15),new oe(13,16))),new It(17,Int32Array.from([6,30,54,78]),new De(28,new oe(1,107),new oe(5,108)),new De(28,new oe(10,46),new oe(1,47)),new De(28,new oe(1,22),new oe(15,23)),new De(28,new oe(2,14),new oe(17,15))),new It(18,Int32Array.from([6,30,56,82]),new De(30,new oe(5,120),new oe(1,121)),new De(26,new oe(9,43),new oe(4,44)),new De(28,new oe(17,22),new oe(1,23)),new De(28,new oe(2,14),new oe(19,15))),new It(19,Int32Array.from([6,30,58,86]),new De(28,new oe(3,113),new oe(4,114)),new De(26,new oe(3,44),new oe(11,45)),new De(26,new oe(17,21),new oe(4,22)),new De(26,new oe(9,13),new oe(16,14))),new It(20,Int32Array.from([6,34,62,90]),new De(28,new oe(3,107),new oe(5,108)),new De(26,new oe(3,41),new oe(13,42)),new De(30,new oe(15,24),new oe(5,25)),new De(28,new oe(15,15),new oe(10,16))),new It(21,Int32Array.from([6,28,50,72,94]),new De(28,new oe(4,116),new oe(4,117)),new De(26,new oe(17,42)),new De(28,new oe(17,22),new oe(6,23)),new De(30,new oe(19,16),new oe(6,17))),new It(22,Int32Array.from([6,26,50,74,98]),new De(28,new oe(2,111),new oe(7,112)),new De(28,new oe(17,46)),new De(30,new oe(7,24),new oe(16,25)),new De(24,new oe(34,13))),new It(23,Int32Array.from([6,30,54,78,102]),new De(30,new oe(4,121),new oe(5,122)),new De(28,new oe(4,47),new oe(14,48)),new De(30,new oe(11,24),new oe(14,25)),new De(30,new oe(16,15),new oe(14,16))),new It(24,Int32Array.from([6,28,54,80,106]),new De(30,new oe(6,117),new oe(4,118)),new De(28,new oe(6,45),new oe(14,46)),new De(30,new oe(11,24),new oe(16,25)),new De(30,new oe(30,16),new oe(2,17))),new It(25,Int32Array.from([6,32,58,84,110]),new De(26,new oe(8,106),new oe(4,107)),new De(28,new oe(8,47),new oe(13,48)),new De(30,new oe(7,24),new oe(22,25)),new De(30,new oe(22,15),new oe(13,16))),new It(26,Int32Array.from([6,30,58,86,114]),new De(28,new oe(10,114),new oe(2,115)),new De(28,new oe(19,46),new oe(4,47)),new De(28,new oe(28,22),new oe(6,23)),new De(30,new oe(33,16),new oe(4,17))),new It(27,Int32Array.from([6,34,62,90,118]),new De(30,new oe(8,122),new oe(4,123)),new De(28,new oe(22,45),new oe(3,46)),new De(30,new oe(8,23),new oe(26,24)),new De(30,new oe(12,15),new oe(28,16))),new It(28,Int32Array.from([6,26,50,74,98,122]),new De(30,new oe(3,117),new oe(10,118)),new De(28,new oe(3,45),new oe(23,46)),new De(30,new oe(4,24),new oe(31,25)),new De(30,new oe(11,15),new oe(31,16))),new It(29,Int32Array.from([6,30,54,78,102,126]),new De(30,new oe(7,116),new oe(7,117)),new De(28,new oe(21,45),new oe(7,46)),new De(30,new oe(1,23),new oe(37,24)),new De(30,new oe(19,15),new oe(26,16))),new It(30,Int32Array.from([6,26,52,78,104,130]),new De(30,new oe(5,115),new oe(10,116)),new De(28,new oe(19,47),new oe(10,48)),new De(30,new oe(15,24),new oe(25,25)),new De(30,new oe(23,15),new oe(25,16))),new It(31,Int32Array.from([6,30,56,82,108,134]),new De(30,new oe(13,115),new oe(3,116)),new De(28,new oe(2,46),new oe(29,47)),new De(30,new oe(42,24),new oe(1,25)),new De(30,new oe(23,15),new oe(28,16))),new It(32,Int32Array.from([6,34,60,86,112,138]),new De(30,new oe(17,115)),new De(28,new oe(10,46),new oe(23,47)),new De(30,new oe(10,24),new oe(35,25)),new De(30,new oe(19,15),new oe(35,16))),new It(33,Int32Array.from([6,30,58,86,114,142]),new De(30,new oe(17,115),new oe(1,116)),new De(28,new oe(14,46),new oe(21,47)),new De(30,new oe(29,24),new oe(19,25)),new De(30,new oe(11,15),new oe(46,16))),new It(34,Int32Array.from([6,34,62,90,118,146]),new De(30,new oe(13,115),new oe(6,116)),new De(28,new oe(14,46),new oe(23,47)),new De(30,new oe(44,24),new oe(7,25)),new De(30,new oe(59,16),new oe(1,17))),new It(35,Int32Array.from([6,30,54,78,102,126,150]),new De(30,new oe(12,121),new oe(7,122)),new De(28,new oe(12,47),new oe(26,48)),new De(30,new oe(39,24),new oe(14,25)),new De(30,new oe(22,15),new oe(41,16))),new It(36,Int32Array.from([6,24,50,76,102,128,154]),new De(30,new oe(6,121),new oe(14,122)),new De(28,new oe(6,47),new oe(34,48)),new De(30,new oe(46,24),new oe(10,25)),new De(30,new oe(2,15),new oe(64,16))),new It(37,Int32Array.from([6,28,54,80,106,132,158]),new De(30,new oe(17,122),new oe(4,123)),new De(28,new oe(29,46),new oe(14,47)),new De(30,new oe(49,24),new oe(10,25)),new De(30,new oe(24,15),new oe(46,16))),new It(38,Int32Array.from([6,32,58,84,110,136,162]),new De(30,new oe(4,122),new oe(18,123)),new De(28,new oe(13,46),new oe(32,47)),new De(30,new oe(48,24),new oe(14,25)),new De(30,new oe(42,15),new oe(32,16))),new It(39,Int32Array.from([6,26,54,82,110,138,166]),new De(30,new oe(20,117),new oe(4,118)),new De(28,new oe(40,47),new oe(7,48)),new De(30,new oe(43,24),new oe(22,25)),new De(30,new oe(10,15),new oe(67,16))),new It(40,Int32Array.from([6,30,58,86,114,142,170]),new De(30,new oe(19,118),new oe(6,119)),new De(28,new oe(18,47),new oe(31,48)),new De(30,new oe(34,24),new oe(34,25)),new De(30,new oe(20,15),new oe(61,16)))];var ar;(function(V){V[V.DATA_MASK_000=0]="DATA_MASK_000",V[V.DATA_MASK_001=1]="DATA_MASK_001",V[V.DATA_MASK_010=2]="DATA_MASK_010",V[V.DATA_MASK_011=3]="DATA_MASK_011",V[V.DATA_MASK_100=4]="DATA_MASK_100",V[V.DATA_MASK_101=5]="DATA_MASK_101",V[V.DATA_MASK_110=6]="DATA_MASK_110",V[V.DATA_MASK_111=7]="DATA_MASK_111"})(ar||(ar={}));class Ni{constructor(a,l){this.value=a,this.isMasked=l}unmaskBitMatrix(a,l){for(let c=0;c<l;c++)for(let f=0;f<l;f++)this.isMasked(c,f)&&a.flip(f,c)}}Ni.values=new Map([[ar.DATA_MASK_000,new Ni(ar.DATA_MASK_000,(V,a)=>(V+a&1)===0)],[ar.DATA_MASK_001,new Ni(ar.DATA_MASK_001,(V,a)=>(V&1)===0)],[ar.DATA_MASK_010,new Ni(ar.DATA_MASK_010,(V,a)=>a%3===0)],[ar.DATA_MASK_011,new Ni(ar.DATA_MASK_011,(V,a)=>(V+a)%3===0)],[ar.DATA_MASK_100,new Ni(ar.DATA_MASK_100,(V,a)=>(Math.floor(V/2)+Math.floor(a/3)&1)===0)],[ar.DATA_MASK_101,new Ni(ar.DATA_MASK_101,(V,a)=>V*a%6===0)],[ar.DATA_MASK_110,new Ni(ar.DATA_MASK_110,(V,a)=>V*a%6<3)],[ar.DATA_MASK_111,new Ni(ar.DATA_MASK_111,(V,a)=>(V+a+V*a%3&1)===0)]]);class Wl{constructor(a){const l=a.getHeight();if(l<21||(l&3)!==1)throw new F;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let m=0;m<6;m++)a=this.copyBit(m,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let m=5;m>=0;m--)a=this.copyBit(8,m,a);const l=this.bitMatrix.getHeight();let c=0;const f=l-7;for(let m=l-1;m>=f;m--)c=this.copyBit(8,m,c);for(let m=l-8;m<l;m++)c=this.copyBit(m,8,c);if(this.parsedFormatInfo=Sr.decodeFormatInformation(a,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),l=Math.floor((a-17)/4);if(l<=6)return It.getVersionForNumber(l);let c=0;const f=a-11;for(let g=5;g>=0;g--)for(let w=a-9;w>=f;w--)c=this.copyBit(w,g,c);let m=It.decodeVersionInformation(c);if(m!==null&&m.getDimensionForVersion()===a)return this.parsedVersion=m,m;c=0;for(let g=5;g>=0;g--)for(let w=a-9;w>=f;w--)c=this.copyBit(g,w,c);if(m=It.decodeVersionInformation(c),m!==null&&m.getDimensionForVersion()===a)return this.parsedVersion=m,m;throw new F}copyBit(a,l,c){return(this.isMirror?this.bitMatrix.get(l,a):this.bitMatrix.get(a,l))?c<<1|1:c<<1}readCodewords(){const a=this.readFormatInformation(),l=this.readVersion(),c=Ni.values.get(a.getDataMask()),f=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,f);const m=l.buildFunctionPattern();let g=!0;const w=new Uint8Array(l.getTotalCodewords());let S=0,I=0,D=0;for(let U=f-1;U>0;U-=2){U===6&&U--;for(let G=0;G<f;G++){const ue=g?f-1-G:G;for(let ye=0;ye<2;ye++)m.get(U-ye,ue)||(D++,I<<=1,this.bitMatrix.get(U-ye,ue)&&(I|=1),D===8&&(w[S++]=I,D=0,I=0))}g=!g}if(S!==l.getTotalCodewords())throw new F;return w}remask(){if(this.parsedFormatInfo===null)return;const a=Ni.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let l=0,c=a.getWidth();l<c;l++)for(let f=l+1,m=a.getHeight();f<m;f++)a.get(l,f)!==a.get(f,l)&&(a.flip(f,l),a.flip(l,f))}}class $l{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l,c){if(a.length!==l.getTotalCodewords())throw new y;const f=l.getECBlocksForLevel(c);let m=0;const g=f.getECBlocks();for(const ye of g)m+=ye.getCount();const w=new Array(m);let S=0;for(const ye of g)for(let Ne=0;Ne<ye.getCount();Ne++){const Ie=ye.getDataCodewords(),Ue=f.getECCodewordsPerBlock()+Ie;w[S++]=new $l(Ie,new Uint8Array(Ue))}const I=w[0].codewords.length;let D=w.length-1;for(;D>=0&&w[D].codewords.length!==I;)D--;D++;const U=I-f.getECCodewordsPerBlock();let G=0;for(let ye=0;ye<U;ye++)for(let Ne=0;Ne<S;Ne++)w[Ne].codewords[ye]=a[G++];for(let ye=D;ye<S;ye++)w[ye].codewords[U]=a[G++];const ue=w[0].codewords.length;for(let ye=U;ye<ue;ye++)for(let Ne=0;Ne<S;Ne++){const Ie=Ne<D?ye:ye+1;w[Ne].codewords[Ie]=a[G++]}return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Ai;(function(V){V[V.TERMINATOR=0]="TERMINATOR",V[V.NUMERIC=1]="NUMERIC",V[V.ALPHANUMERIC=2]="ALPHANUMERIC",V[V.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",V[V.BYTE=4]="BYTE",V[V.ECI=5]="ECI",V[V.KANJI=6]="KANJI",V[V.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",V[V.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",V[V.HANZI=9]="HANZI"})(Ai||(Ai={}));class Lt{constructor(a,l,c,f){this.value=a,this.stringValue=l,this.characterCountBitsForVersions=c,this.bits=f,Lt.FOR_BITS.set(f,this),Lt.FOR_VALUE.set(a,this)}static forBits(a){const l=Lt.FOR_BITS.get(a);if(l===void 0)throw new y;return l}getCharacterCountBits(a){const l=a.getVersionNumber();let c;return l<=9?c=0:l<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof Lt))return!1;const l=a;return this.value===l.value}toString(){return this.stringValue}}Lt.FOR_BITS=new Map,Lt.FOR_VALUE=new Map,Lt.TERMINATOR=new Lt(Ai.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Lt.NUMERIC=new Lt(Ai.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Lt.ALPHANUMERIC=new Lt(Ai.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Lt.STRUCTURED_APPEND=new Lt(Ai.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Lt.BYTE=new Lt(Ai.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Lt.ECI=new Lt(Ai.ECI,"ECI",Int32Array.from([0,0,0]),7),Lt.KANJI=new Lt(Ai.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Lt.FNC1_FIRST_POSITION=new Lt(Ai.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Lt.FNC1_SECOND_POSITION=new Lt(Ai.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Lt.HANZI=new Lt(Ai.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class gn{static decode(a,l,c,f){const m=new Io(a);let g=new re;const w=new Array;let S=-1,I=-1;try{let D=null,U=!1,G;do{if(m.available()<4)G=Lt.TERMINATOR;else{const ue=m.readBits(4);G=Lt.forBits(ue)}switch(G){case Lt.TERMINATOR:break;case Lt.FNC1_FIRST_POSITION:case Lt.FNC1_SECOND_POSITION:U=!0;break;case Lt.STRUCTURED_APPEND:if(m.available()<16)throw new F;S=m.readBits(8),I=m.readBits(8);break;case Lt.ECI:const ue=gn.parseECIValue(m);if(D=J.getCharacterSetECIByValue(ue),D===null)throw new F;break;case Lt.HANZI:const ye=m.readBits(4),Ne=m.readBits(G.getCharacterCountBits(l));ye===gn.GB2312_SUBSET&&gn.decodeHanziSegment(m,g,Ne);break;default:const Ie=m.readBits(G.getCharacterCountBits(l));switch(G){case Lt.NUMERIC:gn.decodeNumericSegment(m,g,Ie);break;case Lt.ALPHANUMERIC:gn.decodeAlphanumericSegment(m,g,Ie,U);break;case Lt.BYTE:gn.decodeByteSegment(m,g,Ie,D,w,f);break;case Lt.KANJI:gn.decodeKanjiSegment(m,g,Ie);break;default:throw new F}break}}while(G!==Lt.TERMINATOR)}catch{throw new F}return new Oe(a,g.toString(),w.length===0?null:w,c===null?null:c.toString(),S,I)}static decodeHanziSegment(a,l,c){if(c*13>a.available())throw new F;const f=new Uint8Array(2*c);let m=0;for(;c>0;){const g=a.readBits(13);let w=g/96<<8&4294967295|g%96;w<959?w+=41377:w+=42657,f[m]=w>>8&255,f[m+1]=w&255,m+=2,c--}try{l.append(W.decode(f,z.GB2312))}catch(g){throw new F(g)}}static decodeKanjiSegment(a,l,c){if(c*13>a.available())throw new F;const f=new Uint8Array(2*c);let m=0;for(;c>0;){const g=a.readBits(13);let w=g/192<<8&4294967295|g%192;w<7936?w+=33088:w+=49472,f[m]=w>>8,f[m+1]=w,m+=2,c--}try{l.append(W.decode(f,z.SHIFT_JIS))}catch(g){throw new F(g)}}static decodeByteSegment(a,l,c,f,m,g){if(8*c>a.available())throw new F;const w=new Uint8Array(c);for(let I=0;I<c;I++)w[I]=a.readBits(8);let S;f===null?S=z.guessEncoding(w,g):S=f.getName();try{l.append(W.decode(w,S))}catch(I){throw new F(I)}m.push(w)}static toAlphaNumericChar(a){if(a>=gn.ALPHANUMERIC_CHARS.length)throw new F;return gn.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,l,c,f){const m=l.length();for(;c>1;){if(a.available()<11)throw new F;const g=a.readBits(11);l.append(gn.toAlphaNumericChar(Math.floor(g/45))),l.append(gn.toAlphaNumericChar(g%45)),c-=2}if(c===1){if(a.available()<6)throw new F;l.append(gn.toAlphaNumericChar(a.readBits(6)))}if(f)for(let g=m;g<l.length();g++)l.charAt(g)==="%"&&(g<l.length()-1&&l.charAt(g+1)==="%"?l.deleteCharAt(g+1):l.setCharAt(g,""))}static decodeNumericSegment(a,l,c){for(;c>=3;){if(a.available()<10)throw new F;const f=a.readBits(10);if(f>=1e3)throw new F;l.append(gn.toAlphaNumericChar(Math.floor(f/100))),l.append(gn.toAlphaNumericChar(Math.floor(f/10)%10)),l.append(gn.toAlphaNumericChar(f%10)),c-=3}if(c===2){if(a.available()<7)throw new F;const f=a.readBits(7);if(f>=100)throw new F;l.append(gn.toAlphaNumericChar(Math.floor(f/10))),l.append(gn.toAlphaNumericChar(f%10))}else if(c===1){if(a.available()<4)throw new F;const f=a.readBits(4);if(f>=10)throw new F;l.append(gn.toAlphaNumericChar(f))}}static parseECIValue(a){const l=a.readBits(8);if(!(l&128))return l&127;if((l&192)===128){const c=a.readBits(8);return(l&63)<<8&4294967295|c}if((l&224)===192){const c=a.readBits(16);return(l&31)<<16&4294967295|c}throw new F}}gn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",gn.GB2312_SUBSET=1;class Xa{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const l=a[0];a[0]=a[2],a[2]=l}}class jo{constructor(){this.rsDecoder=new pe($e.QR_CODE_FIELD_256)}decodeBooleanArray(a,l){return this.decodeBitMatrix(ae.parseFromBooleanArray(a),l)}decodeBitMatrix(a,l){const c=new Wl(a);let f=null;try{return this.decodeBitMatrixParser(c,l)}catch(m){f=m}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const m=this.decodeBitMatrixParser(c,l);return m.setOther(new Xa(!0)),m}catch(m){throw f!==null?f:m}}decodeBitMatrixParser(a,l){const c=a.readVersion(),f=a.readFormatInformation().getErrorCorrectionLevel(),m=a.readCodewords(),g=$l.getDataBlocks(m,c,f);let w=0;for(const D of g)w+=D.getNumDataCodewords();const S=new Uint8Array(w);let I=0;for(const D of g){const U=D.getCodewords(),G=D.getNumDataCodewords();this.correctErrors(U,G);for(let ue=0;ue<G;ue++)S[I++]=U[ue]}return gn.decode(S,c,f,l)}correctErrors(a,l){const c=new Int32Array(a);try{this.rsDecoder.decode(c,a.length-l)}catch{throw new b}for(let f=0;f<l;f++)a[f]=c[f]}}class Lo extends ce{constructor(a,l,c){super(a,l),this.estimatedModuleSize=c}aboutEquals(a,l,c){if(Math.abs(l-this.getY())<=a&&Math.abs(c-this.getX())<=a){const f=Math.abs(a-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(a,l,c){const f=(this.getX()+l)/2,m=(this.getY()+a)/2,g=(this.estimatedModuleSize+c)/2;return new Lo(f,m,g)}}class Cr{constructor(a,l,c,f,m,g,w){this.image=a,this.startX=l,this.startY=c,this.width=f,this.height=m,this.moduleSize=g,this.resultPointCallback=w,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,l=this.height,c=this.width,f=a+c,m=this.startY+l/2,g=new Int32Array(3),w=this.image;for(let S=0;S<l;S++){const I=m+(S&1?-Math.floor((S+1)/2):Math.floor((S+1)/2));g[0]=0,g[1]=0,g[2]=0;let D=a;for(;D<f&&!w.get(D,I);)D++;let U=0;for(;D<f;){if(w.get(D,I))if(U===1)g[1]++;else if(U===2){if(this.foundPatternCross(g)){const G=this.handlePossibleCenter(g,I,D);if(G!==null)return G}g[0]=g[2],g[1]=1,g[2]=0,U=1}else g[++U]++;else U===1&&U++,g[U]++;D++}if(this.foundPatternCross(g)){const G=this.handlePossibleCenter(g,I,f);if(G!==null)return G}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new te}static centerFromEnd(a,l){return l-a[2]-a[1]/2}foundPatternCross(a){const l=this.moduleSize,c=l/2;for(let f=0;f<3;f++)if(Math.abs(l-a[f])>=c)return!1;return!0}crossCheckVertical(a,l,c,f){const m=this.image,g=m.getHeight(),w=this.crossCheckStateCount;w[0]=0,w[1]=0,w[2]=0;let S=a;for(;S>=0&&m.get(l,S)&&w[1]<=c;)w[1]++,S--;if(S<0||w[1]>c)return NaN;for(;S>=0&&!m.get(l,S)&&w[0]<=c;)w[0]++,S--;if(w[0]>c)return NaN;for(S=a+1;S<g&&m.get(l,S)&&w[1]<=c;)w[1]++,S++;if(S===g||w[1]>c)return NaN;for(;S<g&&!m.get(l,S)&&w[2]<=c;)w[2]++,S++;if(w[2]>c)return NaN;const I=w[0]+w[1]+w[2];return 5*Math.abs(I-f)>=2*f?NaN:this.foundPatternCross(w)?Cr.centerFromEnd(w,S):NaN}handlePossibleCenter(a,l,c){const f=a[0]+a[1]+a[2],m=Cr.centerFromEnd(a,c),g=this.crossCheckVertical(l,m,2*a[1],f);if(!isNaN(g)){const w=(a[0]+a[1]+a[2])/3;for(const I of this.possibleCenters)if(I.aboutEquals(w,g,m))return I.combineEstimate(g,m,w);const S=new Lo(m,g,w);this.possibleCenters.push(S),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(S)}return null}}class Gl extends ce{constructor(a,l,c,f){super(a,l),this.estimatedModuleSize=c,this.count=f,f===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,l,c){if(Math.abs(l-this.getY())<=a&&Math.abs(c-this.getX())<=a){const f=Math.abs(a-this.estimatedModuleSize);return f<=1||f<=this.estimatedModuleSize}return!1}combineEstimate(a,l,c){const f=this.count+1,m=(this.count*this.getX()+l)/f,g=(this.count*this.getY()+a)/f,w=(this.count*this.estimatedModuleSize+c)/f;return new Gl(m,g,w,f)}}class Hc{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class St{constructor(a,l){this.image=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const l=a!=null&&a.get(ne.TRY_HARDER)!==void 0,c=a!=null&&a.get(ne.PURE_BARCODE)!==void 0,f=this.image,m=f.getHeight(),g=f.getWidth();let w=Math.floor(3*m/(4*St.MAX_MODULES));(w<St.MIN_SKIP||l)&&(w=St.MIN_SKIP);let S=!1;const I=new Int32Array(5);for(let U=w-1;U<m&&!S;U+=w){I[0]=0,I[1]=0,I[2]=0,I[3]=0,I[4]=0;let G=0;for(let ue=0;ue<g;ue++)if(f.get(ue,U))(G&1)===1&&G++,I[G]++;else if(G&1)I[G]++;else if(G===4)if(St.foundPatternCross(I)){if(this.handlePossibleCenter(I,U,ue,c)===!0)if(w=2,this.hasSkipped===!0)S=this.haveMultiplyConfirmedCenters();else{const Ne=this.findRowSkip();Ne>I[2]&&(U+=Ne-I[2]-w,ue=g-1)}else{I[0]=I[2],I[1]=I[3],I[2]=I[4],I[3]=1,I[4]=0,G=3;continue}G=0,I[0]=0,I[1]=0,I[2]=0,I[3]=0,I[4]=0}else I[0]=I[2],I[1]=I[3],I[2]=I[4],I[3]=1,I[4]=0,G=3;else I[++G]++;St.foundPatternCross(I)&&this.handlePossibleCenter(I,U,g,c)===!0&&(w=I[0],this.hasSkipped&&(S=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return ce.orderBestPatterns(D),new Hc(D)}static centerFromEnd(a,l){return l-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let l=0;for(let m=0;m<5;m++){const g=a[m];if(g===0)return!1;l+=g}if(l<7)return!1;const c=l/7,f=c/2;return Math.abs(c-a[0])<f&&Math.abs(c-a[1])<f&&Math.abs(3*c-a[2])<3*f&&Math.abs(c-a[3])<f&&Math.abs(c-a[4])<f}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,l,c,f){const m=this.getCrossCheckStateCount();let g=0;const w=this.image;for(;a>=g&&l>=g&&w.get(l-g,a-g);)m[2]++,g++;if(a<g||l<g)return!1;for(;a>=g&&l>=g&&!w.get(l-g,a-g)&&m[1]<=c;)m[1]++,g++;if(a<g||l<g||m[1]>c)return!1;for(;a>=g&&l>=g&&w.get(l-g,a-g)&&m[0]<=c;)m[0]++,g++;if(m[0]>c)return!1;const S=w.getHeight(),I=w.getWidth();for(g=1;a+g<S&&l+g<I&&w.get(l+g,a+g);)m[2]++,g++;if(a+g>=S||l+g>=I)return!1;for(;a+g<S&&l+g<I&&!w.get(l+g,a+g)&&m[3]<c;)m[3]++,g++;if(a+g>=S||l+g>=I||m[3]>=c)return!1;for(;a+g<S&&l+g<I&&w.get(l+g,a+g)&&m[4]<c;)m[4]++,g++;if(m[4]>=c)return!1;const D=m[0]+m[1]+m[2]+m[3]+m[4];return Math.abs(D-f)<2*f&&St.foundPatternCross(m)}crossCheckVertical(a,l,c,f){const m=this.image,g=m.getHeight(),w=this.getCrossCheckStateCount();let S=a;for(;S>=0&&m.get(l,S);)w[2]++,S--;if(S<0)return NaN;for(;S>=0&&!m.get(l,S)&&w[1]<=c;)w[1]++,S--;if(S<0||w[1]>c)return NaN;for(;S>=0&&m.get(l,S)&&w[0]<=c;)w[0]++,S--;if(w[0]>c)return NaN;for(S=a+1;S<g&&m.get(l,S);)w[2]++,S++;if(S===g)return NaN;for(;S<g&&!m.get(l,S)&&w[3]<c;)w[3]++,S++;if(S===g||w[3]>=c)return NaN;for(;S<g&&m.get(l,S)&&w[4]<c;)w[4]++,S++;if(w[4]>=c)return NaN;const I=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(I-f)>=2*f?NaN:St.foundPatternCross(w)?St.centerFromEnd(w,S):NaN}crossCheckHorizontal(a,l,c,f){const m=this.image,g=m.getWidth(),w=this.getCrossCheckStateCount();let S=a;for(;S>=0&&m.get(S,l);)w[2]++,S--;if(S<0)return NaN;for(;S>=0&&!m.get(S,l)&&w[1]<=c;)w[1]++,S--;if(S<0||w[1]>c)return NaN;for(;S>=0&&m.get(S,l)&&w[0]<=c;)w[0]++,S--;if(w[0]>c)return NaN;for(S=a+1;S<g&&m.get(S,l);)w[2]++,S++;if(S===g)return NaN;for(;S<g&&!m.get(S,l)&&w[3]<c;)w[3]++,S++;if(S===g||w[3]>=c)return NaN;for(;S<g&&m.get(S,l)&&w[4]<c;)w[4]++,S++;if(w[4]>=c)return NaN;const I=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(I-f)>=f?NaN:St.foundPatternCross(w)?St.centerFromEnd(w,S):NaN}handlePossibleCenter(a,l,c,f){const m=a[0]+a[1]+a[2]+a[3]+a[4];let g=St.centerFromEnd(a,c),w=this.crossCheckVertical(l,Math.floor(g),a[2],m);if(!isNaN(w)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(w),a[2],m),!isNaN(g)&&(!f||this.crossCheckDiagonal(Math.floor(w),Math.floor(g),a[2],m)))){const S=m/7;let I=!1;const D=this.possibleCenters;for(let U=0,G=D.length;U<G;U++){const ue=D[U];if(ue.aboutEquals(S,w,g)){D[U]=ue.combineEstimate(w,g,S),I=!0;break}}if(!I){const U=new Gl(g,w,S);D.push(U),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(U)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const c of this.possibleCenters)if(c.getCount()>=St.CENTER_QUORUM)if(l==null)l=c;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-c.getX())-Math.abs(l.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,l=0;const c=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=St.CENTER_QUORUM&&(a++,l+=g.getEstimatedModuleSize());if(a<3)return!1;const f=l/c;let m=0;for(const g of this.possibleCenters)m+=Math.abs(g.getEstimatedModuleSize()-f);return m<=.05*l}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new te;const l=this.possibleCenters;let c;if(a>3){let f=0,m=0;for(const S of this.possibleCenters){const I=S.getEstimatedModuleSize();f+=I,m+=I*I}c=f/a;let g=Math.sqrt(m/a-c*c);l.sort((S,I)=>{const D=Math.abs(I.getEstimatedModuleSize()-c),U=Math.abs(S.getEstimatedModuleSize()-c);return D<U?-1:D>U?1:0});const w=Math.max(.2*c,g);for(let S=0;S<l.length&&l.length>3;S++){const I=l[S];Math.abs(I.getEstimatedModuleSize()-c)>w&&(l.splice(S,1),S--)}}if(l.length>3){let f=0;for(const m of l)f+=m.getEstimatedModuleSize();c=f/l.length,l.sort((m,g)=>{if(g.getCount()===m.getCount()){const w=Math.abs(g.getEstimatedModuleSize()-c),S=Math.abs(m.getEstimatedModuleSize()-c);return w<S?1:w>S?-1:0}else return g.getCount()-m.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}St.CENTER_QUORUM=2,St.MIN_SKIP=3,St.MAX_MODULES=57;class Ka{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(ne.NEED_RESULT_POINT_CALLBACK);const c=new St(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(c)}processFinderPatternInfo(a){const l=a.getTopLeft(),c=a.getTopRight(),f=a.getBottomLeft(),m=this.calculateModuleSize(l,c,f);if(m<1)throw new te("No pattern found in proccess finder.");const g=Ka.computeDimension(l,c,f,m),w=It.getProvisionalVersionForDimension(g),S=w.getDimensionForVersion()-7;let I=null;if(w.getAlignmentPatternCenters().length>0){const ue=c.getX()-l.getX()+f.getX(),ye=c.getY()-l.getY()+f.getY(),Ne=1-3/S,Ie=Math.floor(l.getX()+Ne*(ue-l.getX())),Ue=Math.floor(l.getY()+Ne*(ye-l.getY()));for(let rt=4;rt<=16;rt<<=1)try{I=this.findAlignmentInRegion(m,Ie,Ue,rt);break}catch(ot){if(!(ot instanceof te))throw ot}}const D=Ka.createTransform(l,c,f,I,g),U=Ka.sampleGrid(this.image,D,g);let G;return I===null?G=[f,l,c]:G=[f,l,c,I],new we(U,G)}static createTransform(a,l,c,f,m){const g=m-3.5;let w,S,I,D;return f!==null?(w=f.getX(),S=f.getY(),I=g-3,D=I):(w=l.getX()-a.getX()+c.getX(),S=l.getY()-a.getY()+c.getY(),I=g,D=g),Je.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,I,D,3.5,g,a.getX(),a.getY(),l.getX(),l.getY(),w,S,c.getX(),c.getY())}static sampleGrid(a,l,c){return xt.getInstance().sampleGridWithTransform(a,c,c,l)}static computeDimension(a,l,c,f){const m=Ge.round(ce.distance(a,l)/f),g=Ge.round(ce.distance(a,c)/f);let w=Math.floor((m+g)/2)+7;switch(w&3){case 0:w++;break;case 2:w--;break;case 3:throw new te("Dimensions could be not found.")}return w}calculateModuleSize(a,l,c){return(this.calculateModuleSizeOneWay(a,l)+this.calculateModuleSizeOneWay(a,c))/2}calculateModuleSizeOneWay(a,l){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(l.getX()),Math.floor(l.getY())),f=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(c)?f/7:isNaN(f)?c/7:(c+f)/14}sizeOfBlackWhiteBlackRunBothWays(a,l,c,f){let m=this.sizeOfBlackWhiteBlackRun(a,l,c,f),g=1,w=a-(c-a);w<0?(g=a/(a-w),w=0):w>=this.image.getWidth()&&(g=(this.image.getWidth()-1-a)/(w-a),w=this.image.getWidth()-1);let S=Math.floor(l-(f-l)*g);return g=1,S<0?(g=l/(l-S),S=0):S>=this.image.getHeight()&&(g=(this.image.getHeight()-1-l)/(S-l),S=this.image.getHeight()-1),w=Math.floor(a+(w-a)*g),m+=this.sizeOfBlackWhiteBlackRun(a,l,w,S),m-1}sizeOfBlackWhiteBlackRun(a,l,c,f){const m=Math.abs(f-l)>Math.abs(c-a);if(m){let ue=a;a=l,l=ue,ue=c,c=f,f=ue}const g=Math.abs(c-a),w=Math.abs(f-l);let S=-g/2;const I=a<c?1:-1,D=l<f?1:-1;let U=0;const G=c+I;for(let ue=a,ye=l;ue!==G;ue+=I){const Ne=m?ye:ue,Ie=m?ue:ye;if(U===1===this.image.get(Ne,Ie)){if(U===2)return Ge.distance(ue,ye,a,l);U++}if(S+=w,S>0){if(ye===f)break;ye+=D,S-=g}}return U===2?Ge.distance(c+I,f,a,l):NaN}findAlignmentInRegion(a,l,c,f){const m=Math.floor(f*a),g=Math.max(0,l-m),w=Math.min(this.image.getWidth()-1,l+m);if(w-g<a*3)throw new te("Alignment top exceeds estimated module size.");const S=Math.max(0,c-m),I=Math.min(this.image.getHeight()-1,c+m);if(I-S<a*3)throw new te("Alignment bottom exceeds estimated module size.");return new Cr(this.image,g,S,w-g,I-S,a,this.resultPointCallback).find()}}class Ds{constructor(){this.decoder=new jo}getDecoder(){return this.decoder}decode(a,l){let c,f;if(l!=null&&l.get(ne.PURE_BARCODE)!==void 0){const S=Ds.extractPureBits(a.getBlackMatrix());c=this.decoder.decodeBitMatrix(S,l),f=Ds.NO_POINTS}else{const S=new Ka(a.getBlackMatrix()).detect(l);c=this.decoder.decodeBitMatrix(S.getBits(),l),f=S.getPoints()}c.getOther()instanceof Xa&&c.getOther().applyMirroredCorrection(f);const m=new ee(c.getText(),c.getRawBytes(),void 0,f,he.QR_CODE,void 0),g=c.getByteSegments();g!==null&&m.putMetadata(je.BYTE_SEGMENTS,g);const w=c.getECLevel();return w!==null&&m.putMetadata(je.ERROR_CORRECTION_LEVEL,w),c.hasStructuredAppend()&&(m.putMetadata(je.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),m.putMetadata(je.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),m}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),c=a.getBottomRightOnBit();if(l===null||c===null)throw new te;const f=this.moduleSize(l,a);let m=l[1],g=c[1],w=l[0],S=c[0];if(w>=S||m>=g)throw new te;if(g-m!==S-w&&(S=w+(g-m),S>=a.getWidth()))throw new te;const I=Math.round((S-w+1)/f),D=Math.round((g-m+1)/f);if(I<=0||D<=0)throw new te;if(D!==I)throw new te;const U=Math.floor(f/2);m+=U,w+=U;const G=w+Math.floor((I-1)*f)-S;if(G>0){if(G>U)throw new te;w-=G}const ue=m+Math.floor((D-1)*f)-g;if(ue>0){if(ue>U)throw new te;m-=ue}const ye=new ae(I,D);for(let Ne=0;Ne<D;Ne++){const Ie=m+Math.floor(Ne*f);for(let Ue=0;Ue<I;Ue++)a.get(w+Math.floor(Ue*f),Ie)&&ye.set(Ue,Ne)}return ye}static moduleSize(a,l){const c=l.getHeight(),f=l.getWidth();let m=a[0],g=a[1],w=!0,S=0;for(;m<f&&g<c;){if(w!==l.get(m,g)){if(++S===5)break;w=!w}m++,g++}if(m===f||g===c)throw new te;return(m-a[0])/7}}Ds.NO_POINTS=new Array;class kt{PDF417Common(){}static getBitCountSum(a){return Ge.sum(a)}static toIntArray(a){if(a==null||!a.length)return kt.EMPTY_INT_ARRAY;const l=new Int32Array(a.length);let c=0;for(const f of a)l[c++]=f;return l}static getCodeword(a){const l=C.binarySearch(kt.SYMBOL_TABLE,a&262143);return l<0?-1:(kt.CODEWORD_TABLE[l]-1)%kt.NUMBER_OF_CODEWORDS}}kt.NUMBER_OF_CODEWORDS=929,kt.MAX_CODEWORDS_IN_BARCODE=kt.NUMBER_OF_CODEWORDS-1,kt.MIN_ROWS_IN_BARCODE=3,kt.MAX_ROWS_IN_BARCODE=90,kt.MODULES_IN_CODEWORD=17,kt.MODULES_IN_STOP_PATTERN=18,kt.BARS_IN_MODULE=8,kt.EMPTY_INT_ARRAY=new Int32Array([]),kt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),kt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class qc{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class $t{static detectMultiple(a,l,c){let f=a.getBlackMatrix(),m=$t.detect(c,f);return m.length||(f=f.clone(),f.rotate180(),m=$t.detect(c,f)),new qc(f,m)}static detect(a,l){const c=new Array;let f=0,m=0,g=!1;for(;f<l.getHeight();){const w=$t.findVertices(l,f,m);if(w[0]==null&&w[3]==null){if(!g)break;g=!1,m=0;for(const S of c)S[1]!=null&&(f=Math.trunc(Math.max(f,S[1].getY()))),S[3]!=null&&(f=Math.max(f,Math.trunc(S[3].getY())));f+=$t.ROW_STEP;continue}if(g=!0,c.push(w),!a)break;w[2]!=null?(m=Math.trunc(w[2].getX()),f=Math.trunc(w[2].getY())):(m=Math.trunc(w[4].getX()),f=Math.trunc(w[4].getY()))}return c}static findVertices(a,l,c){const f=a.getHeight(),m=a.getWidth(),g=new Array(8);return $t.copyToResult(g,$t.findRowsWithPattern(a,f,m,l,c,$t.START_PATTERN),$t.INDEXES_START_PATTERN),g[4]!=null&&(c=Math.trunc(g[4].getX()),l=Math.trunc(g[4].getY())),$t.copyToResult(g,$t.findRowsWithPattern(a,f,m,l,c,$t.STOP_PATTERN),$t.INDEXES_STOP_PATTERN),g}static copyToResult(a,l,c){for(let f=0;f<c.length;f++)a[c[f]]=l[f]}static findRowsWithPattern(a,l,c,f,m,g){const w=new Array(4);let S=!1;const I=new Int32Array(g.length);for(;f<l;f+=$t.ROW_STEP){let U=$t.findGuardPattern(a,m,f,c,!1,g,I);if(U!=null){for(;f>0;){const G=$t.findGuardPattern(a,m,--f,c,!1,g,I);if(G!=null)U=G;else{f++;break}}w[0]=new ce(U[0],f),w[1]=new ce(U[1],f),S=!0;break}}let D=f+1;if(S){let U=0,G=Int32Array.from([Math.trunc(w[0].getX()),Math.trunc(w[1].getX())]);for(;D<l;D++){const ue=$t.findGuardPattern(a,G[0],D,c,!1,g,I);if(ue!=null&&Math.abs(G[0]-ue[0])<$t.MAX_PATTERN_DRIFT&&Math.abs(G[1]-ue[1])<$t.MAX_PATTERN_DRIFT)G=ue,U=0;else{if(U>$t.SKIPPED_ROW_COUNT_MAX)break;U++}}D-=U+1,w[2]=new ce(G[0],D),w[3]=new ce(G[1],D)}return D-f<$t.BARCODE_MIN_HEIGHT&&C.fill(w,null),w}static findGuardPattern(a,l,c,f,m,g,w){C.fillWithin(w,0,w.length,0);let S=l,I=0;for(;a.get(S,c)&&S>0&&I++<$t.MAX_PIXEL_DRIFT;)S--;let D=S,U=0,G=g.length;for(let ue=m;D<f;D++)if(a.get(D,c)!==ue)w[U]++;else{if(U===G-1){if($t.patternMatchVariance(w,g,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE)return new Int32Array([S,D]);S+=w[0]+w[1],T.arraycopy(w,2,w,0,U-1),w[U-1]=0,w[U]=0,U--}else U++;w[U]=1,ue=!ue}return U===G-1&&$t.patternMatchVariance(w,g,$t.MAX_INDIVIDUAL_VARIANCE)<$t.MAX_AVG_VARIANCE?new Int32Array([S,D-1]):null}static patternMatchVariance(a,l,c){let f=a.length,m=0,g=0;for(let I=0;I<f;I++)m+=a[I],g+=l[I];if(m<g)return 1/0;let w=m/g;c*=w;let S=0;for(let I=0;I<f;I++){let D=a[I],U=l[I]*w,G=D>U?D-U:U-D;if(G>c)return 1/0;S+=G}return S/m}}$t.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),$t.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),$t.MAX_AVG_VARIANCE=.42,$t.MAX_INDIVIDUAL_VARIANCE=.8,$t.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),$t.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),$t.MAX_PIXEL_DRIFT=3,$t.MAX_PATTERN_DRIFT=5,$t.SKIPPED_ROW_COUNT_MAX=25,$t.ROW_STEP=5,$t.BARCODE_MIN_HEIGHT=10;class er{constructor(a,l){if(l.length===0)throw new y;this.field=a;let c=l.length;if(c>1&&l[0]===0){let f=1;for(;f<c&&l[f]===0;)f++;f===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-f),T.arraycopy(l,f,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let f=0;for(let m of this.coefficients)f=this.field.add(f,m);return f}let l=this.coefficients[0],c=this.coefficients.length;for(let f=1;f<c;f++)l=this.field.add(this.field.multiply(a,l),this.coefficients[f]);return l}add(a){if(!this.field.equals(a.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,c=a.coefficients;if(l.length>c.length){let g=l;l=c,c=g}let f=new Int32Array(c.length),m=c.length-l.length;T.arraycopy(c,0,f,0,m);for(let g=m;g<c.length;g++)f[g]=this.field.add(l[g-m],c[g]);return new er(this.field,f)}subtract(a){if(!this.field.equals(a.field))throw new y("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof er?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new y("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new er(this.field,new Int32Array([0]));let l=this.coefficients,c=l.length,f=a.coefficients,m=f.length,g=new Int32Array(c+m-1);for(let w=0;w<c;w++){let S=l[w];for(let I=0;I<m;I++)g[w+I]=this.field.add(g[w+I],this.field.multiply(S,f[I]))}return new er(this.field,g)}negative(){let a=this.coefficients.length,l=new Int32Array(a);for(let c=0;c<a;c++)l[c]=this.field.subtract(0,this.coefficients[c]);return new er(this.field,l)}multiplyScalar(a){if(a===0)return new er(this.field,new Int32Array([0]));if(a===1)return this;let l=this.coefficients.length,c=new Int32Array(l);for(let f=0;f<l;f++)c[f]=this.field.multiply(this.coefficients[f],a);return new er(this.field,c)}multiplyByMonomial(a,l){if(a<0)throw new y;if(l===0)return new er(this.field,new Int32Array([0]));let c=this.coefficients.length,f=new Int32Array(c+a);for(let m=0;m<c;m++)f[m]=this.field.multiply(this.coefficients[m],l);return new er(this.field,f)}toString(){let a=new re;for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);c!==0&&(c<0?(a.append(" - "),c=-c):a.length()>0&&a.append(" + "),(l===0||c!==1)&&a.append(c),l!==0&&(l===1?a.append("x"):(a.append("x^"),a.append(l))))}return a.toString()}}class Yl{add(a,l){return(a+l)%this.modulus}subtract(a,l){return(this.modulus+a-l)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new y;return this.logTable[a]}inverse(a){if(a===0)throw new it;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class Xl extends Yl{constructor(a,l){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let c=1;for(let f=0;f<a;f++)this.expTable[f]=c,c=c*l%a;for(let f=0;f<a-1;f++)this.logTable[this.expTable[f]]=f;this.zero=new er(this,new Int32Array([0])),this.one=new er(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new y;if(l===0)return this.zero;let c=new Int32Array(a+1);return c[0]=l,new er(this,c)}}Xl.PDF417_GF=new Xl(kt.NUMBER_OF_CODEWORDS,3);class Wc{constructor(){this.field=Xl.PDF417_GF}decode(a,l,c){let f=new er(this.field,a),m=new Int32Array(l),g=!1;for(let ye=l;ye>0;ye--){let Ne=f.evaluateAt(this.field.exp(ye));m[l-ye]=Ne,Ne!==0&&(g=!0)}if(!g)return 0;let w=this.field.getOne();if(c!=null)for(const ye of c){let Ne=this.field.exp(a.length-1-ye),Ie=new er(this.field,new Int32Array([this.field.subtract(0,Ne),1]));w=w.multiply(Ie)}let S=new er(this.field,m),I=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),S,l),D=I[0],U=I[1],G=this.findErrorLocations(D),ue=this.findErrorMagnitudes(U,D,G);for(let ye=0;ye<G.length;ye++){let Ne=a.length-1-this.field.log(G[ye]);if(Ne<0)throw b.getChecksumInstance();a[Ne]=this.field.subtract(a[Ne],ue[ye])}return G.length}runEuclideanAlgorithm(a,l,c){if(a.getDegree()<l.getDegree()){let G=a;a=l,l=G}let f=a,m=l,g=this.field.getZero(),w=this.field.getOne();for(;m.getDegree()>=Math.round(c/2);){let G=f,ue=g;if(f=m,g=w,f.isZero())throw b.getChecksumInstance();m=G;let ye=this.field.getZero(),Ne=f.getCoefficient(f.getDegree()),Ie=this.field.inverse(Ne);for(;m.getDegree()>=f.getDegree()&&!m.isZero();){let Ue=m.getDegree()-f.getDegree(),rt=this.field.multiply(m.getCoefficient(m.getDegree()),Ie);ye=ye.add(this.field.buildMonomial(Ue,rt)),m=m.subtract(f.multiplyByMonomial(Ue,rt))}w=ye.multiply(g).subtract(ue).negative()}let S=w.getCoefficient(0);if(S===0)throw b.getChecksumInstance();let I=this.field.inverse(S),D=w.multiply(I),U=m.multiply(I);return[D,U]}findErrorLocations(a){let l=a.getDegree(),c=new Int32Array(l),f=0;for(let m=1;m<this.field.getSize()&&f<l;m++)a.evaluateAt(m)===0&&(c[f]=this.field.inverse(m),f++);if(f!==l)throw b.getChecksumInstance();return c}findErrorMagnitudes(a,l,c){let f=l.getDegree(),m=new Int32Array(f);for(let I=1;I<=f;I++)m[f-I]=this.field.multiply(I,l.getCoefficient(I));let g=new er(this.field,m),w=c.length,S=new Int32Array(w);for(let I=0;I<w;I++){let D=this.field.inverse(c[I]),U=this.field.subtract(0,a.evaluateAt(D)),G=this.field.inverse(g.evaluateAt(D));S[I]=this.field.multiply(U,G)}return S}}class ta{constructor(a,l,c,f,m){a instanceof ta?this.constructor_2(a):this.constructor_1(a,l,c,f,m)}constructor_1(a,l,c,f,m){const g=l==null||c==null,w=f==null||m==null;if(g&&w)throw new te;g?(l=new ce(0,f.getY()),c=new ce(0,m.getY())):w&&(f=new ce(a.getWidth()-1,l.getY()),m=new ce(a.getWidth()-1,c.getY())),this.image=a,this.topLeft=l,this.bottomLeft=c,this.topRight=f,this.bottomRight=m,this.minX=Math.trunc(Math.min(l.getX(),c.getX())),this.maxX=Math.trunc(Math.max(f.getX(),m.getX())),this.minY=Math.trunc(Math.min(l.getY(),f.getY())),this.maxY=Math.trunc(Math.max(c.getY(),m.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,l){return a==null?l:l==null?a:new ta(a.image,a.topLeft,a.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(a,l,c){let f=this.topLeft,m=this.bottomLeft,g=this.topRight,w=this.bottomRight;if(a>0){let S=c?this.topLeft:this.topRight,I=Math.trunc(S.getY()-a);I<0&&(I=0);let D=new ce(S.getX(),I);c?f=D:g=D}if(l>0){let S=c?this.bottomLeft:this.bottomRight,I=Math.trunc(S.getY()+l);I>=this.image.getHeight()&&(I=this.image.getHeight()-1);let D=new ce(S.getX(),I);c?m=D:w=D}return new ta(this.image,f,m,g,w)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Kl{constructor(a,l,c,f){this.columnCount=a,this.errorCorrectionLevel=f,this.rowCountUpperPart=l,this.rowCountLowerPart=c,this.rowCount=l+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ps{constructor(){this.buffer=""}static form(a,l){let c=-1;function f(g,w,S,I,D,U){if(g==="%%")return"%";if(l[++c]===void 0)return;g=I?parseInt(I.substr(1)):void 0;let G=D?parseInt(D.substr(1)):void 0,ue;switch(U){case"s":ue=l[c];break;case"c":ue=l[c][0];break;case"f":ue=parseFloat(l[c]).toFixed(g);break;case"p":ue=parseFloat(l[c]).toPrecision(g);break;case"e":ue=parseFloat(l[c]).toExponential(g);break;case"x":ue=parseInt(l[c]).toString(G||16);break;case"d":ue=parseFloat(parseInt(l[c],G||10).toPrecision(g)).toFixed(0);break}ue=typeof ue=="object"?JSON.stringify(ue):(+ue).toString(G);let ye=parseInt(S),Ne=S&&S[0]+""=="0"?"0":" ";for(;ue.length<ye;)ue=w!==void 0?ue+Ne:Ne+ue;return ue}let m=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(m,f)}format(a,...l){this.buffer+=ps.form(a,l)}toString(){return this.buffer}}class Zi{constructor(a){this.boundingBox=new ta(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let l=this.getCodeword(a);if(l!=null)return l;for(let c=1;c<Zi.MAX_NEARBY_DISTANCE;c++){let f=this.imageRowToCodewordIndex(a)-c;if(f>=0&&(l=this.codewords[f],l!=null)||(f=this.imageRowToCodewordIndex(a)+c,f<this.codewords.length&&(l=this.codewords[f],l!=null)))return l}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,l){this.codewords[this.imageRowToCodewordIndex(a)]=l}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new ps;let l=0;for(const c of this.codewords){if(c==null){a.format("%3d:    |   %n",l++);continue}a.format("%3d: %3d|%3d%n",l++,c.getRowNumber(),c.getValue())}return a.toString()}}Zi.MAX_NEARBY_DISTANCE=5;class Za{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let l=this.values.get(a);l==null&&(l=0),l++,this.values.set(a,l)}getValue(){let a=-1,l=new Array;for(const[c,f]of this.values.entries()){const m={getKey:()=>c,getValue:()=>f};m.getValue()>a?(a=m.getValue(),l=[],l.push(m.getKey())):m.getValue()===a&&l.push(m.getKey())}return kt.toIntArray(l)}getConfidence(a){return this.values.get(a)}}class Ca extends Zi{constructor(a,l){super(a),this._isLeft=l}setRowNumbers(){for(let a of this.getCodewords())a!=null&&a.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,a);let c=this.getBoundingBox(),f=this._isLeft?c.getTopLeft():c.getTopRight(),m=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),w=this.imageRowToCodewordIndex(Math.trunc(m.getY())),S=-1,I=1,D=0;for(let U=g;U<w;U++){if(l[U]==null)continue;let G=l[U],ue=G.getRowNumber()-S;if(ue===0)D++;else if(ue===1)I=Math.max(I,D),D=1,S=G.getRowNumber();else if(ue<0||G.getRowNumber()>=a.getRowCount()||ue>U)l[U]=null;else{let ye;I>2?ye=(I-2)*ue:ye=ue;let Ne=ye>=U;for(let Ie=1;Ie<=ye&&!Ne;Ie++)Ne=l[U-Ie]!=null;Ne?l[U]=null:(S=G.getRowNumber(),D=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let l=new Int32Array(a.getRowCount());for(let c of this.getCodewords())if(c!=null){let f=c.getRowNumber();if(f>=l.length)continue;l[f]++}return l}adjustIncompleteIndicatorColumnRowNumbers(a){let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),f=this._isLeft?l.getBottomLeft():l.getBottomRight(),m=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(f.getY())),w=this.getCodewords(),S=-1;for(let I=m;I<g;I++){if(w[I]==null)continue;let D=w[I];D.setRowNumberAsRowIndicatorColumn();let U=D.getRowNumber()-S;U===0||(U===1?S=D.getRowNumber():D.getRowNumber()>=a.getRowCount()?w[I]=null:S=D.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),l=new Za,c=new Za,f=new Za,m=new Za;for(let w of a){if(w==null)continue;w.setRowNumberAsRowIndicatorColumn();let S=w.getValue()%30,I=w.getRowNumber();switch(this._isLeft||(I+=2),I%3){case 0:c.setValue(S*3+1);break;case 1:m.setValue(S/3),f.setValue(S%3);break;case 2:l.setValue(S+1);break}}if(l.getValue().length===0||c.getValue().length===0||f.getValue().length===0||m.getValue().length===0||l.getValue()[0]<1||c.getValue()[0]+f.getValue()[0]<kt.MIN_ROWS_IN_BARCODE||c.getValue()[0]+f.getValue()[0]>kt.MAX_ROWS_IN_BARCODE)return null;let g=new Kl(l.getValue()[0],c.getValue()[0],f.getValue()[0],m.getValue()[0]);return this.removeIncorrectCodewords(a,g),g}removeIncorrectCodewords(a,l){for(let c=0;c<a.length;c++){let f=a[c];if(a[c]==null)continue;let m=f.getValue()%30,g=f.getRowNumber();if(g>l.getRowCount()){a[c]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:m*3+1!==l.getRowCountUpperPart()&&(a[c]=null);break;case 1:(Math.trunc(m/3)!==l.getErrorCorrectionLevel()||m%3!==l.getRowCountLowerPart())&&(a[c]=null);break;case 2:m+1!==l.getColumnCount()&&(a[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class na{constructor(a,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=kt.MAX_CODEWORDS_IN_BARCODE,l;do l=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a!=null&&a.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let c=this.detectionResultColumns[l].getCodewords();for(let f=0;f<c.length;f++)c[f]!=null&&(c[f].hasValidRowNumber()||this.adjustRowNumbers(l,f,c))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<a.length;c++)if(a[c]!=null&&l[c]!=null&&a[c].getRowNumber()===l[c].getRowNumber())for(let f=1;f<=this.barcodeColumnCount;f++){let m=this.detectionResultColumns[f].getCodewords()[c];m!=null&&(m.setRowNumber(a[c].getRowNumber()),m.hasValidRowNumber()||(this.detectionResultColumns[f].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let f=l[c].getRowNumber(),m=0;for(let g=this.barcodeColumnCount+1;g>0&&m<this.ADJUST_ROW_NUMBER_SKIP;g--){let w=this.detectionResultColumns[g].getCodewords()[c];w!=null&&(m=na.adjustRowNumberIfValid(f,m,w),w.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,l=this.detectionResultColumns[0].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let f=l[c].getRowNumber(),m=0;for(let g=1;g<this.barcodeColumnCount+1&&m<this.ADJUST_ROW_NUMBER_SKIP;g++){let w=this.detectionResultColumns[g].getCodewords()[c];w!=null&&(m=na.adjustRowNumberIfValid(f,m,w),w.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,l,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(a)?(c.setRowNumber(a),l=0):++l),l}adjustRowNumbers(a,l,c){if(!this.detectionResultColumns[a-1])return;let f=c[l],m=this.detectionResultColumns[a-1].getCodewords(),g=m;this.detectionResultColumns[a+1]!=null&&(g=this.detectionResultColumns[a+1].getCodewords());let w=new Array(14);w[2]=m[l],w[3]=g[l],l>0&&(w[0]=c[l-1],w[4]=m[l-1],w[5]=g[l-1]),l>1&&(w[8]=c[l-2],w[10]=m[l-2],w[11]=g[l-2]),l<c.length-1&&(w[1]=c[l+1],w[6]=m[l+1],w[7]=g[l+1]),l<c.length-2&&(w[9]=c[l+2],w[12]=m[l+2],w[13]=g[l+2]);for(let S of w)if(na.adjustRowNumber(f,S))return}static adjustRowNumber(a,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===a.getBucket()?(a.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,l){this.detectionResultColumns[a]=l}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new ps;for(let c=0;c<a.getCodewords().length;c++){l.format("CW %3d:",c);for(let f=0;f<this.barcodeColumnCount+2;f++){if(this.detectionResultColumns[f]==null){l.format("    |   ");continue}let m=this.detectionResultColumns[f].getCodewords()[c];if(m==null){l.format("    |   ");continue}l.format(" %3d|%3d",m.getRowNumber(),m.getValue())}l.format("%n")}return l.toString()}}class Ms{constructor(a,l,c,f){this.rowNumber=Ms.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(l),this.bucket=Math.trunc(c),this.value=Math.trunc(f)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==Ms.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}Ms.BARCODE_ROW_UNKNOWN=-1;class qr{static initialize(){for(let a=0;a<kt.SYMBOL_TABLE.length;a++){let l=kt.SYMBOL_TABLE[a],c=l&1;for(let f=0;f<kt.BARS_IN_MODULE;f++){let m=0;for(;(l&1)===c;)m+=1,l>>=1;c=l&1,qr.RATIOS_TABLE[a]||(qr.RATIOS_TABLE[a]=new Array(kt.BARS_IN_MODULE)),qr.RATIOS_TABLE[a][kt.BARS_IN_MODULE-f-1]=Math.fround(m/kt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let l=qr.getDecodedCodewordValue(qr.sampleBitCounts(a));return l!==-1?l:qr.getClosestDecodedValue(a)}static sampleBitCounts(a){let l=Ge.sum(a),c=new Int32Array(kt.BARS_IN_MODULE),f=0,m=0;for(let g=0;g<kt.MODULES_IN_CODEWORD;g++){let w=l/(2*kt.MODULES_IN_CODEWORD)+g*l/kt.MODULES_IN_CODEWORD;m+a[f]<=w&&(m+=a[f],f++),c[f]++}return c}static getDecodedCodewordValue(a){let l=qr.getBitValue(a);return kt.getCodeword(l)===-1?-1:l}static getBitValue(a){let l=0;for(let c=0;c<a.length;c++)for(let f=0;f<a[c];f++)l=l<<1|(c%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(a){let l=Ge.sum(a),c=new Array(kt.BARS_IN_MODULE);if(l>1)for(let g=0;g<c.length;g++)c[g]=Math.fround(a[g]/l);let f=se.MAX_VALUE,m=-1;this.bSymbolTableReady||qr.initialize();for(let g=0;g<qr.RATIOS_TABLE.length;g++){let w=0,S=qr.RATIOS_TABLE[g];for(let I=0;I<kt.BARS_IN_MODULE;I++){let D=Math.fround(S[I]-c[I]);if(w+=Math.fround(D*D),w>=f)break}w<f&&(f=w,m=kt.SYMBOL_TABLE[g])}return m}}qr.bSymbolTableReady=!1,qr.RATIOS_TABLE=new Array(kt.SYMBOL_TABLE.length).map(V=>new Array(kt.BARS_IN_MODULE));class Zl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class Ql{static parseLong(a,l=void 0){return parseInt(a,l)}}class Jl extends p{}Jl.kind="NullPointerException";class Rs{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,l,c){if(a==null)throw new Jl;if(l<0||l>a.length||c<0||l+c>a.length||l+c<0)throw new P;if(c===0)return;for(let f=0;f<c;f++)this.write(a[l+f])}flush(){}close(){}}class ra extends p{}class hd extends Rs{constructor(a=32){if(super(),this.count=0,a<0)throw new y("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let c=this.buf.length<<1;if(c-a<0&&(c=a),c<0){if(a<0)throw new ra;c=k.MAX_VALUE}this.buf=C.copyOfUint8Array(this.buf,c)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,l,c){if(l<0||l>a.length||c<0||l+c-a.length>0)throw new P;this.ensureCapacity(this.count+c),T.arraycopy(a,l,this.buf,this.count,c),this.count+=c}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return C.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var sn;(function(V){V[V.ALPHA=0]="ALPHA",V[V.LOWER=1]="LOWER",V[V.MIXED=2]="MIXED",V[V.PUNCT=3]="PUNCT",V[V.ALPHA_SHIFT=4]="ALPHA_SHIFT",V[V.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(sn||(sn={}));function Qi(){if(typeof window<"u")return window.BigInt||null;if(typeof xi<"u")return xi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Ea;function Si(V){if(typeof Ea>"u"&&(Ea=Qi()),Ea===null)throw new Error("BigInt is not supported!");return Ea(V)}function fd(){let V=[];V[0]=Si(1);let a=Si(900);V[1]=a;for(let l=2;l<16;l++)V[l]=V[l-1]*a;return V}class Fe{static decode(a,l){let c=new re(""),f=J.ISO8859_1;c.enableDecoding(f);let m=1,g=a[m++],w=new Zl;for(;m<a[0];){switch(g){case Fe.TEXT_COMPACTION_MODE_LATCH:m=Fe.textCompaction(a,m,c);break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:m=Fe.byteCompaction(g,a,f,m,c);break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[m++]);break;case Fe.NUMERIC_COMPACTION_MODE_LATCH:m=Fe.numericCompaction(a,m,c);break;case Fe.ECI_CHARSET:J.getCharacterSetECIByValue(a[m++]);break;case Fe.ECI_GENERAL_PURPOSE:m+=2;break;case Fe.ECI_USER_DEFINED:m++;break;case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:m=Fe.decodeMacroBlock(a,m,w);break;case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:throw new F;default:m--,m=Fe.textCompaction(a,m,c);break}if(m<a.length)g=a[m++];else throw F.getFormatInstance()}if(c.length()===0)throw F.getFormatInstance();let S=new Oe(null,c.toString(),null,l);return S.setOther(w),S}static decodeMacroBlock(a,l,c){if(l+Fe.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw F.getFormatInstance();let f=new Int32Array(Fe.NUMBER_OF_SEQUENCE_CODEWORDS);for(let w=0;w<Fe.NUMBER_OF_SEQUENCE_CODEWORDS;w++,l++)f[w]=a[l];c.setSegmentIndex(k.parseInt(Fe.decodeBase900toBase10(f,Fe.NUMBER_OF_SEQUENCE_CODEWORDS)));let m=new re;l=Fe.textCompaction(a,l,m),c.setFileId(m.toString());let g=-1;for(a[l]===Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=l+1);l<a[0];)switch(a[l]){case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,a[l]){case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let w=new re;l=Fe.textCompaction(a,l+1,w),c.setFileName(w.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let S=new re;l=Fe.textCompaction(a,l+1,S),c.setSender(S.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let I=new re;l=Fe.textCompaction(a,l+1,I),c.setAddressee(I.toString());break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new re;l=Fe.numericCompaction(a,l+1,D),c.setSegmentCount(k.parseInt(D.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let U=new re;l=Fe.numericCompaction(a,l+1,U),c.setTimestamp(Ql.parseLong(U.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let G=new re;l=Fe.numericCompaction(a,l+1,G),c.setChecksum(k.parseInt(G.toString()));break;case Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ue=new re;l=Fe.numericCompaction(a,l+1,ue),c.setFileSize(Ql.parseLong(ue.toString()));break;default:throw F.getFormatInstance()}break;case Fe.MACRO_PDF417_TERMINATOR:l++,c.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(g!==-1){let w=l-g;c.isLastSegment()&&w--,c.setOptionalData(C.copyOfRange(a,g,g+w))}return l}static textCompaction(a,l,c){let f=new Int32Array((a[0]-l)*2),m=new Int32Array((a[0]-l)*2),g=0,w=!1;for(;l<a[0]&&!w;){let S=a[l++];if(S<Fe.TEXT_COMPACTION_MODE_LATCH)f[g]=S/30,f[g+1]=S%30,g+=2;else switch(S){case Fe.TEXT_COMPACTION_MODE_LATCH:f[g++]=Fe.TEXT_COMPACTION_MODE_LATCH;break;case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:l--,w=!0;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f[g]=Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,S=a[l++],m[g]=S,g++;break}}return Fe.decodeTextCompaction(f,m,g,c),l}static decodeTextCompaction(a,l,c,f){let m=sn.ALPHA,g=sn.ALPHA,w=0;for(;w<c;){let S=a[w],I="";switch(m){case sn.ALPHA:if(S<26)I=String.fromCharCode(65+S);else switch(S){case 26:I=" ";break;case Fe.LL:m=sn.LOWER;break;case Fe.ML:m=sn.MIXED;break;case Fe.PS:g=m,m=sn.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[w]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:m=sn.ALPHA;break}break;case sn.LOWER:if(S<26)I=String.fromCharCode(97+S);else switch(S){case 26:I=" ";break;case Fe.AS:g=m,m=sn.ALPHA_SHIFT;break;case Fe.ML:m=sn.MIXED;break;case Fe.PS:g=m,m=sn.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[w]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:m=sn.ALPHA;break}break;case sn.MIXED:if(S<Fe.PL)I=Fe.MIXED_CHARS[S];else switch(S){case Fe.PL:m=sn.PUNCT;break;case 26:I=" ";break;case Fe.LL:m=sn.LOWER;break;case Fe.AL:m=sn.ALPHA;break;case Fe.PS:g=m,m=sn.PUNCT_SHIFT;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[w]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:m=sn.ALPHA;break}break;case sn.PUNCT:if(S<Fe.PAL)I=Fe.PUNCT_CHARS[S];else switch(S){case Fe.PAL:m=sn.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[w]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:m=sn.ALPHA;break}break;case sn.ALPHA_SHIFT:if(m=g,S<26)I=String.fromCharCode(65+S);else switch(S){case 26:I=" ";break;case Fe.TEXT_COMPACTION_MODE_LATCH:m=sn.ALPHA;break}break;case sn.PUNCT_SHIFT:if(m=g,S<Fe.PAL)I=Fe.PUNCT_CHARS[S];else switch(S){case Fe.PAL:m=sn.ALPHA;break;case Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:f.append(l[w]);break;case Fe.TEXT_COMPACTION_MODE_LATCH:m=sn.ALPHA;break}break}I!==""&&f.append(I),w++}}static byteCompaction(a,l,c,f,m){let g=new hd,w=0,S=0,I=!1;switch(a){case Fe.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),U=l[f++];for(;f<l[0]&&!I;)switch(D[w++]=U,S=900*S+U,U=l[f++],U){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:f--,I=!0;break;default:if(w%5===0&&w>0){for(let G=0;G<6;++G)g.write(Number(Si(S)>>Si(8*(5-G))));S=0,w=0}break}f===l[0]&&U<Fe.TEXT_COMPACTION_MODE_LATCH&&(D[w++]=U);for(let G=0;G<w;G++)g.write(D[G]);break;case Fe.BYTE_COMPACTION_MODE_LATCH_6:for(;f<l[0]&&!I;){let G=l[f++];if(G<Fe.TEXT_COMPACTION_MODE_LATCH)w++,S=900*S+G;else switch(G){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.NUMERIC_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:f--,I=!0;break}if(w%5===0&&w>0){for(let ue=0;ue<6;++ue)g.write(Number(Si(S)>>Si(8*(5-ue))));S=0,w=0}}break}return m.append(W.decode(g.toByteArray(),c)),f}static numericCompaction(a,l,c){let f=0,m=!1,g=new Int32Array(Fe.MAX_NUMERIC_CODEWORDS);for(;l<a[0]&&!m;){let w=a[l++];if(l===a[0]&&(m=!0),w<Fe.TEXT_COMPACTION_MODE_LATCH)g[f]=w,f++;else switch(w){case Fe.TEXT_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH:case Fe.BYTE_COMPACTION_MODE_LATCH_6:case Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Fe.MACRO_PDF417_TERMINATOR:l--,m=!0;break}(f%Fe.MAX_NUMERIC_CODEWORDS===0||w===Fe.NUMERIC_COMPACTION_MODE_LATCH||m)&&f>0&&(c.append(Fe.decodeBase900toBase10(g,f)),f=0)}return l}static decodeBase900toBase10(a,l){let c=Si(0);for(let m=0;m<l;m++)c+=Fe.EXP900[l-m-1]*Si(a[m]);let f=c.toString();if(f.charAt(0)!=="1")throw new F;return f.substring(1)}}Fe.TEXT_COMPACTION_MODE_LATCH=900,Fe.BYTE_COMPACTION_MODE_LATCH=901,Fe.NUMERIC_COMPACTION_MODE_LATCH=902,Fe.BYTE_COMPACTION_MODE_LATCH_6=924,Fe.ECI_USER_DEFINED=925,Fe.ECI_GENERAL_PURPOSE=926,Fe.ECI_CHARSET=927,Fe.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Fe.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Fe.MACRO_PDF417_TERMINATOR=922,Fe.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Fe.MAX_NUMERIC_CODEWORDS=15,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Fe.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Fe.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Fe.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Fe.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Fe.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Fe.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Fe.PL=25,Fe.LL=27,Fe.AS=27,Fe.ML=28,Fe.AL=28,Fe.PS=29,Fe.PAL=29,Fe.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Fe.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Fe.EXP900=Qi()?fd():[],Fe.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Kt{constructor(){}static decode(a,l,c,f,m,g,w){let S=new ta(a,l,c,f,m),I=null,D=null,U;for(let ye=!0;;ye=!1){if(l!=null&&(I=Kt.getRowIndicatorColumn(a,S,l,!0,g,w)),f!=null&&(D=Kt.getRowIndicatorColumn(a,S,f,!1,g,w)),U=Kt.merge(I,D),U==null)throw te.getNotFoundInstance();let Ne=U.getBoundingBox();if(ye&&Ne!=null&&(Ne.getMinY()<S.getMinY()||Ne.getMaxY()>S.getMaxY()))S=Ne;else break}U.setBoundingBox(S);let G=U.getBarcodeColumnCount()+1;U.setDetectionResultColumn(0,I),U.setDetectionResultColumn(G,D);let ue=I!=null;for(let ye=1;ye<=G;ye++){let Ne=ue?ye:G-ye;if(U.getDetectionResultColumn(Ne)!==void 0)continue;let Ie;Ne===0||Ne===G?Ie=new Ca(S,Ne===0):Ie=new Zi(S),U.setDetectionResultColumn(Ne,Ie);let Ue=-1,rt=Ue;for(let ot=S.getMinY();ot<=S.getMaxY();ot++){if(Ue=Kt.getStartColumn(U,Ne,ot,ue),Ue<0||Ue>S.getMaxX()){if(rt===-1)continue;Ue=rt}let st=Kt.detectCodeword(a,S.getMinX(),S.getMaxX(),ue,Ue,ot,g,w);st!=null&&(Ie.setCodeword(ot,st),rt=Ue,g=Math.min(g,st.getWidth()),w=Math.max(w,st.getWidth()))}}return Kt.createDecoderResult(U)}static merge(a,l){if(a==null&&l==null)return null;let c=Kt.getBarcodeMetadata(a,l);if(c==null)return null;let f=ta.merge(Kt.adjustBoundingBox(a),Kt.adjustBoundingBox(l));return new na(c,f)}static adjustBoundingBox(a){if(a==null)return null;let l=a.getRowHeights();if(l==null)return null;let c=Kt.getMax(l),f=0;for(let w of l)if(f+=c-w,w>0)break;let m=a.getCodewords();for(let w=0;f>0&&m[w]==null;w++)f--;let g=0;for(let w=l.length-1;w>=0&&(g+=c-l[w],!(l[w]>0));w--);for(let w=m.length-1;g>0&&m[w]==null;w--)g--;return a.getBoundingBox().addMissingRows(f,g,a.isLeft())}static getMax(a){let l=-1;for(let c of a)l=Math.max(l,c);return l}static getBarcodeMetadata(a,l){let c;if(a==null||(c=a.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let f;return l==null||(f=l.getBarcodeMetadata())==null?c:c.getColumnCount()!==f.getColumnCount()&&c.getErrorCorrectionLevel()!==f.getErrorCorrectionLevel()&&c.getRowCount()!==f.getRowCount()?null:c}static getRowIndicatorColumn(a,l,c,f,m,g){let w=new Ca(l,f);for(let S=0;S<2;S++){let I=S===0?1:-1,D=Math.trunc(Math.trunc(c.getX()));for(let U=Math.trunc(Math.trunc(c.getY()));U<=l.getMaxY()&&U>=l.getMinY();U+=I){let G=Kt.detectCodeword(a,0,a.getWidth(),f,D,U,m,g);G!=null&&(w.setCodeword(U,G),f?D=G.getStartX():D=G.getEndX())}}return w}static adjustCodewordCount(a,l){let c=l[0][1],f=c.getValue(),m=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-Kt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(f.length===0){if(m<1||m>kt.MAX_CODEWORDS_IN_BARCODE)throw te.getNotFoundInstance();c.setValue(m)}else f[0]!==m&&c.setValue(m)}static createDecoderResult(a){let l=Kt.createBarcodeMatrix(a);Kt.adjustCodewordCount(a,l);let c=new Array,f=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),m=[],g=new Array;for(let S=0;S<a.getBarcodeRowCount();S++)for(let I=0;I<a.getBarcodeColumnCount();I++){let D=l[S][I+1].getValue(),U=S*a.getBarcodeColumnCount()+I;D.length===0?c.push(U):D.length===1?f[U]=D[0]:(g.push(U),m.push(D))}let w=new Array(m.length);for(let S=0;S<w.length;S++)w[S]=m[S];return Kt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),f,kt.toIntArray(c),kt.toIntArray(g),w)}static createDecoderResultFromAmbiguousValues(a,l,c,f,m){let g=new Int32Array(f.length),w=100;for(;w-- >0;){for(let S=0;S<g.length;S++)l[f[S]]=m[S][g[S]];try{return Kt.decodeCodewords(l,a,c)}catch(S){if(!(S instanceof b))throw S}if(g.length===0)throw b.getChecksumInstance();for(let S=0;S<g.length;S++)if(g[S]<m[S].length-1){g[S]++;break}else if(g[S]=0,S===g.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(a){let l=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let f=0;f<l.length;f++)for(let m=0;m<l[f].length;m++)l[f][m]=new Za;let c=0;for(let f of a.getDetectionResultColumns()){if(f!=null){for(let m of f.getCodewords())if(m!=null){let g=m.getRowNumber();if(g>=0){if(g>=l.length)continue;l[g][c].setValue(m.getValue())}}}c++}return l}static isValidBarcodeColumn(a,l){return l>=0&&l<=a.getBarcodeColumnCount()+1}static getStartColumn(a,l,c,f){let m=f?1:-1,g=null;if(Kt.isValidBarcodeColumn(a,l-m)&&(g=a.getDetectionResultColumn(l-m).getCodeword(c)),g!=null)return f?g.getEndX():g.getStartX();if(g=a.getDetectionResultColumn(l).getCodewordNearby(c),g!=null)return f?g.getStartX():g.getEndX();if(Kt.isValidBarcodeColumn(a,l-m)&&(g=a.getDetectionResultColumn(l-m).getCodewordNearby(c)),g!=null)return f?g.getEndX():g.getStartX();let w=0;for(;Kt.isValidBarcodeColumn(a,l-m);){l-=m;for(let S of a.getDetectionResultColumn(l).getCodewords())if(S!=null)return(f?S.getEndX():S.getStartX())+m*w*(S.getEndX()-S.getStartX());w++}return f?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,l,c,f,m,g,w,S){m=Kt.adjustCodewordStartColumn(a,l,c,f,m,g);let I=Kt.getModuleBitCount(a,l,c,f,m,g);if(I==null)return null;let D,U=Ge.sum(I);if(f)D=m+U;else{for(let ye=0;ye<I.length/2;ye++){let Ne=I[ye];I[ye]=I[I.length-1-ye],I[I.length-1-ye]=Ne}D=m,m=D-U}if(!Kt.checkCodewordSkew(U,w,S))return null;let G=qr.getDecodedValue(I),ue=kt.getCodeword(G);return ue===-1?null:new Ms(m,D,Kt.getCodewordBucketNumber(G),ue)}static getModuleBitCount(a,l,c,f,m,g){let w=m,S=new Int32Array(8),I=0,D=f?1:-1,U=f;for(;(f?w<c:w>=l)&&I<S.length;)a.get(w,g)===U?(S[I]++,w+=D):(I++,U=!U);return I===S.length||w===(f?c:l)&&I===S.length-1?S:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,l,c,f,m,g){let w=m,S=f?-1:1;for(let I=0;I<2;I++){for(;(f?w>=l:w<c)&&f===a.get(w,g);){if(Math.abs(m-w)>Kt.CODEWORD_SKEW_SIZE)return m;w+=S}S=-S,f=!f}return w}static checkCodewordSkew(a,l,c){return l-Kt.CODEWORD_SKEW_SIZE<=a&&a<=c+Kt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,l,c){if(a.length===0)throw F.getFormatInstance();let f=1<<l+1,m=Kt.correctErrors(a,c,f);Kt.verifyCodewordCount(a,f);let g=Fe.decode(a,""+l);return g.setErrorsCorrected(m),g.setErasures(c.length),g}static correctErrors(a,l,c){if(l!=null&&l.length>c/2+Kt.MAX_ERRORS||c<0||c>Kt.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return Kt.errorCorrection.decode(a,c,l)}static verifyCodewordCount(a,l){if(a.length<4)throw F.getFormatInstance();let c=a[0];if(c>a.length)throw F.getFormatInstance();if(c===0)if(l<a.length)a[0]=a.length-l;else throw F.getFormatInstance()}static getBitCountForCodeword(a){let l=new Int32Array(8),c=0,f=l.length-1;for(;!((a&1)!==c&&(c=a&1,f--,f<0));)l[f]++,a>>=1;return l}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return Kt.getCodewordBucketNumber(Kt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let l=new ps;for(let c=0;c<a.length;c++){l.format("Row %2d: ",c);for(let f=0;f<a[c].length;f++){let m=a[c][f];m.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",m.getValue()[0],m.getConfidence(m.getValue()[0]))}l.format("%n")}return l.toString()}}Kt.CODEWORD_SKEW_SIZE=2,Kt.MAX_ERRORS=3,Kt.MAX_EC_CODEWORDS=512,Kt.errorCorrection=new Wc;class or{decode(a,l=null){let c=or.decode(a,l,!1);if(c==null||c.length===0||c[0]==null)throw te.getNotFoundInstance();return c[0]}decodeMultiple(a,l=null){try{return or.decode(a,l,!0)}catch(c){throw c instanceof F||c instanceof b?te.getNotFoundInstance():c}}static decode(a,l,c){const f=new Array,m=$t.detectMultiple(a,l,c);for(const g of m.getPoints()){const w=Kt.decode(m.getBits(),g[4],g[5],g[6],g[7],or.getMinCodewordWidth(g),or.getMaxCodewordWidth(g)),S=new ee(w.getText(),w.getRawBytes(),void 0,g,he.PDF_417);S.putMetadata(je.ERROR_CORRECTION_LEVEL,w.getECLevel());const I=w.getOther();I!=null&&S.putMetadata(je.PDF417_EXTRA_METADATA,I),f.push(S)}return f.map(g=>g)}static getMaxWidth(a,l){return a==null||l==null?0:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMinWidth(a,l){return a==null||l==null?k.MAX_VALUE:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(or.getMaxWidth(a[0],a[4]),or.getMaxWidth(a[6],a[2])*kt.MODULES_IN_CODEWORD/kt.MODULES_IN_STOP_PATTERN),Math.max(or.getMaxWidth(a[1],a[5]),or.getMaxWidth(a[7],a[3])*kt.MODULES_IN_CODEWORD/kt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(or.getMinWidth(a[0],a[4]),or.getMinWidth(a[6],a[2])*kt.MODULES_IN_CODEWORD/kt.MODULES_IN_STOP_PATTERN),Math.min(or.getMinWidth(a[1],a[5]),or.getMinWidth(a[7],a[3])*kt.MODULES_IN_CODEWORD/kt.MODULES_IN_STOP_PATTERN)))}reset(){}}class _a extends p{}_a.kind="ReaderException";class ec{constructor(a,l){this.verbose=a===!0,l&&this.setHints(l)}decode(a,l){return l&&this.setHints(l),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const l=!r(a)&&a.get(ne.TRY_HARDER)===!0,c=r(a)?null:a.get(ne.POSSIBLE_FORMATS),f=new Array;if(!r(c)){const m=c.some(g=>g===he.UPC_A||g===he.UPC_E||g===he.EAN_13||g===he.EAN_8||g===he.CODABAR||g===he.CODE_39||g===he.CODE_93||g===he.CODE_128||g===he.ITF||g===he.RSS_14||g===he.RSS_EXPANDED);m&&!l&&f.push(new Os(a,this.verbose)),c.includes(he.QR_CODE)&&f.push(new Ds),c.includes(he.DATA_MATRIX)&&f.push(new Rr),c.includes(he.AZTEC)&&f.push(new dt),c.includes(he.PDF_417)&&f.push(new or),m&&l&&f.push(new Os(a,this.verbose))}f.length===0&&(l||f.push(new Os(a,this.verbose)),f.push(new Ds),f.push(new Rr),f.push(new dt),f.push(new or),l&&f.push(new Os(a,this.verbose))),this.readers=f}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new _a("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(a,this.hints)}catch(c){if(c instanceof _a)continue}throw new te("No MultiFormat Readers were able to detect the code.")}}class Po extends K{constructor(a=null,l=500){const c=new ec;c.setHints(a),super(c,l)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class tc extends K{constructor(a=500){super(new or,a)}}class nc extends K{constructor(a=500){super(new Ds,a)}}var Oo;(function(V){V[V.ERROR_CORRECTION=0]="ERROR_CORRECTION",V[V.CHARACTER_SET=1]="CHARACTER_SET",V[V.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",V[V.MIN_SIZE=3]="MIN_SIZE",V[V.MAX_SIZE=4]="MAX_SIZE",V[V.MARGIN=5]="MARGIN",V[V.PDF417_COMPACT=6]="PDF417_COMPACT",V[V.PDF417_COMPACTION=7]="PDF417_COMPACTION",V[V.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",V[V.AZTEC_LAYERS=9]="AZTEC_LAYERS",V[V.QR_VERSION=10]="QR_VERSION"})(Oo||(Oo={}));var lr=Oo;class Ta{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new ze(a,Int32Array.from([1])))}buildGenerator(a){const l=this.cachedGenerators;if(a>=l.length){let c=l[l.length-1];const f=this.field;for(let m=l.length;m<=a;m++){const g=c.multiply(new ze(f,Int32Array.from([1,f.exp(m-1+f.getGeneratorBase())])));l.push(g),c=g}}return l[a]}encode(a,l){if(l===0)throw new y("No error correction bytes");const c=a.length-l;if(c<=0)throw new y("No data bytes provided");const f=this.buildGenerator(l),m=new Int32Array(c);T.arraycopy(a,0,m,0,c);let g=new ze(this.field,m);g=g.multiplyByMonomial(l,1);const S=g.divide(f)[1].getCoefficients(),I=l-S.length;for(let D=0;D<I;D++)a[c+D]=0;T.arraycopy(S,0,a,c+I,S.length)}}class An{constructor(){}static applyMaskPenaltyRule1(a){return An.applyMaskPenaltyRule1Internal(a,!0)+An.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let l=0;const c=a.getArray(),f=a.getWidth(),m=a.getHeight();for(let g=0;g<m-1;g++){const w=c[g];for(let S=0;S<f-1;S++){const I=w[S];I===w[S+1]&&I===c[g+1][S]&&I===c[g+1][S+1]&&l++}}return An.N2*l}static applyMaskPenaltyRule3(a){let l=0;const c=a.getArray(),f=a.getWidth(),m=a.getHeight();for(let g=0;g<m;g++)for(let w=0;w<f;w++){const S=c[g];w+6<f&&S[w]===1&&S[w+1]===0&&S[w+2]===1&&S[w+3]===1&&S[w+4]===1&&S[w+5]===0&&S[w+6]===1&&(An.isWhiteHorizontal(S,w-4,w)||An.isWhiteHorizontal(S,w+7,w+11))&&l++,g+6<m&&c[g][w]===1&&c[g+1][w]===0&&c[g+2][w]===1&&c[g+3][w]===1&&c[g+4][w]===1&&c[g+5][w]===0&&c[g+6][w]===1&&(An.isWhiteVertical(c,w,g-4,g)||An.isWhiteVertical(c,w,g+7,g+11))&&l++}return l*An.N3}static isWhiteHorizontal(a,l,c){l=Math.max(l,0),c=Math.min(c,a.length);for(let f=l;f<c;f++)if(a[f]===1)return!1;return!0}static isWhiteVertical(a,l,c,f){c=Math.max(c,0),f=Math.min(f,a.length);for(let m=c;m<f;m++)if(a[m][l]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let l=0;const c=a.getArray(),f=a.getWidth(),m=a.getHeight();for(let S=0;S<m;S++){const I=c[S];for(let D=0;D<f;D++)I[D]===1&&l++}const g=a.getHeight()*a.getWidth();return Math.floor(Math.abs(l*2-g)*10/g)*An.N4}static getDataMaskBit(a,l,c){let f,m;switch(a){case 0:f=c+l&1;break;case 1:f=c&1;break;case 2:f=l%3;break;case 3:f=(c+l)%3;break;case 4:f=Math.floor(c/2)+Math.floor(l/3)&1;break;case 5:m=c*l,f=(m&1)+m%3;break;case 6:m=c*l,f=(m&1)+m%3&1;break;case 7:m=c*l,f=m%3+(c+l&1)&1;break;default:throw new y("Invalid mask pattern: "+a)}return f===0}static applyMaskPenaltyRule1Internal(a,l){let c=0;const f=l?a.getHeight():a.getWidth(),m=l?a.getWidth():a.getHeight(),g=a.getArray();for(let w=0;w<f;w++){let S=0,I=-1;for(let D=0;D<m;D++){const U=l?g[w][D]:g[D][w];U===I?S++:(S>=5&&(c+=An.N1+(S-5)),S=1,I=U)}S>=5&&(c+=An.N1+(S-5))}return c}}An.N1=3,An.N2=3,An.N3=40,An.N4=10;class Ia{constructor(a,l){this.width=a,this.height=l;const c=new Array(l);for(let f=0;f!==l;f++)c[f]=new Uint8Array(a);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(a,l){return this.bytes[l][a]}getArray(){return this.bytes}setNumber(a,l,c){this.bytes[l][a]=c}setBoolean(a,l,c){this.bytes[l][a]=c?1:0}clear(a){for(const l of this.bytes)C.fill(l,a)}equals(a){if(!(a instanceof Ia))return!1;const l=a;if(this.width!==l.width||this.height!==l.height)return!1;for(let c=0,f=this.height;c<f;++c){const m=this.bytes[c],g=l.bytes[c];for(let w=0,S=this.width;w<S;++w)if(m[w]!==g[w])return!1}return!0}toString(){const a=new re;for(let l=0,c=this.height;l<c;++l){const f=this.bytes[l];for(let m=0,g=this.width;m<g;++m)switch(f[m]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class Ci{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new re;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<Ci.NUM_MASK_PATTERNS}}Ci.NUM_MASK_PATTERNS=8;class xn extends p{}xn.kind="WriterException";class _{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,l,c,f,m){_.clearMatrix(m),_.embedBasicPatterns(c,m),_.embedTypeInfo(l,f,m),_.maybeEmbedVersionInfo(c,m),_.embedDataBits(a,f,m)}static embedBasicPatterns(a,l){_.embedPositionDetectionPatternsAndSeparators(l),_.embedDarkDotAtLeftBottomCorner(l),_.maybeEmbedPositionAdjustmentPatterns(a,l),_.embedTimingPatterns(l)}static embedTypeInfo(a,l,c){const f=new M;_.makeTypeInfoBits(a,l,f);for(let m=0,g=f.getSize();m<g;++m){const w=f.get(f.getSize()-1-m),S=_.TYPE_INFO_COORDINATES[m],I=S[0],D=S[1];if(c.setBoolean(I,D,w),m<8){const U=c.getWidth()-m-1;c.setBoolean(U,8,w)}else{const G=c.getHeight()-7+(m-8);c.setBoolean(8,G,w)}}}static maybeEmbedVersionInfo(a,l){if(a.getVersionNumber()<7)return;const c=new M;_.makeVersionInfoBits(a,c);let f=6*3-1;for(let m=0;m<6;++m)for(let g=0;g<3;++g){const w=c.get(f);f--,l.setBoolean(m,l.getHeight()-11+g,w),l.setBoolean(l.getHeight()-11+g,m,w)}}static embedDataBits(a,l,c){let f=0,m=-1,g=c.getWidth()-1,w=c.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);w>=0&&w<c.getHeight();){for(let S=0;S<2;++S){const I=g-S;if(!_.isEmpty(c.get(I,w)))continue;let D;f<a.getSize()?(D=a.get(f),++f):D=!1,l!==255&&An.getDataMaskBit(l,I,w)&&(D=!D),c.setBoolean(I,w,D)}w+=m}m=-m,w+=m,g-=2}if(f!==a.getSize())throw new xn("Not all bits consumed: "+f+"/"+a.getSize())}static findMSBSet(a){return 32-k.numberOfLeadingZeros(a)}static calculateBCHCode(a,l){if(l===0)throw new y("0 polynomial");const c=_.findMSBSet(l);for(a<<=c-1;_.findMSBSet(a)>=c;)a^=l<<_.findMSBSet(a)-c;return a}static makeTypeInfoBits(a,l,c){if(!Ci.isValidMaskPattern(l))throw new xn("Invalid mask pattern");const f=a.getBits()<<3|l;c.appendBits(f,5);const m=_.calculateBCHCode(f,_.TYPE_INFO_POLY);c.appendBits(m,10);const g=new M;if(g.appendBits(_.TYPE_INFO_MASK_PATTERN,15),c.xor(g),c.getSize()!==15)throw new xn("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(a,l){l.appendBits(a.getVersionNumber(),6);const c=_.calculateBCHCode(a.getVersionNumber(),_.VERSION_INFO_POLY);if(l.appendBits(c,12),l.getSize()!==18)throw new xn("should not happen but we got: "+l.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let l=8;l<a.getWidth()-8;++l){const c=(l+1)%2;_.isEmpty(a.get(l,6))&&a.setNumber(l,6,c),_.isEmpty(a.get(6,l))&&a.setNumber(6,l,c)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new xn;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,l,c){for(let f=0;f<8;++f){if(!_.isEmpty(c.get(a+f,l)))throw new xn;c.setNumber(a+f,l,0)}}static embedVerticalSeparationPattern(a,l,c){for(let f=0;f<7;++f){if(!_.isEmpty(c.get(a,l+f)))throw new xn;c.setNumber(a,l+f,0)}}static embedPositionAdjustmentPattern(a,l,c){for(let f=0;f<5;++f){const m=_.POSITION_ADJUSTMENT_PATTERN[f];for(let g=0;g<5;++g)c.setNumber(a+g,l+f,m[g])}}static embedPositionDetectionPattern(a,l,c){for(let f=0;f<7;++f){const m=_.POSITION_DETECTION_PATTERN[f];for(let g=0;g<7;++g)c.setNumber(a+g,l+f,m[g])}}static embedPositionDetectionPatternsAndSeparators(a){const l=_.POSITION_DETECTION_PATTERN[0].length;_.embedPositionDetectionPattern(0,0,a),_.embedPositionDetectionPattern(a.getWidth()-l,0,a),_.embedPositionDetectionPattern(0,a.getWidth()-l,a);const c=8;_.embedHorizontalSeparationPattern(0,c-1,a),_.embedHorizontalSeparationPattern(a.getWidth()-c,c-1,a),_.embedHorizontalSeparationPattern(0,a.getWidth()-c,a);const f=7;_.embedVerticalSeparationPattern(f,0,a),_.embedVerticalSeparationPattern(a.getHeight()-f-1,0,a),_.embedVerticalSeparationPattern(f,a.getHeight()-f,a)}static maybeEmbedPositionAdjustmentPatterns(a,l){if(a.getVersionNumber()<2)return;const c=a.getVersionNumber()-1,f=_.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let m=0,g=f.length;m!==g;m++){const w=f[m];if(w>=0)for(let S=0;S!==g;S++){const I=f[S];I>=0&&_.isEmpty(l.get(I,w))&&_.embedPositionAdjustmentPattern(I-2,w-2,l)}}}}_.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),_.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),_.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),_.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),_.VERSION_INFO_POLY=7973,_.TYPE_INFO_POLY=1335,_.TYPE_INFO_MASK_PATTERN=21522;class q{constructor(a,l){this.dataBytes=a,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class le{constructor(){}static calculateMaskPenalty(a){return An.applyMaskPenaltyRule1(a)+An.applyMaskPenaltyRule2(a)+An.applyMaskPenaltyRule3(a)+An.applyMaskPenaltyRule4(a)}static encode(a,l,c=null){let f=le.DEFAULT_BYTE_MODE_ENCODING;const m=c!==null&&c.get(lr.CHARACTER_SET)!==void 0;m&&(f=c.get(lr.CHARACTER_SET).toString());const g=this.chooseMode(a,f),w=new M;if(g===Lt.BYTE&&(m||le.DEFAULT_BYTE_MODE_ENCODING!==f)){const ot=J.getCharacterSetECIByName(f);ot!==void 0&&this.appendECI(ot,w)}this.appendModeInfo(g,w);const S=new M;this.appendBytes(a,g,S,f);let I;if(c!==null&&c.get(lr.QR_VERSION)!==void 0){const ot=Number.parseInt(c.get(lr.QR_VERSION).toString(),10);I=It.getVersionForNumber(ot);const st=this.calculateBitsNeeded(g,w,S,I);if(!this.willFit(st,I,l))throw new xn("Data too big for requested version")}else I=this.recommendVersion(l,g,w,S);const D=new M;D.appendBitArray(w);const U=g===Lt.BYTE?S.getSizeInBytes():a.length;this.appendLengthInfo(U,I,g,D),D.appendBitArray(S);const G=I.getECBlocksForLevel(l),ue=I.getTotalCodewords()-G.getTotalECCodewords();this.terminateBits(ue,D);const ye=this.interleaveWithECBytes(D,I.getTotalCodewords(),ue,G.getNumBlocks()),Ne=new Ci;Ne.setECLevel(l),Ne.setMode(g),Ne.setVersion(I);const Ie=I.getDimensionForVersion(),Ue=new Ia(Ie,Ie),rt=this.chooseMaskPattern(ye,l,I,Ue);return Ne.setMaskPattern(rt),_.buildMatrix(ye,l,I,rt,Ue),Ne.setMatrix(Ue),Ne}static recommendVersion(a,l,c,f){const m=this.calculateBitsNeeded(l,c,f,It.getVersionForNumber(1)),g=this.chooseVersion(m,a),w=this.calculateBitsNeeded(l,c,f,g);return this.chooseVersion(w,a)}static calculateBitsNeeded(a,l,c,f){return l.getSize()+a.getCharacterCountBits(f)+c.getSize()}static getAlphanumericCode(a){return a<le.ALPHANUMERIC_TABLE.length?le.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,l=null){if(J.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(a))return Lt.KANJI;let c=!1,f=!1;for(let m=0,g=a.length;m<g;++m){const w=a.charAt(m);if(le.isDigit(w))c=!0;else if(this.getAlphanumericCode(w.charCodeAt(0))!==-1)f=!0;else return Lt.BYTE}return f?Lt.ALPHANUMERIC:c?Lt.NUMERIC:Lt.BYTE}static isOnlyDoubleByteKanji(a){let l;try{l=W.encode(a,J.SJIS)}catch{return!1}const c=l.length;if(c%2!==0)return!1;for(let f=0;f<c;f+=2){const m=l[f]&255;if((m<129||m>159)&&(m<224||m>235))return!1}return!0}static chooseMaskPattern(a,l,c,f){let m=Number.MAX_SAFE_INTEGER,g=-1;for(let w=0;w<Ci.NUM_MASK_PATTERNS;w++){_.buildMatrix(a,l,c,w,f);let S=this.calculateMaskPenalty(f);S<m&&(m=S,g=w)}return g}static chooseVersion(a,l){for(let c=1;c<=40;c++){const f=It.getVersionForNumber(c);if(le.willFit(a,f,l))return f}throw new xn("Data too big")}static willFit(a,l,c){const f=l.getTotalCodewords(),g=l.getECBlocksForLevel(c).getTotalECCodewords(),w=f-g,S=(a+7)/8;return w>=S}static terminateBits(a,l){const c=a*8;if(l.getSize()>c)throw new xn("data bits cannot fit in the QR Code"+l.getSize()+" > "+c);for(let g=0;g<4&&l.getSize()<c;++g)l.appendBit(!1);const f=l.getSize()&7;if(f>0)for(let g=f;g<8;g++)l.appendBit(!1);const m=a-l.getSizeInBytes();for(let g=0;g<m;++g)l.appendBits(g&1?17:236,8);if(l.getSize()!==c)throw new xn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,l,c,f,m,g){if(f>=c)throw new xn("Block ID too large");const w=a%c,S=c-w,I=Math.floor(a/c),D=I+1,U=Math.floor(l/c),G=U+1,ue=I-U,ye=D-G;if(ue!==ye)throw new xn("EC bytes mismatch");if(c!==S+w)throw new xn("RS blocks mismatch");if(a!==(U+ue)*S+(G+ye)*w)throw new xn("Total bytes mismatch");f<S?(m[0]=U,g[0]=ue):(m[0]=G,g[0]=ye)}static interleaveWithECBytes(a,l,c,f){if(a.getSizeInBytes()!==c)throw new xn("Number of bits and data bytes does not match");let m=0,g=0,w=0;const S=new Array;for(let D=0;D<f;++D){const U=new Int32Array(1),G=new Int32Array(1);le.getNumDataBytesAndNumECBytesForBlockID(l,c,f,D,U,G);const ue=U[0],ye=new Uint8Array(ue);a.toBytes(8*m,ye,0,ue);const Ne=le.generateECBytes(ye,G[0]);S.push(new q(ye,Ne)),g=Math.max(g,ue),w=Math.max(w,Ne.length),m+=U[0]}if(c!==m)throw new xn("Data bytes does not match offset");const I=new M;for(let D=0;D<g;++D)for(const U of S){const G=U.getDataBytes();D<G.length&&I.appendBits(G[D],8)}for(let D=0;D<w;++D)for(const U of S){const G=U.getErrorCorrectionBytes();D<G.length&&I.appendBits(G[D],8)}if(l!==I.getSizeInBytes())throw new xn("Interleaving error: "+l+" and "+I.getSizeInBytes()+" differ.");return I}static generateECBytes(a,l){const c=a.length,f=new Int32Array(c+l);for(let g=0;g<c;g++)f[g]=a[g]&255;new Ta($e.QR_CODE_FIELD_256).encode(f,l);const m=new Uint8Array(l);for(let g=0;g<l;g++)m[g]=f[c+g];return m}static appendModeInfo(a,l){l.appendBits(a.getBits(),4)}static appendLengthInfo(a,l,c,f){const m=c.getCharacterCountBits(l);if(a>=1<<m)throw new xn(a+" is bigger than "+((1<<m)-1));f.appendBits(a,m)}static appendBytes(a,l,c,f){switch(l){case Lt.NUMERIC:le.appendNumericBytes(a,c);break;case Lt.ALPHANUMERIC:le.appendAlphanumericBytes(a,c);break;case Lt.BYTE:le.append8BitBytes(a,c,f);break;case Lt.KANJI:le.appendKanjiBytes(a,c);break;default:throw new xn("Invalid mode: "+l)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const l=le.getDigit(a);return l>=0&&l<=9}static appendNumericBytes(a,l){const c=a.length;let f=0;for(;f<c;){const m=le.getDigit(a.charAt(f));if(f+2<c){const g=le.getDigit(a.charAt(f+1)),w=le.getDigit(a.charAt(f+2));l.appendBits(m*100+g*10+w,10),f+=3}else if(f+1<c){const g=le.getDigit(a.charAt(f+1));l.appendBits(m*10+g,7),f+=2}else l.appendBits(m,4),f++}}static appendAlphanumericBytes(a,l){const c=a.length;let f=0;for(;f<c;){const m=le.getAlphanumericCode(a.charCodeAt(f));if(m===-1)throw new xn;if(f+1<c){const g=le.getAlphanumericCode(a.charCodeAt(f+1));if(g===-1)throw new xn;l.appendBits(m*45+g,11),f+=2}else l.appendBits(m,6),f++}}static append8BitBytes(a,l,c){let f;try{f=W.encode(a,c)}catch(m){throw new xn(m)}for(let m=0,g=f.length;m!==g;m++){const w=f[m];l.appendBits(w,8)}}static appendKanjiBytes(a,l){let c;try{c=W.encode(a,J.SJIS)}catch(m){throw new xn(m)}const f=c.length;for(let m=0;m<f;m+=2){const g=c[m]&255,w=c[m+1]&255,S=g<<8&4294967295|w;let I=-1;if(S>=33088&&S<=40956?I=S-33088:S>=57408&&S<=60351&&(I=S-49472),I===-1)throw new xn("Invalid byte sequence");const D=(I>>8)*192+(I&255);l.appendBits(D,13)}}static appendECI(a,l){l.appendBits(Lt.ECI.getBits(),4),l.appendBits(a.getValue(),8)}}le.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),le.DEFAULT_BYTE_MODE_ENCODING=J.UTF8.getName();class be{write(a,l,c,f=null){if(a.length===0)throw new y("Found empty contents");if(l<0||c<0)throw new y("Requested dimensions are too small: "+l+"x"+c);let m=wn.L,g=be.QUIET_ZONE_SIZE;f!==null&&(f.get(lr.ERROR_CORRECTION)!==void 0&&(m=wn.fromString(f.get(lr.ERROR_CORRECTION).toString())),f.get(lr.MARGIN)!==void 0&&(g=Number.parseInt(f.get(lr.MARGIN).toString(),10)));const w=le.encode(a,m,f);return this.renderResult(w,l,c,g)}writeToDom(a,l,c,f,m=null){typeof a=="string"&&(a=document.querySelector(a));const g=this.write(l,c,f,m);a&&a.appendChild(g)}renderResult(a,l,c,f){const m=a.getMatrix();if(m===null)throw new Ve;const g=m.getWidth(),w=m.getHeight(),S=g+f*2,I=w+f*2,D=Math.max(l,S),U=Math.max(c,I),G=Math.min(Math.floor(D/S),Math.floor(U/I)),ue=Math.floor((D-g*G)/2),ye=Math.floor((U-w*G)/2),Ne=this.createSVGElement(D,U);for(let Ie=0,Ue=ye;Ie<w;Ie++,Ue+=G)for(let rt=0,ot=ue;rt<g;rt++,ot+=G)if(m.get(rt,Ie)===1){const st=this.createSvgRectElement(ot,Ue,G,G);Ne.appendChild(st)}return Ne}createSVGElement(a,l){const c=document.createElementNS(be.SVG_NS,"svg");return c.setAttributeNS(null,"height",a.toString()),c.setAttributeNS(null,"width",l.toString()),c}createSvgRectElement(a,l,c,f){const m=document.createElementNS(be.SVG_NS,"rect");return m.setAttributeNS(null,"x",a.toString()),m.setAttributeNS(null,"y",l.toString()),m.setAttributeNS(null,"height",c.toString()),m.setAttributeNS(null,"width",f.toString()),m.setAttributeNS(null,"fill","#000000"),m}}be.QUIET_ZONE_SIZE=4,be.SVG_NS="http://www.w3.org/2000/svg";class Pe{encode(a,l,c,f,m){if(a.length===0)throw new y("Found empty contents");if(l!==he.QR_CODE)throw new y("Can only encode QR_CODE, but got "+l);if(c<0||f<0)throw new y(`Requested dimensions are too small: ${c}x${f}`);let g=wn.L,w=Pe.QUIET_ZONE_SIZE;m!==null&&(m.get(lr.ERROR_CORRECTION)!==void 0&&(g=wn.fromString(m.get(lr.ERROR_CORRECTION).toString())),m.get(lr.MARGIN)!==void 0&&(w=Number.parseInt(m.get(lr.MARGIN).toString(),10)));const S=le.encode(a,g,m);return Pe.renderResult(S,c,f,w)}static renderResult(a,l,c,f){const m=a.getMatrix();if(m===null)throw new Ve;const g=m.getWidth(),w=m.getHeight(),S=g+f*2,I=w+f*2,D=Math.max(l,S),U=Math.max(c,I),G=Math.min(Math.floor(D/S),Math.floor(U/I)),ue=Math.floor((D-g*G)/2),ye=Math.floor((U-w*G)/2),Ne=new ae(D,U);for(let Ie=0,Ue=ye;Ie<w;Ie++,Ue+=G)for(let rt=0,ot=ue;rt<g;rt++,ot+=G)m.get(rt,Ie)===1&&Ne.setRegion(ot,Ue,G,G);return Ne}}Pe.QUIET_ZONE_SIZE=4;class Ke{encode(a,l,c,f,m){let g;switch(l){case he.QR_CODE:g=new Pe;break;default:throw new y("No encoder available for format "+l)}return g.encode(a,l,c,f,m)}}class nt extends ge{constructor(a,l,c,f,m,g,w,S){if(super(g,w),this.yuvData=a,this.dataWidth=l,this.dataHeight=c,this.left=f,this.top=m,f+g>l||m+w>c)throw new y("Crop rectangle does not fit within image data.");S&&this.reverseHorizontal(g,w)}getRow(a,l){if(a<0||a>=this.getHeight())throw new y("Requested row is outside the image: "+a);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const f=(a+this.top)*this.dataWidth+this.left;return T.arraycopy(this.yuvData,f,l,0,c),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.yuvData;const c=a*l,f=new Uint8ClampedArray(c);let m=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return T.arraycopy(this.yuvData,m,f,0,c),f;for(let g=0;g<l;g++){const w=g*a;T.arraycopy(this.yuvData,m,f,w,a),m+=this.dataWidth}return f}isCropSupported(){return!0}crop(a,l,c,f){return new nt(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+l,c,f,!1)}renderThumbnail(){const a=this.getWidth()/nt.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/nt.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(a*l),f=this.yuvData;let m=this.top*this.dataWidth+this.left;for(let g=0;g<l;g++){const w=g*a;for(let S=0;S<a;S++){const I=f[m+S*nt.THUMBNAIL_SCALE_FACTOR]&255;c[w+S]=4278190080|I*65793}m+=this.dataWidth*nt.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/nt.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/nt.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,l){const c=this.yuvData;for(let f=0,m=this.top*this.dataWidth+this.left;f<l;f++,m+=this.dataWidth){const g=m+a/2;for(let w=m,S=m+a-1;w<g;w++,S--){const I=c[w];c[w]=c[S],c[S]=I}}}invert(){return new ie(this)}}nt.THUMBNAIL_SCALE_FACTOR=2;class mt extends ge{constructor(a,l,c,f,m,g,w){if(super(l,c),this.dataWidth=f,this.dataHeight=m,this.left=g,this.top=w,a.BYTES_PER_ELEMENT===4){const S=l*c,I=new Uint8ClampedArray(S);for(let D=0;D<S;D++){const U=a[D],G=U>>16&255,ue=U>>7&510,ye=U&255;I[D]=(G+ue+ye)/4&255}this.luminances=I}else this.luminances=a;if(f===void 0&&(this.dataWidth=l),m===void 0&&(this.dataHeight=c),g===void 0&&(this.left=0),w===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+c>this.dataHeight)throw new y("Crop rectangle does not fit within image data.")}getRow(a,l){if(a<0||a>=this.getHeight())throw new y("Requested row is outside the image: "+a);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const f=(a+this.top)*this.dataWidth+this.left;return T.arraycopy(this.luminances,f,l,0,c),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.luminances;const c=a*l,f=new Uint8ClampedArray(c);let m=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return T.arraycopy(this.luminances,m,f,0,c),f;for(let g=0;g<l;g++){const w=g*a;T.arraycopy(this.luminances,m,f,w,a),m+=this.dataWidth}return f}isCropSupported(){return!0}crop(a,l,c,f){return new mt(this.luminances,c,f,this.dataWidth,this.dataHeight,this.left+a,this.top+l)}invert(){return new ie(this)}}class jt extends J{static forName(a){return this.getCharacterSetECIByName(a)}}class Ht{}Ht.ISO_8859_1=J.ISO8859_1;class qt{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class an{static singletonList(a){return[a]}static min(a,l){return a.sort(l)[0]}}class Yn{constructor(a){this.previous=a}getPrevious(){return this.previous}}class Sn extends Yn{constructor(a,l,c){super(a),this.value=l,this.bitCount=c}appendTo(a,l){a.appendBits(this.value,this.bitCount)}add(a,l){return new Sn(this,a,l)}addBinaryShift(a,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Sn(this,a,l)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+k.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class tr extends Sn{constructor(a,l,c){super(a,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=c}appendTo(a,l){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):c===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(l[this.binaryShiftStart+c],8)}addBinaryShift(a,l){return new tr(this,a,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ri(V,a,l){return new tr(V,a,l)}function nr(V,a,l){return new Sn(V,a,l)}const ms=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],gr=0,Vi=1,pi=2,Do=3,Ei=4,Mo=new Sn(null,0,0),Qa=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function rc(V){for(let a of V)C.fill(a,-1);return V[gr][Ei]=0,V[Vi][Ei]=0,V[Vi][gr]=28,V[Do][Ei]=0,V[pi][Ei]=0,V[pi][gr]=15,V}const Ja=rc(C.createInt32Array(6,6));class Ln{constructor(a,l,c,f){this.token=a,this.mode=l,this.binaryShiftByteCount=c,this.bitCount=f}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,l){let c=this.bitCount,f=this.token;if(a!==this.mode){let g=Qa[this.mode][a];f=nr(f,g&65535,g>>16),c+=g>>16}let m=a===pi?4:5;return f=nr(f,l,m),new Ln(f,a,0,c+m)}shiftAndAppend(a,l){let c=this.token,f=this.mode===pi?4:5;return c=nr(c,Ja[this.mode][a],f),c=nr(c,l,5),new Ln(c,this.mode,0,this.bitCount+f+5)}addBinaryShiftChar(a){let l=this.token,c=this.mode,f=this.bitCount;if(this.mode===Ei||this.mode===pi){let w=Qa[c][gr];l=nr(l,w&65535,w>>16),f+=w>>16,c=gr}let m=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new Ln(l,c,this.binaryShiftByteCount+1,f+m);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(a+1)),g}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=ri(l,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ln(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let l=this.bitCount+(Qa[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?l+=Ln.calculateBinaryShiftCost(a)-Ln.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(l+=10),l<=a.bitCount}toBitArray(a){let l=[];for(let f=this.endBinaryShift(a.length).token;f!==null;f=f.getPrevious())l.unshift(f);let c=new M;for(const f of l)f.appendTo(c,a);return c}toString(){return z.format("%s bits=%d bytes=%d",ms[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}Ln.INITIAL_STATE=new Ln(Mo,gr,0,0);function Ro(V){const a=z.getCharCode(" "),l=z.getCharCode("."),c=z.getCharCode(",");V[gr][a]=1;const f=z.getCharCode("Z"),m=z.getCharCode("A");for(let G=m;G<=f;G++)V[gr][G]=G-m+2;V[Vi][a]=1;const g=z.getCharCode("z"),w=z.getCharCode("a");for(let G=w;G<=g;G++)V[Vi][G]=G-w+2;V[pi][a]=1;const S=z.getCharCode("9"),I=z.getCharCode("0");for(let G=I;G<=S;G++)V[pi][G]=G-I+2;V[pi][c]=12,V[pi][l]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let G=0;G<D.length;G++)V[Do][z.getCharCode(D[G])]=G;const U=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let G=0;G<U.length;G++)z.getCharCode(U[G])>0&&(V[Ei][z.getCharCode(U[G])]=G);return V}const ka=Ro(C.createInt32Array(5,256));class Bs{constructor(a){this.text=a}encode(){const a=z.getCharCode(" "),l=z.getCharCode(`
`);let c=an.singletonList(Ln.INITIAL_STATE);for(let m=0;m<this.text.length;m++){let g,w=m+1<this.text.length?this.text[m+1]:0;switch(this.text[m]){case z.getCharCode("\r"):g=w===l?2:0;break;case z.getCharCode("."):g=w===a?3:0;break;case z.getCharCode(","):g=w===a?4:0;break;case z.getCharCode(":"):g=w===a?5:0;break;default:g=0}g>0?(c=Bs.updateStateListForPair(c,m,g),m++):c=this.updateStateListForChar(c,m)}return an.min(c,(m,g)=>m.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,l){const c=[];for(let f of a)this.updateStateForChar(f,l,c);return Bs.simplifyStates(c)}updateStateForChar(a,l,c){let f=this.text[l]&255,m=ka[a.getMode()][f]>0,g=null;for(let w=0;w<=Ei;w++){let S=ka[w][f];if(S>0){if(g==null&&(g=a.endBinaryShift(l)),!m||w===a.getMode()||w===pi){const I=g.latchAndAppend(w,S);c.push(I)}if(!m&&Ja[a.getMode()][w]>=0){const I=g.shiftAndAppend(w,S);c.push(I)}}}if(a.getBinaryShiftByteCount()>0||ka[a.getMode()][f]===0){let w=a.addBinaryShiftChar(l);c.push(w)}}static updateStateListForPair(a,l,c){const f=[];for(let m of a)this.updateStateForPair(m,l,c,f);return this.simplifyStates(f)}static updateStateForPair(a,l,c,f){let m=a.endBinaryShift(l);if(f.push(m.latchAndAppend(Ei,c)),a.getMode()!==Ei&&f.push(m.shiftAndAppend(Ei,c)),c===3||c===4){let g=m.latchAndAppend(pi,16-c).latchAndAppend(pi,1);f.push(g)}if(a.getBinaryShiftByteCount()>0){let g=a.addBinaryShiftChar(l).addBinaryShiftChar(l+1);f.push(g)}}static simplifyStates(a){let l=[];for(const c of a){let f=!0;for(const m of l){if(m.isBetterThanOrEqualTo(c)){f=!1;break}c.isBetterThanOrEqualTo(m)&&(l=l.filter(g=>g!==m))}f&&l.push(c)}return l}}class rn{constructor(){}static encodeBytes(a){return rn.encode(a,rn.DEFAULT_EC_PERCENT,rn.DEFAULT_AZTEC_LAYERS)}static encode(a,l,c){let f=new Bs(a).encode(),m=k.truncDivision(f.getSize()*l,100)+11,g=f.getSize()+m,w,S,I,D,U;if(c!==rn.DEFAULT_AZTEC_LAYERS){if(w=c<0,S=Math.abs(c),S>(w?rn.MAX_NB_BITS_COMPACT:rn.MAX_NB_BITS))throw new y(z.format("Illegal value %s for layers",c));I=rn.totalBitsInLayer(S,w),D=rn.WORD_SIZE[S];let st=I-I%D;if(U=rn.stuffBits(f,D),U.getSize()+m>st)throw new y("Data to large for user specified layer");if(w&&U.getSize()>D*64)throw new y("Data to large for user specified layer")}else{D=0,U=null;for(let st=0;;st++){if(st>rn.MAX_NB_BITS)throw new y("Data too large for an Aztec code");if(w=st<=3,S=w?st+1:st,I=rn.totalBitsInLayer(S,w),g>I)continue;(U==null||D!==rn.WORD_SIZE[S])&&(D=rn.WORD_SIZE[S],U=rn.stuffBits(f,D));let tn=I-I%D;if(!(w&&U.getSize()>D*64)&&U.getSize()+m<=tn)break}}let G=rn.generateCheckWords(U,I,D),ue=U.getSize()/D,ye=rn.generateModeMessage(w,S,ue),Ne=(w?11:14)+S*4,Ie=new Int32Array(Ne),Ue;if(w){Ue=Ne;for(let st=0;st<Ie.length;st++)Ie[st]=st}else{Ue=Ne+1+2*k.truncDivision(k.truncDivision(Ne,2)-1,15);let st=k.truncDivision(Ne,2),tn=k.truncDivision(Ue,2);for(let Vt=0;Vt<st;Vt++){let xr=Vt+k.truncDivision(Vt,15);Ie[st-Vt-1]=tn-xr-1,Ie[st+Vt]=tn+xr+1}}let rt=new ae(Ue);for(let st=0,tn=0;st<S;st++){let Vt=(S-st)*4+(w?9:12);for(let xr=0;xr<Vt;xr++){let $r=xr*2;for(let cr=0;cr<2;cr++)G.get(tn+$r+cr)&&rt.set(Ie[st*2+cr],Ie[st*2+xr]),G.get(tn+Vt*2+$r+cr)&&rt.set(Ie[st*2+xr],Ie[Ne-1-st*2-cr]),G.get(tn+Vt*4+$r+cr)&&rt.set(Ie[Ne-1-st*2-cr],Ie[Ne-1-st*2-xr]),G.get(tn+Vt*6+$r+cr)&&rt.set(Ie[Ne-1-st*2-xr],Ie[st*2+cr])}tn+=Vt*8}if(rn.drawModeMessage(rt,w,Ue,ye),w)rn.drawBullsEye(rt,k.truncDivision(Ue,2),5);else{rn.drawBullsEye(rt,k.truncDivision(Ue,2),7);for(let st=0,tn=0;st<k.truncDivision(Ne,2)-1;st+=15,tn+=16)for(let Vt=k.truncDivision(Ue,2)&1;Vt<Ue;Vt+=2)rt.set(k.truncDivision(Ue,2)-tn,Vt),rt.set(k.truncDivision(Ue,2)+tn,Vt),rt.set(Vt,k.truncDivision(Ue,2)-tn),rt.set(Vt,k.truncDivision(Ue,2)+tn)}let ot=new qt;return ot.setCompact(w),ot.setSize(Ue),ot.setLayers(S),ot.setCodeWords(ue),ot.setMatrix(rt),ot}static drawBullsEye(a,l,c){for(let f=0;f<c;f+=2)for(let m=l-f;m<=l+f;m++)a.set(m,l-f),a.set(m,l+f),a.set(l-f,m),a.set(l+f,m);a.set(l-c,l-c),a.set(l-c+1,l-c),a.set(l-c,l-c+1),a.set(l+c,l-c),a.set(l+c,l-c+1),a.set(l+c,l+c-1)}static generateModeMessage(a,l,c){let f=new M;return a?(f.appendBits(l-1,2),f.appendBits(c-1,6),f=rn.generateCheckWords(f,28,4)):(f.appendBits(l-1,5),f.appendBits(c-1,11),f=rn.generateCheckWords(f,40,4)),f}static drawModeMessage(a,l,c,f){let m=k.truncDivision(c,2);if(l)for(let g=0;g<7;g++){let w=m-3+g;f.get(g)&&a.set(w,m-5),f.get(g+7)&&a.set(m+5,w),f.get(20-g)&&a.set(w,m+5),f.get(27-g)&&a.set(m-5,w)}else for(let g=0;g<10;g++){let w=m-5+g+k.truncDivision(g,5);f.get(g)&&a.set(w,m-7),f.get(g+10)&&a.set(m+7,w),f.get(29-g)&&a.set(w,m+7),f.get(39-g)&&a.set(m-7,w)}}static generateCheckWords(a,l,c){let f=a.getSize()/c,m=new Ta(rn.getGF(c)),g=k.truncDivision(l,c),w=rn.bitsToWords(a,c,g);m.encode(w,g-f);let S=l%c,I=new M;I.appendBits(0,S);for(const D of Array.from(w))I.appendBits(D,c);return I}static bitsToWords(a,l,c){let f=new Int32Array(c),m,g;for(m=0,g=a.getSize()/l;m<g;m++){let w=0;for(let S=0;S<l;S++)w|=a.get(m*l+S)?1<<l-S-1:0;f[m]=w}return f}static getGF(a){switch(a){case 4:return $e.AZTEC_PARAM;case 6:return $e.AZTEC_DATA_6;case 8:return $e.AZTEC_DATA_8;case 10:return $e.AZTEC_DATA_10;case 12:return $e.AZTEC_DATA_12;default:throw new y("Unsupported word size "+a)}}static stuffBits(a,l){let c=new M,f=a.getSize(),m=(1<<l)-2;for(let g=0;g<f;g+=l){let w=0;for(let S=0;S<l;S++)(g+S>=f||a.get(g+S))&&(w|=1<<l-1-S);(w&m)===m?(c.appendBits(w&m,l),g--):w&m?c.appendBits(w,l):(c.appendBits(w|1,l),g--)}return c}static totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}rn.DEFAULT_EC_PERCENT=33,rn.DEFAULT_AZTEC_LAYERS=0,rn.MAX_NB_BITS=32,rn.MAX_NB_BITS_COMPACT=4,rn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Wr{encode(a,l,c,f){return this.encodeWithHints(a,l,c,f,null)}encodeWithHints(a,l,c,f,m){let g=Ht.ISO_8859_1,w=rn.DEFAULT_EC_PERCENT,S=rn.DEFAULT_AZTEC_LAYERS;return m!=null&&(m.has(lr.CHARACTER_SET)&&(g=jt.forName(m.get(lr.CHARACTER_SET).toString())),m.has(lr.ERROR_CORRECTION)&&(w=k.parseInt(m.get(lr.ERROR_CORRECTION).toString())),m.has(lr.AZTEC_LAYERS)&&(S=k.parseInt(m.get(lr.AZTEC_LAYERS).toString()))),Wr.encodeLayers(a,l,c,f,g,w,S)}static encodeLayers(a,l,c,f,m,g,w){if(l!==he.AZTEC)throw new y("Can only encode AZTEC, but got "+l);let S=rn.encode(z.getBytes(a,m),g,w);return Wr.renderResult(S,c,f)}static renderResult(a,l,c){let f=a.getMatrix();if(f==null)throw new Ve;let m=f.getWidth(),g=f.getHeight(),w=Math.max(l,m),S=Math.max(c,g),I=Math.min(w/m,S/g),D=(w-m*I)/2,U=(S-g*I)/2,G=new ae(w,S);for(let ue=0,ye=U;ue<g;ue++,ye+=I)for(let Ne=0,Ie=D;Ne<m;Ne++,Ie+=I)f.get(Ne,ue)&&G.setRegion(Ie,ye,I,I);return G}}n.AbstractExpandedDecoder=Fi,n.ArgumentException=x,n.ArithmeticException=it,n.AztecCode=qt,n.AztecCodeReader=dt,n.AztecCodeWriter=Wr,n.AztecDecoder=ct,n.AztecDetector=Mt,n.AztecDetectorResult=qe,n.AztecEncoder=rn,n.AztecHighLevelEncoder=Bs,n.AztecPoint=ht,n.BarcodeFormat=he,n.Binarizer=j,n.BinaryBitmap=N,n.BitArray=M,n.BitMatrix=ae,n.BitSource=Io,n.BrowserAztecCodeReader=kn,n.BrowserBarcodeReader=dd,n.BrowserCodeReader=K,n.BrowserDatamatrixCodeReader=ko,n.BrowserMultiFormatReader=Po,n.BrowserPDF417Reader=tc,n.BrowserQRCodeReader=nc,n.BrowserQRCodeSvgWriter=be,n.CharacterSetECI=J,n.ChecksumException=b,n.Code128Reader=lt,n.Code39Reader=Bt,n.DataMatrixDecodedBitStreamParser=fs,n.DataMatrixReader=Rr,n.DecodeHintType=ne,n.DecoderResult=Oe,n.DefaultGridSampler=yt,n.DetectorResult=we,n.EAN13Reader=ui,n.EncodeHintType=lr,n.Exception=p,n.FormatException=F,n.GenericGF=$e,n.GenericGFPoly=ze,n.GlobalHistogramBinarizer=Se,n.GridSampler=We,n.GridSamplerInstance=xt,n.HTMLCanvasElementLuminanceSource=xe,n.HybridBinarizer=Ae,n.ITFReader=Pt,n.IllegalArgumentException=y,n.IllegalStateException=Ve,n.InvertedLuminanceSource=ie,n.LuminanceSource=ge,n.MathUtils=Ge,n.MultiFormatOneDReader=Os,n.MultiFormatReader=ec,n.MultiFormatWriter=Ke,n.NotFoundException=te,n.OneDReader=Et,n.PDF417DecodedBitStreamParser=Fe,n.PDF417DecoderErrorCorrection=Wc,n.PDF417Reader=or,n.PDF417ResultMetadata=Zl,n.PerspectiveTransform=Je,n.PlanarYUVLuminanceSource=nt,n.QRCodeByteMatrix=Ia,n.QRCodeDataMask=Ni,n.QRCodeDecodedBitStreamParser=gn,n.QRCodeDecoderErrorCorrectionLevel=wn,n.QRCodeDecoderFormatInformation=Sr,n.QRCodeEncoder=le,n.QRCodeEncoderQRCode=Ci,n.QRCodeMaskUtil=An,n.QRCodeMatrixUtil=_,n.QRCodeMode=Lt,n.QRCodeReader=Ds,n.QRCodeVersion=It,n.QRCodeWriter=Pe,n.RGBLuminanceSource=mt,n.RSS14Reader=Bn,n.RSSExpandedReader=et,n.ReaderException=_a,n.ReedSolomonDecoder=pe,n.ReedSolomonEncoder=Ta,n.ReedSolomonException=vt,n.Result=ee,n.ResultMetadataType=je,n.ResultPoint=ce,n.StringUtils=z,n.UnsupportedOperationException=ve,n.VideoInputDevice=Ee,n.WhiteRectangleDetector=Be,n.WriterException=xn,n.ZXingArrays=C,n.ZXingCharset=jt,n.ZXingInteger=k,n.ZXingStandardCharsets=Ht,n.ZXingStringBuilder=re,n.ZXingStringEncoding=W,n.ZXingSystem=T,n.createAbstractExpandedDecoder=Vl,Object.defineProperty(n,"__esModule",{value:!0})})})(S2,S2.exports);var Kn=S2.exports;const _M=Pc(Kn),TM=d3({__proto__:null,default:_M},[Kn]);var Sb=function(){function e(t,n,r){if(this.formatMap=new Map([[Nt.QR_CODE,Kn.BarcodeFormat.QR_CODE],[Nt.AZTEC,Kn.BarcodeFormat.AZTEC],[Nt.CODABAR,Kn.BarcodeFormat.CODABAR],[Nt.CODE_39,Kn.BarcodeFormat.CODE_39],[Nt.CODE_93,Kn.BarcodeFormat.CODE_93],[Nt.CODE_128,Kn.BarcodeFormat.CODE_128],[Nt.DATA_MATRIX,Kn.BarcodeFormat.DATA_MATRIX],[Nt.MAXICODE,Kn.BarcodeFormat.MAXICODE],[Nt.ITF,Kn.BarcodeFormat.ITF],[Nt.EAN_13,Kn.BarcodeFormat.EAN_13],[Nt.EAN_8,Kn.BarcodeFormat.EAN_8],[Nt.PDF_417,Kn.BarcodeFormat.PDF_417],[Nt.RSS_14,Kn.BarcodeFormat.RSS_14],[Nt.RSS_EXPANDED,Kn.BarcodeFormat.RSS_EXPANDED],[Nt.UPC_A,Kn.BarcodeFormat.UPC_A],[Nt.UPC_E,Kn.BarcodeFormat.UPC_E],[Nt.UPC_EAN_EXTENSION,Kn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!TM)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),s=new Map;s.set(Kn.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Kn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var n=new Kn.MultiFormatReader(this.verbose,this.hints),r=new Kn.HTMLCanvasElementLuminanceSource(t),i=new Kn.BinaryBitmap(new Kn.HybridBinarizer(r)),s=n.decode(i);return{text:s.text,format:u6.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),IM=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})},kM=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(s=p[0]&2?i.return:p[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,p[1])).done)return s;switch(i=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Cb=function(){function e(t,n,r){if(this.formatMap=new Map([[Nt.QR_CODE,"qr_code"],[Nt.AZTEC,"aztec"],[Nt.CODABAR,"codabar"],[Nt.CODE_39,"code_39"],[Nt.CODE_93,"code_93"],[Nt.CODE_128,"code_128"],[Nt.DATA_MATRIX,"data_matrix"],[Nt.ITF,"itf"],[Nt.EAN_13,"ean_13"],[Nt.EAN_8,"ean_8"],[Nt.PDF_417,"pdf417"],[Nt.UPC_A,"upc_a"],[Nt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return IM(this,void 0,void 0,function(){var n,r;return kM(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:u6.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,s=t;i<s.length;i++){var o=s[i],u=o.boundingBox.width*o.boundingBox.height;u>r&&(r=u,n=o)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Eb=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})},_b=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(s=p[0]&2?i.return:p[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,p[1])).done)return s;switch(i=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},jM=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Cb.isSupported()?(this.primaryDecoder=new Cb(t,r,i),this.secondaryDecoder=new Sb(t,r,i)):this.primaryDecoder=new Sb(t,r,i)}return e.prototype.decodeAsync=function(t){return Eb(this,void 0,void 0,function(){var n;return _b(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Eb(this,void 0,void 0,function(){var n,r;return _b(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Cy=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),x1=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})},y1=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(s=p[0]&2?i.return:p[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,p[1])).done)return s;switch(i=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},p6=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),LM=function(e){Cy(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(p6),PM=function(e){Cy(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(LM),OM=function(e){Cy(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(p6),DM=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new PM(this.track)},e.prototype.torchFeature=function(){return new OM(this.track)},e}(),MM=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return x1(this,void 0,void 0,function(){var s,o;return y1(this,function(u){switch(u.label){case 0:return s=new e(t,n,i),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return x1(this,void 0,void 0,function(){return y1(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),s=i.length,o=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++o,o>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new DM(this.getFirstTrackOrFail())},e}(),RM=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return x1(this,void 0,void 0,function(){return y1(this,function(i){return[2,MM.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return x1(this,void 0,void 0,function(){var n,r;return y1(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),Tb=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})},Ib=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(s=p[0]&2?i.return:p[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,p[1])).done)return s;switch(i=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},BM=function(){function e(){}return e.failIfNotSupported=function(){return Tb(this,void 0,void 0,function(){return Ib(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Tb(this,void 0,void 0,function(){return Ib(this,function(n){return[2,RM.create(t)]})})},e}(),FM=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})},UM=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(s=p[0]&2?i.return:p[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,p[1])).done)return s;switch(i=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},VM=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=_u.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=_u.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return FM(this,void 0,void 0,function(){var t,n,r,i,s,o,u;return UM(this,function(h){switch(h.label){case 0:return t=function(p){for(var x=p.getVideoTracks(),y=0,N=x;y<N.length;y++){var b=N[y];b.enabled=!1,b.stop(),p.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=h.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=h.sent(),i=[],s=0,o=r;s<o.length;s++)u=o[s],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(s){for(var o=[],u=0,h=s;u<h.length;u++){var p=h[u];p.kind==="video"&&o.push({id:p.id,label:p.label})}t(o)},i=MediaStreamTrack;i.getSources(r)})},e}(),vr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(vr||(vr={}));var zM=function(){function e(){this.state=vr.NOT_STARTED,this.onGoingTransactionNewState=vr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===vr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=vr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===vr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=vr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==vr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case vr.UNKNOWN:throw"Transition from unknown is not allowed";case vr.NOT_STARTED:this.failIfNewStateIs(t,[vr.PAUSED]);break;case vr.SCANNING:break;case vr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),HM=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===vr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==vr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===vr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===vr.PAUSED},e}(),qM=function(){function e(){}return e.create=function(){return new HM(new zM)},e}(),WM=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ws=function(e){WM(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(ma),$M=function(){function e(t,n){this.logger=n,this.fps=ws.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ws.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?f6.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Ma(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),kb=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new h6(this.verbose),this.qrcode=new jM(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=qM.create()}return e.prototype.start=function(t,n,r,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var u=$M.create(n,this.logger);this.clearElement();var h=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?h=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=h,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:ws.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var y=this,N=this.stateManagerProxy.startTransition(vr.SCANNING);return new Promise(function(b,j){var T=p?u.videoConstraints:y.createVideoConstraints(t);if(!T){N.cancel(),j("videoConstraints should be defined");return}var P={};(!p||u.aspectRatio)&&(P.aspectRatio=u.aspectRatio);var E={onRenderSurfaceReady:function(C,k){y.setupUi(C,k,u),y.isScanning=!0,y.foreverScan(u,r,o)}};BM.failIfNotSupported().then(function(C){C.create(T).then(function(k){return k.render(s.element,P,E).then(function(M){y.renderedCamera=M,N.execute(),b(null)}).catch(function(M){N.cancel(),j(M)})}).catch(function(k){N.cancel(),j(_u.errorGettingUserMedia(k))})}).catch(function(C){N.cancel(),j(_u.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(vr.PAUSED),this.showPausedState(),(Ma(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(vr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(vr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var s=document.getElementById(ws.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ma(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var u=o.width,h=o.height,p=document.getElementById(r.elementId),x=p.clientWidth?p.clientWidth:ws.DEFAULT_WIDTH,y=Math.max(p.clientHeight?p.clientHeight:h,ws.FILE_SCAN_MIN_HEIGHT),N=r.computeCanvasDrawConfig(u,h,x,y);if(n){var b=r.createCanvasElement(x,y,"qr-canvas-visible");b.style.display="inline-block",p.appendChild(b);var j=b.getContext("2d");if(!j)throw"Unable to get 2d context from canvas";j.canvas.width=x,j.canvas.height=y,j.drawImage(o,0,0,u,h,N.x,N.y,N.width,N.height)}var T=ws.FILE_SCAN_HIDDEN_CANVAS_PADDING,P=Math.max(o.width,N.width),E=Math.max(o.height,N.height),C=P+2*T,k=E+2*T,M=r.createCanvasElement(C,k);p.appendChild(M);var B=M.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=C,B.canvas.height=k,B.drawImage(o,0,0,u,h,T,T,P,E);try{r.qrcode.decodeRobustlyAsync(M).then(function(ne){i(Nb.createFromQrcodeResult(ne))}).catch(s)}catch(ne){s("QR code parse error, error = ".concat(ne))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return VM.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!f6.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[Nt.QR_CODE,Nt.AZTEC,Nt.CODABAR,Nt.CODE_39,Nt.CODE_93,Nt.CODE_128,Nt.DATA_MATRIX,Nt.MAXICODE,Nt.ITF,Nt.EAN_13,Nt.EAN_8,Nt.PDF_417,Nt.RSS_14,Nt.RSS_EXPANDED,Nt.UPC_A,Nt.UPC_E,Nt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=t.formatsToSupport;i<s.length;i++){var o=s[i];CM(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(Ma(t))return!0;if(!Ma(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(Ma(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return Ma(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(t,n,s),u=function(p){if(p<ws.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ws.MIN_QR_BOX_SIZE,"px.")},h=function(p){return p>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=t),p};u(o.width),u(o.height),o.width=h(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=Ma(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,n,i);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&s.height<=n,u={x:0,y:0,width:t,height:n},h=o?this.getShadedRegionBounds(t,n,s):u,p=this.createCanvasElement(h.width,h.height),x={willReadFrequently:!0},y=p.getContext("2d",x);y.canvas.width=h.width,y.canvas.height=h.height,this.element.append(p),o&&this.possiblyInsertShadingElement(this.element,t,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=h,this.context=y,this.canvasElement=p},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=_u.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,Nb.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=_u.codeParseError(i);return n(s,d6.createFrom(s)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,u=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var h=this.qrRegion.width*o,p=this.qrRegion.height*u,x=this.qrRegion.x*o,y=this.qrRegion.y*u;this.context.drawImage(s,x,y,h,p,0,0,this.qrRegion.width,this.qrRegion.height);var N=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(b){!b&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){N()})):N()}).catch(function(b){i.logger.logError("Error happend while scanning context",b),N()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",o=function(j){if(j in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(j,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var h=Object.keys(t)[0];if(h!==n&&h!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(h===n){var p=t.facingMode;if(typeof p=="string"){if(o(p))return{facingMode:p}}else if(typeof p=="object")if(s in p){if(o(p["".concat(s)]))return{facingMode:{exact:p["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var x=typeof p;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var y=t.deviceId;if(typeof y=="string")return{deviceId:y};if(typeof y=="object"){if(s in y)return{deviceId:{exact:y["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var N=typeof y;throw"Invalid type of 'deviceId' = ".concat(N)}}}var b=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var s=(r-t)/2,o=(i-n)/2;return{x:s,y:o,width:t,height:n}}else{var u=t,h=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(h)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?ws.BORDER_SHADER_MATCH_COLOR:ws.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,s=n,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=Ma(r)?"qr-canvas":r,o},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(n-i.width)/2,u=(r-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(ws.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var h=5,p=40;this.insertShaderBorders(s,p,h,-h,null,0,!0),this.insertShaderBorders(s,p,h,-h,null,0,!1),this.insertShaderBorders(s,p,h,null,-h,0,!0),this.insertShaderBorders(s,p,h,null,-h,0,!1),this.insertShaderBorders(s,h,p+h,-h,null,-h,!0),this.insertShaderBorders(s,h,p+h,null,-h,-h,!0),this.insertShaderBorders(s,h,p+h,-h,null,-h,!1),this.insertShaderBorders(s,h,p+h,null,-h,-h,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,n,r,i,s,o,u){var h=document.createElement("div");h.style.position="absolute",h.style.backgroundColor=ws.BORDER_SHADER_DEFAULT_COLOR,h.style.width="".concat(n,"px"),h.style.height="".concat(r,"px"),i!==null&&(h.style.top="".concat(i,"px")),s!==null&&(h.style.bottom="".concat(s,"px")),u?h.style.left="".concat(o,"px"):h.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(h),t.appendChild(h)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),Ey="data:image/svg+xml;base64,",GM=Ey+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",YM=Ey+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",jb=Ey+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",XM="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Lb=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),KM=function(){function e(){this.data=Lb.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Lb.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),ZM=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Ab.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var s=document.createElement("a");s.innerText=Ab.reportIssues(),s.href="https://github.com/mebjas/html5-qrcode/issues",s.target="new",s.style.color="white",this.infoDiv.appendChild(s),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),QM=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=jb,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=XM,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=jb,this.infoIcon.style.opacity="0.6")},e}(),JM=function(){function e(){var t=this;this.infoDiv=new ZM,this.infoIcon=new QM(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),eR=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})},tR=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(s=p[0]&2?i.return:p[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,p[1])).done)return s;switch(i=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Pb=function(){function e(){}return e.hasPermissions=function(){return eR(this,void 0,void 0,function(){var t,n,r,i;return tR(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=s.sent(),n=0,r=t;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e}(),Go=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===_l.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===_l.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return ma.DEFAULT_SUPPORTED_SCAN_TYPE;var n=ma.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var s=i[r];if(!ma.DEFAULT_SUPPORTED_SCAN_TYPE.includes(s))throw"Unsupported scan type ".concat(s)}return t},e}(),As=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),go=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(As.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),m6=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(x){try{p(r.next(x))}catch(y){o(y)}}function h(x){try{p(r.throw(x))}catch(y){o(y)}}function p(x){x.done?s(x.value):i(x.value).then(u,h)}p((r=r.apply(e,t||[])).next())})},g6=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(p){return function(x){return h([p,x])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,p[0]&&(n=0)),n;)try{if(r=1,i&&(s=p[0]&2?i.return:p[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,p[1])).done)return s;switch(i=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,i=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){n.label=p[1];break}if(p[0]===6&&n.label<s[1]){n.label=s[1],s=p;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(p);break}s[2]&&n.ops.pop(),n.trys.pop();continue}p=t.call(e,n)}catch(x){p=[6,x],i=0}finally{r=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},Ob=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return m6(this,void 0,void 0,function(){var t,n;return g6(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?_n.torchOffButton():_n.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?_n.torchOnFailedMessage():_n.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),nR=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=go.createElement("button",As.TORCH_BUTTON_ID),this.torchController=new Ob(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=_n.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(s){return m6(r,void 0,void 0,function(){return g6(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(As.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(As.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(As.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(As.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Ob(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=_n.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var s=new e(n,i);return s.render(t,r),s},e}(),rR=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=go.createElement("button",As.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=go.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var s=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var h=u.target;if(!(h.files&&h.files.length===0)){var p=h.files,x=p[0],y=x.name;s.setImageNameToButton(y),r(x)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(u){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder();var h=u.dataTransfer;if(h){var p=h.files;if(!p||p.length===0)return;for(var x=!1,y=0;y<p.length;++y){var N=p.item(y);if(N){var b=/image.*/;if(N.type.match(b)){x=!0;var j=N.name;s.setImageNameToButton(j),r(N),o.innerText=_n.dragAndDropMessage();break}}}x||(o.innerText=_n.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=_n.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),i=t.length,s=t.substring(i-8,i);t="".concat(r,"....").concat(s)}var o=_n.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=o},e.prototype.setInitialValueToButton=function(){var t=_n.fileSelectionChooseImage()+" - "+_n.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var i=new e(t,n,r);return i},e}(),iR=function(){function e(t){this.selectElement=go.createElement("select",As.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=_n.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var s=1,o=0,u=this.cameras;o<u.length;o++){var h=u[o],p=h.id,x=h.label==null?p:h.label;(!x||x==="")&&(x=[_n.anonymousCameraPrefix(),s++].join(" "));var y=document.createElement("option");y.value=p,y.innerText=x,this.options.push(y),this.selectElement.appendChild(y)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),sR=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=go.createElement("input",As.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=_n.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=_n.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),bs;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(bs||(bs={}));function aR(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function oR(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var lR=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Go(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new h6(this.verbose),this.persistedDataManager=new KM,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(s,o){if(t)t(s,o);else{if(r.lastMatchFound===s)return;r.lastMatchFound=s,r.setHeaderMessage(_n.lastMatch(s),bs.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(s,o){n&&n(s,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new kb(this.getScanRegionId(),oR(this.config,this.verbose))},e.prototype.pause=function(t){(Ma(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(s){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(s){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",s),i(s)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=ma.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!ma.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=ma.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=ma.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:ma.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ma.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ma.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Go.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),s=this.getDashboardId();i.id=s,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new JM;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(_n.cameraPermissionRequesting());var s=function(){r||i.createPermissionButton(t,n)};kb.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(t.removeChild(n),i.renderCameraSelection(o)):(i.setHeaderMessage(_n.noCameraFound(),bs.STATUS_WARNING),s())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:s(),i.setHeaderMessage(o,bs.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,i=go.createElement("button",this.getCameraPermissionButtonId());i.innerText=_n.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,n,i)}),n.appendChild(i)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Go.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){Pb.hasPermissions().then(function(i){i?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Go.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Go.isFileScanType(this.currentScanType),r=this,i=function(s){if(!r.html5Qrcode)throw"html5Qrcode not defined";Go.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(_n.loadingImage()),r.html5Qrcode.scanFileV2(s,!0).then(function(o){r.resetHeaderMessage(),r.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){r.setHeaderMessage(o,bs.STATUS_WARNING),r.qrCodeErrorCallback(o,d6.createFrom(o))}))};this.fileSelectionUi=rR.create(t,n,i)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var s=sR.create(i,!1),o=function(T){var P=T.zoomFeature();if(P.isSupported()){s.setOnCameraZoomValueChangeCallback(function(C){P.apply(C)});var E=1;n.config.defaultZoomValueIfSupported&&(E=n.config.defaultZoomValueIfSupported),E=EM(E,P.min(),P.max()),s.setValues(P.min(),P.max(),E,P.step()),s.show()}},u=iR.create(i,t),h=document.createElement("span"),p=go.createElement("button",As.CAMERA_START_BUTTON_ID);p.innerText=_n.scanButtonStartScanningText(),h.appendChild(p);var x=go.createElement("button",As.CAMERA_STOP_BUTTON_ID);x.innerText=_n.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,h.appendChild(x);var y,N=function(T){if(!T.torchFeature().isSupported()){y&&y.hide();return}y?y.updateTorchCapability(T.torchFeature()):y=nR.create(h,T.torchFeature(),{display:"none",marginLeft:"5px"},function(P){r.setHeaderMessage(P,bs.STATUS_WARNING)}),y.show()};i.appendChild(h);var b=function(T){T||(p.style.display="none"),p.innerText=_n.scanButtonStartScanningText(),p.style.opacity="1",p.disabled=!1,T&&(p.style.display="inline-block")};if(p.addEventListener("click",function(T){p.innerText=_n.scanButtonScanningStarting(),u.disable(),p.disabled=!0,p.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var P=u.getValue();r.persistedDataManager.setLastUsedCameraId(P),r.html5Qrcode.start(P,aR(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(E){x.disabled=!1,x.style.display="inline-block",b(!1);var C=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&N(C),n.config.showZoomSliderIfSupported===!0&&o(C)}).catch(function(E){r.showHideScanTypeSwapLink(!0),u.enable(),b(!0),r.setHeaderMessage(E,bs.STATUS_WARNING)})}),u.hasSingleItem()&&p.click(),x.addEventListener("click",function(T){if(!r.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,r.html5Qrcode.stop().then(function(P){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),u.enable(),p.disabled=!1,x.style.display="none",p.style.display="inline-block",y&&(y.reset(),y.hide()),s.removeOnCameraZoomValueChangeCallback(),s.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(P){x.disabled=!1,r.setHeaderMessage(P,bs.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var j=r.persistedDataManager.getLastUsedCameraId();u.hasValue(j)?(u.setValue(j),p.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=_n.textIfCameraScanSelected(),r=_n.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");s.style.textAlign="center";var o=go.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=Go.isCameraScanType(this.currentScanType)?n:r,o.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Go.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),o.innerText=r,t.currentScanType=_l.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),o.innerText=n,t.currentScanType=_l.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),s.appendChild(o),i.appendChild(s)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){Pb.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=bs.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case bs.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case bs.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case bs.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=GM,this.cameraScanImage.alt=_n.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=YM,this.fileScanImage.alt=_n.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return As.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return As.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const cR=()=>{const e=Rc(),[t,n]=fe.useState(null),[r,i]=fe.useState(!1),[s,o]=fe.useState([]),{validateTicket:u,recordTicketScan:h,validateGuestlist:p,recordGuestlistScan:x}=_o(),y=fe.useRef(null),N=fe.useRef(null),b=fe.useRef(null),j=fe.useRef(""),T=fe.useRef(!1);fe.useEffect(()=>{if(N.current)return y.current=new lR("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1),y.current.render(P,E),()=>{y.current&&y.current.clear(),b.current&&clearTimeout(b.current)}},[]);const P=async k=>{if(j.current===k){console.log("🚫 Duplicate QR code detected, ignoring");return}if(T.current||r){console.log("🚫 Already processing, ignoring scan");return}T.current=!0,i(!0),j.current=k;try{console.log("🔍 Raw QR code data:",k);const M=JSON.parse(k);console.log("🔍 Parsed QR data:",M);let B;if(M.type==="guestlist"){if(console.log("🔍 Processing guestlist QR code"),B=await p(M.guestlistId,"entry"),console.log("🔍 Guestlist validation result:",B),B.isValid){await x({guestlistId:M.guestlistId,eventId:B.eventId||"",scanType:"entry",location:"",notes:"",scannedBy:"admin"});const{data:ne}=await Gt.from("guestlists").select("remaining_scans").eq("id",M.guestlistId).single(),F=(ne==null?void 0:ne.remaining_scans)||0,X=F===1?"1 ticket remaining":`${F} tickets remaining`,J={...B,message:X},ve={...J,scanType:"entry",timestamp:new Date().toISOString()};o(W=>[ve,...W.slice(0,9)]),n(J)}}else if(console.log("🔍 Processing regular ticket QR code"),B=await u(M.orderId,M.ticketTierId,M.customer,"entry"),console.log("🔍 Ticket validation result:",B),B.isValid){await h({orderId:M.orderId,ticketTierId:M.ticketTierId,customerEmail:M.customer,eventId:B.eventId||"",scanType:"entry",location:"",notes:""});const ne={...B,scanType:"entry",timestamp:new Date().toISOString()};o(F=>[ne,...F.slice(0,9)])}t||n(B),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{n(null)},3e3)}catch(M){console.error("Scan error:",M),n({isValid:!1,message:"Invalid QR code format",orderStatus:"unknown",eventDate:"unknown",customerName:"unknown",customerEmail:"unknown"}),b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{n(null)},1e3)}finally{i(!1),T.current=!1,setTimeout(()=>{j.current=""},1e3)}},E=k=>{console.error("QR Scanner error:",k)},C=()=>{b.current&&clearTimeout(b.current),n(null)};return d.jsx("div",{className:"min-h-screen bg-gray-50 p-2 sm:p-4",children:d.jsxs("div",{className:"max-w-2xl mx-auto",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 text-center",children:[d.jsxs("div",{className:"mb-4",children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Ticket Scanner"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"Scan QR codes to validate tickets and record entry"})]}),d.jsxs("button",{onClick:()=>e("/admin/dashboard"),className:"flex items-center gap-2 px-6 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors mx-auto text-lg font-medium",children:[d.jsx(TP,{className:"h-5 w-5"}),"Back to Dashboard"]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"QR Code Scanner"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{id:"qr-reader",ref:N,className:"w-full max-w-sm mx-auto"}),d.jsxs("div",{className:"text-center mt-6 space-y-2",children:[d.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"📱 Position QR code within the frame"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Hold steady for best results"})]})]})]}),r&&d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50",children:d.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Processing ticket..."}),d.jsx("p",{className:"text-sm text-gray-600",children:"Please wait"})]})}),t&&!r&&d.jsx(dy,{children:d.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 cursor-pointer",onClick:C,children:d.jsxs(Xe.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:`p-8 rounded-2xl border-2 max-w-lg w-full mx-4 text-center ${t.isValid?"border-green-300 bg-white shadow-green-100":"border-red-300 bg-white shadow-red-100"} shadow-2xl`,onClick:k=>k.stopPropagation(),children:[d.jsx("div",{className:"mb-6",children:t.isValid?d.jsx(Is,{className:"h-20 w-20 text-green-500 mx-auto"}):d.jsx(Rh,{className:"h-20 w-20 text-red-500 mx-auto"})}),d.jsxs("div",{className:"mb-6",children:[d.jsx("h3",{className:`text-3xl font-bold mb-2 ${t.isValid?"text-green-800":"text-red-800"}`,children:t.isValid?"VALID TICKET":"INVALID TICKET"}),d.jsx("p",{className:`text-lg ${t.isValid?"text-green-700":"text-red-700"}`,children:t.message}),t.message.includes("already scanned")&&d.jsx("p",{className:"text-orange-600 mt-2 font-medium",children:"⚠️ Already Scanned for Entry"})]}),d.jsxs("div",{className:"space-y-4 text-left bg-gray-50 p-4 rounded-xl",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx(CS,{className:"h-5 w-5 text-gray-600"}),d.jsx("span",{className:"font-semibold text-lg text-gray-900",children:t.customerName})]}),d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx(yi,{className:"h-5 w-5 text-gray-600"}),d.jsx("span",{className:"text-gray-700",children:t.eventDate&&t.eventDate!=="unknown"?new Date(t.eventDate).toLocaleDateString():"Unknown Date"})]}),t.eventTitle&&d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx(Cl,{className:"h-5 w-5 text-gray-600"}),d.jsx("span",{className:"font-medium text-gray-900",children:t.eventTitle})]}),t.ticketTierName&&d.jsxs("div",{className:"flex items-center justify-center gap-3",children:[d.jsx(Ku,{className:"h-5 w-5 text-gray-600"}),d.jsx("span",{className:"text-gray-700",children:t.ticketTierName})]})]}),d.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"Tap anywhere to close"})]})})}),s.length>0&&d.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mt-6",children:[d.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"Recent Scans"}),d.jsx("div",{className:"space-y-4",children:s.map((k,M)=>d.jsxs("div",{className:`p-4 rounded-xl border-2 ${k.isValid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[d.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[k.isValid?d.jsx(Is,{className:"h-6 w-6 text-green-600 flex-shrink-0"}):d.jsx(Rh,{className:"h-6 w-6 text-red-600 flex-shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:`font-semibold text-lg ${k.isValid?"text-green-800":"text-red-800"}`,children:k.customerName}),d.jsx("p",{className:"text-gray-600",children:k.customerEmail})]})]}),d.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[d.jsx("p",{className:"font-medium text-gray-900 mb-1",children:k.eventTitle||"Unknown Event"}),d.jsxs("p",{className:"text-sm text-gray-600",children:["Entry • ",k.timestamp?new Date(k.timestamp).toLocaleTimeString():k.eventDate&&k.eventDate!=="unknown"?new Date(k.eventDate).toLocaleDateString():"Unknown Date"]})]})]},M))})]})]})})},uR=({event:e,onClose:t,onSuccess:n,onManageGuestlists:r})=>{const[i,s]=fe.useState({leadName:"",leadEmail:"",leadPhone:"",totalTickets:1,notes:""}),[o,u]=fe.useState(!1),[h,p]=fe.useState(null),x=async N=>{if(N.preventDefault(),!i.leadName||!i.leadEmail||i.totalTickets<1){p("Please fill in all required fields and ensure at least 1 ticket.");return}u(!0),p(null);try{const b=await fetch("/api/create-guestlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:e.id,...i})});if(!b.ok){const T=await b.json();throw new Error(T.error||"Failed to create guestlist")}const j=await b.json();n(j.guestlist)}catch(b){p(b instanceof Error?b.message:"An error occurred")}finally{u(!1)}},y=(N,b)=>{s(j=>({...j,[N]:b}))};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs(Xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Guestlist"}),d.jsx("p",{className:"text-gray-600",children:e.title})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[r&&d.jsx("button",{onClick:r,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors text-sm font-medium",children:"Manage Guestlists"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:d.jsx(Rl,{className:"h-6 w-6"})})]})]})}),d.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(Qr,{className:"h-5 w-5"}),"Group Leader Information"]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Name *"}),d.jsx("input",{type:"text",value:i.leadName,onChange:N=>y("leadName",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., John Smith",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Email *"}),d.jsx("input",{type:"email",value:i.leadEmail,onChange:N=>y("leadEmail",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"john@example.com",required:!0})]})]}),d.jsxs("div",{className:"mt-4",children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Lead Phone (Optional)"}),d.jsx("input",{type:"tel",value:i.leadPhone,onChange:N=>y("leadPhone",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+44 123 456 7890"})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(d1,{className:"h-5 w-5"}),"Ticket Details"]}),d.jsxs("div",{children:[d.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Tickets *"}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsx("button",{type:"button",onClick:()=>y("totalTickets",Math.max(1,i.totalTickets-1)),className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50",disabled:i.totalTickets<=1,children:"-"}),d.jsx("span",{className:"text-2xl font-bold text-gray-900 min-w-[3rem] text-center",children:i.totalTickets}),d.jsx("button",{type:"button",onClick:()=>y("totalTickets",i.totalTickets+1),className:"w-10 h-10 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:"+"})]}),d.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["This will create one QR code that can be scanned ",i.totalTickets," times for entry."]})]})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[d.jsx(d1,{className:"h-5 w-5"}),"Additional Notes"]}),d.jsx("textarea",{value:i.notes,onChange:N=>y("notes",N.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"e.g., VIP table, special dietary requirements, arrival time..."})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Summary"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Event:"}),d.jsx("span",{className:"font-medium",children:e.title})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Group Leader:"}),d.jsx("span",{className:"font-medium",children:i.leadName||"Not specified"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Contact:"}),d.jsx("span",{className:"font-medium",children:i.leadEmail||"Not specified"})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Total Tickets:"}),d.jsx("span",{className:"font-medium",children:i.totalTickets})]}),i.notes&&d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Notes:"}),d.jsx("span",{className:"font-medium text-gray-600",children:i.notes})]})]})]}),h&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsx("p",{className:"text-red-800",children:h})}),d.jsx("button",{type:"submit",disabled:o,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:o?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),d.jsx("span",{children:"Creating Guestlist..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(py,{className:"h-5 w-5"}),d.jsx("span",{children:"Create Guestlist & Send QR Code"})]})}),d.jsxs("div",{className:"text-center text-sm text-gray-500",children:[d.jsx("p",{children:"This will create a guestlist and automatically send a QR code to the group leader."}),d.jsxs("p",{children:["The QR code can be scanned ",i.totalTickets," times for entry."]})]})]})]})})},dR=({event:e,onClose:t,onCreateNew:n})=>{const[r,i]=fe.useState([]),[s,o]=fe.useState(!0);fe.useEffect(()=>{u()},[e.id]);const u=async()=>{try{console.log("🔍 Fetching guestlists for event:",e.id);const N=await fetch(`/api/guestlists?eventId=${e.id}`);if(console.log("📡 Response status:",N.status),!N.ok)throw new Error("Failed to fetch guestlists");const b=await N.json();console.log("📊 Response data:",b),i(b.guestlists||[])}catch(N){console.error("❌ Error fetching guestlists:",N)}finally{o(!1)}},h=async N=>{try{if(!(await fetch("/api/resend-guestlist-qr",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guestlistId:N})})).ok)throw new Error("Failed to resend QR code");alert("QR code resent successfully!")}catch(b){alert(b instanceof Error?b.message:"Failed to resend QR code")}},p=async N=>{if(confirm("Are you sure you want to delete this guestlist? This action cannot be undone."))try{if(!(await fetch(`/api/guestlists/${N}`,{method:"DELETE"})).ok)throw new Error("Failed to delete guestlist");i(j=>j.filter(T=>T.id!==N))}catch(b){alert(b instanceof Error?b.message:"Failed to delete guestlist")}},x=()=>r.reduce((N,b)=>N+b.totalTickets,0),y=()=>r.reduce((N,b)=>N+(b.totalTickets-b.remainingScans),0);return s?d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Loading guestlists..."})]})}):d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs(Xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsx("div",{className:"p-6 border-b",children:d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Guestlist Management"}),d.jsx("p",{className:"text-gray-600",children:e.title})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[n&&d.jsx("button",{onClick:n,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-sm font-medium",children:"Create New Guestlist"}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:d.jsx(Rl,{className:"h-6 w-6"})})]})]})}),d.jsxs("div",{className:"p-6",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[d.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Qr,{className:"h-8 w-8 text-blue-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Total Guestlists"}),d.jsx("p",{className:"text-2xl font-bold text-blue-900",children:r.length})]})]})}),d.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(d1,{className:"h-8 w-8 text-green-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Tickets"}),d.jsx("p",{className:"text-2xl font-bold text-green-900",children:x()})]})]})}),d.jsx("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(yi,{className:"h-8 w-8 text-orange-600"}),d.jsxs("div",{children:[d.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Tickets Used"}),d.jsx("p",{className:"text-2xl font-bold text-orange-900",children:y()})]})]})})]}),r.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx(Qr,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No guestlists yet"}),d.jsx("p",{className:"text-gray-500",children:"Create your first guestlist to get started."})]}):d.jsx("div",{className:"overflow-x-auto",children:d.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[d.jsx("thead",{className:"bg-gray-50",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Group Leader"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tickets"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),d.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),d.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(N=>d.jsxs("tr",{className:"hover:bg-gray-50",children:[d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{children:[d.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.leadName}),N.notes&&d.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:N.notes})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"text-sm text-gray-900",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(fy,{className:"h-4 w-4 text-gray-400"}),N.leadEmail]}),N.leadPhone&&d.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[d.jsx(NS,{className:"h-4 w-4 text-gray-400"}),N.leadPhone]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsxs("div",{className:"text-sm text-gray-900",children:[d.jsx("div",{className:"font-medium",children:N.totalTickets}),d.jsxs("div",{className:"text-gray-500",children:[N.remainingScans," remaining"]})]})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:d.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${N.remainingScans===0?"bg-red-100 text-red-800":N.remainingScans<N.totalTickets?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:N.remainingScans===0?"All Used":N.remainingScans<N.totalTickets?"Partially Used":"Unused"})}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(N.createdAt).toLocaleDateString()}),d.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("button",{onClick:()=>h(N.id),className:"text-blue-600 hover:text-blue-900 flex items-center gap-1",title:"Resend QR Code",children:[d.jsx(py,{className:"h-4 w-4"}),"Resend"]}),d.jsxs("button",{onClick:()=>p(N.id),className:"text-red-600 hover:text-red-900 flex items-center gap-1",title:"Delete Guestlist",children:[d.jsx(u2,{className:"h-4 w-4"}),"Delete"]})]})})]},N.id))})]})})]})]})})},Nc=({filename:e,data:t,headers:n})=>{const r=[n.join(","),...t.map(u=>n.map(h=>{const p=u[h];return typeof p=="string"&&(p.includes(",")||p.includes('"'))?`"${p.replace(/"/g,'""')}"`:p}).join(","))].join(`
`),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),o=URL.createObjectURL(i);s.setAttribute("href",o),s.setAttribute("download",`${e}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},hR=(e,t,n)=>{const r=`customer-data-${n}-${new Date().toISOString().split("T")[0]}`,i=e.filter(x=>{const y=new Date(x.createdAt),N=new Date;return N.setDate(N.getDate()-(n==="7d"?7:n==="30d"?30:90)),y>=N}),s=i.map(x=>{var b;const y=t.find(j=>j.id===x.eventId);return((b=x.tickets)==null?void 0:b.map(j=>{var P,E;const T=(P=y==null?void 0:y.ticketTiers)==null?void 0:P.find(C=>C.id===j.ticketTierId);return{"Customer Name":x.customerName||"N/A","Customer Email":x.customerEmail||"N/A","Order ID":((E=x.id)==null?void 0:E.slice(0,8))||"N/A","Event Title":(y==null?void 0:y.title)||"Unknown Event","Event Date":(y==null?void 0:y.date)||"N/A","Event Venue":(y==null?void 0:y.venue)||"N/A","Ticket Tier":(T==null?void 0:T.name)||"Unknown Tier","Ticket Price":T?`£${(T.price/100).toFixed(2)}`:"N/A",Quantity:j.quantity||0,"Total Price":`£${((j.totalPrice||0)/100).toFixed(2)}`,"Order Status":x.status||"N/A","Order Date":new Date(x.createdAt).toLocaleDateString(),"Order Time":new Date(x.createdAt).toLocaleTimeString(),Currency:x.currency||"gbp","Stripe Payment ID":x.stripePaymentIntentId||"N/A"}}))||[]}).flat();if(s.length>0){const x=["Customer Name","Customer Email","Order ID","Event Title","Event Date","Event Venue","Ticket Tier","Ticket Price","Quantity","Total Price","Order Status","Order Date","Order Time","Currency","Stripe Payment ID"];Nc({filename:`${r}-purchases`,data:s,headers:x})}const o=i.reduce((x,y)=>{var j;const N=y.customerEmail||"Unknown";x[N]||(x[N]={"Customer Email":N,"Customer Name":y.customerName||"N/A","Total Orders":0,"Total Spent":0,"Total Tickets":0,"Events Attended":new Set,"First Order":new Date(y.createdAt),"Last Order":new Date(y.createdAt),"Favorite Event":"","Most Expensive Order":0}),x[N]["Total Orders"]++,x[N]["Total Spent"]+=y.totalAmount||0,x[N]["Total Tickets"]+=((j=y.tickets)==null?void 0:j.reduce((T,P)=>T+(P.quantity||0),0))||0;const b=t.find(T=>T.id===y.eventId);return b&&x[N]["Events Attended"].add(b.title),new Date(y.createdAt)<x[N]["First Order"]&&(x[N]["First Order"]=new Date(y.createdAt)),new Date(y.createdAt)>x[N]["Last Order"]&&(x[N]["Last Order"]=new Date(y.createdAt)),(y.totalAmount||0)>x[N]["Most Expensive Order"]&&(x[N]["Most Expensive Order"]=y.totalAmount||0),x},{}),u=Object.values(o).map(x=>({...x,"Events Attended":Array.from(x["Events Attended"]).join(", "),"First Order":x["First Order"].toLocaleDateString(),"Last Order":x["Last Order"].toLocaleDateString(),"Total Spent":`£${(x["Total Spent"]/100).toFixed(2)}`,"Most Expensive Order":`£${(x["Most Expensive Order"]/100).toFixed(2)}`}));if(u.length>0){const x=["Customer Email","Customer Name","Total Orders","Total Spent","Total Tickets","Events Attended","First Order","Last Order","Favorite Event","Most Expensive Order"];Nc({filename:`${r}-summary`,data:u,headers:x})}const h=i.map(x=>{var P,E,C;const y=t.find(k=>k.id===x.eventId),N=new Date(x.createdAt),b=N.toLocaleDateString("en-GB",{weekday:"long"}),j=N.getHours(),T=j<12?"Morning":j<17?"Afternoon":"Evening";return{"Customer Email":x.customerEmail||"N/A","Customer Name":x.customerName||"N/A","Order ID":((P=x.id)==null?void 0:P.slice(0,8))||"N/A","Event Title":(y==null?void 0:y.title)||"Unknown Event","Event Category":((E=y==null?void 0:y.tags)==null?void 0:E.join(", "))||"N/A","Day of Week":b,"Time of Day":T,"Hour of Day":j,"Order Amount":`£${((x.totalAmount||0)/100).toFixed(2)}`,"Ticket Count":((C=x.tickets)==null?void 0:C.reduce((k,M)=>k+(M.quantity||0),0))||0,"Order Status":x.status||"N/A","Order Date":N.toLocaleDateString(),"Days Until Event":(y!=null&&y.date,"N/A")}});if(h.length>0){const x=["Customer Email","Customer Name","Order ID","Event Title","Event Category","Day of Week","Time of Day","Hour of Day","Order Amount","Ticket Count","Order Status","Order Date","Days Until Event"];Nc({filename:`${r}-behavior`,data:h,headers:x})}const p=u.filter(x=>parseFloat(x["Total Spent"].replace("£",""))>=100).sort((x,y)=>parseFloat(y["Total Spent"].replace("£",""))-parseFloat(x["Total Spent"].replace("£","")));if(p.length>0){const x=["Customer Email","Customer Name","Total Spent","Total Orders","Total Tickets","Events Attended","First Order","Last Order","Customer Value Tier"],y=p.map(N=>{const b=parseFloat(N["Total Spent"].replace("£",""));let j="Bronze";return b>=500?j="Platinum":b>=300?j="Gold":b>=150&&(j="Silver"),{...N,"Customer Value Tier":j}});Nc({filename:`${r}-high-value-customers`,data:y,headers:x})}},fR=(e,t,n)=>{const r=`event-${e.title.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${n}-${new Date().toISOString().split("T")[0]}`,i=t.filter(o=>o.eventId===e.id),s=[{Event:e.title,Date:e.date,Venue:e.venue,"Total Revenue":`£${(i.reduce((o,u)=>o+(u.totalAmount||0),0)/100).toFixed(2)}`,"Total Orders":i.length,"Total Tickets":i.reduce((o,u)=>{var h;return o+(((h=u.tickets)==null?void 0:h.reduce((p,x)=>p+(x.quantity||0),0))||0)},0),Period:n}];if(Nc({filename:`${r}-overview`,data:s,headers:["Event","Date","Venue","Total Revenue","Total Orders","Total Tickets","Period"]}),i.length>0){const o=i.map(u=>{var h,p;return{"Order ID":((h=u.id)==null?void 0:h.slice(0,8))||"N/A","Customer Name":u.customerName||"N/A","Customer Email":u.customerEmail||"N/A",Amount:`£${((u.totalAmount||0)/100).toFixed(2)}`,Status:u.status||"N/A",Date:new Date(u.createdAt).toLocaleDateString(),Tickets:((p=u.tickets)==null?void 0:p.reduce((x,y)=>x+(y.quantity||0),0))||0}});Nc({filename:`${r}-orders`,data:o,headers:["Order ID","Customer Name","Customer Email","Amount","Status","Date","Tickets"]})}if(e.ticketTiers&&e.ticketTiers.length>0){const o=e.ticketTiers.map(u=>{const h=i.filter(y=>{var N;return(N=y.tickets)==null?void 0:N.some(b=>b.ticketTierId===u.id)}),p=h.reduce((y,N)=>{var j;const b=((j=N.tickets)==null?void 0:j.filter(T=>T.ticketTierId===u.id))||[];return y+b.reduce((T,P)=>T+(P.totalPrice||0),0)},0),x=h.reduce((y,N)=>{var j;const b=((j=N.tickets)==null?void 0:j.filter(T=>T.ticketTierId===u.id))||[];return y+b.reduce((T,P)=>T+(P.quantity||0),0)},0);return{"Tier Name":u.name,Price:`£${(u.price/100).toFixed(2)}`,Capacity:u.capacity,Sold:x,Available:u.capacity-x,Utilization:`${(x/u.capacity*100).toFixed(1)}%`,Revenue:`£${(p/100).toFixed(2)}`,"Revenue per Ticket":x>0?`£${(p/x/100).toFixed(2)}`:"£0.00"}});Nc({filename:`${r}-tiers`,data:o,headers:["Tier Name","Price","Capacity","Sold","Available","Utilization","Revenue","Revenue per Ticket"]})}},pR=()=>{const{events:e,orders:t,getEvents:n,getOrders:r,addEvent:i,deleteEvent:s,archiveEvent:o}=_o(),[u,h]=fe.useState(null),[p,x]=fe.useState(!0),[y,N]=fe.useState("30d"),[b,j]=fe.useState("all"),[T,P]=fe.useState([]),[E,C]=fe.useState("analytics"),[k,M]=fe.useState(!1),[B,ne]=fe.useState(null),[F,X]=fe.useState(null),[J,ve]=fe.useState(!1),[W,z]=fe.useState(!1),[re,ae]=fe.useState(null);fe.useEffect(()=>{te()},[]),fe.useEffect(()=>{if(e&&t){const He=K();h(He)}},[e,t,y,b]);const te=async()=>{console.log("🔄 Loading dashboard data..."),x(!0);const He=setTimeout(()=>{console.log("⏰ Loading timeout - forcing completion"),x(!1)},1e4);try{console.log("📡 Fetching events and orders..."),await Promise.all([n(),r()]),console.log("✅ Data fetched successfully");const ze=K();h(ze),console.log("📊 Stats calculated:",ze)}catch(ze){console.error("❌ Error loading dashboard data:",ze)}finally{clearTimeout(He),x(!1),console.log("🏁 Dashboard loading complete")}},Se=()=>{ne(null),M(!0)},Ae=He=>{ne(He),M(!0)},ge=He=>{X({type:"delete",event:He})},ie=He=>{X({type:"archive",event:He})},xe=He=>{ae(He),ve(!0)},Ee=He=>{ve(!1),ae(null),Oi.success(`Guestlist created successfully! QR code sent to ${He.leadEmail}`),te()},R=async He=>{P(vt=>[...vt,He]);const ze=new Date,it=new Date(ze.getTime()+30*24*60*60*1e3);let $e;switch(He){case"sundowner":$e={title:"Carnival LDN Sundowner",date:it.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:"18:00 - 22:00",venue:"Sky Garden, London",price:"From £25",description:"Experience the magic of London at sunset with our exclusive Carnival LDN Sundowner. Enjoy live music, craft cocktails, and breathtaking city views from one of London's most iconic venues.",capacity:"150",image:"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=800&h=600&fit=crop",tags:"sundowner,networking,music,cocktails,views",gradient:"from-orange-400 via-red-500 to-pink-500",ticketTiers:[{id:`tier_${Date.now()}_1`,name:"Early Bird",price:2500,originalPrice:3500,capacity:50,soldCount:0,description:"Limited early bird tickets",benefits:["Priority entry","Welcome drink","Canapés"],isActive:!0},{id:`tier_${Date.now()}_2`,name:"Standard",price:3500,originalPrice:null,capacity:80,soldCount:0,description:"Standard admission",benefits:["Entry","Welcome drink","Canapés","Live music"],isActive:!0},{id:`tier_${Date.now()}_3`,name:"VIP",price:5500,originalPrice:null,capacity:20,soldCount:0,description:"Premium experience",benefits:["Priority entry","Premium drinks","Full catering","Reserved seating","Meet & greet with artists"],isActive:!0}]};break;case"bollywood":$e={title:"Bollywood Night - Carnival LDN",date:it.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:"19:00 - 02:00",venue:"O2 Academy Brixton, London",price:"From £20",description:"Get ready for the most vibrant Bollywood night in London! Dance to the latest Bollywood hits, enjoy authentic Indian cuisine, and experience the magic of Indian cinema with live performances.",capacity:"200",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",tags:"bollywood,indian,music,dance,food,culture",gradient:"from-purple-400 via-pink-500 to-red-500",ticketTiers:[{id:`tier_${Date.now()}_1`,name:"General Admission",price:2e3,originalPrice:null,capacity:120,soldCount:0,description:"Basic entry",benefits:["Entry","Live music","Dance floor access"],isActive:!0},{id:`tier_${Date.now()}_2`,name:"Premium",price:3500,originalPrice:null,capacity:60,soldCount:0,description:"Enhanced experience",benefits:["Entry","Live music","Dance floor access","Food vouchers","Reserved seating"],isActive:!0},{id:`tier_${Date.now()}_3`,name:"VIP Experience",price:6500,originalPrice:null,capacity:20,soldCount:0,description:"Ultimate Bollywood experience",benefits:["Priority entry","Premium seating","All-inclusive food & drinks","Meet performers","Photo opportunities","Exclusive dance workshop"],isActive:!0}]};break;case"carnival":$e={title:"Carnival LDN Street Festival",date:it.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:"12:00 - 20:00",venue:"Brockwell Park, London SE24 9BJ",price:"Free - £40",description:"Join us for the biggest Caribbean carnival celebration in London! Experience vibrant costumes, steel pan music, Caribbean food stalls, and an unforgettable day of culture and celebration.",capacity:"500",image:"https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&h=600&fit=crop",tags:"carnival,caribbean,culture,music,food,family",gradient:"from-green-400 via-blue-500 to-purple-500",ticketTiers:[{id:`tier_${Date.now()}_1`,name:"Free Entry",price:0,originalPrice:null,capacity:300,soldCount:0,description:"General festival access",benefits:["Entry","Live music","Food stalls access","Family activities"],isActive:!0},{id:`tier_${Date.now()}_2`,name:"Premium Pass",price:2500,originalPrice:null,capacity:150,soldCount:0,description:"Enhanced festival experience",benefits:["Priority entry","Reserved seating areas","Food vouchers","Exclusive bar access","Meet & greet with performers"],isActive:!0},{id:`tier_${Date.now()}_3`,name:"VIP Experience",price:4e3,originalPrice:null,capacity:50,soldCount:0,description:"Ultimate carnival experience",benefits:["Priority entry","VIP seating","All-inclusive food & drinks","Backstage access","Exclusive workshops","Commemorative gift bag"],isActive:!0}]};break}try{await i($e),Oi.success(`${$e.title} created successfully!`),await te()}catch(vt){console.error("Error creating test event:",vt),Oi.error("Failed to create test event")}finally{P(vt=>vt.filter(Ve=>Ve!==He))}},K=()=>{var ce;if(!e||!t)return{totalRevenue:0,totalOrders:0,totalTickets:0,conversionRate:0,averageOrderValue:0,topPerformingEvent:"N/A",recentOrders:[],revenueByEvent:[],ticketSalesByTier:[],dailyRevenue:[]};const He=t.filter(we=>{if(b!=="all"&&we.eventId!==b)return!1;const qe=new Date(we.createdAt),Be=new Date;return Be.setDate(Be.getDate()-(y==="7d"?7:y==="30d"?30:90)),qe>=Be}),ze=He.reduce((we,qe)=>we+(qe.totalAmount||0),0),it=He.length,$e=He.reduce((we,qe)=>{var Be;return we+(((Be=qe.tickets)==null?void 0:Be.reduce((We,Je)=>We+(Je.quantity||0),0))||0)},0),vt=it>0?ze/it:0,Ve=it>0?Math.min(95,Math.random()*20+5):0,pe=e.map(we=>{const Be=He.filter(We=>We.eventId===we.id).reduce((We,Je)=>We+(Je.totalAmount||0),0);return{event:we.title,revenue:Be}}),bt=((ce=pe.sort((we,qe)=>qe.revenue-we.revenue)[0])==null?void 0:ce.event)||"N/A",ct=pe.filter(we=>we.revenue>0),Ge=[];e.forEach(we=>{var qe;(qe=we.ticketTiers)==null||qe.forEach(Be=>{const We=He.filter(xt=>{var ht;return(ht=xt.tickets)==null?void 0:ht.some(Mt=>Mt.ticketTierId===Be.id)}),Je=We.reduce((xt,ht)=>{var dt;const Mt=((dt=ht.tickets)==null?void 0:dt.filter(kn=>kn.ticketTierId===Be.id))||[];return xt+Mt.reduce((kn,Et)=>kn+(Et.totalPrice||0),0)},0),yt=We.reduce((xt,ht)=>{var dt;const Mt=((dt=ht.tickets)==null?void 0:dt.filter(kn=>kn.ticketTierId===Be.id))||[];return xt+Mt.reduce((kn,Et)=>kn+(Et.quantity||0),0)},0);Ge.push({tier:`${we.title} - ${Be.name}`,sold:yt,revenue:Je,capacity:Be.capacity||0})})});const se=Array.from({length:30},(we,qe)=>{const Be=new Date;Be.setDate(Be.getDate()-(29-qe));const Je=He.filter(yt=>new Date(yt.createdAt).toDateString()===Be.toDateString()).reduce((yt,xt)=>yt+(xt.totalAmount||0),0);return{date:Be.toLocaleDateString("en-GB",{month:"short",day:"numeric"}),revenue:Je}});return{totalRevenue:ze,totalOrders:it,totalTickets:$e,conversionRate:Ve,averageOrderValue:vt,topPerformingEvent:bt,recentOrders:He.slice(0,5),revenueByEvent:ct,ticketSalesByTier:Ge,dailyRevenue:se}},ee=()=>{e&&t&&(hR(t,e,y),Oi.success("Customer data exported successfully!"))},me=He=>{const ze=e==null?void 0:e.find(it=>it.id===He);ze&&t&&(fR(ze,t,y),Oi.success(`${ze.title} data exported successfully!`))},he=He=>{if(!He)return null;let ze=String(He).trim();const it=ze.match(/^[A-Za-z]+,\s*(.*)$/);it&&(ze=it[1]);let $e=new Date(ze);if(!isNaN($e.getTime()))return $e;const vt=ze.match(/^(\d{1,2})\s+([A-Za-z]+)\s+(\d{4})$/);if(vt){const[,pe,bt,ct]=vt;if($e=new Date(`${bt} ${pe}, ${ct}`),!isNaN($e.getTime()))return $e}const Ve=ze.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})$/);if(Ve){const[,pe,bt,ct]=Ve,Ge=se=>se.padStart(2,"0");if($e=new Date(`${ct}-${Ge(bt)}-${Ge(pe)}`),!isNaN($e.getTime()))return $e}return null};new Date().setHours(0,0,0,0);const je=(e||[]).filter(He=>!He.isArchived).sort((He,ze)=>{const it=he(He.date),$e=he(ze.date);return!it&&!$e?0:it?$e?it.getTime()-$e.getTime():-1:1}),Oe=(e||[]).filter(He=>He.isArchived).sort((He,ze)=>{const it=he(He.date),$e=he(ze.date);return!it&&!$e?0:it?$e?(($e==null?void 0:$e.getTime())||0)-((it==null?void 0:it.getTime())||0):-1:1});return p?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Loading Dashboard..."}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This may take a few seconds..."}),d.jsx("button",{onClick:()=>{console.log("🔄 Manual refresh triggered"),x(!1),te()},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Dashboard"})]})}):d.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d.jsx(mM,{selectedTimeframe:y,selectedEvent:b,events:e||[],activeTab:E,onTimeframeChange:N,onEventChange:j,onTabChange:C,onRefresh:te}),d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:d.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(c1,{className:"h-6 w-6 text-blue-600"}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Google Analytics Dashboard"}),d.jsx("p",{className:"text-blue-700 text-sm",children:"Track real-time visitor behavior, conversions, and revenue insights"})]})]}),d.jsxs("a",{href:"/analytics",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[d.jsx(c1,{className:"h-4 w-4"}),d.jsx("span",{children:"View Analytics"})]})]})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[E==="analytics"&&d.jsx(d.Fragment,{children:b!=="all"?d.jsx(SM,{events:e||[],orders:t||[],selectedEvent:b,onExportEventData:me}):d.jsxs(d.Fragment,{children:[d.jsx(gM,{stats:u,onExportAll:ee,quickEventButtons:d.jsx(bM,{creatingEvents:T,onCreateEvent:R})}),d.jsx(xM,{stats:u,events:e||[]}),d.jsx(wM,{orders:(u==null?void 0:u.recentOrders)||[],events:e||[]})]})}),E==="events"&&d.jsx(yM,{currentEvents:je,archivedEvents:Oe,onAddEvent:Se,onEditEvent:Ae,onArchiveToggle:ie,onDeleteEvent:ge,onGuestlist:xe}),E==="orders"&&d.jsx(vM,{orders:t||[],events:e||[]})]}),k&&d.jsx(pM,{event:B,onClose:()=>{M(!1),ne(null),te()}}),d.jsx(NM,{confirm:F,onClose:()=>X(null),onConfirm:async()=>{F&&(F.type==="delete"?await s(F.event.id):await o(F.event.id,!F.event.isArchived),X(null))}}),J&&re&&d.jsx(uR,{event:re,onClose:()=>{ve(!1),ae(null)},onSuccess:Ee,onManageGuestlists:()=>{ve(!1),z(!0)}}),W&&re&&d.jsx(dR,{event:re,onClose:()=>{z(!1),ae(null)},onCreateNew:()=>{z(!1),ve(!0)}})]})};var x6="basil",mR=function(t){return t===3?"v3":t},y6="https://js.stripe.com",gR="".concat(y6,"/").concat(x6,"/stripe.js"),xR=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,yR=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var vR=function(t){return xR.test(t)||yR.test(t)},wR=function(){for(var t=document.querySelectorAll('script[src^="'.concat(y6,'"]')),n=0;n<t.length;n++){var r=t[n];if(vR(r.src))return r}return null},Db=function(t){var n="",r=document.createElement("script");r.src="".concat(gR).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},bR=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:n})},Md=null,Zf=null,Qf=null,NR=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},AR=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},SR=function(t){return Md!==null?Md:(Md=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var i=wR();if(!(i&&t)){if(!i)i=Db(t);else if(i&&Qf!==null&&Zf!==null){var s;i.removeEventListener("load",Qf),i.removeEventListener("error",Zf),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=Db(t)}}Qf=AR(n,r),Zf=NR(r),i.addEventListener("load",Qf),i.addEventListener("error",Zf)}catch(o){r(o);return}}),Md.catch(function(n){return Md=null,Promise.reject(n)}))},CR=function(t,n,r){if(t===null)return null;var i=n[0],s=i.match(/^pk_test/),o=mR(t.version),u=x6;s&&o!==u&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var h=t.apply(void 0,n);return bR(h,r),h},Rd,v6=!1,w6=function(){return Rd||(Rd=SR(null).catch(function(t){return Rd=null,Promise.reject(t)}),Rd)};Promise.resolve().then(function(){return w6()}).catch(function(e){v6||console.warn(e)});var ER=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];v6=!0;var i=Date.now();return w6().then(function(s){return CR(s,n,i)})},b6={exports:{}},_R="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",TR=_R,IR=TR;function N6(){}function A6(){}A6.resetWarningCache=N6;var kR=function(){function e(r,i,s,o,u,h){if(h!==IR){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:A6,resetWarningCache:N6};return n.PropTypes=n,n};b6.exports=kR();var jR=b6.exports;const ur=Pc(jR);function Mb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Mb(Object(n),!0).forEach(function(r){S6(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mb(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A0(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?A0=function(t){return typeof t}:A0=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A0(e)}function S6(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LR(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function PR(e,t){if(e==null)return{};var n=LR(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function C6(e,t){return OR(e)||DR(e,t)||MR(e,t)||RR()}function OR(e){if(Array.isArray(e))return e}function DR(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,u;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(h){s=!0,u=h}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw u}}return r}}function MR(e,t){if(e){if(typeof e=="string")return Bb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bb(e,t)}}function Bb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function RR(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vs=function(t,n,r){var i=!!r,s=Ot.useRef(r);Ot.useEffect(function(){s.current=r},[r]),Ot.useEffect(function(){if(!i||!t)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return t.on(n,o),function(){t.off(n,o)}},[i,n,t,s])},C2=function(t){var n=Ot.useRef(t);return Ot.useEffect(function(){n.current=t},[t]),n.current},Ju=function(t){return t!==null&&A0(t)==="object"},BR=function(t){return Ju(t)&&typeof t.then=="function"},FR=function(t){return Ju(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Fb="[object Object]",UR=function e(t,n){if(!Ju(t)||!Ju(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(t)===Fb,o=Object.prototype.toString.call(n)===Fb;if(s!==o)return!1;if(!s&&!r)return t===n;var u=Object.keys(t),h=Object.keys(n);if(u.length!==h.length)return!1;for(var p={},x=0;x<u.length;x+=1)p[u[x]]=!0;for(var y=0;y<h.length;y+=1)p[h[y]]=!0;var N=Object.keys(p);if(N.length!==u.length)return!1;var b=t,j=n,T=function(E){return e(b[E],j[E])};return N.every(T)},E6=function(t,n,r){return Ju(t)?Object.keys(t).reduce(function(i,s){var o=!Ju(n)||!UR(t[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?Rb(Rb({},i||{}),{},S6({},s,t[s])):i},null):null},_6="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Ub=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_6;if(t===null||FR(t))return t;throw new Error(n)},VR=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_6;if(BR(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return Ub(i,n)})};var r=Ub(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},zR=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.9.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},ap=Ot.createContext(null);ap.displayName="ElementsContext";var T6=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},I6=function(t){var n=t.stripe,r=t.options,i=t.children,s=Ot.useMemo(function(){return VR(n)},[n]),o=Ot.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),u=C6(o,2),h=u[0],p=u[1];Ot.useEffect(function(){var N=!0,b=function(T){p(function(P){return P.stripe?P:{stripe:T,elements:T.elements(r)}})};return s.tag==="async"&&!h.stripe?s.stripePromise.then(function(j){j&&N&&b(j)}):s.tag==="sync"&&!h.stripe&&b(s.stripe),function(){N=!1}},[s,h,r]);var x=C2(n);Ot.useEffect(function(){x!==null&&x!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[x,n]);var y=C2(r);return Ot.useEffect(function(){if(h.elements){var N=E6(r,y,["clientSecret","fonts"]);N&&h.elements.update(N)}},[r,y,h.elements]),Ot.useEffect(function(){zR(h.stripe)},[h.stripe]),Ot.createElement(ap.Provider,{value:h},i)};I6.propTypes={stripe:ur.any,options:ur.object};var HR=function(t){var n=Ot.useContext(ap);return T6(n,t)},qR=function(){var t=HR("calls useElements()"),n=t.elements;return n};ur.func.isRequired;var k6=Ot.createContext(null);k6.displayName="CheckoutSdkContext";var WR=function(t,n){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return t},$R=Ot.createContext(null);$R.displayName="CheckoutContext";ur.any,ur.shape({fetchClientSecret:ur.func.isRequired,elementsOptions:ur.object}).isRequired;var E2=function(t){var n=Ot.useContext(k6),r=Ot.useContext(ap);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n?WR(n,t):T6(r,t)},GR=["mode"],YR=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Dr=function(t,n){var r="".concat(YR(t),"Element"),i=function(h){var p=h.id,x=h.className,y=h.options,N=y===void 0?{}:y,b=h.onBlur,j=h.onFocus,T=h.onReady,P=h.onChange,E=h.onEscape,C=h.onClick,k=h.onLoadError,M=h.onLoaderStart,B=h.onNetworksChange,ne=h.onConfirm,F=h.onCancel,X=h.onShippingAddressChange,J=h.onShippingRateChange,ve=E2("mounts <".concat(r,">")),W="elements"in ve?ve.elements:null,z="checkoutSdk"in ve?ve.checkoutSdk:null,re=Ot.useState(null),ae=C6(re,2),te=ae[0],Se=ae[1],Ae=Ot.useRef(null),ge=Ot.useRef(null);vs(te,"blur",b),vs(te,"focus",j),vs(te,"escape",E),vs(te,"click",C),vs(te,"loaderror",k),vs(te,"loaderstart",M),vs(te,"networkschange",B),vs(te,"confirm",ne),vs(te,"cancel",F),vs(te,"shippingaddresschange",X),vs(te,"shippingratechange",J),vs(te,"change",P);var ie;T&&(t==="expressCheckout"?ie=T:ie=function(){T(te)}),vs(te,"ready",ie),Ot.useLayoutEffect(function(){if(Ae.current===null&&ge.current!==null&&(W||z)){var Ee=null;if(z)switch(t){case"payment":Ee=z.createPaymentElement(N);break;case"address":if("mode"in N){var R=N.mode,K=PR(N,GR);if(R==="shipping")Ee=z.createShippingAddressElement(K);else if(R==="billing")Ee=z.createBillingAddressElement(K);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Ee=z.createExpressCheckoutElement(N);break;case"currencySelector":Ee=z.createCurrencySelectorElement();break;case"taxId":Ee=z.createTaxIdElement(N);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else W&&(Ee=W.create(t,N));Ae.current=Ee,Se(Ee),Ee&&Ee.mount(ge.current)}},[W,z,N]);var xe=C2(N);return Ot.useEffect(function(){if(Ae.current){var Ee=E6(N,xe,["paymentRequest"]);Ee&&"update"in Ae.current&&Ae.current.update(Ee)}},[N,xe]),Ot.useLayoutEffect(function(){return function(){if(Ae.current&&typeof Ae.current.destroy=="function")try{Ae.current.destroy(),Ae.current=null}catch{}}},[]),Ot.createElement("div",{id:p,className:x,ref:ge})},s=function(h){E2("mounts <".concat(r,">"));var p=h.id,x=h.className;return Ot.createElement("div",{id:p,className:x})},o=n?s:i;return o.propTypes={id:ur.string,className:ur.string,onChange:ur.func,onBlur:ur.func,onFocus:ur.func,onReady:ur.func,onEscape:ur.func,onClick:ur.func,onLoadError:ur.func,onLoaderStart:ur.func,onNetworksChange:ur.func,onConfirm:ur.func,onCancel:ur.func,onShippingAddressChange:ur.func,onShippingRateChange:ur.func,options:ur.object},o.displayName=r,o.__elementType=t,o},Mr=typeof window>"u",XR=Ot.createContext(null);XR.displayName="EmbeddedCheckoutProviderContext";var KR=function(){var t=E2("calls useStripe()"),n=t.stripe;return n};Dr("auBankAccount",Mr);var Vb=Dr("card",Mr);Dr("cardNumber",Mr);Dr("cardExpiry",Mr);Dr("cardCvc",Mr);Dr("fpxBank",Mr);Dr("iban",Mr);Dr("idealBank",Mr);Dr("p24Bank",Mr);Dr("epsBank",Mr);Dr("payment",Mr);Dr("expressCheckout",Mr);Dr("currencySelector",Mr);Dr("paymentRequestButton",Mr);Dr("linkAuthentication",Mr);Dr("address",Mr);Dr("shippingAddress",Mr);Dr("paymentMethodMessaging",Mr);Dr("affirmMessage",Mr);Dr("afterpayClearpayMessage",Mr);Dr("taxId",Mr);const ZR=ER("pk_test_51OyBk9IgkIAGwv6wTnbqfLaivBQ0wYCltGf0gS4yeEZpxkD1f5jKEwarmr294R0LXNEzEMNxHuCKLRpMH8DYgaWD00g8BPRDAG"),QR=({event:e,onClose:t,onSuccess:n})=>{fe.useEffect(()=>{const C=document.createElement("style");return C.textContent=`
      input[type="date"]::-webkit-calendar-picker-indicator {
        background: transparent;
        bottom: 0;
        color: transparent;
        cursor: pointer;
        height: auto;
        left: 0;
        position: absolute;
        right: 0;
        top: 0;
        width: auto;
        opacity: 0;
      }
      
      /* Ensure date picker opens on mobile */
      input[type="date"] {
        position: relative;
      }
      
      /* Make the entire input clickable for date picker */
      input[type="date"]::-webkit-calendar-picker-indicator:hover {
        opacity: 0.1;
      }
      
      input[type="date"]::-webkit-datetime-edit {
        color: #374151;
      }
      
      input[type="date"]::-webkit-datetime-edit-fields-wrapper {
        padding: 0;
      }
      
      input[type="date"]::-webkit-datetime-edit-text {
        color: #9CA3AF;
        padding: 0 0.2em;
      }
      
      input[type="date"]::-webkit-datetime-edit-month-field,
      input[type="date"]::-webkit-datetime-edit-day-field,
      input[type="date"]::-webkit-datetime-edit-year-field {
        color: #374151;
        padding: 0 0.2em;
      }
      
      input[type="date"]::-webkit-inner-spin-button {
        display: none;
      }
      
      input[type="date"]::-webkit-clear-button {
        display: none;
      }
      
      /* iOS specific fixes */
      input, select {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        border-radius: 8px;
        font-size: 16px;
      }
      
      /* Ensure consistent height on iOS */
      input, select {
        min-height: 48px;
        line-height: 1.5;
      }
      
      /* Fix iOS select dropdown styling */
      select {
        background-image: none;
      }
      
      /* Ensure text inputs don't zoom on iOS */
      input[type="text"], input[type="email"], input[type="tel"] {
        font-size: 16px;
      }
    `,document.head.appendChild(C),()=>{document.head.removeChild(C)}},[]);const r=KR(),i=qR(),[s,o]=fe.useState([]),[u,h]=fe.useState({name:"",email:"",phone:"",dateOfBirth:"",gender:"male"}),[p,x]=fe.useState(!1),[y,N]=fe.useState(null);fe.useEffect(()=>{if(console.log("Event ticket tiers:",e.ticketTiers),e.ticketTiers&&e.ticketTiers.length>0){const k=[...e.ticketTiers].sort((M,B)=>M.price-B.price).map(M=>({tierId:M.id,tier:M,quantity:0}));o(k)}},[e]);const b=(C,k)=>{o(M=>M.map(B=>B.tierId===C?{...B,quantity:Math.max(0,k)}:B))},j=()=>s.reduce((C,k)=>C+k.tier.price*k.quantity,0),T=()=>s.reduce((C,k)=>C+k.quantity,0),P=async C=>{var F,X,J,ve;if(C.preventDefault(),!r||!i){N("Stripe has not loaded yet. Please try again.");return}if(T()===0){N("Please select at least one ticket.");return}const k=[];if((F=u.name)!=null&&F.trim()||k.push("Name is required"),(X=u.email)!=null&&X.trim()||k.push("Email is required"),(J=u.phone)!=null&&J.trim()||k.push("Phone number is required"),u.dateOfBirth||k.push("Date of birth is required"),u.gender||k.push("Gender is required"),u.dateOfBirth){const W=new Date,z=new Date(u.dateOfBirth);if(isNaN(z.getTime()))k.push("Please enter a valid date of birth");else{let re=W.getFullYear()-z.getFullYear();const ae=W.getMonth()-z.getMonth();(ae<0||ae===0&&W.getDate()<z.getDate())&&re--,re<18&&k.push("You must be 18 years or older to purchase tickets")}}if(k.length>0){N(k.join(", "));return}console.log("Sending customer info:",u),x(!0),N(null);const M=s.filter(W=>W.quantity>0),B=j(),ne=M.map(W=>({tier:W.tier.name,price:W.tier.price,quantity:W.quantity}));ak(e.id,e.title,B,ne);try{const W=await fetch("/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:e.id,tickets:s.filter(te=>te.quantity>0),customerInfo:u,totalAmount:j()})});if(!W.ok)throw new Error("Failed to create payment intent");const{clientSecret:z}=await W.json(),{error:re,paymentIntent:ae}=await r.confirmCardPayment(z,{payment_method:{card:i.getElement(Vb),billing_details:{name:u.name,email:u.email}}});if(re){N(re.message||"Payment failed");return}if(ae.status==="succeeded"){const te=await fetch("/api/confirm-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentIntentId:ae.id,eventId:e.id,tickets:s.filter(Se=>Se.quantity>0),customerInfo:u,totalAmount:j()})});if(te.ok){const Se=await te.json(),Ae={id:((ve=Se.order)==null?void 0:ve.id)||`order_${Date.now()}`,eventId:e.id,userId:u.email,stripePaymentIntentId:Se.paymentIntentId,status:"completed",totalAmount:j(),currency:"gbp",tickets:s.filter(Ee=>Ee.quantity>0).map(Ee=>{var R;return{id:`ticket_${Date.now()}_${Ee.tierId}`,orderId:((R=Se.order)==null?void 0:R.id)||`order_${Date.now()}`,ticketTierId:Ee.tierId,quantity:Ee.quantity,unitPrice:Ee.tier.price,totalPrice:Ee.tier.price*Ee.quantity}}),customerEmail:u.email,customerName:u.name,customerPhone:u.phone,customerDateOfBirth:u.dateOfBirth,customerGender:u.gender||void 0,createdAt:new Date,updatedAt:new Date},ge=s.filter(Ee=>Ee.quantity>0),ie=j(),xe=ge.map(Ee=>({tier:Ee.tier.name,price:Ee.tier.price,quantity:Ee.quantity}));ok(Ae.id,e.id,e.title,ie,xe),n(Ae)}}}catch(W){N(W instanceof Error?W.message:"An error occurred")}finally{x(!1)}},E=(e.ticketTiers||[]).filter(C=>C.isActive!==!1&&C.capacity>C.soldCount);return d.jsxs("form",{onSubmit:P,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Tickets"}),E.length===0&&d.jsx("div",{className:"mb-4 text-sm text-red-600",children:"This event is sold out."}),d.jsx("div",{className:"space-y-4",children:(e.ticketTiers||[]).sort((C,k)=>C.price-k.price).map(C=>{const k=s.find(ne=>ne.tierId===C.id)||{quantity:0},M=C.capacity-C.soldCount,B=M<=0||C.isActive===!1;return d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex justify-between items-start mb-3",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"font-medium text-gray-900",children:C.name}),d.jsx("p",{className:"text-sm text-gray-600",children:C.description}),C.benefits&&C.benefits.length>0&&d.jsx("div",{className:"mt-2",children:C.benefits.map((ne,F)=>d.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-1",children:[d.jsx(Is,{className:"h-3 w-3"}),ne]},F))})]}),d.jsx("div",{className:"text-right",children:B?d.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700",children:"Sold out"}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["£",(C.price/100).toFixed(2)]}),C.originalPrice&&C.originalPrice>C.price&&d.jsxs("div",{className:"text-sm text-gray-400 line-through",children:["£",(C.originalPrice/100).toFixed(2)]}),d.jsxs("div",{className:"text-sm text-gray-500",children:[M," available"]})]})})]}),B?d.jsx("div",{className:"text-sm text-gray-500",children:"This tier is currently unavailable."}):d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx("button",{type:"button",onClick:()=>b(C.id,(k.quantity||0)-1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:"-"}),d.jsx("span",{className:"w-12 text-center font-medium",children:k.quantity||0}),d.jsx("button",{type:"button",onClick:()=>b(C.id,(k.quantity||0)+1),disabled:(k.quantity||0)>=M,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"+"})]}),d.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["£",(C.price*(k.quantity||0)/100).toFixed(2)]})]})]},C.id)})})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Information"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),d.jsx("input",{id:"name",type:"text",placeholder:"e.g. John Smith",value:u.name,onChange:C=>h({...u,name:C.target.value}),className:"w-full h-12 px-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none"},required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address *"}),d.jsx("input",{id:"email",type:"email",placeholder:"e.g. john.smith@email.com",value:u.email,onChange:C=>h({...u,email:C.target.value}),className:"w-full h-12 px-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none"},required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),d.jsx("input",{id:"phone",type:"tel",placeholder:"e.g. 07123456789",value:u.phone,onChange:C=>h({...u,phone:C.target.value}),className:"w-full h-12 px-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none"},required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"dateOfBirth",className:"block text-sm font-medium text-gray-700 mb-1",children:"Date of Birth *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{id:"dateOfBirth",type:"date",value:u.dateOfBirth,onChange:C=>h({...u,dateOfBirth:C.target.value}),placeholder:"Select date of birth",className:"w-full h-12 px-3 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white cursor-pointer hover:border-blue-400 transition-colors shadow-sm",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none"},required:!0}),d.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:d.jsx("svg",{className:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})})]}),d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"You must be 18 years or older to purchase tickets"})]}),d.jsxs("div",{className:"md:col-span-2",children:[d.jsx("label",{htmlFor:"gender",className:"block text-sm font-medium text-gray-700 mb-1",children:"Gender *"}),d.jsxs("div",{className:"relative",children:[d.jsxs("select",{id:"gender",value:u.gender,onChange:C=>h({...u,gender:C.target.value}),className:"w-full h-12 px-3 pr-10 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white cursor-pointer hover:border-blue-400 transition-colors",style:{WebkitAppearance:"none",MozAppearance:"none",appearance:"none"},required:!0,children:[d.jsx("option",{value:"male",children:"Male"}),d.jsx("option",{value:"female",children:"Female"}),d.jsx("option",{value:"other",children:"Other"}),d.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]}),d.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:d.jsx("svg",{className:"h-5 w-5 text-blue-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment"}),d.jsx("div",{className:"border rounded-lg p-4",children:d.jsx(Vb,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Order Summary"}),d.jsxs("div",{className:"space-y-2",children:[s.filter(C=>C.quantity>0).map(C=>d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsxs("span",{children:[C.quantity,"x ",C.tier.name]}),d.jsxs("span",{children:["£",(C.tier.price*C.quantity/100).toFixed(2)]})]},C.tierId)),d.jsx("div",{className:"border-t pt-2 mt-2",children:d.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[d.jsx("span",{children:"Total"}),d.jsxs("span",{children:["£",(j()/100).toFixed(2)]})]})})]})]}),y&&d.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:d.jsx("p",{className:"text-red-800",children:y})}),d.jsx("button",{type:"submit",disabled:!r||p||T()===0,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:p?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),d.jsx("span",{className:"ml-2",children:"Processing Payment..."})]}):d.jsxs(d.Fragment,{children:[d.jsx(Mh,{className:"h-5 w-5"}),d.jsxs("span",{className:"ml-2",children:["Pay £",(j()/100).toFixed(2)]})]})}),p&&d.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-white bg-opacity-90 flex items-center justify-center rounded-lg",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Processing your payment..."}),d.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please don't close this window"})]})}),d.jsx("div",{className:"text-center text-sm text-gray-500",children:d.jsxs("div",{className:"flex items-center justify-center gap-2",children:[d.jsx(Mh,{className:"h-4 w-4"}),"Secure payment powered by Stripe"]})})]})},JR=({event:e,onClose:t,onSuccess:n})=>d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:d.jsxs(Xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[d.jsxs("div",{className:"p-6 border-b",children:[d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Step 1 of 3"}),d.jsx("span",{className:"text-sm text-gray-500",children:"Select Tickets"})]}),d.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:d.jsx(Xe.div,{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",initial:{width:0},animate:{width:"33%"}})})]}),d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Buy Tickets"}),d.jsx("p",{className:"text-gray-600",children:e.title})]}),d.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:d.jsx(Rl,{className:"h-6 w-6"})})]})]}),d.jsx("div",{className:"p-6",children:d.jsx(I6,{stripe:ZR,children:d.jsx(QR,{event:e,onClose:t,onSuccess:n})})})]})});function Tn(e){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(e)}var Mi=Uint8Array,Cs=Uint16Array,_y=Int32Array,op=new Mi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lp=new Mi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_2=new Mi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),j6=function(e,t){for(var n=new Cs(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new _y(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},L6=j6(op,2),P6=L6.b,T2=L6.r;P6[28]=258,T2[258]=28;var O6=j6(lp,0),eB=O6.b,zb=O6.r,I2=new Cs(32768);for(var Zn=0;Zn<32768;++Zn){var Yo=(Zn&43690)>>1|(Zn&21845)<<1;Yo=(Yo&52428)>>2|(Yo&13107)<<2,Yo=(Yo&61680)>>4|(Yo&3855)<<4,I2[Zn]=((Yo&65280)>>8|(Yo&255)<<8)>>1}var Wa=function(e,t,n){for(var r=e.length,i=0,s=new Cs(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Cs(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var u;if(n){u=new Cs(1<<t);var h=15-t;for(i=0;i<r;++i)if(e[i])for(var p=i<<4|e[i],x=t-e[i],y=o[e[i]-1]++<<x,N=y|(1<<x)-1;y<=N;++y)u[I2[y]>>h]=p}else for(u=new Cs(r),i=0;i<r;++i)e[i]&&(u[i]=I2[o[e[i]-1]++]>>15-e[i]);return u},Tl=new Mi(288);for(var Zn=0;Zn<144;++Zn)Tl[Zn]=8;for(var Zn=144;Zn<256;++Zn)Tl[Zn]=9;for(var Zn=256;Zn<280;++Zn)Tl[Zn]=7;for(var Zn=280;Zn<288;++Zn)Tl[Zn]=8;var Uh=new Mi(32);for(var Zn=0;Zn<32;++Zn)Uh[Zn]=5;var tB=Wa(Tl,9,0),nB=Wa(Tl,9,1),rB=Wa(Uh,5,0),iB=Wa(Uh,5,1),km=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},oa=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},jm=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Ty=function(e){return(e+7)/8|0},D6=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Mi(e.subarray(t,n))},sB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ha=function(e,t,n){var r=new Error(t||sB[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,ha),!n)throw r;return r},aB=function(e,t,n,r){var i=e.length,s=0;if(!i||t.f&&!t.l)return n||new Mi(0);var o=!n,u=o||t.i!=2,h=t.i;o&&(n=new Mi(i*3));var p=function(ze){var it=n.length;if(ze>it){var $e=new Mi(Math.max(it*2,ze));$e.set(n),n=$e}},x=t.f||0,y=t.p||0,N=t.b||0,b=t.l,j=t.d,T=t.m,P=t.n,E=i*8;do{if(!b){x=oa(e,y,1);var C=oa(e,y+1,3);if(y+=3,C)if(C==1)b=nB,j=iB,T=9,P=5;else if(C==2){var ne=oa(e,y,31)+257,F=oa(e,y+10,15)+4,X=ne+oa(e,y+5,31)+1;y+=14;for(var J=new Mi(X),ve=new Mi(19),W=0;W<F;++W)ve[_2[W]]=oa(e,y+W*3,7);y+=F*3;for(var z=km(ve),re=(1<<z)-1,ae=Wa(ve,z,1),W=0;W<X;){var te=ae[oa(e,y,re)];y+=te&15;var k=te>>4;if(k<16)J[W++]=k;else{var Se=0,Ae=0;for(k==16?(Ae=3+oa(e,y,3),y+=2,Se=J[W-1]):k==17?(Ae=3+oa(e,y,7),y+=3):k==18&&(Ae=11+oa(e,y,127),y+=7);Ae--;)J[W++]=Se}}var ge=J.subarray(0,ne),ie=J.subarray(ne);T=km(ge),P=km(ie),b=Wa(ge,T,1),j=Wa(ie,P,1)}else ha(1);else{var k=Ty(y)+4,M=e[k-4]|e[k-3]<<8,B=k+M;if(B>i){h&&ha(0);break}u&&p(N+M),n.set(e.subarray(k,B),N),t.b=N+=M,t.p=y=B*8,t.f=x;continue}if(y>E){h&&ha(0);break}}u&&p(N+131072);for(var xe=(1<<T)-1,Ee=(1<<P)-1,R=y;;R=y){var Se=b[jm(e,y)&xe],K=Se>>4;if(y+=Se&15,y>E){h&&ha(0);break}if(Se||ha(2),K<256)n[N++]=K;else if(K==256){R=y,b=null;break}else{var ee=K-254;if(K>264){var W=K-257,me=op[W];ee=oa(e,y,(1<<me)-1)+P6[W],y+=me}var he=j[jm(e,y)&Ee],ke=he>>4;he||ha(3),y+=he&15;var ie=eB[ke];if(ke>3){var me=lp[ke];ie+=jm(e,y)&(1<<me)-1,y+=me}if(y>E){h&&ha(0);break}u&&p(N+131072);var je=N+ee;if(N<ie){var Oe=s-ie,He=Math.min(ie,je);for(Oe+N<0&&ha(3);N<He;++N)n[N]=r[Oe+N]}for(;N<je;++N)n[N]=n[N-ie]}}t.l=b,t.p=R,t.b=N,t.f=x,b&&(x=1,t.m=T,t.d=j,t.n=P)}while(!x);return N!=n.length&&o?D6(n,0,N):n.subarray(0,N)},oo=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Bd=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Lm=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:R6,l:0};if(i==1){var o=new Mi(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(B,ne){return B.f-ne.f}),n.push({s:-1,f:25001});var u=n[0],h=n[1],p=0,x=1,y=2;for(n[0]={s:-1,f:u.f+h.f,l:u,r:h};x!=i-1;)u=n[n[p].f<n[y].f?p++:y++],h=n[p!=x&&n[p].f<n[y].f?p++:y++],n[x++]={s:-1,f:u.f+h.f,l:u,r:h};for(var N=s[0].s,r=1;r<i;++r)s[r].s>N&&(N=s[r].s);var b=new Cs(N+1),j=k2(n[x-1],b,0);if(j>t){var r=0,T=0,P=j-t,E=1<<P;for(s.sort(function(ne,F){return b[F.s]-b[ne.s]||ne.f-F.f});r<i;++r){var C=s[r].s;if(b[C]>t)T+=E-(1<<j-b[C]),b[C]=t;else break}for(T>>=P;T>0;){var k=s[r].s;b[k]<t?T-=1<<t-b[k]++-1:++r}for(;r>=0&&T;--r){var M=s[r].s;b[M]==t&&(--b[M],++T)}j=t}return{t:new Mi(b),l:j}},k2=function(e,t,n){return e.s==-1?Math.max(k2(e.l,t,n+1),k2(e.r,t,n+1)):t[e.s]=n},Hb=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Cs(++t),r=0,i=e[0],s=1,o=function(h){n[r++]=h},u=1;u<=t;++u)if(e[u]==i&&u!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[u]}return{c:n.subarray(0,r),n:t}},Fd=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},M6=function(e,t,n){var r=n.length,i=Ty(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},qb=function(e,t,n,r,i,s,o,u,h,p,x){oo(t,x++,n),++i[256];for(var y=Lm(i,15),N=y.t,b=y.l,j=Lm(s,15),T=j.t,P=j.l,E=Hb(N),C=E.c,k=E.n,M=Hb(T),B=M.c,ne=M.n,F=new Cs(19),X=0;X<C.length;++X)++F[C[X]&31];for(var X=0;X<B.length;++X)++F[B[X]&31];for(var J=Lm(F,7),ve=J.t,W=J.l,z=19;z>4&&!ve[_2[z-1]];--z);var re=p+5<<3,ae=Fd(i,Tl)+Fd(s,Uh)+o,te=Fd(i,N)+Fd(s,T)+o+14+3*z+Fd(F,ve)+2*F[16]+3*F[17]+7*F[18];if(h>=0&&re<=ae&&re<=te)return M6(t,x,e.subarray(h,h+p));var Se,Ae,ge,ie;if(oo(t,x,1+(te<ae)),x+=2,te<ae){Se=Wa(N,b,0),Ae=N,ge=Wa(T,P,0),ie=T;var xe=Wa(ve,W,0);oo(t,x,k-257),oo(t,x+5,ne-1),oo(t,x+10,z-4),x+=14;for(var X=0;X<z;++X)oo(t,x+3*X,ve[_2[X]]);x+=3*z;for(var Ee=[C,B],R=0;R<2;++R)for(var K=Ee[R],X=0;X<K.length;++X){var ee=K[X]&31;oo(t,x,xe[ee]),x+=ve[ee],ee>15&&(oo(t,x,K[X]>>5&127),x+=K[X]>>12)}}else Se=tB,Ae=Tl,ge=rB,ie=Uh;for(var X=0;X<u;++X){var me=r[X];if(me>255){var ee=me>>18&31;Bd(t,x,Se[ee+257]),x+=Ae[ee+257],ee>7&&(oo(t,x,me>>23&31),x+=op[ee]);var he=me&31;Bd(t,x,ge[he]),x+=ie[he],he>3&&(Bd(t,x,me>>5&8191),x+=lp[he])}else Bd(t,x,Se[me]),x+=Ae[me]}return Bd(t,x,Se[256]),x+Ae[256]},oB=new _y([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),R6=new Mi(0),lB=function(e,t,n,r,i,s){var o=s.z||e.length,u=new Mi(r+o+5*(1+Math.ceil(o/7e3))+i),h=u.subarray(r,u.length-i),p=s.l,x=(s.r||0)&7;if(t){x&&(h[0]=s.r>>3);for(var y=oB[t-1],N=y>>13,b=y&8191,j=(1<<n)-1,T=s.p||new Cs(32768),P=s.h||new Cs(j+1),E=Math.ceil(n/3),C=2*E,k=function(vt){return(e[vt]^e[vt+1]<<E^e[vt+2]<<C)&j},M=new _y(25e3),B=new Cs(288),ne=new Cs(32),F=0,X=0,J=s.i||0,ve=0,W=s.w||0,z=0;J+2<o;++J){var re=k(J),ae=J&32767,te=P[re];if(T[ae]=te,P[re]=ae,W<=J){var Se=o-J;if((F>7e3||ve>24576)&&(Se>423||!p)){x=qb(e,h,0,M,B,ne,X,ve,z,J-z,x),ve=F=X=0,z=J;for(var Ae=0;Ae<286;++Ae)B[Ae]=0;for(var Ae=0;Ae<30;++Ae)ne[Ae]=0}var ge=2,ie=0,xe=b,Ee=ae-te&32767;if(Se>2&&re==k(J-Ee))for(var R=Math.min(N,Se)-1,K=Math.min(32767,J),ee=Math.min(258,Se);Ee<=K&&--xe&&ae!=te;){if(e[J+ge]==e[J+ge-Ee]){for(var me=0;me<ee&&e[J+me]==e[J+me-Ee];++me);if(me>ge){if(ge=me,ie=Ee,me>R)break;for(var he=Math.min(Ee,me-2),ke=0,Ae=0;Ae<he;++Ae){var je=J-Ee+Ae&32767,Oe=T[je],He=je-Oe&32767;He>ke&&(ke=He,te=je)}}}ae=te,te=T[ae],Ee+=ae-te&32767}if(ie){M[ve++]=268435456|T2[ge]<<18|zb[ie];var ze=T2[ge]&31,it=zb[ie]&31;X+=op[ze]+lp[it],++B[257+ze],++ne[it],W=J+ge,++F}else M[ve++]=e[J],++B[e[J]]}}for(J=Math.max(J,W);J<o;++J)M[ve++]=e[J],++B[e[J]];x=qb(e,h,p,M,B,ne,X,ve,z,J-z,x),p||(s.r=x&7|h[x/8|0]<<3,x-=7,s.h=P,s.p=T,s.i=J,s.w=W)}else{for(var J=s.w||0;J<o+p;J+=65535){var $e=J+65535;$e>=o&&(h[x/8|0]=p,$e=o),x=M6(h,x+1,e.subarray(J,$e))}s.i=o}return D6(u,0,r+Ty(x)+i)},B6=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var u=Math.min(o+2655,s);o<u;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},cB=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Mi(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return lB(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},F6=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},uB=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=B6();i.p(t.dictionary),F6(e,2,i.d())}},dB=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&ha(6,"invalid zlib data"),(e[1]>>5&1)==1&&ha(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function j2(e,t){t||(t={});var n=B6();n.p(e);var r=cB(e,t,t.dictionary?6:2,4);return uB(r,t),F6(r,r.length-4,n.d()),r}function hB(e,t){return aB(e.subarray(dB(e),-4),{i:2},t,t)}var fB=typeof TextDecoder<"u"&&new TextDecoder,pB=0;try{fB.decode(R6,{stream:!0}),pB=1}catch{}var Ut=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Pm(){Ut.console&&typeof Ut.console.log=="function"&&Ut.console.log.apply(Ut.console,arguments)}var Dn={log:Pm,warn:function(e){Ut.console&&(typeof Ut.console.warn=="function"?Ut.console.warn.apply(Ut.console,arguments):Pm.call(null,arguments))},error:function(e){Ut.console&&(typeof Ut.console.error=="function"?Ut.console.error.apply(Ut.console,arguments):Pm(e))}};function Om(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){pc(r.response,t,n)},r.onerror=function(){Dn.error("could not download file")},r.send()}function Wb(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Jf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var dh,L2,pc=Ut.saveAs||((typeof window>"u"?"undefined":Tn(window))!=="object"||window!==Ut?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Ut.URL||Ut.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?Wb(i.href)?Om(e,t,n):Jf(i,i.target="_blank"):Jf(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Jf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(Wb(e))Om(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Jf(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Tn(s)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Om(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(Ut.HTMLElement)||Ut.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Tn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var x=u.result;x=o?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=x:location=x,r=null},u.readAsDataURL(e)}else{var h=Ut.URL||Ut.webkitURL,p=h.createObjectURL(e);r?r.location=p:location.href=p,r=null,setTimeout(function(){h.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function U6(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),p=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),"#"+u+h+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Dm(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=Ii(n,r,i,s,t[0],7,-680876936),s=Ii(s,n,r,i,t[1],12,-389564586),i=Ii(i,s,n,r,t[2],17,606105819),r=Ii(r,i,s,n,t[3],22,-1044525330),n=Ii(n,r,i,s,t[4],7,-176418897),s=Ii(s,n,r,i,t[5],12,1200080426),i=Ii(i,s,n,r,t[6],17,-1473231341),r=Ii(r,i,s,n,t[7],22,-45705983),n=Ii(n,r,i,s,t[8],7,1770035416),s=Ii(s,n,r,i,t[9],12,-1958414417),i=Ii(i,s,n,r,t[10],17,-42063),r=Ii(r,i,s,n,t[11],22,-1990404162),n=Ii(n,r,i,s,t[12],7,1804603682),s=Ii(s,n,r,i,t[13],12,-40341101),i=Ii(i,s,n,r,t[14],17,-1502002290),n=ki(n,r=Ii(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=ki(s,n,r,i,t[6],9,-1069501632),i=ki(i,s,n,r,t[11],14,643717713),r=ki(r,i,s,n,t[0],20,-373897302),n=ki(n,r,i,s,t[5],5,-701558691),s=ki(s,n,r,i,t[10],9,38016083),i=ki(i,s,n,r,t[15],14,-660478335),r=ki(r,i,s,n,t[4],20,-405537848),n=ki(n,r,i,s,t[9],5,568446438),s=ki(s,n,r,i,t[14],9,-1019803690),i=ki(i,s,n,r,t[3],14,-187363961),r=ki(r,i,s,n,t[8],20,1163531501),n=ki(n,r,i,s,t[13],5,-1444681467),s=ki(s,n,r,i,t[2],9,-51403784),i=ki(i,s,n,r,t[7],14,1735328473),n=ji(n,r=ki(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=ji(s,n,r,i,t[8],11,-2022574463),i=ji(i,s,n,r,t[11],16,1839030562),r=ji(r,i,s,n,t[14],23,-35309556),n=ji(n,r,i,s,t[1],4,-1530992060),s=ji(s,n,r,i,t[4],11,1272893353),i=ji(i,s,n,r,t[7],16,-155497632),r=ji(r,i,s,n,t[10],23,-1094730640),n=ji(n,r,i,s,t[13],4,681279174),s=ji(s,n,r,i,t[0],11,-358537222),i=ji(i,s,n,r,t[3],16,-722521979),r=ji(r,i,s,n,t[6],23,76029189),n=ji(n,r,i,s,t[9],4,-640364487),s=ji(s,n,r,i,t[12],11,-421815835),i=ji(i,s,n,r,t[15],16,530742520),n=Li(n,r=ji(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Li(s,n,r,i,t[7],10,1126891415),i=Li(i,s,n,r,t[14],15,-1416354905),r=Li(r,i,s,n,t[5],21,-57434055),n=Li(n,r,i,s,t[12],6,1700485571),s=Li(s,n,r,i,t[3],10,-1894986606),i=Li(i,s,n,r,t[10],15,-1051523),r=Li(r,i,s,n,t[1],21,-2054922799),n=Li(n,r,i,s,t[8],6,1873313359),s=Li(s,n,r,i,t[15],10,-30611744),i=Li(i,s,n,r,t[6],15,-1560198380),r=Li(r,i,s,n,t[13],21,1309151649),n=Li(n,r,i,s,t[4],6,-145523070),s=Li(s,n,r,i,t[11],10,-1120210379),i=Li(i,s,n,r,t[2],15,718787259),r=Li(r,i,s,n,t[9],21,-343485551),e[0]=cl(n,e[0]),e[1]=cl(r,e[1]),e[2]=cl(i,e[2]),e[3]=cl(s,e[3])}function cp(e,t,n,r,i,s){return t=cl(cl(t,e),cl(r,s)),cl(t<<i|t>>>32-i,n)}function Ii(e,t,n,r,i,s,o){return cp(t&n|~t&r,e,t,i,s,o)}function ki(e,t,n,r,i,s,o){return cp(t&r|n&~r,e,t,i,s,o)}function ji(e,t,n,r,i,s,o){return cp(t^n^r,e,t,i,s,o)}function Li(e,t,n,r,i,s,o){return cp(n^(t|~r),e,t,i,s,o)}function V6(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Dm(r,mB(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(Dm(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,Dm(r,i),r}function mB(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}dh=Ut.atob.bind(Ut),L2=Ut.btoa.bind(Ut);var $b="0123456789abcdef".split("");function gB(e){for(var t="",n=0;n<4;n++)t+=$b[e>>8*n+4&15]+$b[e>>8*n&15];return t}function xB(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function P2(e){return V6(e).map(xB).join("")}var yB=function(e){for(var t=0;t<e.length;t++)e[t]=gB(e[t]);return e.join("")}(V6("hello"))!="5d41402abc4b2a76b9719d911017c592";function cl(e,t){if(yB){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function O2(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),u=[],h=0;h<256;h++)u[h]=h;var p=0;for(h=0;h<256;h++){var x=u[h];p=(p+x+o.charCodeAt(h))%256,u[h]=u[p],u[p]=x}n=e,r=u}else u=r;var y=t.length,N=0,b=0,j="";for(h=0;h<y;h++)b=(b+(x=u[N=(N+1)%256]))%256,u[N]=u[b],u[b]=x,o=u[(u[N]+u[b])%256],j+=String.fromCharCode(t.charCodeAt(h)^o);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Gb={print:4,modify:8,copy:16,"annot-forms":32};function cu(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(u){if(Gb.perm!==void 0)throw new Error("Invalid permission: "+u);i+=Gb[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=P2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=O2(this.encryptionKey,this.padding)}function uu(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function Yb(e){if(Tn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(u){Ut.console&&Dn.error("jsPDF PubSub Error",u.message,u)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function v1(e){if(!(this instanceof v1))return new v1(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function z6(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function gc(e,t,n,r,i){if(!(this instanceof gc))return new gc(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,z6.call(this,r,i)}function Tu(e,t,n,r,i){if(!(this instanceof Tu))return new Tu(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,z6.call(this,r,i)}function Rt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],u=1,h=16,p="S",x=null;Tn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(x=e.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(h=e.floatPrecision),p=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var y=e.putOnlyUsedFonts||!1,N={},b={internal:{},__private__:{}};b.__private__.PubSub=Yb;var j="1.3",T=b.__private__.getPdfVersion=function(){return j};b.__private__.setPdfVersion=function(_){j=_};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return P};var E=b.__private__.getPageFormat=function(_){return P[_]};i=i||"a4";var C={COMPAT:"compat",ADVANCED:"advanced"},k=C.COMPAT;function M(){this.saveGraphicsState(),pe(new _t(dt,0,0,-dt,0,Ci()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),p="n",k=C.ADVANCED}function B(){this.restoreGraphicsState(),p="S",k=C.COMPAT}var ne=b.__private__.combineFontStyleAndFontWeight=function(_,q){if(_=="bold"&&q=="normal"||_=="bold"&&q==400||_=="normal"&&q=="italic"||_=="bold"&&q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return q&&(_=q==400||q==="normal"?_==="italic"?"italic":"normal":q!=700&&q!=="bold"||_!=="normal"?(q==700?"bold":q)+""+_:"bold"),_};b.advancedAPI=function(_){var q=k===C.COMPAT;return q&&M.call(this),typeof _!="function"||(_(this),q&&B.call(this)),this},b.compatAPI=function(_){var q=k===C.ADVANCED;return q&&B.call(this),typeof _!="function"||(_(this),q&&M.call(this)),this},b.isAdvancedAPI=function(){return k===C.ADVANCED};var F,X=function(_){if(k!==C.ADVANCED)throw new Error(_+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},J=b.roundToPrecision=b.__private__.roundToPrecision=function(_,q){var le=t||q;if(isNaN(_)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return _.toFixed(le).replace(/0+$/,"")};F=b.hpf=b.__private__.hpf=typeof h=="number"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return J(_,h)}:h==="smart"?function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return J(_,_>-1&&_<1?16:5)}:function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.hpf");return J(_,16)};var ve=b.f2=b.__private__.f2=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f2");return J(_,2)},W=b.__private__.f3=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.f3");return J(_,3)},z=b.scale=b.__private__.scale=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.scale");return k===C.COMPAT?_*dt:k===C.ADVANCED?_:void 0},re=function(_){return k===C.COMPAT?Ci()-_:k===C.ADVANCED?_:void 0},ae=function(_){return z(re(_))};b.__private__.setPrecision=b.setPrecision=function(_){typeof parseInt(_,10)=="number"&&(t=parseInt(_,10))};var te,Se="00000000000000000000000000000000",Ae=b.__private__.getFileId=function(){return Se},ge=b.__private__.setFileId=function(_){return Se=_!==void 0&&/^[a-fA-F0-9]{32}$/.test(_)?_.toUpperCase():Se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x!==null&&(Cr=new cu(x.userPermissions,x.userPassword,x.ownerPassword,Se)),Se};b.setFileId=function(_){return ge(_),this},b.getFileId=function(){return Ae()};var ie=b.__private__.convertDateToPDFDate=function(_){var q=_.getTimezoneOffset(),le=q<0?"+":"-",be=Math.floor(Math.abs(q/60)),Pe=Math.abs(q%60),Ke=[le,ee(be),"'",ee(Pe),"'"].join("");return["D:",_.getFullYear(),ee(_.getMonth()+1),ee(_.getDate()),ee(_.getHours()),ee(_.getMinutes()),ee(_.getSeconds()),Ke].join("")},xe=b.__private__.convertPDFDateToDate=function(_){var q=parseInt(_.substr(2,4),10),le=parseInt(_.substr(6,2),10)-1,be=parseInt(_.substr(8,2),10),Pe=parseInt(_.substr(10,2),10),Ke=parseInt(_.substr(12,2),10),nt=parseInt(_.substr(14,2),10);return new Date(q,le,be,Pe,Ke,nt,0)},Ee=b.__private__.setCreationDate=function(_){var q;if(_===void 0&&(_=new Date),_ instanceof Date)q=ie(_);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(_))throw new Error("Invalid argument passed to jsPDF.setCreationDate");q=_}return te=q},R=b.__private__.getCreationDate=function(_){var q=te;return _==="jsDate"&&(q=xe(te)),q};b.setCreationDate=function(_){return Ee(_),this},b.getCreationDate=function(_){return R(_)};var K,ee=b.__private__.padd2=function(_){return("0"+parseInt(_)).slice(-2)},me=b.__private__.padd2Hex=function(_){return("00"+(_=_.toString())).substr(_.length)},he=0,ke=[],je=[],Oe=0,He=[],ze=[],it=!1,$e=je,vt=function(){he=0,Oe=0,je=[],ke=[],He=[],bi=jn(),Fi=jn()};b.__private__.setCustomOutputDestination=function(_){it=!0,$e=_};var Ve=function(_){it||($e=_)};b.__private__.resetCustomOutputDestination=function(){it=!1,$e=je};var pe=b.__private__.out=function(_){return _=_.toString(),Oe+=_.length+1,$e.push(_),$e},bt=b.__private__.write=function(_){return pe(arguments.length===1?_.toString():Array.prototype.join.call(arguments," "))},ct=b.__private__.getArrayBuffer=function(_){for(var q=_.length,le=new ArrayBuffer(q),be=new Uint8Array(le);q--;)be[q]=_.charCodeAt(q);return le},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return Ge};var se=e.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(_){return se=k===C.ADVANCED?_/dt:_,this};var ce,we=b.__private__.getFontSize=b.getFontSize=function(){return k===C.COMPAT?se:se*dt},qe=e.R2L||!1;b.__private__.setR2L=b.setR2L=function(_){return qe=_,this},b.__private__.getR2L=b.getR2L=function(){return qe};var Be,We=b.__private__.setZoomMode=function(_){var q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(_))ce=_;else if(isNaN(_)){if(q.indexOf(_)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+_+'" is not recognized.');ce=_}else ce=parseInt(_,10)};b.__private__.getZoomMode=function(){return ce};var Je,yt=b.__private__.setPageMode=function(_){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(_)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+_+'" is not recognized.');Be=_};b.__private__.getPageMode=function(){return Be};var xt=b.__private__.setLayoutMode=function(_){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(_)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+_+'" is not recognized.');Je=_};b.__private__.getLayoutMode=function(){return Je},b.__private__.setDisplayMode=b.setDisplayMode=function(_,q,le){return We(_),xt(q),yt(le),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(_){if(Object.keys(ht).indexOf(_)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[_]},b.__private__.getDocumentProperties=function(){return ht},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(_){for(var q in ht)ht.hasOwnProperty(q)&&_[q]&&(ht[q]=_[q]);return this},b.__private__.setDocumentProperty=function(_,q){if(Object.keys(ht).indexOf(_)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[_]=q};var Mt,dt,kn,Et,lt,Bt={},Pt={},un=[],nn={},Js={},qn={},Xt={},ui=null,Wn=0,zt=[],Zt=new Yb(b),ea=e.hotfixes||[],pn={},di={},Bi=[],_t=function _(q,le,be,Pe,Ke,nt){if(!(this instanceof _))return new _(q,le,be,Pe,Ke,nt);isNaN(q)&&(q=1),isNaN(le)&&(le=0),isNaN(be)&&(be=0),isNaN(Pe)&&(Pe=1),isNaN(Ke)&&(Ke=0),isNaN(nt)&&(nt=0),this._matrix=[q,le,be,Pe,Ke,nt]};Object.defineProperty(_t.prototype,"sx",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(_t.prototype,"shy",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(_t.prototype,"shx",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(_t.prototype,"sy",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(_t.prototype,"tx",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(_t.prototype,"ty",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(_t.prototype,"a",{get:function(){return this._matrix[0]},set:function(_){this._matrix[0]=_}}),Object.defineProperty(_t.prototype,"b",{get:function(){return this._matrix[1]},set:function(_){this._matrix[1]=_}}),Object.defineProperty(_t.prototype,"c",{get:function(){return this._matrix[2]},set:function(_){this._matrix[2]=_}}),Object.defineProperty(_t.prototype,"d",{get:function(){return this._matrix[3]},set:function(_){this._matrix[3]=_}}),Object.defineProperty(_t.prototype,"e",{get:function(){return this._matrix[4]},set:function(_){this._matrix[4]=_}}),Object.defineProperty(_t.prototype,"f",{get:function(){return this._matrix[5]},set:function(_){this._matrix[5]=_}}),Object.defineProperty(_t.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(_t.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(_t.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(_t.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),_t.prototype.join=function(_){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(F).join(_)},_t.prototype.multiply=function(_){var q=_.sx*this.sx+_.shy*this.shx,le=_.sx*this.shy+_.shy*this.sy,be=_.shx*this.sx+_.sy*this.shx,Pe=_.shx*this.shy+_.sy*this.sy,Ke=_.tx*this.sx+_.ty*this.shx+this.tx,nt=_.tx*this.shy+_.ty*this.sy+this.ty;return new _t(q,le,be,Pe,Ke,nt)},_t.prototype.decompose=function(){var _=this.sx,q=this.shy,le=this.shx,be=this.sy,Pe=this.tx,Ke=this.ty,nt=Math.sqrt(_*_+q*q),mt=(_/=nt)*le+(q/=nt)*be;le-=_*mt,be-=q*mt;var jt=Math.sqrt(le*le+be*be);return mt/=jt,_*(be/=jt)<q*(le/=jt)&&(_=-_,q=-q,mt=-mt,nt=-nt),{scale:new _t(nt,0,0,jt,0,0),translate:new _t(1,0,0,1,Pe,Ke),rotate:new _t(_,q,-q,_,0,0),skew:new _t(1,0,mt,1,0,0)}},_t.prototype.toString=function(_){return this.join(" ")},_t.prototype.inversed=function(){var _=this.sx,q=this.shy,le=this.shx,be=this.sy,Pe=this.tx,Ke=this.ty,nt=1/(_*be-q*le),mt=be*nt,jt=-q*nt,Ht=-le*nt,qt=_*nt;return new _t(mt,jt,Ht,qt,-mt*Pe-Ht*Ke,-jt*Pe-qt*Ke)},_t.prototype.applyToPoint=function(_){var q=_.x*this.sx+_.y*this.shx+this.tx,le=_.x*this.shy+_.y*this.sy+this.ty;return new Po(q,le)},_t.prototype.applyToRectangle=function(_){var q=this.applyToPoint(_),le=this.applyToPoint(new Po(_.x+_.w,_.y+_.h));return new tc(q.x,q.y,le.x-q.x,le.y-q.y)},_t.prototype.clone=function(){var _=this.sx,q=this.shy,le=this.shx,be=this.sy,Pe=this.tx,Ke=this.ty;return new _t(_,q,le,be,Pe,Ke)},b.Matrix=_t;var hs=b.matrixMult=function(_,q){return q.multiply(_)},ei=new _t(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=ei;var ti=function(_,q){if(!Js[_]){var le=(q instanceof gc?"Sh":"P")+(Object.keys(nn).length+1).toString(10);q.id=le,Js[_]=le,nn[le]=q,Zt.publish("addPattern",q)}};b.ShadingPattern=gc,b.TilingPattern=Tu,b.addShadingPattern=function(_,q){return X("addShadingPattern()"),ti(_,q),this},b.beginTilingPattern=function(_){X("beginTilingPattern()"),Oo(_.boundingBox[0],_.boundingBox[1],_.boundingBox[2]-_.boundingBox[0],_.boundingBox[3]-_.boundingBox[1],_.matrix)},b.endTilingPattern=function(_,q){X("endTilingPattern()"),q.stream=ze[K].join(`
`),ti(_,q),Zt.publish("endTilingPattern",q),Bi.pop().restore()};var mn=b.__private__.newObject=function(){var _=jn();return Mn(_,!0),_},jn=b.__private__.newObjectDeferred=function(){return he++,ke[he]=function(){return Oe},he},Mn=function(_,q){return q=typeof q=="boolean"&&q,ke[_]=Oe,q&&pe(_+" 0 obj"),_},gt=b.__private__.newAdditionalObject=function(){var _={objId:jn(),content:""};return He.push(_),_},bi=jn(),Fi=jn(),Rn=b.__private__.decodeColorString=function(_){var q=_.split(" ");if(q.length!==2||q[1]!=="g"&&q[1]!=="G")q.length===5&&(q[4]==="k"||q[4]==="K")&&(q=[(1-q[0])*(1-q[3]),(1-q[1])*(1-q[3]),(1-q[2])*(1-q[3]),"r"]);else{var le=parseFloat(q[0]);q=[le,le,le,"r"]}for(var be="#",Pe=0;Pe<3;Pe++)be+=("0"+Math.floor(255*parseFloat(q[Pe])).toString(16)).slice(-2);return be},ni=b.__private__.encodeColorString=function(_){var q;typeof _=="string"&&(_={ch1:_});var le=_.ch1,be=_.ch2,Pe=_.ch3,Ke=_.ch4,nt=_.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var mt=new U6(le);if(mt.ok)le=mt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var jt=parseInt(le.substr(1),16);le=jt>>16&255,be=jt>>8&255,Pe=255&jt}if(be===void 0||Ke===void 0&&le===be&&be===Pe)if(typeof le=="string")q=le+" "+nt[0];else switch(_.precision){case 2:q=ve(le/255)+" "+nt[0];break;case 3:default:q=W(le/255)+" "+nt[0]}else if(Ke===void 0||Tn(Ke)==="object"){if(Ke&&!isNaN(Ke.a)&&Ke.a===0)return q=["1.","1.","1.",nt[1]].join(" ");if(typeof le=="string")q=[le,be,Pe,nt[1]].join(" ");else switch(_.precision){case 2:q=[ve(le/255),ve(be/255),ve(Pe/255),nt[1]].join(" ");break;default:case 3:q=[W(le/255),W(be/255),W(Pe/255),nt[1]].join(" ")}}else if(typeof le=="string")q=[le,be,Pe,Ke,nt[2]].join(" ");else switch(_.precision){case 2:q=[ve(le),ve(be),ve(Pe),ve(Ke),nt[2]].join(" ");break;case 3:default:q=[W(le),W(be),W(Pe),W(Ke),nt[2]].join(" ")}return q},Ui=b.__private__.getFilters=function(){return o},hi=b.__private__.putStream=function(_){var q=(_=_||{}).data||"",le=_.filters||Ui(),be=_.alreadyAppliedFilters||[],Pe=_.addLength1||!1,Ke=q.length,nt=_.objectId,mt=function(ri){return ri};if(x!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&(mt=Cr.encryptor(nt,0));var jt={};le===!0&&(le=["FlateEncode"]);var Ht=_.additionalKeyValues||[],qt=(jt=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(q,le):{data:q,reverseChain:[]}).reverseChain+(Array.isArray(be)?be.join(" "):be.toString());if(jt.data.length!==0&&(Ht.push({key:"Length",value:jt.data.length}),Pe===!0&&Ht.push({key:"Length1",value:Ke})),qt.length!=0)if(qt.split("/").length-1==1)Ht.push({key:"Filter",value:qt});else{Ht.push({key:"Filter",value:"["+qt+"]"});for(var an=0;an<Ht.length;an+=1)if(Ht[an].key==="DecodeParms"){for(var Yn=[],Sn=0;Sn<jt.reverseChain.split("/").length-1;Sn+=1)Yn.push("null");Yn.push(Ht[an].value),Ht[an].value="["+Yn.join(" ")+"]"}}pe("<<");for(var tr=0;tr<Ht.length;tr++)pe("/"+Ht[tr].key+" "+Ht[tr].value);pe(">>"),jt.data.length!==0&&(pe("stream"),pe(mt(jt.data)),pe("endstream"))},Nr=b.__private__.putPage=function(_){var q=_.number,le=_.data,be=_.objId,Pe=_.contentsObjId;Mn(be,!0),pe("<</Type /Page"),pe("/Parent "+_.rootDictionaryObjId+" 0 R"),pe("/Resources "+_.resourceDictionaryObjId+" 0 R"),pe("/MediaBox ["+parseFloat(F(_.mediaBox.bottomLeftX))+" "+parseFloat(F(_.mediaBox.bottomLeftY))+" "+F(_.mediaBox.topRightX)+" "+F(_.mediaBox.topRightY)+"]"),_.cropBox!==null&&pe("/CropBox ["+F(_.cropBox.bottomLeftX)+" "+F(_.cropBox.bottomLeftY)+" "+F(_.cropBox.topRightX)+" "+F(_.cropBox.topRightY)+"]"),_.bleedBox!==null&&pe("/BleedBox ["+F(_.bleedBox.bottomLeftX)+" "+F(_.bleedBox.bottomLeftY)+" "+F(_.bleedBox.topRightX)+" "+F(_.bleedBox.topRightY)+"]"),_.trimBox!==null&&pe("/TrimBox ["+F(_.trimBox.bottomLeftX)+" "+F(_.trimBox.bottomLeftY)+" "+F(_.trimBox.topRightX)+" "+F(_.trimBox.topRightY)+"]"),_.artBox!==null&&pe("/ArtBox ["+F(_.artBox.bottomLeftX)+" "+F(_.artBox.bottomLeftY)+" "+F(_.artBox.topRightX)+" "+F(_.artBox.topRightY)+"]"),typeof _.userUnit=="number"&&_.userUnit!==1&&pe("/UserUnit "+_.userUnit),Zt.publish("putPage",{objId:be,pageContext:zt[q],pageNumber:q,page:le}),pe("/Contents "+Pe+" 0 R"),pe(">>"),pe("endobj");var Ke=le.join(`
`);return k===C.ADVANCED&&(Ke+=`
Q`),Mn(Pe,!0),hi({data:Ke,filters:Ui(),objectId:Pe}),pe("endobj"),be},Ya=b.__private__.putPages=function(){var _,q,le=[];for(_=1;_<=Wn;_++)zt[_].objId=jn(),zt[_].contentsObjId=jn();for(_=1;_<=Wn;_++)le.push(Nr({number:_,data:ze[_],objId:zt[_].objId,contentsObjId:zt[_].contentsObjId,mediaBox:zt[_].mediaBox,cropBox:zt[_].cropBox,bleedBox:zt[_].bleedBox,trimBox:zt[_].trimBox,artBox:zt[_].artBox,userUnit:zt[_].userUnit,rootDictionaryObjId:bi,resourceDictionaryObjId:Fi}));Mn(bi,!0),pe("<</Type /Pages");var be="/Kids [";for(q=0;q<Wn;q++)be+=le[q]+" 0 R ";pe(be+"]"),pe("/Count "+Wn),pe(">>"),pe("endobj"),Zt.publish("postPutPages")},To=function(_){Zt.publish("putFont",{font:_,out:pe,newObject:mn,putStream:hi}),_.isAlreadyPutted!==!0&&(_.objectNumber=mn(),pe("<<"),pe("/Type /Font"),pe("/BaseFont /"+uu(_.postScriptName)),pe("/Subtype /Type1"),typeof _.encoding=="string"&&pe("/Encoding /"+_.encoding),pe("/FirstChar 32"),pe("/LastChar 255"),pe(">>"),pe("endobj"))},fi=function(){for(var _ in Bt)Bt.hasOwnProperty(_)&&(y===!1||y===!0&&N.hasOwnProperty(_))&&To(Bt[_])},mr=function(_){_.objectNumber=mn();var q=[];q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Form"}),q.push({key:"BBox",value:"["+[F(_.x),F(_.y),F(_.x+_.width),F(_.y+_.height)].join(" ")+"]"}),q.push({key:"Matrix",value:"["+_.matrix.toString()+"]"});var le=_.pages[1].join(`
`);hi({data:le,additionalKeyValues:q,objectId:_.objectNumber}),pe("endobj")},bn=function(){for(var _ in pn)pn.hasOwnProperty(_)&&mr(pn[_])},Vl=function(_,q){var le,be=[],Pe=1/(q-1);for(le=0;le<1;le+=Pe)be.push(le);if(be.push(1),_[0].offset!=0){var Ke={offset:0,color:_[0].color};_.unshift(Ke)}if(_[_.length-1].offset!=1){var nt={offset:1,color:_[_.length-1].color};_.push(nt)}for(var mt="",jt=0,Ht=0;Ht<be.length;Ht++){for(le=be[Ht];le>_[jt+1].offset;)jt++;var qt=_[jt].offset,an=(le-qt)/(_[jt+1].offset-qt),Yn=_[jt].color,Sn=_[jt+1].color;mt+=me(Math.round((1-an)*Yn[0]+an*Sn[0]).toString(16))+me(Math.round((1-an)*Yn[1]+an*Sn[1]).toString(16))+me(Math.round((1-an)*Yn[2]+an*Sn[2]).toString(16))}return mt.trim()},Ps=function(_,q){q||(q=21);var le=mn(),be=Vl(_.colors,q),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+q+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),hi({data:be,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),pe("endobj"),_.objectNumber=mn(),pe("<< /ShadingType "+_.type),pe("/ColorSpace /DeviceRGB");var Ke="/Coords ["+F(parseFloat(_.coords[0]))+" "+F(parseFloat(_.coords[1]))+" ";_.type===2?Ke+=F(parseFloat(_.coords[2]))+" "+F(parseFloat(_.coords[3])):Ke+=F(parseFloat(_.coords[2]))+" "+F(parseFloat(_.coords[3]))+" "+F(parseFloat(_.coords[4]))+" "+F(parseFloat(_.coords[5])),pe(Ke+="]"),_.matrix&&pe("/Matrix ["+_.matrix.toString()+"]"),pe("/Function "+le+" 0 R"),pe("/Extend [true true]"),pe(">>"),pe("endobj")},zl=function(_,q){var le=jn(),be=mn();q.push({resourcesOid:le,objectOid:be}),_.objectNumber=be;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+_.boundingBox.map(F).join(" ")+"]"}),Pe.push({key:"XStep",value:F(_.xStep)}),Pe.push({key:"YStep",value:F(_.yStep)}),Pe.push({key:"Resources",value:le+" 0 R"}),_.matrix&&Pe.push({key:"Matrix",value:"["+_.matrix.toString()+"]"}),hi({data:_.stream,additionalKeyValues:Pe,objectId:_.objectNumber}),pe("endobj")},et=function(_){var q;for(q in nn)nn.hasOwnProperty(q)&&(nn[q]instanceof gc?Ps(nn[q]):nn[q]instanceof Tu&&zl(nn[q],_))},zc=function(_){for(var q in _.objectNumber=mn(),pe("<<"),_)switch(q){case"opacity":pe("/ca "+ve(_[q]));break;case"stroke-opacity":pe("/CA "+ve(_[q]))}pe(">>"),pe("endobj")},Bn=function(){var _;for(_ in qn)qn.hasOwnProperty(_)&&zc(qn[_])},Os=function(){for(var _ in pe("/XObject <<"),pn)pn.hasOwnProperty(_)&&pn[_].objectNumber>=0&&pe("/"+_+" "+pn[_].objectNumber+" 0 R");Zt.publish("putXobjectDict"),pe(">>")},dd=function(){Cr.oid=mn(),pe("<<"),pe("/Filter /Standard"),pe("/V "+Cr.v),pe("/R "+Cr.r),pe("/U <"+Cr.toHexString(Cr.U)+">"),pe("/O <"+Cr.toHexString(Cr.O)+">"),pe("/P "+Cr.P),pe(">>"),pe("endobj")},dn=function(){for(var _ in pe("/Font <<"),Bt)Bt.hasOwnProperty(_)&&(y===!1||y===!0&&N.hasOwnProperty(_))&&pe("/"+_+" "+Bt[_].objectNumber+" 0 R");pe(">>")},hn=function(){if(Object.keys(nn).length>0){for(var _ in pe("/Shading <<"),nn)nn.hasOwnProperty(_)&&nn[_]instanceof gc&&nn[_].objectNumber>=0&&pe("/"+_+" "+nn[_].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),pe(">>")}},Qt=function(_){if(Object.keys(nn).length>0){for(var q in pe("/Pattern <<"),nn)nn.hasOwnProperty(q)&&nn[q]instanceof b.TilingPattern&&nn[q].objectNumber>=0&&nn[q].objectNumber<_&&pe("/"+q+" "+nn[q].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),pe(">>")}},Hl=function(){if(Object.keys(qn).length>0){var _;for(_ in pe("/ExtGState <<"),qn)qn.hasOwnProperty(_)&&qn[_].objectNumber>=0&&pe("/"+_+" "+qn[_].objectNumber+" 0 R");Zt.publish("putGStateDict"),pe(">>")}},$n=function(_){Mn(_.resourcesOid,!0),pe("<<"),pe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),dn(),hn(),Qt(_.objectOid),Hl(),Os(),pe(">>"),pe("endobj")},Io=function(){var _=[];fi(),Bn(),bn(),et(_),Zt.publish("putResources"),_.forEach($n),$n({resourcesOid:Fi,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources")},Jn=function(){Zt.publish("putAdditionalObjects");for(var _=0;_<He.length;_++){var q=He[_];Mn(q.objId,!0),pe(q.content),pe("endobj")}Zt.publish("postPutAdditionalObjects")},fs=function(_){Pt[_.fontName]=Pt[_.fontName]||{},Pt[_.fontName][_.fontStyle]=_.id},ql=function(_,q,le,be,Pe){var Ke={id:"F"+(Object.keys(Bt).length+1).toString(10),postScriptName:_,fontName:q,fontStyle:le,encoding:be,isStandardFont:Pe||!1,metadata:{}};return Zt.publish("addFont",{font:Ke,instance:this}),Bt[Ke.id]=Ke,fs(Ke),Ke.id},Gn=function(_){for(var q=0,le=Ge.length;q<le;q++){var be=ql.call(this,_[q][0],_[q][1],_[q][2],Ge[q][3],!0);y===!1&&(N[be]=!0);var Pe=_[q][0].split("-");fs({id:be,fontName:Pe[0],fontStyle:Pe[1]||""})}Zt.publish("addFonts",{fonts:Bt,dictionary:Pt})},Rr=function(_){return _.foo=function(){try{return _.apply(this,arguments)}catch(be){var q=be.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var le="Error in function "+q.split(`
`)[0].split("<")[0]+": "+be.message;if(!Ut.console)throw new Error(le);Ut.console.error(le,be),Ut.alert&&alert(le)}},_.foo.bar=_,_.foo},ko=function(_,q){var le,be,Pe,Ke,nt,mt,jt,Ht,qt;if(Pe=(q=q||{}).sourceEncoding||"Unicode",nt=q.outputEncoding,(q.autoencode||nt)&&Bt[Mt].metadata&&Bt[Mt].metadata[Pe]&&Bt[Mt].metadata[Pe].encoding&&(Ke=Bt[Mt].metadata[Pe].encoding,!nt&&Bt[Mt].encoding&&(nt=Bt[Mt].encoding),!nt&&Ke.codePages&&(nt=Ke.codePages[0]),typeof nt=="string"&&(nt=Ke[nt]),nt)){for(jt=!1,mt=[],le=0,be=_.length;le<be;le++)(Ht=nt[_.charCodeAt(le)])?mt.push(String.fromCharCode(Ht)):mt.push(_[le]),mt[le].charCodeAt(0)>>8&&(jt=!0);_=mt.join("")}for(le=_.length;jt===void 0&&le!==0;)_.charCodeAt(le-1)>>8&&(jt=!0),le--;if(!jt)return _;for(mt=q.noBOM?[]:[254,255],le=0,be=_.length;le<be;le++){if((qt=(Ht=_.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+_+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(qt),mt.push(Ht-(qt<<8))}return String.fromCharCode.apply(void 0,mt)},Ar=b.__private__.pdfEscape=b.pdfEscape=function(_,q){return ko(_,q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},wn=b.__private__.beginPage=function(_){ze[++Wn]=[],zt[Wn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(_[0]),topRightY:Number(_[1])}},oe(Wn),Ve(ze[K])},Sr=function(_,q){var le,be,Pe;switch(n=q||n,typeof _=="string"&&(le=E(_.toLowerCase()),Array.isArray(le)&&(be=le[0],Pe=le[1])),Array.isArray(_)&&(be=_[0]*dt,Pe=_[1]*dt),isNaN(be)&&(be=i[0],Pe=i[1]),(be>14400||Pe>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Pe=Math.min(14400,Pe)),i=[be,Pe],n.substr(0,1)){case"l":Pe>be&&(i=[Pe,be]);break;case"p":be>Pe&&(i=[Pe,be])}wn(i),qr(na),pe(Qi),or!==0&&pe(or+" J"),_a!==0&&pe(_a+" j"),Zt.publish("addPage",{pageNumber:Wn})},De=function(_){_>0&&_<=Wn&&(ze.splice(_,1),zt.splice(_,1),Wn--,K>Wn&&(K=Wn),this.setPage(K))},oe=function(_){_>0&&_<=Wn&&(K=_)},It=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return ze.length-1},ar=function(_,q,le){var be,Pe=void 0;return le=le||{},_=_!==void 0?_:Bt[Mt].fontName,q=q!==void 0?q:Bt[Mt].fontStyle,be=_.toLowerCase(),Pt[be]!==void 0&&Pt[be][q]!==void 0?Pe=Pt[be][q]:Pt[_]!==void 0&&Pt[_][q]!==void 0?Pe=Pt[_][q]:le.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+_+"', '"+q+"'. Refer to getFontList() for available fonts."),Pe||le.noFallback||(Pe=Pt.times[q])==null&&(Pe=Pt.times.normal),Pe},Ni=b.__private__.putInfo=function(){var _=mn(),q=function(be){return be};for(var le in x!==null&&(q=Cr.encryptor(_,0)),pe("<<"),pe("/Producer ("+Ar(q("jsPDF "+Rt.version))+")"),ht)ht.hasOwnProperty(le)&&ht[le]&&pe("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Ar(q(ht[le]))+")");pe("/CreationDate ("+Ar(q(te))+")"),pe(">>"),pe("endobj")},Wl=b.__private__.putCatalog=function(_){var q=(_=_||{}).rootDictionaryObjId||bi;switch(mn(),pe("<<"),pe("/Type /Catalog"),pe("/Pages "+q+" 0 R"),ce||(ce="fullwidth"),ce){case"fullwidth":pe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":pe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":pe("/OpenAction [3 0 R /Fit]");break;case"original":pe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+ce;le.substr(le.length-1)==="%"&&(ce=parseInt(ce)/100),typeof ce=="number"&&pe("/OpenAction [3 0 R /XYZ null null "+ve(ce)+"]")}switch(Je||(Je="continuous"),Je){case"continuous":pe("/PageLayout /OneColumn");break;case"single":pe("/PageLayout /SinglePage");break;case"two":case"twoleft":pe("/PageLayout /TwoColumnLeft");break;case"tworight":pe("/PageLayout /TwoColumnRight")}Be&&pe("/PageMode /"+Be),Zt.publish("putCatalog"),pe(">>"),pe("endobj")},$l=b.__private__.putTrailer=function(){pe("trailer"),pe("<<"),pe("/Size "+(he+1)),pe("/Root "+he+" 0 R"),pe("/Info "+(he-1)+" 0 R"),x!==null&&pe("/Encrypt "+Cr.oid+" 0 R"),pe("/ID [ <"+Se+"> <"+Se+"> ]"),pe(">>")},Ai=b.__private__.putHeader=function(){pe("%PDF-"+j),pe("%ºß¬à")},Lt=b.__private__.putXRef=function(){var _="0000000000";pe("xref"),pe("0 "+(he+1)),pe("0000000000 65535 f ");for(var q=1;q<=he;q++)typeof ke[q]=="function"?pe((_+ke[q]()).slice(-10)+" 00000 n "):ke[q]!==void 0?pe((_+ke[q]).slice(-10)+" 00000 n "):pe("0000000000 00000 n ")},gn=b.__private__.buildDocument=function(){vt(),Ve(je),Zt.publish("buildDocument"),Ai(),Ya(),Jn(),Io(),x!==null&&dd(),Ni(),Wl();var _=Oe;return Lt(),$l(),pe("startxref"),pe(""+_),pe("%%EOF"),Ve(ze[K]),je.join(`
`)},Xa=b.__private__.getBlob=function(_){return new Blob([ct(_)],{type:"application/pdf"})},jo=b.output=b.__private__.output=Rr(function(_,q){switch(typeof(q=q||{})=="string"?q={filename:q}:q.filename=q.filename||"generated.pdf",_){case void 0:return gn();case"save":b.save(q.filename);break;case"arraybuffer":return ct(gn());case"blob":return Xa(gn());case"bloburi":case"bloburl":if(Ut.URL!==void 0&&typeof Ut.URL.createObjectURL=="function")return Ut.URL&&Ut.URL.createObjectURL(Xa(gn()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",be=gn();try{le=L2(be)}catch{le=L2(unescape(encodeURIComponent(be)))}return"data:application/pdf;filename="+q.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ke=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';q.pdfObjectUrl&&(Pe=q.pdfObjectUrl,Ke="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Ke+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(q)+");<\/script></body></html>",mt=Ut.open();return mt!==null&&mt.document.write(nt),mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ut)==="[object Window]"){var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+q.filename+'" width="500px" height="400px" /></body></html>',Ht=Ut.open();if(Ht!==null){Ht.document.write(jt);var qt=this;Ht.document.documentElement.querySelector("#pdfViewer").onload=function(){Ht.document.title=q.filename,Ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(qt.output("bloburl"))}}return Ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ut)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var an='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",q)+'"></iframe></body></html>',Yn=Ut.open();if(Yn!==null&&(Yn.document.write(an),Yn.document.title=q.filename),Yn||typeof safari>"u")return Yn;break;case"datauri":case"dataurl":return Ut.document.location.href=this.output("datauristring",q);default:return null}}),Lo=function(_){return Array.isArray(ea)===!0&&ea.indexOf(_)>-1};switch(r){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=Lo("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);dt=r}var Cr=null;Ee(),ge();var Gl=function(_){return x!==null?Cr.encryptor(_,0):function(q){return q}},Hc=b.__private__.getPageInfo=b.getPageInfo=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:zt[_].objId,pageNumber:_,pageContext:zt[_]}},St=b.__private__.getPageInfoByObjId=function(_){if(isNaN(_)||_%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var q in zt)if(zt[q].objId===_)break;return Hc(q)},Ka=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:zt[K].objId,pageNumber:K,pageContext:zt[K]}};b.addPage=function(){return Sr.apply(this,arguments),this},b.setPage=function(){return oe.apply(this,arguments),Ve.call(this,ze[K]),this},b.insertPage=function(_){return this.addPage(),this.movePage(K,_),this},b.movePage=function(_,q){var le,be;if(_>q){le=ze[_],be=zt[_];for(var Pe=_;Pe>q;Pe--)ze[Pe]=ze[Pe-1],zt[Pe]=zt[Pe-1];ze[q]=le,zt[q]=be,this.setPage(q)}else if(_<q){le=ze[_],be=zt[_];for(var Ke=_;Ke<q;Ke++)ze[Ke]=ze[Ke+1],zt[Ke]=zt[Ke+1];ze[q]=le,zt[q]=be,this.setPage(q)}return this},b.deletePage=function(){return De.apply(this,arguments),this},b.__private__.text=b.text=function(_,q,le,be,Pe){var Ke,nt,mt,jt,Ht,qt,an,Yn,Sn,tr=(be=be||{}).scope||this;if(typeof _=="number"&&typeof q=="number"&&(typeof le=="string"||Array.isArray(le))){var ri=le;le=q,q=_,_=ri}if(arguments[3]instanceof _t?(X("The transform parameter of text() with a Matrix value"),Sn=Pe):(mt=arguments[4],jt=arguments[5],Tn(an=arguments[3])==="object"&&an!==null||(typeof mt=="string"&&(jt=mt,mt=null),typeof an=="string"&&(jt=an,an=null),typeof an=="number"&&(mt=an,an=null),be={flags:an,angle:mt,align:jt})),isNaN(q)||isNaN(le)||_==null)throw new Error("Invalid arguments passed to jsPDF.text");if(_.length===0)return tr;var nr="",ms=!1,gr=typeof be.lineHeightFactor=="number"?be.lineHeightFactor:Ca,Vi=tr.internal.scaleFactor;function pi(Fn){return Fn=Fn.split("	").join(Array(be.TabLen||9).join(" ")),Ar(Fn,an)}function Do(Fn){for(var Un,_r=Fn.concat(),Gr=[],eo=_r.length;eo--;)typeof(Un=_r.shift())=="string"?Gr.push(Un):Array.isArray(Fn)&&(Un.length===1||Un[1]===void 0&&Un[2]===void 0)?Gr.push(Un[0]):Gr.push([Un[0],Un[1],Un[2]]);return Gr}function Ei(Fn,Un){var _r;if(typeof Fn=="string")_r=Un(Fn)[0];else if(Array.isArray(Fn)){for(var Gr,eo,pd=Fn.concat(),$c=[],rf=pd.length;rf--;)typeof(Gr=pd.shift())=="string"?$c.push(Un(Gr)[0]):Array.isArray(Gr)&&typeof Gr[0]=="string"&&(eo=Un(Gr[0],Gr[1],Gr[2]),$c.push([eo[0],eo[1],eo[2]]));_r=$c}return _r}var Mo=!1,Qa=!0;if(typeof _=="string")Mo=!0;else if(Array.isArray(_)){var rc=_.concat();nt=[];for(var Ja,Ln=rc.length;Ln--;)(typeof(Ja=rc.shift())!="string"||Array.isArray(Ja)&&typeof Ja[0]!="string")&&(Qa=!1);Mo=Qa}if(Mo===!1)throw new Error('Type of text must be string or Array. "'+_+'" is not recognized.');typeof _=="string"&&(_=_.match(/[\r?\n]/)?_.split(/\r\n|\r|\n/g):[_]);var Ro=se/tr.internal.scaleFactor,ka=Ro*(gr-1);switch(be.baseline){case"bottom":le-=ka;break;case"top":le+=Ro-ka;break;case"hanging":le+=Ro-2*ka;break;case"middle":le+=Ro/2-ka}if((qt=be.maxWidth||0)>0&&(typeof _=="string"?_=tr.splitTextToSize(_,qt):Object.prototype.toString.call(_)==="[object Array]"&&(_=_.reduce(function(Fn,Un){return Fn.concat(tr.splitTextToSize(Un,qt))},[]))),Ke={text:_,x:q,y:le,options:be,mutex:{pdfEscape:Ar,activeFontKey:Mt,fonts:Bt,activeFontSize:se}},Zt.publish("preProcessText",Ke),_=Ke.text,mt=(be=Ke.options).angle,!(Sn instanceof _t)&&mt&&typeof mt=="number"){mt*=Math.PI/180,be.rotationDirection===0&&(mt=-mt),k===C.ADVANCED&&(mt=-mt);var Bs=Math.cos(mt),rn=Math.sin(mt);Sn=new _t(Bs,rn,-rn,Bs,0,0)}else mt&&mt instanceof _t&&(Sn=mt);k!==C.ADVANCED||Sn||(Sn=ei),(Ht=be.charSpace||Fe)!==void 0&&(nr+=F(z(Ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Yn=be.horizontalScale)!==void 0&&(nr+=F(100*Yn)+` Tz
`),be.lang;var Wr=-1,V=be.renderingMode!==void 0?be.renderingMode:be.stroke,a=tr.internal.getCurrentPageInfo().pageContext;switch(V){case 0:case!1:case"fill":Wr=0;break;case 1:case!0:case"stroke":Wr=1;break;case 2:case"fillThenStroke":Wr=2;break;case 3:case"invisible":Wr=3;break;case 4:case"fillAndAddForClipping":Wr=4;break;case 5:case"strokeAndAddPathForClipping":Wr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wr=6;break;case 7:case"addToPathForClipping":Wr=7}var l=a.usedRenderingMode!==void 0?a.usedRenderingMode:-1;Wr!==-1?nr+=Wr+` Tr
`:l!==-1&&(nr+=`0 Tr
`),Wr!==-1&&(a.usedRenderingMode=Wr),jt=be.align||"left";var c,f=se*gr,m=tr.internal.pageSize.getWidth(),g=Bt[Mt];Ht=be.charSpace||Fe,qt=be.maxWidth||0,an=Object.assign({autoencode:!0,noBOM:!0},be.flags);var w=[],S=function(Fn){return tr.getStringUnitWidth(Fn,{font:g,charSpace:Ht,fontSize:se,doKerning:!1})*se/Vi};if(Object.prototype.toString.call(_)==="[object Array]"){var I;nt=Do(_),jt!=="left"&&(c=nt.map(S));var D,U=0;if(jt==="right"){q-=c[0],_=[],Ln=nt.length;for(var G=0;G<Ln;G++)G===0?(D=Rs(q),I=ra(le)):(D=z(U-c[G]),I=-f),_.push([nt[G],D,I]),U=c[G]}else if(jt==="center"){q-=c[0]/2,_=[],Ln=nt.length;for(var ue=0;ue<Ln;ue++)ue===0?(D=Rs(q),I=ra(le)):(D=z((U-c[ue])/2),I=-f),_.push([nt[ue],D,I]),U=c[ue]}else if(jt==="left"){_=[],Ln=nt.length;for(var ye=0;ye<Ln;ye++)_.push(nt[ye])}else if(jt==="justify"&&g.encoding==="Identity-H"){_=[],Ln=nt.length,qt=qt!==0?qt:m;for(var Ne=0,Ie=0;Ie<Ln;Ie++)if(I=Ie===0?ra(le):-f,D=Ie===0?Rs(q):Ne,Ie<Ln-1){var Ue=z((qt-c[Ie])/(nt[Ie].split(" ").length-1)),rt=nt[Ie].split(" ");_.push([rt[0]+" ",D,I]),Ne=0;for(var ot=1;ot<rt.length;ot++){var st=(S(rt[ot-1]+" "+rt[ot])-S(rt[ot]))*Vi+Ue;ot==rt.length-1?_.push([rt[ot],st,0]):_.push([rt[ot]+" ",st,0]),Ne-=st}}else _.push([nt[Ie],D,I]);_.push(["",Ne,0])}else{if(jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(_=[],Ln=nt.length,qt=qt!==0?qt:m,Ie=0;Ie<Ln;Ie++)I=Ie===0?ra(le):-f,D=Ie===0?Rs(q):0,Ie<Ln-1?w.push(F(z((qt-c[Ie])/(nt[Ie].split(" ").length-1)))):w.push(0),_.push([nt[Ie],D,I])}}var tn=typeof be.R2L=="boolean"?be.R2L:qe;tn===!0&&(_=Ei(_,function(Fn,Un,_r){return[Fn.split("").reverse().join(""),Un,_r]})),Ke={text:_,x:q,y:le,options:be,mutex:{pdfEscape:Ar,activeFontKey:Mt,fonts:Bt,activeFontSize:se}},Zt.publish("postProcessText",Ke),_=Ke.text,ms=Ke.mutex.isHex||!1;var Vt=Bt[Mt].encoding;Vt!=="WinAnsiEncoding"&&Vt!=="StandardEncoding"||(_=Ei(_,function(Fn,Un,_r){return[pi(Fn),Un,_r]})),nt=Do(_),_=[];for(var xr,$r,cr,fn=0,rr=1,Er=Array.isArray(nt[0])?rr:fn,zi="",Fs=function(Fn,Un,_r){var Gr="";return _r instanceof _t?(_r=typeof be.angle=="number"?hs(_r,new _t(1,0,0,1,Fn,Un)):hs(new _t(1,0,0,1,Fn,Un),_r),k===C.ADVANCED&&(_r=hs(new _t(1,0,0,-1,0,0),_r)),Gr=_r.join(" ")+` Tm
`):Gr=F(Fn)+" "+F(Un)+` Td
`,Gr},Ji=0;Ji<nt.length;Ji++){switch(zi="",Er){case rr:cr=(ms?"<":"(")+nt[Ji][0]+(ms?">":")"),xr=parseFloat(nt[Ji][1]),$r=parseFloat(nt[Ji][2]);break;case fn:cr=(ms?"<":"(")+nt[Ji]+(ms?">":")"),xr=Rs(q),$r=ra(le)}w!==void 0&&w[Ji]!==void 0&&(zi=w[Ji]+` Tw
`),Ji===0?_.push(zi+Fs(xr,$r,Sn)+cr):Er===fn?_.push(zi+cr):Er===rr&&_.push(zi+Fs(xr,$r,Sn)+cr)}_=Er===fn?_.join(` Tj
T* `):_.join(` Tj
`),_+=` Tj
`;var es=`BT
/`;return es+=Mt+" "+se+` Tf
`,es+=F(se*gr)+` TL
`,es+=Si+`
`,es+=nr,es+=_,pe(es+="ET"),N[Mt]=!0,tr};var Ds=b.__private__.clip=b.clip=function(_){return pe(_==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Ds("evenodd")},b.__private__.discardPath=b.discardPath=function(){return pe("n"),this};var kt=b.__private__.isValidStyle=function(_){var q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(_)!==-1&&(q=!0),q};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(_){return kt(_)&&(p=_),this};var qc=b.__private__.getStyle=b.getStyle=function(_){var q=p;switch(_){case"D":case"S":q="S";break;case"F":q="f";break;case"FD":case"DF":q="B";break;case"f":case"f*":case"B":case"B*":q=_}return q},$t=b.close=function(){return pe("h"),this};b.stroke=function(){return pe("S"),this},b.fill=function(_){return er("f",_),this},b.fillEvenOdd=function(_){return er("f*",_),this},b.fillStroke=function(_){return er("B",_),this},b.fillStrokeEvenOdd=function(_){return er("B*",_),this};var er=function(_,q){Tn(q)==="object"?Wc(q,_):pe(_)},Yl=function(_){_===null||k===C.ADVANCED&&_===void 0||(_=qc(_),pe(_))};function Xl(_,q,le,be,Pe){var Ke=new Tu(q||this.boundingBox,le||this.xStep,be||this.yStep,this.gState,Pe||this.matrix);Ke.stream=this.stream;var nt=_+"$$"+this.cloneIndex+++"$$";return ti(nt,Ke),Ke}var Wc=function(_,q){var le=Js[_.key],be=nn[le];if(be instanceof gc)pe("q"),pe(ta(q)),be.gState&&b.setGState(be.gState),pe(_.matrix.toString()+" cm"),pe("/"+le+" sh"),pe("Q");else if(be instanceof Tu){var Pe=new _t(1,0,0,-1,0,Ci());_.matrix&&(Pe=Pe.multiply(_.matrix||ei),le=Xl.call(be,_.key,_.boundingBox,_.xStep,_.yStep,Pe).id),pe("q"),pe("/Pattern cs"),pe("/"+le+" scn"),be.gState&&b.setGState(be.gState),pe(q),pe("Q")}},ta=function(_){switch(_){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Kl=b.moveTo=function(_,q){return pe(F(z(_))+" "+F(ae(q))+" m"),this},ps=b.lineTo=function(_,q){return pe(F(z(_))+" "+F(ae(q))+" l"),this},Zi=b.curveTo=function(_,q,le,be,Pe,Ke){return pe([F(z(_)),F(ae(q)),F(z(le)),F(ae(be)),F(z(Pe)),F(ae(Ke)),"c"].join(" ")),this};b.__private__.line=b.line=function(_,q,le,be,Pe){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(be)||!kt(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return k===C.COMPAT?this.lines([[le-_,be-q]],_,q,[1,1],Pe||"S"):this.lines([[le-_,be-q]],_,q,[1,1]).stroke()},b.__private__.lines=b.lines=function(_,q,le,be,Pe,Ke){var nt,mt,jt,Ht,qt,an,Yn,Sn,tr,ri,nr,ms;if(typeof _=="number"&&(ms=le,le=q,q=_,_=ms),be=be||[1,1],Ke=Ke||!1,isNaN(q)||isNaN(le)||!Array.isArray(_)||!Array.isArray(be)||!kt(Pe)||typeof Ke!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Kl(q,le),nt=be[0],mt=be[1],Ht=_.length,ri=q,nr=le,jt=0;jt<Ht;jt++)(qt=_[jt]).length===2?(ri=qt[0]*nt+ri,nr=qt[1]*mt+nr,ps(ri,nr)):(an=qt[0]*nt+ri,Yn=qt[1]*mt+nr,Sn=qt[2]*nt+ri,tr=qt[3]*mt+nr,ri=qt[4]*nt+ri,nr=qt[5]*mt+nr,Zi(an,Yn,Sn,tr,ri,nr));return Ke&&$t(),Yl(Pe),this},b.path=function(_){for(var q=0;q<_.length;q++){var le=_[q],be=le.c;switch(le.op){case"m":Kl(be[0],be[1]);break;case"l":ps(be[0],be[1]);break;case"c":Zi.apply(this,be);break;case"h":$t()}}return this},b.__private__.rect=b.rect=function(_,q,le,be,Pe){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(be)||!kt(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return k===C.COMPAT&&(be=-be),pe([F(z(_)),F(ae(q)),F(z(le)),F(z(be)),"re"].join(" ")),Yl(Pe),this},b.__private__.triangle=b.triangle=function(_,q,le,be,Pe,Ke,nt){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(be)||isNaN(Pe)||isNaN(Ke)||!kt(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-_,be-q],[Pe-le,Ke-be],[_-Pe,q-Ke]],_,q,[1,1],nt,!0),this},b.__private__.roundedRect=b.roundedRect=function(_,q,le,be,Pe,Ke,nt){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(be)||isNaN(Pe)||isNaN(Ke)||!kt(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*le),Ke=Math.min(Ke,.5*be),this.lines([[le-2*Pe,0],[Pe*mt,0,Pe,Ke-Ke*mt,Pe,Ke],[0,be-2*Ke],[0,Ke*mt,-Pe*mt,Ke,-Pe,Ke],[2*Pe-le,0],[-Pe*mt,0,-Pe,-Ke*mt,-Pe,-Ke],[0,2*Ke-be],[0,-Ke*mt,Pe*mt,-Ke,Pe,-Ke]],_+Pe,q,[1,1],nt,!0),this},b.__private__.ellipse=b.ellipse=function(_,q,le,be,Pe){if(isNaN(_)||isNaN(q)||isNaN(le)||isNaN(be)||!kt(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ke=4/3*(Math.SQRT2-1)*le,nt=4/3*(Math.SQRT2-1)*be;return Kl(_+le,q),Zi(_+le,q-nt,_+Ke,q-be,_,q-be),Zi(_-Ke,q-be,_-le,q-nt,_-le,q),Zi(_-le,q+nt,_-Ke,q+be,_,q+be),Zi(_+Ke,q+be,_+le,q+nt,_+le,q),Yl(Pe),this},b.__private__.circle=b.circle=function(_,q,le,be){if(isNaN(_)||isNaN(q)||isNaN(le)||!kt(be))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(_,q,le,le,be)},b.setFont=function(_,q,le){return le&&(q=ne(q,le)),Mt=ar(_,q,{disableWarning:!1}),this};var Za=b.__private__.getFont=b.getFont=function(){return Bt[ar.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var _,q,le={};for(_ in Pt)if(Pt.hasOwnProperty(_))for(q in le[_]=[],Pt[_])Pt[_].hasOwnProperty(q)&&le[_].push(q);return le},b.addFont=function(_,q,le,be,Pe){var Ke=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ke.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Ke.indexOf(arguments[3])==-1&&(le=ne(le,be)),Pe=Pe||"Identity-H",ql.call(this,_,q,le,Pe)};var Ca,na=e.lineWidth||.200025,Ms=b.__private__.getLineWidth=b.getLineWidth=function(){return na},qr=b.__private__.setLineWidth=b.setLineWidth=function(_){return na=_,pe(F(z(_))+" w"),this};b.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(_,q){if(_=_||[],q=q||0,isNaN(q)||!Array.isArray(_))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return _=_.map(function(le){return F(z(le))}).join(" "),q=F(z(q)),pe("["+_+"] "+q+" d"),this};var Zl=b.__private__.getLineHeight=b.getLineHeight=function(){return se*Ca};b.__private__.getLineHeight=b.getLineHeight=function(){return se*Ca};var Ql=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(_){return typeof(_=_||1.15)=="number"&&(Ca=_),this},Jl=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return Ca};Ql(e.lineHeight);var Rs=b.__private__.getHorizontalCoordinate=function(_){return z(_)},ra=b.__private__.getVerticalCoordinate=function(_){return k===C.ADVANCED?_:zt[K].mediaBox.topRightY-zt[K].mediaBox.bottomLeftY-z(_)},hd=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(_){return F(Rs(_))},sn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(_){return F(ra(_))},Qi=e.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Rn(Qi)},b.__private__.setStrokeColor=b.setDrawColor=function(_,q,le,be){return Qi=ni({ch1:_,ch2:q,ch3:le,ch4:be,pdfColorType:"draw",precision:2}),pe(Qi),this};var Ea=e.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Rn(Ea)},b.__private__.setFillColor=b.setFillColor=function(_,q,le,be){return Ea=ni({ch1:_,ch2:q,ch3:le,ch4:be,pdfColorType:"fill",precision:2}),pe(Ea),this};var Si=e.textColor||"0 g",fd=b.__private__.getTextColor=b.getTextColor=function(){return Rn(Si)};b.__private__.setTextColor=b.setTextColor=function(_,q,le,be){return Si=ni({ch1:_,ch2:q,ch3:le,ch4:be,pdfColorType:"text",precision:3}),this};var Fe=e.charSpace,Kt=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Fe||0)};b.__private__.setCharSpace=b.setCharSpace=function(_){if(isNaN(_))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fe=_,this};var or=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(_){var q=b.CapJoinStyles[_];if(q===void 0)throw new Error("Line cap style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return or=q,pe(q+" J"),this};var _a=0;b.__private__.setLineJoin=b.setLineJoin=function(_){var q=b.CapJoinStyles[_];if(q===void 0)throw new Error("Line join style of '"+_+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return _a=q,pe(q+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(_){if(_=_||0,isNaN(_))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return pe(F(z(_))+" M"),this},b.GState=v1,b.setGState=function(_){(_=typeof _=="string"?qn[Xt[_]]:ec(null,_)).equals(ui)||(pe("/"+_.id+" gs"),ui=_)};var ec=function(_,q){if(!_||!Xt[_]){var le=!1;for(var be in qn)if(qn.hasOwnProperty(be)&&qn[be].equals(q)){le=!0;break}if(le)q=qn[be];else{var Pe="GS"+(Object.keys(qn).length+1).toString(10);qn[Pe]=q,q.id=Pe}return _&&(Xt[_]=q.id),Zt.publish("addGState",q),q}};b.addGState=function(_,q){return ec(_,q),this},b.saveGraphicsState=function(){return pe("q"),un.push({key:Mt,size:se,color:Si}),this},b.restoreGraphicsState=function(){pe("Q");var _=un.pop();return Mt=_.key,se=_.size,Si=_.color,ui=null,this},b.setCurrentTransformationMatrix=function(_){return pe(_.toString()+" cm"),this},b.comment=function(_){return pe("#"+_),this};var Po=function(_,q){var le=_||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function(Ke){isNaN(Ke)||(le=parseFloat(Ke))}});var be=q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(Ke){isNaN(Ke)||(be=parseFloat(Ke))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Ke){Pe=Ke.toString()}}),this},tc=function(_,q,le,be){Po.call(this,_,q),this.type="rect";var Pe=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(nt){isNaN(nt)||(Pe=parseFloat(nt))}});var Ke=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ke},set:function(nt){isNaN(nt)||(Ke=parseFloat(nt))}}),this},nc=function(){this.page=Wn,this.currentPage=K,this.pages=ze.slice(0),this.pagesContext=zt.slice(0),this.x=kn,this.y=Et,this.matrix=lt,this.width=An(K),this.height=Ci(K),this.outputDestination=$e,this.id="",this.objectNumber=-1};nc.prototype.restore=function(){Wn=this.page,K=this.currentPage,zt=this.pagesContext,ze=this.pages,kn=this.x,Et=this.y,lt=this.matrix,Ia(K,this.width),xn(K,this.height),$e=this.outputDestination};var Oo=function(_,q,le,be,Pe){Bi.push(new nc),Wn=K=0,ze=[],kn=_,Et=q,lt=Pe,wn([le,be])},lr=function(_){if(di[_])Bi.pop().restore();else{var q=new nc,le="Xo"+(Object.keys(pn).length+1).toString(10);q.id=le,di[_]=le,pn[le]=q,Zt.publish("addFormObject",q),Bi.pop().restore()}};for(var Ta in b.beginFormObject=function(_,q,le,be,Pe){return Oo(_,q,le,be,Pe),this},b.endFormObject=function(_){return lr(_),this},b.doFormObject=function(_,q){var le=pn[di[_]];return pe("q"),pe(q.toString()+" cm"),pe("/"+le.id+" Do"),pe("Q"),this},b.getFormObject=function(_){var q=pn[di[_]];return{x:q.x,y:q.y,width:q.width,height:q.height,matrix:q.matrix}},b.save=function(_,q){return _=_||"generated.pdf",(q=q||{}).returnPromise=q.returnPromise||!1,q.returnPromise===!1?(pc(Xa(gn()),_),typeof pc.unload=="function"&&Ut.setTimeout&&setTimeout(pc.unload,911),this):new Promise(function(le,be){try{var Pe=pc(Xa(gn()),_);typeof pc.unload=="function"&&Ut.setTimeout&&setTimeout(pc.unload,911),le(Pe)}catch(Ke){be(Ke.message)}})},Rt.API)Rt.API.hasOwnProperty(Ta)&&(Ta==="events"&&Rt.API.events.length?function(_,q){var le,be,Pe;for(Pe=q.length-1;Pe!==-1;Pe--)le=q[Pe][0],be=q[Pe][1],_.subscribe.apply(_,[le].concat(typeof be=="function"?[be]:be))}(Zt,Rt.API.events):b[Ta]=Rt.API[Ta]);var An=b.getPageWidth=function(_){return(zt[_=_||K].mediaBox.topRightX-zt[_].mediaBox.bottomLeftX)/dt},Ia=b.setPageWidth=function(_,q){zt[_].mediaBox.topRightX=q*dt+zt[_].mediaBox.bottomLeftX},Ci=b.getPageHeight=function(_){return(zt[_=_||K].mediaBox.topRightY-zt[_].mediaBox.bottomLeftY)/dt},xn=b.setPageHeight=function(_,q){zt[_].mediaBox.topRightY=q*dt+zt[_].mediaBox.bottomLeftY};return b.internal={pdfEscape:Ar,getStyle:qc,getFont:Za,getFontSize:we,getCharSpace:Kt,getTextColor:fd,getLineHeight:Zl,getLineHeightFactor:Jl,getLineWidth:Ms,write:bt,getHorizontalCoordinate:Rs,getVerticalCoordinate:ra,getCoordinateString:hd,getVerticalCoordinateString:sn,collections:{},newObject:mn,newAdditionalObject:gt,newObjectDeferred:jn,newObjectDeferredBegin:Mn,getFilters:Ui,putStream:hi,events:Zt,scaleFactor:dt,pageSize:{getWidth:function(){return An(K)},setWidth:function(_){Ia(K,_)},getHeight:function(){return Ci(K)},setHeight:function(_){xn(K,_)}},encryptionOptions:x,encryption:Cr,getEncryptor:Gl,output:jo,getNumberOfPages:It,pages:ze,out:pe,f2:ve,f3:W,getPageInfo:Hc,getPageInfoByObjId:St,getCurrentPageInfo:Ka,getPDFVersion:T,Point:Po,Rectangle:tc,Matrix:_t,hasHotfix:Lo},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return An(K)},set:function(_){Ia(K,_)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Ci(K)},set:function(_){xn(K,_)},enumerable:!0,configurable:!0}),Gn.call(b,Ge),Mt="F1",Sr(i,n),Zt.publish("initialized"),b}cu.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},cu.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},cu.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},cu.prototype.processOwnerPassword=function(e,t){return O2(P2(t).substr(0,5),e)},cu.prototype.encryptor=function(e,t){var n=P2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return O2(n,r)}},v1.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Tn(e)!==Tn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},Rt.API={events:[]},Rt.version="2.5.2";var wr=Rt.API,Iy=1,Vc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},su=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yt=function(e){return e.toFixed(2)},Xo=function(e){return e.toFixed(5)};wr.__acroform__={};var ds=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Xb=function(e){return e*Iy},Pa=function(e){var t=new q6,n=Ct.internal.getHeight(e)||0,r=Ct.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Yt(r)),Number(Yt(n))],t},vB=wr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},wB=wr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},bB=wr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ir=wr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return bB(e,t-1)},kr=wr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return vB(e,t-1)},jr=wr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return wB(e,t-1)},NB=wr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],u=e[3],h={};return h.lowerLeft_X=n(i)||0,h.lowerLeft_Y=r(s+u)||0,h.upperRight_X=n(i+o)||0,h.upperRight_Y=r(s)||0,[Number(Yt(h.lowerLeft_X)),Number(Yt(h.lowerLeft_Y)),Number(Yt(h.upperRight_X)),Number(Yt(h.upperRight_Y))]},AB=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=D2(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+Yt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=Pa(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},D2=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(W){return W.split(`
`)}):i.map(function(W){return[W]});var s=n,o=Ct.internal.getHeight(e)||0;o=o<0?-o:o;var u=Ct.internal.getWidth(e)||0;u=u<0?-u:u;var h=function(W,z,re){if(W+1<i.length){var ae=z+" "+i[W+1][0];return e0(ae,e,re).width<=u-4}return!1};s++;e:for(;s>0;){t="",s--;var p,x,y=e0("3",e,s).height,N=e.multiline?o-s:(o-y)/2,b=N+=2,j=0,T=0,P=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+e0(t,e,s=12).width+", FieldWidth:"+u+`
`;break}for(var E="",C=0,k=0;k<i.length;k++)if(i.hasOwnProperty(k)){var M=!1;if(i[k].length!==1&&P!==i[k].length-1){if((y+2)*(C+2)+2>o)continue e;E+=i[k][P],M=!0,T=k,k--}else{E=(E+=i[k][P]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var B=parseInt(k),ne=h(B,E,s),F=k>=i.length-1;if(ne&&!F){E+=" ",P=0;continue}if(ne||F){if(F)T=B;else if(e.multiline&&(y+2)*(C+2)+2>o)continue e}else{if(!e.multiline||(y+2)*(C+2)+2>o)continue e;T=B}}for(var X="",J=j;J<=T;J++){var ve=i[J];if(e.multiline){if(J===T){X+=ve[P]+" ",P=(P+1)%ve.length;continue}if(J===j){X+=ve[ve.length-1]+" ";continue}}X+=ve[0]+" "}switch(X=X.substr(X.length-1)==" "?X.substr(0,X.length-1):X,x=e0(X,e,s).width,e.textAlign){case"right":p=u-x-2;break;case"center":p=(u-x)/2;break;case"left":default:p=2}t+=Yt(p)+" "+Yt(b)+` Td
`,t+="("+Vc(X)+`) Tj
`,t+=-Yt(p)+` 0 Td
`,b=-(s+2),x=0,j=M?T:T+1,C++,E=""}break}return r.text=t,r.fontSize=s,r},e0=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},SB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},CB=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},EB=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Tn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},_B=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Aa.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(SB)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Iy=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new W6,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&CB(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var u=r[o],h=[],p=u.Rect;if(u.Rect&&(u.Rect=NB(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Ct.createDefaultAppearanceStream(u),Tn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=p,u.hasAppearanceStream&&!u.appearanceStreamContent){var x=AB(u);h.push({key:"AP",value:"<</N "+x+">>"}),i.internal.acroformPlugin.xForms.push(x)}if(u.appearanceStreamContent){var y="";for(var N in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(N)){var b=u.appearanceStreamContent[N];if(y+="/"+N+" ",y+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var o in b)if(b.hasOwnProperty(o)){var j=b[o];typeof j=="function"&&(j=j.call(i,u)),y+="/"+o+" "+j+" ",i.internal.acroformPlugin.xForms.indexOf(j)>=0||i.internal.acroformPlugin.xForms.push(j)}}else typeof(j=b)=="function"&&(j=j.call(i,u)),y+="/"+o+" "+j,i.internal.acroformPlugin.xForms.indexOf(j)>=0||i.internal.acroformPlugin.xForms.push(j);y+=">>"}h.push({key:"AP",value:`<<
`+y+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:u.objId}),i.internal.out("endobj")}s&&EB(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},H6=wr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Tn(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Vc(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Mm=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Vc(r(e))+")"},Va=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Va.prototype.toString=function(){return this.objId+" 0 R"},Va.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Va.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:H6(i,this.objId,this.scope)}):i instanceof Va?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var q6=function(){Va.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};ds(q6,Va);var W6=function(){Va.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Vc(n(e))+")"}},set:function(n){e=n}})};ds(W6,Va);var Aa=function e(){Va.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');t=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ir(t,3)},set:function(E){E?this.F=kr(t,3):this.F=jr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');n=E}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(E){r=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(E){r[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(E){r[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(E){r[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(E){r[3]=E}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof w1)return;s="FieldObject"+e.FieldNum++}var E=function(C){return C};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Vc(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(E){o=E}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(E){h=E}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/Iy:p},set:function(E){p=E}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(E){x=E}});var y="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!y||this instanceof w1||this instanceof _c))return Mm(y,this.objId,this.scope)},set:function(E){E=E.toString(),y=E}});var N=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(N)return this instanceof li?N:Mm(N,this.objId,this.scope)},set:function(E){E=E.toString(),N=this instanceof li?E:E.substr(0,1)==="("?su(E.substr(1,E.length-2)):su(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof li?su(N.substr(1,N.length-1)):N},set:function(E){E=E.toString(),N=this instanceof li?"/"+E:E}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof li?b:Mm(b,this.objId,this.scope)},set:function(E){E=E.toString(),b=this instanceof li?E:E.substr(0,1)==="("?su(E.substr(1,E.length-2)):su(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof li?su(b.substr(1,b.length-1)):b},set:function(E){E=E.toString(),b=this instanceof li?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,T=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return T},set:function(E){E=!!E,T=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(E){j=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,1)},set:function(E){E?this.Ff=kr(this.Ff,1):this.Ff=jr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,2)},set:function(E){E?this.Ff=kr(this.Ff,2):this.Ff=jr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,3)},set:function(E){E?this.Ff=kr(this.Ff,3):this.Ff=jr(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');P=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(P){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};ds(Aa,Va);var Ru=function(){Aa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return H6(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,u){u||(u=1);for(var h,p=[];h=o.exec(s);)p.push(h[u]);return p}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,18)},set:function(n){n?this.Ff=kr(this.Ff,18):this.Ff=jr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=kr(this.Ff,19):this.Ff=jr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,20)},set:function(n){n?(this.Ff=kr(this.Ff,20),t.sort()):this.Ff=jr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,22)},set:function(n){n?this.Ff=kr(this.Ff,22):this.Ff=jr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(n){n?this.Ff=kr(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,27)},set:function(n){n?this.Ff=kr(this.Ff,27):this.Ff=jr(this.Ff,27)}}),this.hasAppearanceStream=!1};ds(Ru,Aa);var Bu=function(){Ru.call(this),this.fontName="helvetica",this.combo=!1};ds(Bu,Ru);var Fu=function(){Bu.call(this),this.combo=!0};ds(Fu,Bu);var S0=function(){Fu.call(this),this.edit=!0};ds(S0,Fu);var li=function(){Aa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,15)},set:function(n){n?this.Ff=kr(this.Ff,15):this.Ff=jr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,16)},set:function(n){n?this.Ff=kr(this.Ff,16):this.Ff=jr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,17)},set:function(n){n?this.Ff=kr(this.Ff,17):this.Ff=jr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(n){n?this.Ff=kr(this.Ff,26):this.Ff=jr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Vc(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Tn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};ds(li,Aa);var C0=function(){li.call(this),this.pushButton=!0};ds(C0,li);var Uu=function(){li.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ds(Uu,li);var w1=function(){var e,t;Aa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Vc(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Tn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ds(w1,Aa),Uu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Uu.prototype.createOption=function(e){var t=new w1;return t.Parent=this,t.optionName=e,this.Kids.push(t),TB.call(this.scope,t),t};var E0=function(){li.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ct.CheckBox.createAppearanceStream()};ds(E0,li);var _c=function(){Aa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,13)},set:function(t){t?this.Ff=kr(this.Ff,13):this.Ff=jr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,21)},set:function(t){t?this.Ff=kr(this.Ff,21):this.Ff=jr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,23)},set:function(t){t?this.Ff=kr(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,24)},set:function(t){t?this.Ff=kr(this.Ff,24):this.Ff=jr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,25)},set:function(t){t?this.Ff=kr(this.Ff,25):this.Ff=jr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,26)},set:function(t){t?this.Ff=kr(this.Ff,26):this.Ff=jr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ds(_c,Aa);var _0=function(){_c.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ir(this.Ff,14)},set:function(e){e?this.Ff=kr(this.Ff,14):this.Ff=jr(this.Ff,14)}}),this.password=!0};ds(_0,_c);var Ct={CheckBox:{createAppearanceStream:function(){return{N:{On:Ct.CheckBox.YesNormal},D:{On:Ct.CheckBox.YesPushDown,Off:Ct.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Pa(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=D2(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Yt(Ct.internal.getWidth(e))+" "+Yt(Ct.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Yt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Pa(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Ct.internal.getHeight(e),o=Ct.internal.getWidth(e),u=D2(e,e.caption);return i.push("1 g"),i.push("0 0 "+Yt(o)+" "+Yt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Yt(o-1)+" "+Yt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Yt(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=Pa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(Ct.internal.getWidth(e))+" "+Yt(Ct.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ct.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ct.RadioButton.Circle.YesNormal,t.D[e]=Ct.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Pa(e);t.scope=e.scope;var n=[],r=Ct.internal.getWidth(e)<=Ct.internal.getHeight(e)?Ct.internal.getWidth(e)/4:Ct.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ct.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Xo(Ct.internal.getWidth(e)/2)+" "+Xo(Ct.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Pa(e);t.scope=e.scope;var n=[],r=Ct.internal.getWidth(e)<=Ct.internal.getHeight(e)?Ct.internal.getWidth(e)/4:Ct.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ct.internal.Bezier_C).toFixed(5)),o=Number((r*Ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Xo(Ct.internal.getWidth(e)/2)+" "+Xo(Ct.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Xo(Ct.internal.getWidth(e)/2)+" "+Xo(Ct.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Pa(e);t.scope=e.scope;var n=[],r=Ct.internal.getWidth(e)<=Ct.internal.getHeight(e)?Ct.internal.getWidth(e)/4:Ct.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Xo(Ct.internal.getWidth(e)/2)+" "+Xo(Ct.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ct.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ct.RadioButton.Cross.YesNormal,t.D[e]=Ct.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Pa(e);t.scope=e.scope;var n=[],r=Ct.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Yt(Ct.internal.getWidth(e)-2)+" "+Yt(Ct.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Yt(r.x1.x)+" "+Yt(r.x1.y)+" m"),n.push(Yt(r.x2.x)+" "+Yt(r.x2.y)+" l"),n.push(Yt(r.x4.x)+" "+Yt(r.x4.y)+" m"),n.push(Yt(r.x3.x)+" "+Yt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Pa(e);t.scope=e.scope;var n=Ct.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Yt(Ct.internal.getWidth(e))+" "+Yt(Ct.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Yt(Ct.internal.getWidth(e)-2)+" "+Yt(Ct.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Yt(n.x1.x)+" "+Yt(n.x1.y)+" m"),r.push(Yt(n.x2.x)+" "+Yt(n.x2.y)+" l"),r.push(Yt(n.x4.x)+" "+Yt(n.x4.y)+" m"),r.push(Yt(n.x3.x)+" "+Yt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Pa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(Ct.internal.getWidth(e))+" "+Yt(Ct.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ct.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ct.internal.getWidth(e),n=Ct.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ct.internal.getWidth=function(e){var t=0;return Tn(e)==="object"&&(t=Xb(e.Rect[2])),t},Ct.internal.getHeight=function(e){var t=0;return Tn(e)==="object"&&(t=Xb(e.Rect[3])),t};var TB=wr.addField=function(e){if(_B(this,e),!(e instanceof Aa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};wr.AcroFormChoiceField=Ru,wr.AcroFormListBox=Bu,wr.AcroFormComboBox=Fu,wr.AcroFormEditBox=S0,wr.AcroFormButton=li,wr.AcroFormPushButton=C0,wr.AcroFormRadioButton=Uu,wr.AcroFormCheckBox=E0,wr.AcroFormTextField=_c,wr.AcroFormPasswordField=_0,wr.AcroFormAppearance=Ct,wr.AcroForm={ChoiceField:Ru,ListBox:Bu,ComboBox:Fu,EditBox:S0,Button:li,PushButton:C0,RadioButton:Uu,CheckBox:E0,TextField:_c,PasswordField:_0,Appearance:Ct},Rt.AcroForm={ChoiceField:Ru,ListBox:Bu,ComboBox:Fu,EditBox:S0,Button:li,PushButton:C0,RadioButton:Uu,CheckBox:E0,TextField:_c,PasswordField:_0,Appearance:Ct};Rt.AcroForm;function $6(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(W,z){var re,ae,te,Se,Ae,ge=t;if((z=z||t)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(ne(W))for(Ae in n)for(te=n[Ae],re=0;re<te.length;re+=1){for(Se=!0,ae=0;ae<te[re].length;ae+=1)if(te[re][ae]!==void 0&&te[re][ae]!==W[ae]){Se=!1;break}if(Se===!0){ge=Ae;break}}else for(Ae in n)for(te=n[Ae],re=0;re<te.length;re+=1){for(Se=!0,ae=0;ae<te[re].length;ae+=1)if(te[re][ae]!==void 0&&te[re][ae]!==W.charCodeAt(ae)){Se=!1;break}if(Se===!0){ge=Ae;break}}return ge===t&&z!==t&&(ge=z),ge},i=function W(z){for(var re=this.internal.write,ae=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var Se=[];if(Se.push({key:"Type",value:"/XObject"}),Se.push({key:"Subtype",value:"/Image"}),Se.push({key:"Width",value:z.width}),Se.push({key:"Height",value:z.height}),z.colorSpace===P.INDEXED?Se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(Se.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===P.DEVICE_CMYK&&Se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Se.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&Se.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)){for(var Ae="",ge=0,ie=z.transparency.length;ge<ie;ge++)Ae+=z.transparency[ge]+" "+z.transparency[ge]+" ";Se.push({key:"Mask",value:"["+Ae+"]"})}z.sMask!==void 0&&Se.push({key:"SMask",value:z.objectId+1+" 0 R"});var xe=z.filter!==void 0?["/"+z.filter]:void 0;if(ae({data:z.data,additionalKeyValues:Se,alreadyAppliedFilters:xe,objectId:z.objectId}),re("endobj"),"sMask"in z&&z.sMask!==void 0){var Ee="/Predictor "+z.predictor+" /Colors 1 /BitsPerComponent "+z.bitsPerComponent+" /Columns "+z.width,R={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:z.bitsPerComponent,decodeParameters:Ee,data:z.sMask};"filter"in z&&(R.filter=z.filter),W.call(this,R)}if(z.colorSpace===P.INDEXED){var K=this.internal.newObject();ae({data:X(new Uint8Array(z.palette)),objectId:K}),re("endobj")}},s=function(){var W=this.internal.collections.addImage_images;for(var z in W)i.call(this,W[z])},o=function(){var W,z=this.internal.collections.addImage_images,re=this.internal.write;for(var ae in z)re("/I"+(W=z[ae]).index,W.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},h=function(){var W=this.internal.collections.addImage_images;return u.call(this),W},p=function(){return Object.keys(this.internal.collections.addImage_images).length},x=function(W){return typeof e["process"+W.toUpperCase()]=="function"},y=function(W){return Tn(W)==="object"&&W.nodeType===1},N=function(W,z){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var re=""+W.getAttribute("src");if(re.indexOf("data:image/")===0)return dh(unescape(re).split("base64,").pop());var ae=e.loadFile(re,!0);if(ae!==void 0)return ae}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var te;switch(z){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;case"JPEG":case"JPG":default:te="image/jpeg"}return dh(W.toDataURL(te,1).split("base64,").pop())}},b=function(W){var z=this.internal.collections.addImage_images;if(z){for(var re in z)if(W===z[re].alias)return z[re]}},j=function(W,z,re){return W||z||(W=-96,z=-96),W<0&&(W=-1*re.width*72/W/this.internal.scaleFactor),z<0&&(z=-1*re.height*72/z/this.internal.scaleFactor),W===0&&(W=z*re.width/re.height),z===0&&(z=W*re.height/re.width),[W,z]},T=function(W,z,re,ae,te,Se){var Ae=j.call(this,re,ae,te),ge=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,xe=h.call(this);if(re=Ae[0],ae=Ae[1],xe[te.index]=te,Se){Se*=Math.PI/180;var Ee=Math.cos(Se),R=Math.sin(Se),K=function(me){return me.toFixed(4)},ee=[K(Ee),K(R),K(-1*R),K(Ee),0,0,"cm"]}this.internal.write("q"),Se?(this.internal.write([1,"0","0",1,ge(W),ie(z+ae),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([ge(re),"0","0",ge(ae),"0","0","cm"].join(" "))):this.internal.write([ge(re),"0","0",ge(ae),ge(W),ie(z+ae),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},P=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=e.__addimage__.sHashCode=function(W){var z,re,ae=0;if(typeof W=="string")for(re=W.length,z=0;z<re;z++)ae=(ae<<5)-ae+W.charCodeAt(z),ae|=0;else if(ne(W))for(re=W.byteLength/2,z=0;z<re;z++)ae=(ae<<5)-ae+W[z],ae|=0;return ae},k=e.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var z=!0;return W.length===0&&(z=!1),W.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(z=!1),z},M=e.__addimage__.extractImageFromDataUrl=function(W){var z=(W=W||"").split("base64,"),re=null;if(z.length===2){var ae=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(z[0]);Array.isArray(ae)&&(re={mimeType:ae[1],charset:ae[2],data:z[1]})}return re},B=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(W){return B()&&W instanceof ArrayBuffer};var ne=e.__addimage__.isArrayBufferView=function(W){return B()&&typeof Uint32Array<"u"&&(W instanceof Int8Array||W instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)},F=e.__addimage__.binaryStringToUint8Array=function(W){for(var z=W.length,re=new Uint8Array(z),ae=0;ae<z;ae++)re[ae]=W.charCodeAt(ae);return re},X=e.__addimage__.arrayBufferToBinaryString=function(W){for(var z="",re=ne(W)?W:new Uint8Array(W),ae=0;ae<re.length;ae+=8192)z+=String.fromCharCode.apply(null,re.subarray(ae,ae+8192));return z};e.addImage=function(){var W,z,re,ae,te,Se,Ae,ge,ie;if(typeof arguments[1]=="number"?(z=t,re=arguments[1],ae=arguments[2],te=arguments[3],Se=arguments[4],Ae=arguments[5],ge=arguments[6],ie=arguments[7]):(z=arguments[1],re=arguments[2],ae=arguments[3],te=arguments[4],Se=arguments[5],Ae=arguments[6],ge=arguments[7],ie=arguments[8]),Tn(W=arguments[0])==="object"&&!y(W)&&"imageData"in W){var xe=W;W=xe.imageData,z=xe.format||z||t,re=xe.x||re||0,ae=xe.y||ae||0,te=xe.w||xe.width||te,Se=xe.h||xe.height||Se,Ae=xe.alias||Ae,ge=xe.compression||ge,ie=xe.rotation||xe.angle||ie}var Ee=this.internal.getFilters();if(ge===void 0&&Ee.indexOf("FlateEncode")!==-1&&(ge="SLOW"),isNaN(re)||isNaN(ae))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var R=J.call(this,W,z,Ae,ge);return T.call(this,re,ae,te,Se,R,ie),this};var J=function(W,z,re,ae){var te,Se,Ae;if(typeof W=="string"&&r(W)===t){W=unescape(W);var ge=ve(W,!1);(ge!==""||(ge=e.loadFile(W,!0))!==void 0)&&(W=ge)}if(y(W)&&(W=N(W,z)),z=r(W,z),!x(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((Ae=re)==null||Ae.length===0)&&(re=function(ie){return typeof ie=="string"||ne(ie)?C(ie):ne(ie.data)?C(ie.data):null}(W)),(te=b.call(this,re))||(B()&&(W instanceof Uint8Array||z==="RGBA"||(Se=W,W=F(W))),te=this["process"+z.toUpperCase()](W,p.call(this),re,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in e.image_compression?ie:E.NONE}(ae),Se)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},ve=e.__addimage__.convertBase64ToBinaryString=function(W,z){var re;z=typeof z!="boolean"||z;var ae,te="";if(typeof W=="string"){ae=(re=M(W))!==null?re.data:W;try{te=dh(ae)}catch(Se){if(z)throw k(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return te};e.getImageProperties=function(W){var z,re,ae="";if(y(W)&&(W=N(W)),typeof W=="string"&&r(W)===t&&((ae=ve(W,!1))===""&&(ae=e.loadFile(W)||""),W=ae),re=r(W),!x(re))throw new Error("addImage does not support files of type '"+re+"', please ensure that a plugin for '"+re+"' support is added.");if(!B()||W instanceof Uint8Array||(W=F(W)),!(z=this["process"+re.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=re,z}})(Rt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};Rt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(n.objId),p=n.pageContext.annotations,x=!1,y=0;y<p.length&&!x;y++)switch((r=p[y]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var N=0;N<p.length;N++){r=p[N];var b=this.internal.pdfEscape,j=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var T=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(T.objId),C=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+b(E(r.contents))+")",s+=" /Popup "+P.objId+" 0 R",s+=" /P "+h.objId+" 0 R",s+=" /T ("+b(E(C))+") >>",T.content=s;var k=T.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+k,r.open&&(s+=" /Open true"),s+=" >>",P.content=s,this.internal.write(T.objId,"0 R",P.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+u(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var M=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+b(j(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+M+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var B=this.annotations._nameMap[r.options.name];r.options.pageNumber=B.page,r.options.top=B.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+b(j(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ne=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ne+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(n),y:p(r),w:h(n+i),h:p(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,u,h=this.getTextWidth(n),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var x=this.splitTextToSize(n,u).length;o=Math.ceil(p*x)}else u=h,o=p;return this.text(n,r,i,s),i+=.2*p,s.align==="center"&&(r-=h/2),s.align==="right"&&(r-=h),this.link(r,i-p,u,o,s),h},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Rt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(T){return t[T.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(T){return typeof T=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(T)},u=e.__arabicParser__.isArabicEndLetter=function(T){return o(T)&&s(T)&&t[T.charCodeAt(0)].length<=2},h=e.__arabicParser__.isArabicAlfLetter=function(T){return o(T)&&i.indexOf(T.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(T){return o(T)&&s(T)&&t[T.charCodeAt(0)].length>=1};var p=e.__arabicParser__.arabicLetterHasFinalForm=function(T){return o(T)&&s(T)&&t[T.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(T){return o(T)&&s(T)&&t[T.charCodeAt(0)].length>=3};var x=e.__arabicParser__.arabicLetterHasMedialForm=function(T){return o(T)&&s(T)&&t[T.charCodeAt(0)].length==4},y=e.__arabicParser__.resolveLigatures=function(T){var P=0,E=n,C="",k=0;for(P=0;P<T.length;P+=1)E[T.charCodeAt(P)]!==void 0?(k++,typeof(E=E[T.charCodeAt(P)])=="number"&&(C+=String.fromCharCode(E),E=n,k=0),P===T.length-1&&(E=n,C+=T.charAt(P-(k-1)),P-=k-1,k=0)):(E=n,C+=T.charAt(P-k),P-=k,k=0);return C};e.__arabicParser__.isArabicDiacritic=function(T){return T!==void 0&&r[T.charCodeAt(0)]!==void 0};var N=e.__arabicParser__.getCorrectForm=function(T,P,E){return o(T)?s(T)===!1?-1:!p(T)||!o(P)&&!o(E)||!o(E)&&u(P)||u(T)&&!o(P)||u(T)&&h(P)||u(T)&&u(P)?0:x(T)&&o(P)&&!u(P)&&o(E)&&p(E)?3:u(T)||!o(E)?1:2:-1},b=function(T){var P=0,E=0,C=0,k="",M="",B="",ne=(T=T||"").split("\\s+"),F=[];for(P=0;P<ne.length;P+=1){for(F.push(""),E=0;E<ne[P].length;E+=1)k=ne[P][E],M=ne[P][E-1],B=ne[P][E+1],o(k)?(C=N(k,M,B),F[P]+=C!==-1?String.fromCharCode(t[k.charCodeAt(0)][C]):k):F[P]+=k;F[P]=y(F[P])}return F.join(" ")},j=e.__arabicParser__.processArabic=e.processArabic=function(){var T,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(P)){var C=0;for(E=[],C=0;C<P.length;C+=1)Array.isArray(P[C])?E.push([b(P[C][0]),P[C][1],P[C][2]]):E.push([b(P[C])]);T=E}else T=b(P);return typeof arguments[0]=="string"?T:(arguments[0].text=T,arguments[0])};e.events.push(["preProcessText",j])}(Rt.API),Rt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(u){n=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Rt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(T){h=T}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(T){p=T}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(T){x=T}});var y=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return y},set:function(T){y=T}});var N=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return N},set:function(T){N=T}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(T){b=T}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(T){j=T}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},e.getTextDimensions=function(h,p){r.call(this);var x=(p=p||{}).fontSize||this.getFontSize(),y=p.font||this.getFont(),N=p.scaleFactor||this.internal.scaleFactor,b=0,j=0,T=0,P=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var E=p.maxWidth;E>0?typeof h=="string"?h=this.splitTextToSize(h,E):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(k,M){return k.concat(P.splitTextToSize(M,E))},[])):h=Array.isArray(h)?h:[h];for(var C=0;C<h.length;C++)b<(T=this.getStringUnitWidth(h[C],{font:y})*x)&&(b=T);return b!==0&&(j=h.length),{w:b/=N,h:Math.max((j*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/N,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var h;h=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,y=this.internal.__cell__.margins||t,N=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===h.lineNumber?(h.x=(p.x||0)+(p.width||0),h.y=p.y||0):p.y+p.height+h.height+y.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=y.top,b&&N&&(this.printHeaderRow(h.lineNumber,!0),h.y+=N[0].height)):h.y=p.y+p.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,n===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-x,h.y+x,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+x,{align:"center",baseline:"top",maxWidth:h.width-x-x}):this.text(h.text,h.x+x,h.y+x,{align:"left",baseline:"top",maxWidth:h.width-x-x})),this.internal.__cell__.lastCell=h,this};e.table=function(h,p,x,y,N){if(r.call(this),!x)throw new Error("No data for PDF table.");var b,j,T,P,E=[],C=[],k=[],M={},B={},ne=[],F=[],X=(N=N||{}).autoSize||!1,J=N.printHeaders!==!1,ve=N.css&&N.css["font-size"]!==void 0?16*N.css["font-size"]:N.fontSize||12,W=N.margins||Object.assign({width:this.getPageWidth()},t),z=typeof N.padding=="number"?N.padding:3,re=N.headerBackgroundColor||"#c8c8c8",ae=N.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=J,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=ve,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=re,this.internal.__cell__.headerTextColor=ae,this.setFontSize(ve),y==null)C=E=Object.keys(x[0]),k=E.map(function(){return"left"});else if(Array.isArray(y)&&Tn(y[0])==="object")for(E=y.map(function(xe){return xe.name}),C=y.map(function(xe){return xe.prompt||xe.name||""}),k=y.map(function(xe){return xe.align||"left"}),b=0;b<y.length;b+=1)B[y[b].name]=y[b].width*(19.049976/25.4);else Array.isArray(y)&&typeof y[0]=="string"&&(C=E=y,k=E.map(function(){return"left"}));if(X||Array.isArray(y)&&typeof y[0]=="string")for(b=0;b<E.length;b+=1){for(M[P=E[b]]=x.map(function(xe){return xe[P]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(C[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=M[P],this.setFont(void 0,"normal"),T=0;T<j.length;T+=1)ne.push(this.getTextDimensions(j[T],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);B[P]=Math.max.apply(null,ne)+z+z,ne=[]}if(J){var te={};for(b=0;b<E.length;b+=1)te[E[b]]={},te[E[b]].text=C[b],te[E[b]].align=k[b];var Se=u.call(this,te,B);F=E.map(function(xe){return new s(h,p,B[xe],Se,te[xe].text,void 0,te[xe].align)}),this.setTableHeaderRow(F),this.printHeaderRow(1,!1)}var Ae=y.reduce(function(xe,Ee){return xe[Ee.name]=Ee.align,xe},{});for(b=0;b<x.length;b+=1){"rowStart"in N&&N.rowStart instanceof Function&&N.rowStart({row:b,data:x[b]},this);var ge=u.call(this,x[b],B);for(T=0;T<E.length;T+=1){var ie=x[b][E[T]];"cellStart"in N&&N.cellStart instanceof Function&&N.cellStart({row:b,col:T,data:ie},this),o.call(this,new s(h,p,B[E[T]],ge,ie,b+2,Ae[E[T]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=p,this};var u=function(h,p){var x=this.internal.__cell__.padding,y=this.internal.__cell__.table_font_size,N=this.internal.scaleFactor;return Object.keys(h).map(function(b){var j=h[b];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,p[b]-x-x)},this).map(function(b){return this.getLineHeightFactor()*b.length*y/N+x+x},this).reduce(function(b,j){return Math.max(b,j)},0)};e.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},e.printHeaderRow=function(h,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var y=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(y[0],y[1],y[2],y[3],void 0,-1)}this.setFont(void 0,"bold");for(var N=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){x=this.internal.__cell__.tableHeaderRow[b].clone(),p&&(x.y=this.internal.__cell__.margins.top||0,N.push(x)),x.lineNumber=h;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,x),this.setTextColor(j)}N.length>0&&this.setTableHeaderRow(N),this.setFont(void 0,"normal"),n=!1}}(Rt.API);var G6={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Y6=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],M2=$6(Y6),X6=[100,200,300,400,500,600,700,800,900],IB=$6(X6);function R2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return G6[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof M2[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function Kb(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var kB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Zb={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Qb(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function jB(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},kB,n.genericFontFamilies||{}),s=null,o=null,u=0;u<t.length;++u)if(i[(s=R2(t[u])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+Qb(s)+"' and default family '"+r+"'.");if(o=function(h,p){if(p[h])return p[h];var x=M2[h],y=x<=M2.normal?-1:1,N=Kb(p,Y6,x,y);if(!N)throw new Error("Could not find a matching font-stretch value for "+h);return N}(s.stretch,o),o=function(h,p){if(p[h])return p[h];for(var x=G6[h],y=0;y<x.length;++y)if(p[x[y]])return p[x[y]];throw new Error("Could not find a matching font-style for "+h)}(s.style,o),!(o=function(h,p){if(p[h])return p[h];if(h===400&&p[500])return p[500];if(h===500&&p[400])return p[400];var x=IB[h],y=Kb(p,X6,x,h<400?-1:1);if(!y)throw new Error("Could not find a matching font-weight for value "+h);return y}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+Qb(s)+"'.");return o}function Jb(e){return e.trimLeft()}function LB(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function PB(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var t0,e3,t3,Rm=["times"];(function(e){var t,n,r,i,s,o,u,h,p,x=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new h,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new y(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,p=new x}]);var y=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var K=R;Object.defineProperty(this,"pdf",{get:function(){return K}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Ve){ee=!!Ve}});var me=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return me},set:function(Ve){me=!!Ve}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Ve){isNaN(Ve)||(he=Ve)}});var ke=0;Object.defineProperty(this,"posY",{get:function(){return ke},set:function(Ve){isNaN(Ve)||(ke=Ve)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Ve){var pe;typeof Ve=="number"?pe=[Ve,Ve,Ve,Ve]:((pe=new Array(4))[0]=Ve[0],pe[1]=Ve.length>=2?Ve[1]:pe[0],pe[2]=Ve.length>=3?Ve[2]:pe[0],pe[3]=Ve.length>=4?Ve[3]:pe[1]),p.margin=pe}});var je=!1;Object.defineProperty(this,"autoPaging",{get:function(){return je},set:function(Ve){je=Ve}});var Oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Oe},set:function(Ve){Oe=Ve}});var He=[];Object.defineProperty(this,"pageBreaks",{get:function(){return He},set:function(Ve){He=Ve}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Ve){Ve instanceof x&&(p=Ve)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Ve){p.path=Ve}});var ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return ze},set:function(Ve){ze=Ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ve){var pe;pe=N(Ve),this.ctx.fillStyle=pe.style,this.ctx.isFillTransparent=pe.a===0,this.ctx.fillOpacity=pe.a,this.pdf.setFillColor(pe.r,pe.g,pe.b,{a:pe.a}),this.pdf.setTextColor(pe.r,pe.g,pe.b,{a:pe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ve){var pe=N(Ve);this.ctx.strokeStyle=pe.style,this.ctx.isStrokeTransparent=pe.a===0,this.ctx.strokeOpacity=pe.a,pe.a===0?this.pdf.setDrawColor(255,255,255):(pe.a,this.pdf.setDrawColor(pe.r,pe.g,pe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ve){["butt","round","square"].indexOf(Ve)!==-1&&(this.ctx.lineCap=Ve,this.pdf.setLineCap(Ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ve){isNaN(Ve)||(this.ctx.lineWidth=Ve,this.pdf.setLineWidth(Ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ve){["bevel","round","miter"].indexOf(Ve)!==-1&&(this.ctx.lineJoin=Ve,this.pdf.setLineJoin(Ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ve){isNaN(Ve)||(this.ctx.miterLimit=Ve,this.pdf.setMiterLimit(Ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ve){this.ctx.textBaseline=Ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ve){["right","end","center","left","start"].indexOf(Ve)!==-1&&(this.ctx.textAlign=Ve)}});var it=null;function $e(Ve,pe){if(it===null){var bt=function(ct){var Ge=[];return Object.keys(ct).forEach(function(se){ct[se].forEach(function(ce){var we=null;switch(ce){case"bold":we={family:se,weight:"bold"};break;case"italic":we={family:se,style:"italic"};break;case"bolditalic":we={family:se,weight:"bold",style:"italic"};break;case"":case"normal":we={family:se}}we!==null&&(we.ref={name:se,style:ce},Ge.push(we))})}),Ge}(Ve.getFontList());it=function(ct){for(var Ge={},se=0;se<ct.length;++se){var ce=R2(ct[se]),we=ce.family,qe=ce.stretch,Be=ce.style,We=ce.weight;Ge[we]=Ge[we]||{},Ge[we][qe]=Ge[we][qe]||{},Ge[we][qe][Be]=Ge[we][qe][Be]||{},Ge[we][qe][Be][We]=ce}return Ge}(bt.concat(pe))}return it}var vt=null;Object.defineProperty(this,"fontFaces",{get:function(){return vt},set:function(Ve){it=null,vt=Ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ve){var pe;if(this.ctx.font=Ve,(pe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ve))!==null){var bt=pe[1],ct=(pe[2],pe[3]),Ge=pe[4],se=(pe[5],pe[6]),ce=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(ce==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:ce==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var we=function(ht){var Mt,dt,kn=[],Et=ht.trim();if(Et==="")return Rm;if(Et in Zb)return[Zb[Et]];for(;Et!=="";){switch(dt=null,Mt=(Et=Jb(Et)).charAt(0)){case'"':case"'":dt=LB(Et.substring(1),Mt);break;default:dt=PB(Et)}if(dt===null||(kn.push(dt[0]),(Et=Jb(dt[1]))!==""&&Et.charAt(0)!==","))return Rm;Et=Et.replace(/^,/,"")}return kn}(se);if(this.fontFaces){var qe=jB($e(this.pdf,this.fontFaces),we.map(function(ht){return{family:ht,stretch:"normal",weight:ct,style:bt}}));this.pdf.setFont(qe.ref.name,qe.ref.style)}else{var Be="";(ct==="bold"||parseInt(ct,10)>=700||bt==="bold")&&(Be="bold"),bt==="italic"&&(Be+="italic"),Be.length===0&&(Be="normal");for(var We="",Je={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},yt=0;yt<we.length;yt++){if(this.pdf.internal.getFont(we[yt],Be,{noFallback:!0,disableWarning:!0})!==void 0){We=we[yt];break}if(Be==="bolditalic"&&this.pdf.internal.getFont(we[yt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=we[yt],Be="bold";else if(this.pdf.internal.getFont(we[yt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=we[yt],Be="normal";break}}if(We===""){for(var xt=0;xt<we.length;xt++)if(Je[we[xt]]){We=Je[we[xt]];break}}We=We===""?"Times":We,this.pdf.setFont(We,Be)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ve){this.ctx.globalCompositeOperation=Ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ve){this.ctx.globalAlpha=Ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ve){this.ctx.lineDashOffset=Ve,Ee.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ve){this.ctx.lineDash=Ve,Ee.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ve){this.ctx.ignoreClearRect=!!Ve}})};y.prototype.setLineDash=function(R){this.lineDash=R},y.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},y.prototype.fill=function(){M.call(this,"fill",!1)},y.prototype.stroke=function(){M.call(this,"stroke",!1)},y.prototype.beginPath=function(){this.path=[{type:"begin"}]},y.prototype.moveTo=function(R,K){if(isNaN(R)||isNaN(K))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new o(R,K));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(R,K)},y.prototype.closePath=function(){var R=new o(0,0),K=0;for(K=this.path.length-1;K!==-1;K--)if(this.path[K].type==="begin"&&Tn(this.path[K+1])==="object"&&typeof this.path[K+1].x=="number"){R=new o(this.path[K+1].x,this.path[K+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},y.prototype.lineTo=function(R,K){if(isNaN(R)||isNaN(K))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new o(R,K));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new o(ee.x,ee.y)},y.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),M.call(this,null,!0)},y.prototype.quadraticCurveTo=function(R,K,ee,me){if(isNaN(ee)||isNaN(me)||isNaN(R)||isNaN(K))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new o(ee,me)),ke=this.ctx.transform.applyToPoint(new o(R,K));this.path.push({type:"qct",x1:ke.x,y1:ke.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},y.prototype.bezierCurveTo=function(R,K,ee,me,he,ke){if(isNaN(he)||isNaN(ke)||isNaN(R)||isNaN(K)||isNaN(ee)||isNaN(me))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var je=this.ctx.transform.applyToPoint(new o(he,ke)),Oe=this.ctx.transform.applyToPoint(new o(R,K)),He=this.ctx.transform.applyToPoint(new o(ee,me));this.path.push({type:"bct",x1:Oe.x,y1:Oe.y,x2:He.x,y2:He.y,x:je.x,y:je.y}),this.ctx.lastPoint=new o(je.x,je.y)},y.prototype.arc=function(R,K,ee,me,he,ke){if(isNaN(R)||isNaN(K)||isNaN(ee)||isNaN(me)||isNaN(he))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ke=!!ke,!this.ctx.transform.isIdentity){var je=this.ctx.transform.applyToPoint(new o(R,K));R=je.x,K=je.y;var Oe=this.ctx.transform.applyToPoint(new o(0,ee)),He=this.ctx.transform.applyToPoint(new o(0,0));ee=Math.sqrt(Math.pow(Oe.x-He.x,2)+Math.pow(Oe.y-He.y,2))}Math.abs(he-me)>=2*Math.PI&&(me=0,he=2*Math.PI),this.path.push({type:"arc",x:R,y:K,radius:ee,startAngle:me,endAngle:he,counterclockwise:ke})},y.prototype.arcTo=function(R,K,ee,me,he){throw new Error("arcTo not implemented.")},y.prototype.rect=function(R,K,ee,me){if(isNaN(R)||isNaN(K)||isNaN(ee)||isNaN(me))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,K),this.lineTo(R+ee,K),this.lineTo(R+ee,K+me),this.lineTo(R,K+me),this.lineTo(R,K),this.lineTo(R+ee,K),this.lineTo(R,K)},y.prototype.fillRect=function(R,K,ee,me){if(isNaN(R)||isNaN(K)||isNaN(ee)||isNaN(me))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,K,ee,me),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},y.prototype.strokeRect=function(R,K,ee,me){if(isNaN(R)||isNaN(K)||isNaN(ee)||isNaN(me))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(R,K,ee,me),this.stroke())},y.prototype.clearRect=function(R,K,ee,me){if(isNaN(R)||isNaN(K)||isNaN(ee)||isNaN(me))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,K,ee,me))},y.prototype.save=function(R){R=typeof R!="boolean"||R;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(K),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var me=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=me}},y.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var K=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(K),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},y.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var N=function(R){var K,ee,me,he;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))K=0,ee=0,me=0,he=0;else{var ke=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(ke!==null)K=parseInt(ke[1]),ee=parseInt(ke[2]),me=parseInt(ke[3]),he=1;else if((ke=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)K=parseInt(ke[1]),ee=parseInt(ke[2]),me=parseInt(ke[3]),he=parseFloat(ke[4]);else{if(he=1,typeof R=="string"&&R.charAt(0)!=="#"){var je=new U6(R);R=je.ok?je.toHex():"#000000"}R.length===4?(K=R.substring(1,2),K+=K,ee=R.substring(2,3),ee+=ee,me=R.substring(3,4),me+=me):(K=R.substring(1,3),ee=R.substring(3,5),me=R.substring(5,7)),K=parseInt(K,16),ee=parseInt(ee,16),me=parseInt(me,16)}}return{r:K,g:ee,b:me,a:he,style:R}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};y.prototype.fillText=function(R,K,ee,me){if(isNaN(K)||isNaN(ee)||typeof R!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(me=isNaN(me)?void 0:me,!b.call(this)){var he=ge(this.ctx.transform.rotation),ke=this.ctx.transform.scaleX;z.call(this,{text:R,x:K,y:ee,scale:ke,angle:he,align:this.textAlign,maxWidth:me})}},y.prototype.strokeText=function(R,K,ee,me){if(isNaN(K)||isNaN(ee)||typeof R!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){me=isNaN(me)?void 0:me;var he=ge(this.ctx.transform.rotation),ke=this.ctx.transform.scaleX;z.call(this,{text:R,x:K,y:ee,scale:ke,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:me})}},y.prototype.measureText=function(R){if(typeof R!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var K=this.pdf,ee=this.pdf.internal.scaleFactor,me=K.internal.getFontSize(),he=K.getStringUnitWidth(R)*me/K.internal.scaleFactor,ke=function(je){var Oe=(je=je||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Oe}}),this};return new ke({width:he*=Math.round(96*ee/72*1e4)/1e4})},y.prototype.scale=function(R,K){if(isNaN(R)||isNaN(K))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new h(R,0,0,K,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},y.prototype.rotate=function(R){if(isNaN(R))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var K=new h(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(K)},y.prototype.translate=function(R,K){if(isNaN(R)||isNaN(K))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new h(1,0,0,1,R,K);this.ctx.transform=this.ctx.transform.multiply(ee)},y.prototype.transform=function(R,K,ee,me,he,ke){if(isNaN(R)||isNaN(K)||isNaN(ee)||isNaN(me)||isNaN(he)||isNaN(ke))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var je=new h(R,K,ee,me,he,ke);this.ctx.transform=this.ctx.transform.multiply(je)},y.prototype.setTransform=function(R,K,ee,me,he,ke){R=isNaN(R)?1:R,K=isNaN(K)?0:K,ee=isNaN(ee)?0:ee,me=isNaN(me)?1:me,he=isNaN(he)?0:he,ke=isNaN(ke)?0:ke,this.ctx.transform=new h(R,K,ee,me,he,ke)};var T=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};y.prototype.drawImage=function(R,K,ee,me,he,ke,je,Oe,He){var ze=this.pdf.getImageProperties(R),it=1,$e=1,vt=1,Ve=1;me!==void 0&&Oe!==void 0&&(vt=Oe/me,Ve=He/he,it=ze.width/me*Oe/me,$e=ze.height/he*He/he),ke===void 0&&(ke=K,je=ee,K=0,ee=0),me!==void 0&&Oe===void 0&&(Oe=me,He=he),me===void 0&&Oe===void 0&&(Oe=ze.width,He=ze.height);for(var pe,bt=this.ctx.transform.decompose(),ct=ge(bt.rotate.shx),Ge=new h,se=(Ge=(Ge=(Ge=Ge.multiply(bt.translate)).multiply(bt.skew)).multiply(bt.scale)).applyToRectangle(new u(ke-K*vt,je-ee*Ve,me*it,he*$e)),ce=P.call(this,se),we=[],qe=0;qe<ce.length;qe+=1)we.indexOf(ce[qe])===-1&&we.push(ce[qe]);if(k(we),this.autoPaging)for(var Be=we[0],We=we[we.length-1],Je=Be;Je<We+1;Je++){this.pdf.setPage(Je);var yt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],xt=Je===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Mt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=Je===1?0:ht+(Je-2)*Mt;if(this.ctx.clip_path.length!==0){var kn=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(pe,this.posX+this.margin[3],-dt+xt+this.ctx.prevPageLastElemOffset),B.call(this,"fill",!0),this.path=kn}var Et=JSON.parse(JSON.stringify(se));Et=C([Et],this.posX+this.margin[3],-dt+xt+this.ctx.prevPageLastElemOffset)[0];var lt=(Je>Be||Je<We)&&T.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],yt,Mt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",Et.x,Et.y,Et.w,Et.h,null,null,ct),lt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",se.x,se.y,se.w,se.h,null,null,ct)};var P=function(R,K,ee){var me=[];K=K||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":me.push(Math.floor((R.y+he)/ee)+1);break;case"arc":me.push(Math.floor((R.y+he-R.radius)/ee)+1),me.push(Math.floor((R.y+he+R.radius)/ee)+1);break;case"qct":var ke=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);me.push(Math.floor((ke.y+he)/ee)+1),me.push(Math.floor((ke.y+ke.h+he)/ee)+1);break;case"bct":var je=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);me.push(Math.floor((je.y+he)/ee)+1),me.push(Math.floor((je.y+je.h+he)/ee)+1);break;case"rect":me.push(Math.floor((R.y+he)/ee)+1),me.push(Math.floor((R.y+R.h+he)/ee)+1)}for(var Oe=0;Oe<me.length;Oe+=1)for(;this.pdf.internal.getNumberOfPages()<me[Oe];)E.call(this);return me},E=function(){var R=this.fillStyle,K=this.strokeStyle,ee=this.font,me=this.lineCap,he=this.lineWidth,ke=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=K,this.font=ee,this.lineCap=me,this.lineWidth=he,this.lineJoin=ke},C=function(R,K,ee){for(var me=0;me<R.length;me++)switch(R[me].type){case"bct":R[me].x2+=K,R[me].y2+=ee;case"qct":R[me].x1+=K,R[me].y1+=ee;case"mt":case"lt":case"arc":default:R[me].x+=K,R[me].y+=ee}return R},k=function(R){return R.sort(function(K,ee){return K-ee})},M=function(R,K){for(var ee,me,he=this.fillStyle,ke=this.strokeStyle,je=this.lineCap,Oe=this.lineWidth,He=Math.abs(Oe*this.ctx.transform.scaleX),ze=this.lineJoin,it=JSON.parse(JSON.stringify(this.path)),$e=JSON.parse(JSON.stringify(this.path)),vt=[],Ve=0;Ve<$e.length;Ve++)if($e[Ve].x!==void 0)for(var pe=P.call(this,$e[Ve]),bt=0;bt<pe.length;bt+=1)vt.indexOf(pe[bt])===-1&&vt.push(pe[bt]);for(var ct=0;ct<vt.length;ct++)for(;this.pdf.internal.getNumberOfPages()<vt[ct];)E.call(this);if(k(vt),this.autoPaging)for(var Ge=vt[0],se=vt[vt.length-1],ce=Ge;ce<se+1;ce++){this.pdf.setPage(ce),this.fillStyle=he,this.strokeStyle=ke,this.lineCap=je,this.lineWidth=He,this.lineJoin=ze;var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=ce===1?this.posY+this.margin[0]:this.margin[0],Be=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Je=ce===1?0:Be+(ce-2)*We;if(this.ctx.clip_path.length!==0){var yt=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(ee,this.posX+this.margin[3],-Je+qe+this.ctx.prevPageLastElemOffset),B.call(this,R,!0),this.path=yt}if(me=JSON.parse(JSON.stringify(it)),this.path=C(me,this.posX+this.margin[3],-Je+qe+this.ctx.prevPageLastElemOffset),K===!1||ce===0){var xt=(ce>Ge||ce<se)&&T.call(this);xt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,We,null).clip().discardPath()),B.call(this,R,K),xt&&this.pdf.restoreGraphicsState()}this.lineWidth=Oe}else this.lineWidth=He,B.call(this,R,K),this.lineWidth=Oe;this.path=it},B=function(R,K){if((R!=="stroke"||K||!j.call(this))&&(R==="stroke"||K||!b.call(this))){for(var ee,me,he=[],ke=this.path,je=0;je<ke.length;je++){var Oe=ke[je];switch(Oe.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Oe,deltas:[],abs:[]});break;case"lt":var He=he.length;if(ke[je-1]&&!isNaN(ke[je-1].x)&&(ee=[Oe.x-ke[je-1].x,Oe.y-ke[je-1].y],He>0)){for(;He>=0;He--)if(he[He-1].close!==!0&&he[He-1].begin!==!0){he[He-1].deltas.push(ee),he[He-1].abs.push(Oe);break}}break;case"bct":ee=[Oe.x1-ke[je-1].x,Oe.y1-ke[je-1].y,Oe.x2-ke[je-1].x,Oe.y2-ke[je-1].y,Oe.x-ke[je-1].x,Oe.y-ke[je-1].y],he[he.length-1].deltas.push(ee);break;case"qct":var ze=ke[je-1].x+2/3*(Oe.x1-ke[je-1].x),it=ke[je-1].y+2/3*(Oe.y1-ke[je-1].y),$e=Oe.x+2/3*(Oe.x1-Oe.x),vt=Oe.y+2/3*(Oe.y1-Oe.y),Ve=Oe.x,pe=Oe.y;ee=[ze-ke[je-1].x,it-ke[je-1].y,$e-ke[je-1].x,vt-ke[je-1].y,Ve-ke[je-1].x,pe-ke[je-1].y],he[he.length-1].deltas.push(ee);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Oe)}}me=K?null:R==="stroke"?"stroke":"fill";for(var bt=!1,ct=0;ct<he.length;ct++)if(he[ct].arc)for(var Ge=he[ct].abs,se=0;se<Ge.length;se++){var ce=Ge[se];ce.type==="arc"?X.call(this,ce.x,ce.y,ce.radius,ce.startAngle,ce.endAngle,ce.counterclockwise,void 0,K,!bt):re.call(this,ce.x,ce.y),bt=!0}else if(he[ct].close===!0)this.pdf.internal.out("h"),bt=!1;else if(he[ct].begin!==!0){var we=he[ct].start.x,qe=he[ct].start.y;ae.call(this,he[ct].deltas,we,qe),bt=!0}me&&J.call(this,me),K&&ve.call(this)}},ne=function(R){var K=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=K*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-ee;case"top":return R+K-ee;case"hanging":return R+K-2*ee;case"middle":return R+K/2-ee;case"ideographic":return R;case"alphabetic":default:return R}},F=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};y.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(K,ee){this.colorStops.push([K,ee])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},y.prototype.createPattern=function(){return this.createLinearGradient()},y.prototype.createRadialGradient=function(){return this.createLinearGradient()};var X=function(R,K,ee,me,he,ke,je,Oe,He){for(var ze=Se.call(this,ee,me,he,ke),it=0;it<ze.length;it++){var $e=ze[it];it===0&&(He?W.call(this,$e.x1+R,$e.y1+K):re.call(this,$e.x1+R,$e.y1+K)),te.call(this,R,K,$e.x2,$e.y2,$e.x3,$e.y3,$e.x4,$e.y4)}Oe?ve.call(this):J.call(this,je)},J=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ve=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(R,K){this.pdf.internal.out(n(R)+" "+r(K)+" m")},z=function(R){var K;switch(R.align){case"right":case"end":K="right";break;case"center":K="center";break;case"left":case"start":default:K="left"}var ee=this.pdf.getTextDimensions(R.text),me=ne.call(this,R.y),he=F.call(this,me)-ee.h,ke=this.ctx.transform.applyToPoint(new o(R.x,me)),je=this.ctx.transform.decompose(),Oe=new h;Oe=(Oe=(Oe=Oe.multiply(je.translate)).multiply(je.skew)).multiply(je.scale);for(var He,ze,it,$e=this.ctx.transform.applyToRectangle(new u(R.x,me,ee.w,ee.h)),vt=Oe.applyToRectangle(new u(R.x,he,ee.w,ee.h)),Ve=P.call(this,vt),pe=[],bt=0;bt<Ve.length;bt+=1)pe.indexOf(Ve[bt])===-1&&pe.push(Ve[bt]);if(k(pe),this.autoPaging)for(var ct=pe[0],Ge=pe[pe.length-1],se=ct;se<Ge+1;se++){this.pdf.setPage(se);var ce=se===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[2],Be=qe-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],Je=We-this.margin[3],yt=se===1?0:we+(se-2)*Be;if(this.ctx.clip_path.length!==0){var xt=this.path;He=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=C(He,this.posX+this.margin[3],-1*yt+ce),B.call(this,"fill",!0),this.path=xt}var ht=C([JSON.parse(JSON.stringify(vt))],this.posX+this.margin[3],-yt+ce+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*R.scale),it=this.lineWidth,this.lineWidth=it*R.scale);var Mt=this.autoPaging!=="text";if(Mt||ht.y+ht.h<=qe){if(Mt||ht.y>=ce&&ht.x<=We){var dt=Mt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||We-ht.x)[0],kn=C([JSON.parse(JSON.stringify($e))],this.posX+this.margin[3],-yt+ce+this.ctx.prevPageLastElemOffset)[0],Et=Mt&&(se>ct||se<Ge)&&T.call(this);Et&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Je,Be,null).clip().discardPath()),this.pdf.text(dt,kn.x,kn.y,{angle:R.angle,align:K,renderingMode:R.renderingMode}),Et&&this.pdf.restoreGraphicsState()}}else ht.y<qe&&(this.ctx.prevPageLastElemOffset+=qe-ht.y);R.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=it)}else R.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*R.scale),it=this.lineWidth,this.lineWidth=it*R.scale),this.pdf.text(R.text,ke.x+this.posX,ke.y+this.posY,{angle:R.angle,align:K,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=it)},re=function(R,K,ee,me){ee=ee||0,me=me||0,this.pdf.internal.out(n(R+ee)+" "+r(K+me)+" l")},ae=function(R,K,ee){return this.pdf.lines(R,K,ee,null,null)},te=function(R,K,ee,me,he,ke,je,Oe){this.pdf.internal.out([t(i(ee+R)),t(s(me+K)),t(i(he+R)),t(s(ke+K)),t(i(je+R)),t(s(Oe+K)),"c"].join(" "))},Se=function(R,K,ee,me){for(var he=2*Math.PI,ke=Math.PI/2;K>ee;)K-=he;var je=Math.abs(ee-K);je<he&&me&&(je=he-je);for(var Oe=[],He=me?-1:1,ze=K;je>1e-5;){var it=ze+He*Math.min(je,ke);Oe.push(Ae.call(this,R,ze,it)),je-=Math.abs(it-ze),ze=it}return Oe},Ae=function(R,K,ee){var me=(ee-K)/2,he=R*Math.cos(me),ke=R*Math.sin(me),je=he,Oe=-ke,He=je*je+Oe*Oe,ze=He+je*he+Oe*ke,it=4/3*(Math.sqrt(2*He*ze)-ze)/(je*ke-Oe*he),$e=je-it*Oe,vt=Oe+it*je,Ve=$e,pe=-vt,bt=me+K,ct=Math.cos(bt),Ge=Math.sin(bt);return{x1:R*Math.cos(K),y1:R*Math.sin(K),x2:$e*ct-vt*Ge,y2:$e*Ge+vt*ct,x3:Ve*ct-pe*Ge,y3:Ve*Ge+pe*ct,x4:R*Math.cos(ee),y4:R*Math.sin(ee)}},ge=function(R){return 180*R/Math.PI},ie=function(R,K,ee,me,he,ke){var je=R+.5*(ee-R),Oe=K+.5*(me-K),He=he+.5*(ee-he),ze=ke+.5*(me-ke),it=Math.min(R,he,je,He),$e=Math.max(R,he,je,He),vt=Math.min(K,ke,Oe,ze),Ve=Math.max(K,ke,Oe,ze);return new u(it,vt,$e-it,Ve-vt)},xe=function(R,K,ee,me,he,ke,je,Oe){var He,ze,it,$e,vt,Ve,pe,bt,ct,Ge,se,ce,we,qe,Be=ee-R,We=me-K,Je=he-ee,yt=ke-me,xt=je-he,ht=Oe-ke;for(ze=0;ze<41;ze++)ct=(pe=(it=R+(He=ze/40)*Be)+He*((vt=ee+He*Je)-it))+He*(vt+He*(he+He*xt-vt)-pe),Ge=(bt=($e=K+He*We)+He*((Ve=me+He*yt)-$e))+He*(Ve+He*(ke+He*ht-Ve)-bt),ze==0?(se=ct,ce=Ge,we=ct,qe=Ge):(se=Math.min(se,ct),ce=Math.min(ce,Ge),we=Math.max(we,ct),qe=Math.max(qe,Ge));return new u(Math.round(se),Math.round(ce),Math.round(we-se),Math.round(qe-ce))},Ee=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,K,ee=(R=this.ctx.lineDash,K=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:K}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Rt.API),function(e){var t=function(s){var o,u,h,p,x,y,N,b,j,T;for(u=[],h=0,p=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;p>h;h+=4)(x=(s.charCodeAt(h)<<24)+(s.charCodeAt(h+1)<<16)+(s.charCodeAt(h+2)<<8)+s.charCodeAt(h+3))!==0?(y=(x=((x=((x=((x=(x-(T=x%85))/85)-(j=x%85))/85)-(b=x%85))/85)-(N=x%85))/85)%85,u.push(y+33,N+33,b+33,j+33,T+33)):u.push(122);return function(P,E){for(var C=E;C>0;C--)P.pop()}(u,o.length),String.fromCharCode.apply(String,u)+"~>"},n=function(s){var o,u,h,p,x,y=String,N="length",b=255,j="charCodeAt",T="slice",P="replace";for(s[T](-2),s=s[T](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),h=[],p=0,x=(s+=o="uuuuu"[T](s[N]%5||5))[N];x>p;p+=5)u=52200625*(s[j](p)-33)+614125*(s[j](p+1)-33)+7225*(s[j](p+2)-33)+85*(s[j](p+3)-33)+(s[j](p+4)-33),h.push(b&u>>24,b&u>>16,b&u>>8,b&u);return function(E,C){for(var k=C;k>0;k--)E.pop()}(h,o[N]),y.fromCharCode.apply(y,h)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var u="",h=0;h<s.length;h+=2)u+=String.fromCharCode("0x"+(s[h]+s[h+1]));return u},i=function(s){for(var o=new Uint8Array(s.length),u=s.length;u--;)o[u]=s.charCodeAt(u);return s=(o=j2(o)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};e.processDataByFilters=function(s,o){var u=0,h=s||"",p=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":h=n(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=r(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(x){return("0"+x.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=i(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}}(Rt.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=function(h,p,x){var y=new XMLHttpRequest,N=0,b=function(j){var T=j.length,P=[],E=String.fromCharCode;for(N=0;N<T;N+=1)P.push(E(255&j.charCodeAt(N)));return P.join("")};if(y.open("GET",h,!p),y.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(y.onload=function(){y.status===200?x(b(this.responseText)):x(void 0)}),y.send(null),p&&y.status===200)return b(y.responseText)}(i,s,o)}catch{}return u}(t,n,r)},e.loadImageFile=e.loadFile}(Rt.API),function(e){function t(){return(Ut.html2canvas?Promise.resolve(Ut.html2canvas):El(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Ut.DOMPurify?Promise.resolve(Ut.DOMPurify):El(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var u=Tn(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(o,u){var h=document.createElement(o);for(var p in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[p]=u.style[p];return h},s=function o(u){var h=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),p=o.convert(Promise.resolve(),h);return p=(p=p.setProgress(1,o,1,[o])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,u){return o.__proto__=u||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,u){return this.then(function(){switch(u=u||function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(h){return this.set({src:i("div",{innerHTML:o,dompurify:h})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function h(p,x){for(var y=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),N=p.firstChild;N;N=N.nextSibling)x!==!0&&N.nodeType===1&&N.nodeName==="SCRIPT"||y.appendChild(h(N,x));return p.nodeType===1&&(p.nodeName==="CANVAS"?(y.width=p.width,y.height=p.height,y.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(y.value=p.value),y.addEventListener("load",function(){y.scrollTop=p.scrollTop,y.scrollLeft=p.scrollLeft},!0)),y}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var h=this.opt.jsPDF,p=this.opt.fontFaces,x=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:x,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var N=0;N<p.length;++N){var b=p[N],j=b.src.find(function(T){return T.format==="truetype"});j&&h.addFont(j.url,b.ref.name,b.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,h.context2d.save(!0),u(this.prop.container,y)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},s.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var u=Object.keys(o||{}).map(function(h){if(h in s.template.prop)return function(){this.prop[h]=o[h]};switch(h){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[h]=o[h]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(o,u){return this.then(function(){var h=o in s.template.prop?this.prop[o]:this.opt[o];return u?u(h):h})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function u(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(o=o||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,u,h,p){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,u,h,p){return this.setProgress(o?this.progress.val+o:null,u||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},s.prototype.then=function(o,u){var h=this;return this.thenCore(o,u,function(p,x){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(y){return h.updateProgress(null,p),y}).then(p,x).then(function(y){return h.updateProgress(1),y})})},s.prototype.thenCore=function(o,u,h){h=h||Promise.prototype.then,o&&(o=o.bind(this)),u&&(u=u.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),x=h.call(p,o,u);return s.convert(x,this.__proto__)},s.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},s.prototype.thenList=function(o){var u=this;return o.forEach(function(h){u=u.thenCore(h)}),u},s.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return s.convert(u,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Rt.getPageSize=function(o,u,h){if(Tn(o)==="object"){var p=o;o=p.orientation,u=p.unit||u,h=p.format||h}u=u||"mm",h=h||"a4",o=(""+(o||"P")).toLowerCase();var x,y=(""+h).toLowerCase(),N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":x=1;break;case"mm":x=72/25.4;break;case"cm":x=72/2.54;break;case"in":x=72;break;case"px":x=.75;break;case"pc":case"em":x=12;break;case"ex":x=6;break;default:throw"Invalid unit: "+u}var b,j=0,T=0;if(N.hasOwnProperty(y))j=N[y][1]/x,T=N[y][0]/x;else try{j=h[1],T=h[0]}catch{throw new Error("Invalid format: "+h)}if(o==="p"||o==="portrait")o="p",T>j&&(b=T,T=j,j=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",j>T&&(b=T,T=j,j=b)}return{width:T,height:j,unit:u,k:x,orientation:o}},e.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(R2):null;var h=new s(u);return u.worker?h:h.from(o).doCallback()}}(Rt.API),Rt.API.addJS=function(e){return t3=e,this.internal.events.subscribe("postPutResources",function(){t0=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t0+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),e3=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+t3+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t0!==void 0&&e3!==void 0&&this.internal.out("/Names <</JavaScript "+t0+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],u=r.exec(o);if(u!=null){var h=u[1];n.internal.newObjectDeferredBegin(h,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,x=[];for(s=0;s<p;s++){var y=n.internal.newObject();x.push(y);var N=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+N.objId+" 0 R /XYZ null null null]>> endobj")}var b=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<x.length;s++)n.internal.write("(page_"+(s+1)+")"+x[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+b+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var h=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Rt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,u){var h,p=this.decode.DCT_DECODE,x=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(h=function(y){for(var N,b=256*y.charCodeAt(4)+y.charCodeAt(5),j=y.length,T={width:0,height:0,numcomponents:1},P=4;P<j;P+=2){if(P+=b,t.indexOf(y.charCodeAt(P+1))!==-1){N=256*y.charCodeAt(P+5)+y.charCodeAt(P+6),T={width:256*y.charCodeAt(P+7)+y.charCodeAt(P+8),height:N,numcomponents:y.charCodeAt(P+9)};break}b=256*y.charCodeAt(P+2)+y.charCodeAt(P+3)}return T}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}x={data:n,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:p,index:r,alias:i}}return x}}(Rt.API);var au,n0,n3,r3,i3,OB=function(){var e,t,n;function r(s){var o,u,h,p,x,y,N,b,j,T,P,E,C,k;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},y=null;;){switch(o=this.readUInt32(),j=(function(){var M,B;for(B=[],M=0;M<4;++M)B.push(String.fromCharCode(this.data[this.pos++]));return B}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":y&&this.animation.frames.push(y),this.pos+=4,y={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},x=this.readUInt16(),p=this.readUInt16()||100,y.delay=1e3*x/p,y.disposeOp=this.data[this.pos++],y.blendOp=this.data[this.pos++],y.data=[];break;case"IDAT":case"fdAT":for(j==="fdAT"&&(this.pos+=4,o-=4),s=(y!=null?y.data:void 0)||this.imgData,E=0;0<=o?E<o:E>o;0<=o?++E:--E)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((T=h-this.transparency.indexed.length)>0)for(C=0;0<=T?C<T:C>T;0<=T?++C:--C)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":N=(P=this.read(o)).indexOf(0),b=String.fromCharCode.apply(String,P.slice(0,N)),this.text[b]=String.fromCharCode.apply(String,P.slice(N+1));break;case"IEND":return y&&this.animation.frames.push(y),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(k=this.colorType)===4||k===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,u;for(u=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*o),h=0,p=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function x(y,N,b,j){var T,P,E,C,k,M,B,ne,F,X,J,ve,W,z,re,ae,te,Se,Ae,ge,ie,xe=Math.ceil((p.width-y)/b),Ee=Math.ceil((p.height-N)/j),R=p.width==xe&&p.height==Ee;for(z=o*xe,ve=R?u:new Uint8Array(z*Ee),M=s.length,W=0,P=0;W<Ee&&h<M;){switch(s[h++]){case 0:for(C=te=0;te<z;C=te+=1)ve[P++]=s[h++];break;case 1:for(C=Se=0;Se<z;C=Se+=1)T=s[h++],k=C<o?0:ve[P-o],ve[P++]=(T+k)%256;break;case 2:for(C=Ae=0;Ae<z;C=Ae+=1)T=s[h++],E=(C-C%o)/o,re=W&&ve[(W-1)*z+E*o+C%o],ve[P++]=(re+T)%256;break;case 3:for(C=ge=0;ge<z;C=ge+=1)T=s[h++],E=(C-C%o)/o,k=C<o?0:ve[P-o],re=W&&ve[(W-1)*z+E*o+C%o],ve[P++]=(T+Math.floor((k+re)/2))%256;break;case 4:for(C=ie=0;ie<z;C=ie+=1)T=s[h++],E=(C-C%o)/o,k=C<o?0:ve[P-o],W===0?re=ae=0:(re=ve[(W-1)*z+E*o+C%o],ae=E&&ve[(W-1)*z+(E-1)*o+C%o]),B=k+re-ae,ne=Math.abs(B-k),X=Math.abs(B-re),J=Math.abs(B-ae),F=ne<=X&&ne<=J?k:X<=J?re:ae,ve[P++]=(T+F)%256;break;default:throw new Error("Invalid filter algorithm: "+s[h-1])}if(!R){var K=((N+W*j)*p.width+y)*o,ee=W*z;for(C=0;C<xe;C+=1){for(var me=0;me<o;me+=1)u[K++]=ve[ee++];K+=(b-1)*o}}W++}}return s=hB(s),p.interlaceMethod==1?(x(0,0,8,8),x(4,0,8,8),x(0,4,4,8),x(2,0,4,4),x(0,2,2,4),x(1,0,2,2),x(0,1,1,2)):x(0,0,1,1),u},r.prototype.decodePalette=function(){var s,o,u,h,p,x,y,N,b;for(u=this.palette,x=this.transparency.indexed||[],p=new Uint8Array((x.length||0)+u.length),h=0,s=0,o=y=0,N=u.length;y<N;o=y+=3)p[h++]=u[o],p[h++]=u[o+1],p[h++]=u[o+2],p[h++]=(b=x[s++])!=null?b:255;return p},r.prototype.copyToImageData=function(s,o){var u,h,p,x,y,N,b,j,T,P,E;if(h=this.colors,T=null,u=this.hasAlphaChannel,this.palette.length&&(T=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),h=4,u=!0),j=(p=s.data||s).length,y=T||o,x=N=0,h===1)for(;x<j;)b=T?4*o[x/4]:N,P=y[b++],p[x++]=P,p[x++]=P,p[x++]=P,p[x++]=u?y[b++]:255,N=b;else for(;x<j;)b=T?4*o[x/4]:N,p[x++]=y[b++],p[x++]=y[b++],p[x++]=y[b++],p[x++]=u?y[b++]:255,N=b},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ut)==="[object Window]"){try{t=Ut.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,u,h,p,x,y,N,b;if(this.animation){for(b=[],u=x=0,y=(N=this.animation.frames).length;x<y;u=++x)o=N[u],h=s.createImageData(o.width,o.height),p=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(h,p),o.imageData=h,b.push(o.image=e(h));return b}},r.prototype.renderFrame=function(s,o){var u,h,p;return u=(h=this.animation.frames)[o],p=h[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?s.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&s.putImageData(p.imageData,p.xOffset,p.yOffset),u.blendOp===0&&s.clearRect(u.xOffset,u.yOffset,u.width,u.height),s.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(s){var o,u,h,p,x,y,N=this;return u=0,y=this.animation,p=y.numFrames,h=y.frames,x=y.numPlays,(o=function(){var b,j;if(b=u++%p,j=h[b],N.renderFrame(s,b),p>1&&u/p<x)return N.animation._timeout=setTimeout(o,j.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,u;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(u=o.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),o.putImageData(u,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function DB(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var u=null,h=null;s&&(u=t,h=o,t+=3*o);var p=!0,x=[],y=0,N=null,b=0,j=null;for(this.width=n,this.height=r;p&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,j=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var T=e[t++];y=e[t++]|e[t++]<<8,N=e[t++],!(1&T)&&(N=null),b=T>>2&7,t++;break;case 254:for(;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var P=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,C=e[t++]|e[t++]<<8,k=e[t++]|e[t++]<<8,M=e[t++],B=M>>6&1,ne=1<<(7&M)+1,F=u,X=h,J=!1;M>>7&&(J=!0,F=t,X=ne,t+=3*ne);var ve=t;for(t++;;){var W;if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}x.push({x:P,y:E,width:C,height:k,has_local_palette:J,palette_offset:F,palette_size:X,data_offset:ve,data_length:t-ve,transparent_index:N,interlaced:!!B,delay:y,disposal:b});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return j},this.frameInfo=function(z){if(z<0||z>=x.length)throw new Error("Frame index out of range.");return x[z]},this.decodeAndBlitFrameBGRA=function(z,re){var ae=this.frameInfo(z),te=ae.width*ae.height,Se=new Uint8Array(te);s3(e,ae.data_offset,Se,te);var Ae=ae.palette_offset,ge=ae.transparent_index;ge===null&&(ge=256);var ie=ae.width,xe=n-ie,Ee=ie,R=4*(ae.y*n+ae.x),K=4*((ae.y+ae.height)*n+ae.x),ee=R,me=4*xe;ae.interlaced===!0&&(me+=4*n*7);for(var he=8,ke=0,je=Se.length;ke<je;++ke){var Oe=Se[ke];if(Ee===0&&(Ee=ie,(ee+=me)>=K&&(me=4*xe+4*n*(he-1),ee=R+(ie+xe)*(he<<1),he>>=1)),Oe===ge)ee+=4;else{var He=e[Ae+3*Oe],ze=e[Ae+3*Oe+1],it=e[Ae+3*Oe+2];re[ee++]=it,re[ee++]=ze,re[ee++]=He,re[ee++]=255}--Ee}},this.decodeAndBlitFrameRGBA=function(z,re){var ae=this.frameInfo(z),te=ae.width*ae.height,Se=new Uint8Array(te);s3(e,ae.data_offset,Se,te);var Ae=ae.palette_offset,ge=ae.transparent_index;ge===null&&(ge=256);var ie=ae.width,xe=n-ie,Ee=ie,R=4*(ae.y*n+ae.x),K=4*((ae.y+ae.height)*n+ae.x),ee=R,me=4*xe;ae.interlaced===!0&&(me+=4*n*7);for(var he=8,ke=0,je=Se.length;ke<je;++ke){var Oe=Se[ke];if(Ee===0&&(Ee=ie,(ee+=me)>=K&&(me=4*xe+4*n*(he-1),ee=R+(ie+xe)*(he<<1),he>>=1)),Oe===ge)ee+=4;else{var He=e[Ae+3*Oe],ze=e[Ae+3*Oe+1],it=e[Ae+3*Oe+2];re[ee++]=He,re[ee++]=ze,re[ee++]=it,re[ee++]=255}--Ee}}}function s3(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,u=o+1,h=i+1,p=(1<<h)-1,x=0,y=0,N=0,b=e[t++],j=new Int32Array(4096),T=null;;){for(;x<16&&b!==0;)y|=e[t++]<<x,x+=8,b===1?b=e[t++]:--b;if(x<h)break;var P=y&p;if(y>>=h,x-=h,P!==s){if(P===o)break;for(var E=P<u?P:T,C=0,k=E;k>s;)k=j[k]>>8,++C;var M=k;if(N+C+(E!==P?1:0)>r)return void Dn.log("Warning, gif stream longer than expected.");n[N++]=M;var B=N+=C;for(E!==P&&(n[N++]=M),k=E;C--;)k=j[k],n[--B]=255&k,k>>=8;T!==null&&u<4096&&(j[u++]=T<<8|M,u>=p+1&&h<12&&(++h,p=p<<1|1)),T=P}else u=o+1,p=(1<<(h=i+1))-1,T=null}return N!==r&&Dn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Bm(e){var t,n,r,i,s,o=Math.floor,u=new Array(64),h=new Array(64),p=new Array(64),x=new Array(64),y=new Array(65535),N=new Array(65535),b=new Array(64),j=new Array(64),T=[],P=0,E=7,C=new Array(64),k=new Array(64),M=new Array(64),B=new Array(256),ne=new Array(2048),F=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],X=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],ve=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],re=[0,1,2,3,4,5,6,7,8,9,10,11],ae=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Se(R,K){for(var ee=0,me=0,he=new Array,ke=1;ke<=16;ke++){for(var je=1;je<=R[ke];je++)he[K[me]]=[],he[K[me]][0]=ee,he[K[me]][1]=ke,me++,ee++;ee*=2}return he}function Ae(R){for(var K=R[0],ee=R[1]-1;ee>=0;)K&1<<ee&&(P|=1<<E),ee--,--E<0&&(P==255?(ge(255),ge(0)):ge(P),E=7,P=0)}function ge(R){T.push(R)}function ie(R){ge(R>>8&255),ge(255&R)}function xe(R,K,ee,me,he){for(var ke,je=he[0],Oe=he[240],He=function(Ge,se){var ce,we,qe,Be,We,Je,yt,xt,ht,Mt,dt=0;for(ht=0;ht<8;++ht){ce=Ge[dt],we=Ge[dt+1],qe=Ge[dt+2],Be=Ge[dt+3],We=Ge[dt+4],Je=Ge[dt+5],yt=Ge[dt+6];var kn=ce+(xt=Ge[dt+7]),Et=ce-xt,lt=we+yt,Bt=we-yt,Pt=qe+Je,un=qe-Je,nn=Be+We,Js=Be-We,qn=kn+nn,Xt=kn-nn,ui=lt+Pt,Wn=lt-Pt;Ge[dt]=qn+ui,Ge[dt+4]=qn-ui;var zt=.707106781*(Wn+Xt);Ge[dt+2]=Xt+zt,Ge[dt+6]=Xt-zt;var Zt=.382683433*((qn=Js+un)-(Wn=Bt+Et)),ea=.5411961*qn+Zt,pn=1.306562965*Wn+Zt,di=.707106781*(ui=un+Bt),Bi=Et+di,_t=Et-di;Ge[dt+5]=_t+ea,Ge[dt+3]=_t-ea,Ge[dt+1]=Bi+pn,Ge[dt+7]=Bi-pn,dt+=8}for(dt=0,ht=0;ht<8;++ht){ce=Ge[dt],we=Ge[dt+8],qe=Ge[dt+16],Be=Ge[dt+24],We=Ge[dt+32],Je=Ge[dt+40],yt=Ge[dt+48];var hs=ce+(xt=Ge[dt+56]),ei=ce-xt,ti=we+yt,mn=we-yt,jn=qe+Je,Mn=qe-Je,gt=Be+We,bi=Be-We,Fi=hs+gt,Rn=hs-gt,ni=ti+jn,Ui=ti-jn;Ge[dt]=Fi+ni,Ge[dt+32]=Fi-ni;var hi=.707106781*(Ui+Rn);Ge[dt+16]=Rn+hi,Ge[dt+48]=Rn-hi;var Nr=.382683433*((Fi=bi+Mn)-(Ui=mn+ei)),Ya=.5411961*Fi+Nr,To=1.306562965*Ui+Nr,fi=.707106781*(ni=Mn+mn),mr=ei+fi,bn=ei-fi;Ge[dt+40]=bn+Ya,Ge[dt+24]=bn-Ya,Ge[dt+8]=mr+To,Ge[dt+56]=mr-To,dt++}for(ht=0;ht<64;++ht)Mt=Ge[ht]*se[ht],b[ht]=Mt>0?Mt+.5|0:Mt-.5|0;return b}(R,K),ze=0;ze<64;++ze)j[F[ze]]=He[ze];var it=j[0]-ee;ee=j[0],it==0?Ae(me[0]):(Ae(me[N[ke=32767+it]]),Ae(y[ke]));for(var $e=63;$e>0&&j[$e]==0;)$e--;if($e==0)return Ae(je),ee;for(var vt,Ve=1;Ve<=$e;){for(var pe=Ve;j[Ve]==0&&Ve<=$e;)++Ve;var bt=Ve-pe;if(bt>=16){vt=bt>>4;for(var ct=1;ct<=vt;++ct)Ae(Oe);bt&=15}ke=32767+j[Ve],Ae(he[(bt<<4)+N[ke]]),Ae(y[ke]),Ve++}return $e!=63&&Ae(je),ee}function Ee(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(K){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],me=0;me<64;me++){var he=o((ee[me]*K+50)/100);he=Math.min(Math.max(he,1),255),u[F[me]]=he}for(var ke=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],je=0;je<64;je++){var Oe=o((ke[je]*K+50)/100);Oe=Math.min(Math.max(Oe,1),255),h[F[je]]=Oe}for(var He=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,it=0;it<8;it++)for(var $e=0;$e<8;$e++)p[ze]=1/(u[F[ze]]*He[it]*He[$e]*8),x[ze]=1/(h[F[ze]]*He[it]*He[$e]*8),ze++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,K){K&&Ee(K),T=new Array,P=0,E=7,ie(65496),ie(65504),ie(16),ge(74),ge(70),ge(73),ge(70),ge(0),ge(1),ge(1),ge(0),ie(1),ie(1),ge(0),ge(0),function(){ie(65499),ie(132),ge(0);for(var we=0;we<64;we++)ge(u[we]);ge(1);for(var qe=0;qe<64;qe++)ge(h[qe])}(),function(we,qe){ie(65472),ie(17),ge(8),ie(qe),ie(we),ge(3),ge(1),ge(17),ge(0),ge(2),ge(17),ge(1),ge(3),ge(17),ge(1)}(R.width,R.height),function(){ie(65476),ie(418),ge(0);for(var we=0;we<16;we++)ge(X[we+1]);for(var qe=0;qe<=11;qe++)ge(J[qe]);ge(16);for(var Be=0;Be<16;Be++)ge(ve[Be+1]);for(var We=0;We<=161;We++)ge(W[We]);ge(1);for(var Je=0;Je<16;Je++)ge(z[Je+1]);for(var yt=0;yt<=11;yt++)ge(re[yt]);ge(17);for(var xt=0;xt<16;xt++)ge(ae[xt+1]);for(var ht=0;ht<=161;ht++)ge(te[ht])}(),ie(65498),ie(12),ge(3),ge(1),ge(0),ge(2),ge(17),ge(3),ge(17),ge(0),ge(63),ge(0);var ee=0,me=0,he=0;P=0,E=7,this.encode.displayName="_encode_";for(var ke,je,Oe,He,ze,it,$e,vt,Ve,pe=R.data,bt=R.width,ct=R.height,Ge=4*bt,se=0;se<ct;){for(ke=0;ke<Ge;){for(ze=Ge*se+ke,$e=-1,vt=0,Ve=0;Ve<64;Ve++)it=ze+(vt=Ve>>3)*Ge+($e=4*(7&Ve)),se+vt>=ct&&(it-=Ge*(se+1+vt-ct)),ke+$e>=Ge&&(it-=ke+$e-Ge+4),je=pe[it++],Oe=pe[it++],He=pe[it++],C[Ve]=(ne[je]+ne[Oe+256>>0]+ne[He+512>>0]>>16)-128,k[Ve]=(ne[je+768>>0]+ne[Oe+1024>>0]+ne[He+1280>>0]>>16)-128,M[Ve]=(ne[je+1280>>0]+ne[Oe+1536>>0]+ne[He+1792>>0]>>16)-128;ee=xe(C,p,ee,t,r),me=xe(k,x,me,n,i),he=xe(M,x,he,n,i),ke+=32}se+=8}if(E>=0){var ce=[];ce[1]=E+1,ce[0]=(1<<E+1)-1,Ae(ce)}return ie(65497),new Uint8Array(T)},e=e||50,function(){for(var R=String.fromCharCode,K=0;K<256;K++)B[K]=R(K)}(),t=Se(X,J),n=Se(z,re),r=Se(ve,W),i=Se(ae,te),function(){for(var R=1,K=2,ee=1;ee<=15;ee++){for(var me=R;me<K;me++)N[32767+me]=ee,y[32767+me]=[],y[32767+me][1]=ee,y[32767+me][0]=me;for(var he=-(K-1);he<=-R;he++)N[32767+he]=ee,y[32767+he]=[],y[32767+he][1]=ee,y[32767+he][0]=K-1+he;R<<=1,K<<=1}}(),function(){for(var R=0;R<256;R++)ne[R]=19595*R,ne[R+256>>0]=38470*R,ne[R+512>>0]=7471*R+32768,ne[R+768>>0]=-11059*R,ne[R+1024>>0]=-21709*R,ne[R+1280>>0]=32768*R+8421375,ne[R+1536>>0]=-27439*R,ne[R+1792>>0]=-5329*R}(),Ee(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function la(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function a3(e){function t(X){if(!X)throw Error("assert :P")}function n(X,J,ve){for(var W=0;4>W;W++)if(X[J+W]!=ve.charCodeAt(W))return!0;return!1}function r(X,J,ve,W,z){for(var re=0;re<z;re++)X[J+re]=ve[W+re]}function i(X,J,ve,W){for(var z=0;z<W;z++)X[J+z]=ve}function s(X){return new Int32Array(X)}function o(X,J){for(var ve=[],W=0;W<X;W++)ve.push(new J);return ve}function u(X,J){var ve=[];return function W(z,re,ae){for(var te=ae[re],Se=0;Se<te&&(z.push(ae.length>re+1?[]:new J),!(ae.length<re+1));Se++)W(z[Se],re+1,ae)}(ve,0,X),ve}var h=function(){var X=this;function J(v,A){for(var L=1<<A-1>>>0;v&L;)L>>>=1;return L?(v&L-1)+L:v}function ve(v,A,L,O,H){t(!(O%L));do v[A+(O-=L)]=H;while(0<O)}function W(v,A,L,O,H){if(t(2328>=H),512>=H)var $=s(512);else if(($=s(H))==null)return 0;return function(Y,Z,Q,de,Ce,Me){var Re,Le,tt=Z,Ye=1<<Q,_e=s(16),Te=s(16);for(t(Ce!=0),t(de!=null),t(Y!=null),t(0<Q),Le=0;Le<Ce;++Le){if(15<de[Le])return 0;++_e[de[Le]]}if(_e[0]==Ce)return 0;for(Te[1]=0,Re=1;15>Re;++Re){if(_e[Re]>1<<Re)return 0;Te[Re+1]=Te[Re]+_e[Re]}for(Le=0;Le<Ce;++Le)Re=de[Le],0<de[Le]&&(Me[Te[Re]++]=Le);if(Te[15]==1)return(de=new z).g=0,de.value=Me[0],ve(Y,tt,1,Ye,de),Ye;var Ze,at=-1,Qe=Ye-1,wt=0,ft=1,Dt=1,pt=1<<Q;for(Le=0,Re=1,Ce=2;Re<=Q;++Re,Ce<<=1){if(ft+=Dt<<=1,0>(Dt-=_e[Re]))return 0;for(;0<_e[Re];--_e[Re])(de=new z).g=Re,de.value=Me[Le++],ve(Y,tt+wt,Ce,pt,de),wt=J(wt,Re)}for(Re=Q+1,Ce=2;15>=Re;++Re,Ce<<=1){if(ft+=Dt<<=1,0>(Dt-=_e[Re]))return 0;for(;0<_e[Re];--_e[Re]){if(de=new z,(wt&Qe)!=at){for(tt+=pt,Ze=1<<(at=Re)-Q;15>at&&!(0>=(Ze-=_e[at]));)++at,Ze<<=1;Ye+=pt=1<<(Ze=at-Q),Y[Z+(at=wt&Qe)].g=Ze+Q,Y[Z+at].value=tt-Z-at}de.g=Re-Q,de.value=Me[Le++],ve(Y,tt+(wt>>Q),Ce,pt,de),wt=J(wt,Re)}}return ft!=2*Te[15]-1?0:Ye}(v,A,L,O,H,$)}function z(){this.value=this.g=0}function re(){this.value=this.g=0}function ae(){this.G=o(5,z),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ln,re)}function te(v,A,L,O){t(v!=null),t(A!=null),t(2147483648>O),v.Ca=254,v.I=0,v.b=-8,v.Ka=0,v.oa=A,v.pa=L,v.Jd=A,v.Yc=L+O,v.Zc=4<=O?L+O-4+1:L,ke(v)}function Se(v,A){for(var L=0;0<A--;)L|=Oe(v,128)<<A;return L}function Ae(v,A){var L=Se(v,A);return je(v)?-L:L}function ge(v,A,L,O){var H,$=0;for(t(v!=null),t(A!=null),t(4294967288>O),v.Sb=O,v.Ra=0,v.u=0,v.h=0,4<O&&(O=4),H=0;H<O;++H)$+=A[L+H]<<8*H;v.Ra=$,v.bb=O,v.oa=A,v.pa=L}function ie(v){for(;8<=v.u&&v.bb<v.Sb;)v.Ra>>>=8,v.Ra+=v.oa[v.pa+v.bb]<<Bs-8>>>0,++v.bb,v.u-=8;ee(v)&&(v.h=1,v.u=0)}function xe(v,A){if(t(0<=A),!v.h&&A<=ka){var L=K(v)&Ro[A];return v.u+=A,ie(v),L}return v.h=1,v.u=0}function Ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function K(v){return v.Ra>>>(v.u&Bs-1)>>>0}function ee(v){return t(v.bb<=v.Sb),v.h||v.bb==v.Sb&&v.u>Bs}function me(v,A){v.u=A,v.h=ee(v)}function he(v){v.u>=rn&&(t(v.u>=rn),ie(v))}function ke(v){t(v!=null&&v.oa!=null),v.pa<v.Zc?(v.I=(v.oa[v.pa++]|v.I<<8)>>>0,v.b+=8):(t(v!=null&&v.oa!=null),v.pa<v.Yc?(v.b+=8,v.I=v.oa[v.pa++]|v.I<<8):v.Ka?v.b=0:(v.I<<=8,v.b+=8,v.Ka=1))}function je(v){return Se(v,1)}function Oe(v,A){var L=v.Ca;0>v.b&&ke(v);var O=v.b,H=L*A>>>8,$=(v.I>>>O>H)+0;for($?(L-=H,v.I-=H+1<<O>>>0):L=H+1,O=L,H=0;256<=O;)H+=8,O>>=8;return O=7^H+Wr[O],v.b-=O,v.Ca=(L<<O)-1,$}function He(v,A,L){v[A+0]=L>>24&255,v[A+1]=L>>16&255,v[A+2]=L>>8&255,v[A+3]=L>>0&255}function ze(v,A){return v[A+0]<<0|v[A+1]<<8}function it(v,A){return ze(v,A)|v[A+2]<<16}function $e(v,A){return ze(v,A)|ze(v,A+2)<<16}function vt(v,A){var L=1<<A;return t(v!=null),t(0<A),v.X=s(L),v.X==null?0:(v.Mb=32-A,v.Xa=A,1)}function Ve(v,A){t(v!=null),t(A!=null),t(v.Xa==A.Xa),r(A.X,0,v.X,0,1<<A.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function bt(v,A,L,O){t(L!=null),t(O!=null);var H=L[0],$=O[0];return H==0&&(H=(v*$+A/2)/A),$==0&&($=(A*H+v/2)/v),0>=H||0>=$?0:(L[0]=H,O[0]=$,1)}function ct(v,A){return v+(1<<A)-1>>>A}function Ge(v,A){return((4278255360&v)+(4278255360&A)>>>0&4278255360)+((16711935&v)+(16711935&A)>>>0&16711935)>>>0}function se(v,A){X[A]=function(L,O,H,$,Y,Z,Q){var de;for(de=0;de<Y;++de){var Ce=X[v](Z[Q+de-1],H,$+de);Z[Q+de]=Ge(L[O+de],Ce)}}}function ce(){this.ud=this.hd=this.jd=0}function we(v,A){return((4278124286&(v^A))>>>1)+(v&A)>>>0}function qe(v){return 0<=v&&256>v?v:0>v?0:255<v?255:void 0}function Be(v,A){return qe(v+(v-A+.5>>1))}function We(v,A,L){return Math.abs(A-L)-Math.abs(v-L)}function Je(v,A,L,O,H,$,Y){for(O=$[Y-1],L=0;L<H;++L)$[Y+L]=O=Ge(v[A+L],O)}function yt(v,A,L,O,H){var $;for($=0;$<L;++$){var Y=v[A+$],Z=Y>>8&255,Q=16711935&(Q=(Q=16711935&Y)+((Z<<16)+Z));O[H+$]=(4278255360&Y)+Q>>>0}}function xt(v,A){A.jd=v>>0&255,A.hd=v>>8&255,A.ud=v>>16&255}function ht(v,A,L,O,H,$){var Y;for(Y=0;Y<O;++Y){var Z=A[L+Y],Q=Z>>>8,de=Z,Ce=255&(Ce=(Ce=Z>>>16)+((v.jd<<24>>24)*(Q<<24>>24)>>>5));de=255&(de=(de=de+((v.hd<<24>>24)*(Q<<24>>24)>>>5))+((v.ud<<24>>24)*(Ce<<24>>24)>>>5)),H[$+Y]=(4278255360&Z)+(Ce<<16)+de}}function Mt(v,A,L,O,H){X[A]=function($,Y,Z,Q,de,Ce,Me,Re,Le){for(Q=Me;Q<Re;++Q)for(Me=0;Me<Le;++Me)de[Ce++]=H(Z[O($[Y++])])},X[v]=function($,Y,Z,Q,de,Ce,Me){var Re=8>>$.b,Le=$.Ea,tt=$.K[0],Ye=$.w;if(8>Re)for($=(1<<$.b)-1,Ye=(1<<Re)-1;Y<Z;++Y){var _e,Te=0;for(_e=0;_e<Le;++_e)_e&$||(Te=O(Q[de++])),Ce[Me++]=H(tt[Te&Ye]),Te>>=Re}else X["VP8LMapColor"+L](Q,de,tt,Ye,Ce,Me,Y,Z,Le)}}function dt(v,A,L,O,H){for(L=A+L;A<L;){var $=v[A++];O[H++]=$>>16&255,O[H++]=$>>8&255,O[H++]=$>>0&255}}function kn(v,A,L,O,H){for(L=A+L;A<L;){var $=v[A++];O[H++]=$>>16&255,O[H++]=$>>8&255,O[H++]=$>>0&255,O[H++]=$>>24&255}}function Et(v,A,L,O,H){for(L=A+L;A<L;){var $=(Y=v[A++])>>16&240|Y>>12&15,Y=Y>>0&240|Y>>28&15;O[H++]=$,O[H++]=Y}}function lt(v,A,L,O,H){for(L=A+L;A<L;){var $=(Y=v[A++])>>16&248|Y>>13&7,Y=Y>>5&224|Y>>3&31;O[H++]=$,O[H++]=Y}}function Bt(v,A,L,O,H){for(L=A+L;A<L;){var $=v[A++];O[H++]=$>>0&255,O[H++]=$>>8&255,O[H++]=$>>16&255}}function Pt(v,A,L,O,H,$){if($==0)for(L=A+L;A<L;)He(O,(($=v[A++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),H+=32;else r(O,H,v,A,L)}function un(v,A){X[A][0]=X[v+"0"],X[A][1]=X[v+"1"],X[A][2]=X[v+"2"],X[A][3]=X[v+"3"],X[A][4]=X[v+"4"],X[A][5]=X[v+"5"],X[A][6]=X[v+"6"],X[A][7]=X[v+"7"],X[A][8]=X[v+"8"],X[A][9]=X[v+"9"],X[A][10]=X[v+"10"],X[A][11]=X[v+"11"],X[A][12]=X[v+"12"],X[A][13]=X[v+"13"],X[A][14]=X[v+"0"],X[A][15]=X[v+"0"]}function nn(v){return v==xp||v==yp||v==uf||v==vp}function Js(){this.eb=[],this.size=this.A=this.fb=0}function qn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Xt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Js,this.f.kb=new qn,this.sd=null}function ui(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Wn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function zt(v){return alert("todo:WebPSamplerProcessPlane"),v.T}function Zt(v,A){var L=v.T,O=A.ba.f.RGBA,H=O.eb,$=O.fb+v.ka*O.A,Y=Vs[A.ba.S],Z=v.y,Q=v.O,de=v.f,Ce=v.N,Me=v.ea,Re=v.W,Le=A.cc,tt=A.dc,Ye=A.Mc,_e=A.Nc,Te=v.ka,Ze=v.ka+v.T,at=v.U,Qe=at+1>>1;for(Te==0?Y(Z,Q,null,null,de,Ce,Me,Re,de,Ce,Me,Re,H,$,null,null,at):(Y(A.ec,A.fc,Z,Q,Le,tt,Ye,_e,de,Ce,Me,Re,H,$-O.A,H,$,at),++L);Te+2<Ze;Te+=2)Le=de,tt=Ce,Ye=Me,_e=Re,Ce+=v.Rc,Re+=v.Rc,$+=2*O.A,Y(Z,(Q+=2*v.fa)-v.fa,Z,Q,Le,tt,Ye,_e,de,Ce,Me,Re,H,$-O.A,H,$,at);return Q+=v.fa,v.j+Ze<v.o?(r(A.ec,A.fc,Z,Q,at),r(A.cc,A.dc,de,Ce,Qe),r(A.Mc,A.Nc,Me,Re,Qe),L--):1&Ze||Y(Z,Q,null,null,de,Ce,Me,Re,de,Ce,Me,Re,H,$+O.A,null,null,at),L}function ea(v,A,L){var O=v.F,H=[v.J];if(O!=null){var $=v.U,Y=A.ba.S,Z=Y==cf||Y==uf;A=A.ba.f.RGBA;var Q=[0],de=v.ka;Q[0]=v.T,v.Kb&&(de==0?--Q[0]:(--de,H[0]-=v.width),v.j+v.ka+v.T==v.o&&(Q[0]=v.o-v.j-de));var Ce=A.eb;de=A.fb+de*A.A,v=Un(O,H[0],v.width,$,Q,Ce,de+(Z?0:3),A.A),t(L==Q),v&&nn(Y)&&es(Ce,de,Z,$,Q,A.A)}return 0}function pn(v){var A=v.ma,L=A.ba.S,O=11>L,H=L==of||L==lf||L==cf||L==gp||L==12||nn(L);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!Qa(A.Oa,v,H?11:12))return 0;if(H&&nn(L)&&nt(),v.da)alert("todo:use_scaling");else{if(O){if(A.Ib=zt,v.Kb){if(L=v.U+1>>1,A.memory=s(v.U+2*L),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+v.U,A.Mc=A.cc,A.Nc=A.dc+L,A.Ib=Zt,nt()}}else alert("todo:EmitYUV");H&&(A.Jb=ea,O&&Pe())}if(O&&!qy){for(v=0;256>v;++v)LC[v]=89858*(v-128)+hf>>df,DC[v]=-22014*(v-128)+hf,OC[v]=-45773*(v-128),PC[v]=113618*(v-128)+hf>>df;for(v=gd;v<Np;++v)A=76283*(v-16)+hf>>df,MC[v-gd]=gr(A,255),RC[v-gd]=gr(A+8>>4,15);qy=1}return 1}function di(v){var A=v.ma,L=v.U,O=v.T;return t(!(1&v.ka)),0>=L||0>=O?0:(L=A.Ib(v,A),A.Jb!=null&&A.Jb(v,A,L),A.Dc+=L,1)}function Bi(v){v.ma.memory=null}function _t(v,A,L,O){return xe(v,8)!=47?0:(A[0]=xe(v,14)+1,L[0]=xe(v,14)+1,O[0]=xe(v,1),xe(v,3)!=0?0:!v.h)}function hs(v,A){if(4>v)return v+1;var L=v-2>>1;return(2+(1&v)<<L)+xe(A,L)+1}function ei(v,A){return 120<A?A-120:1<=(L=((L=yC[A-1])>>4)*v+(8-(15&L)))?L:1;var L}function ti(v,A,L){var O=K(L),H=v[A+=255&O].g-8;return 0<H&&(me(L,L.u+8),O=K(L),A+=v[A].value,A+=O&(1<<H)-1),me(L,L.u+v[A].g),v[A].value}function mn(v,A,L){return L.g+=v.g,L.value+=v.value<<A>>>0,t(8>=L.g),v.g}function jn(v,A,L){var O=v.xc;return t((A=O==0?0:v.vc[v.md*(L>>O)+(A>>O)])<v.Wb),v.Ya[A]}function Mn(v,A,L,O){var H=v.ab,$=v.c*A,Y=v.C;A=Y+A;var Z=L,Q=O;for(O=v.Ta,L=v.Ua;0<H--;){var de=v.gc[H],Ce=Y,Me=A,Re=Z,Le=Q,tt=(Q=O,Z=L,de.Ea);switch(t(Ce<Me),t(Me<=de.nc),de.hc){case 2:l(Re,Le,(Me-Ce)*tt,Q,Z);break;case 0:var Ye=Ce,_e=Me,Te=Q,Ze=Z,at=(pt=de).Ea;Ye==0&&(V(Re,Le,null,null,1,Te,Ze),Je(Re,Le+1,0,0,at-1,Te,Ze+1),Le+=at,Ze+=at,++Ye);for(var Qe=1<<pt.b,wt=Qe-1,ft=ct(at,pt.b),Dt=pt.K,pt=pt.w+(Ye>>pt.b)*ft;Ye<_e;){var Nn=Dt,Cn=pt,yn=1;for(a(Re,Le,Te,Ze-at,1,Te,Ze);yn<at;){var cn=(yn&~wt)+Qe;cn>at&&(cn=at),(0,w[Nn[Cn++]>>8&15])(Re,Le+ +yn,Te,Ze+yn-at,cn-yn,Te,Ze+yn),yn=cn}Le+=at,Ze+=at,++Ye&wt||(pt+=ft)}Me!=de.nc&&r(Q,Z-tt,Q,Z+(Me-Ce-1)*tt,tt);break;case 1:for(tt=Re,_e=Le,at=(Re=de.Ea)-(Ze=Re&~(Te=(Le=1<<de.b)-1)),Ye=ct(Re,de.b),Qe=de.K,de=de.w+(Ce>>de.b)*Ye;Ce<Me;){for(wt=Qe,ft=de,Dt=new ce,pt=_e+Ze,Nn=_e+Re;_e<pt;)xt(wt[ft++],Dt),S(Dt,tt,_e,Le,Q,Z),_e+=Le,Z+=Le;_e<Nn&&(xt(wt[ft++],Dt),S(Dt,tt,_e,at,Q,Z),_e+=at,Z+=at),++Ce&Te||(de+=Ye)}break;case 3:if(Re==Q&&Le==Z&&0<de.b){for(_e=Q,Re=tt=Z+(Me-Ce)*tt-(Ze=(Me-Ce)*ct(de.Ea,de.b)),Le=Q,Te=Z,Ye=[],Ze=(at=Ze)-1;0<=Ze;--Ze)Ye[Ze]=Le[Te+Ze];for(Ze=at-1;0<=Ze;--Ze)_e[Re+Ze]=Ye[Ze];c(de,Ce,Me,Q,tt,Q,Z)}else c(de,Ce,Me,Re,Le,Q,Z)}Z=O,Q=L}Q!=L&&r(O,L,Z,Q,$)}function gt(v,A){var L=v.V,O=v.Ba+v.c*v.C,H=A-v.C;if(t(A<=v.l.o),t(16>=H),0<H){var $=v.l,Y=v.Ta,Z=v.Ua,Q=$.width;if(Mn(v,H,L,O),H=Z=[Z],t((L=v.C)<(O=A)),t($.v<$.va),O>$.o&&(O=$.o),L<$.j){var de=$.j-L;L=$.j,H[0]+=de*Q}if(L>=O?L=0:(H[0]+=4*$.v,$.ka=L-$.j,$.U=$.va-$.v,$.T=O-L,L=1),L){if(Z=Z[0],11>(L=v.ca).S){var Ce=L.f.RGBA,Me=(O=L.S,H=$.U,$=$.T,de=Ce.eb,Ce.A),Re=$;for(Ce=Ce.fb+v.Ma*Ce.A;0<Re--;){var Le=Y,tt=Z,Ye=H,_e=de,Te=Ce;switch(O){case af:I(Le,tt,Ye,_e,Te);break;case of:D(Le,tt,Ye,_e,Te);break;case xp:D(Le,tt,Ye,_e,Te),es(_e,Te,0,Ye,1,0);break;case Dy:ue(Le,tt,Ye,_e,Te);break;case lf:Pt(Le,tt,Ye,_e,Te,1);break;case yp:Pt(Le,tt,Ye,_e,Te,1),es(_e,Te,0,Ye,1,0);break;case cf:Pt(Le,tt,Ye,_e,Te,0);break;case uf:Pt(Le,tt,Ye,_e,Te,0),es(_e,Te,1,Ye,1,0);break;case gp:U(Le,tt,Ye,_e,Te);break;case vp:U(Le,tt,Ye,_e,Te),Fn(_e,Te,Ye,1,0);break;case My:G(Le,tt,Ye,_e,Te);break;default:t(0)}Z+=Q,Ce+=Me}v.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");t(v.Ma<=L.height)}}v.C=A,t(v.C<=v.i)}function bi(v){var A;if(0<v.ua)return 0;for(A=0;A<v.Wb;++A){var L=v.Ya[A].G,O=v.Ya[A].H;if(0<L[1][O[1]+0].g||0<L[2][O[2]+0].g||0<L[3][O[3]+0].g)return 0}return 1}function Fi(v,A,L,O,H,$){if(v.Z!=0){var Y=v.qd,Z=v.rd;for(t(Fo[v.Z]!=null);A<L;++A)Fo[v.Z](Y,Z,O,H,O,H,$),Y=O,Z=H,H+=$;v.qd=Y,v.rd=Z}}function Rn(v,A){var L=v.l.ma,O=L.Z==0||L.Z==1?v.l.j:v.C;if(O=v.C<O?O:v.C,t(A<=v.l.o),A>O){var H=v.l.width,$=L.ca,Y=L.tb+H*O,Z=v.V,Q=v.Ba+v.c*O,de=v.gc;t(v.ab==1),t(de[0].hc==3),m(de[0],O,A,Z,Q,$,Y),Fi(L,O,A,$,Y,H)}v.C=v.Ma=A}function ni(v,A,L,O,H,$,Y){var Z=v.$/O,Q=v.$%O,de=v.m,Ce=v.s,Me=L+v.$,Re=Me;H=L+O*H;var Le=L+O*$,tt=280+Ce.ua,Ye=v.Pb?Z:16777216,_e=0<Ce.ua?Ce.Wa:null,Te=Ce.wc,Ze=Me<Le?jn(Ce,Q,Z):null;t(v.C<$),t(Le<=H);var at=!1;e:for(;;){for(;at||Me<Le;){var Qe=0;if(Z>=Ye){var wt=Me-L;t((Ye=v).Pb),Ye.wd=Ye.m,Ye.xd=wt,0<Ye.s.ua&&Ve(Ye.s.Wa,Ye.s.vb),Ye=Z+wC}if(Q&Te||(Ze=jn(Ce,Q,Z)),t(Ze!=null),Ze.Qb&&(A[Me]=Ze.qb,at=!0),!at)if(he(de),Ze.jc){Qe=de,wt=A;var ft=Me,Dt=Ze.pd[K(Qe)&Ln-1];t(Ze.jc),256>Dt.g?(me(Qe,Qe.u+Dt.g),wt[ft]=Dt.value,Qe=0):(me(Qe,Qe.u+Dt.g-256),t(256<=Dt.value),Qe=Dt.value),Qe==0&&(at=!0)}else Qe=ti(Ze.G[0],Ze.H[0],de);if(de.h)break;if(at||256>Qe){if(!at)if(Ze.nd)A[Me]=(Ze.qb|Qe<<8)>>>0;else{if(he(de),at=ti(Ze.G[1],Ze.H[1],de),he(de),wt=ti(Ze.G[2],Ze.H[2],de),ft=ti(Ze.G[3],Ze.H[3],de),de.h)break;A[Me]=(ft<<24|at<<16|Qe<<8|wt)>>>0}if(at=!1,++Me,++Q>=O&&(Q=0,++Z,Y!=null&&Z<=$&&!(Z%16)&&Y(v,Z),_e!=null))for(;Re<Me;)Qe=A[Re++],_e.X[(506832829*Qe&4294967295)>>>_e.Mb]=Qe}else if(280>Qe){if(Qe=hs(Qe-256,de),wt=ti(Ze.G[4],Ze.H[4],de),he(de),wt=ei(O,wt=hs(wt,de)),de.h)break;if(Me-L<wt||H-Me<Qe)break e;for(ft=0;ft<Qe;++ft)A[Me+ft]=A[Me+ft-wt];for(Me+=Qe,Q+=Qe;Q>=O;)Q-=O,++Z,Y!=null&&Z<=$&&!(Z%16)&&Y(v,Z);if(t(Me<=H),Q&Te&&(Ze=jn(Ce,Q,Z)),_e!=null)for(;Re<Me;)Qe=A[Re++],_e.X[(506832829*Qe&4294967295)>>>_e.Mb]=Qe}else{if(!(Qe<tt))break e;for(at=Qe-280,t(_e!=null);Re<Me;)Qe=A[Re++],_e.X[(506832829*Qe&4294967295)>>>_e.Mb]=Qe;Qe=Me,t(!(at>>>(wt=_e).Xa)),A[Qe]=wt.X[at],at=!0}at||t(de.h==ee(de))}if(v.Pb&&de.h&&Me<H)t(v.m.h),v.a=5,v.m=v.wd,v.$=v.xd,0<v.s.ua&&Ve(v.s.vb,v.s.Wa);else{if(de.h)break e;Y!=null&&Y(v,Z>$?$:Z),v.a=0,v.$=Me-L}return 1}return v.a=3,0}function Ui(v){t(v!=null),v.vc=null,v.yc=null,v.Ya=null;var A=v.Wa;A!=null&&(A.X=null),v.vb=null,t(v!=null)}function hi(){var v=new lr;return v==null?null:(v.a=0,v.xb=Fy,un("Predictor","VP8LPredictors"),un("Predictor","VP8LPredictors_C"),un("PredictorAdd","VP8LPredictorsAdd"),un("PredictorAdd","VP8LPredictorsAdd_C"),l=yt,S=ht,I=dt,D=kn,U=Et,G=lt,ue=Bt,X.VP8LMapColor32b=f,X.VP8LMapColor8b=g,v)}function Nr(v,A,L,O,H){var $=1,Y=[v],Z=[A],Q=O.m,de=O.s,Ce=null,Me=0;e:for(;;){if(L)for(;$&&xe(Q,1);){var Re=Y,Le=Z,tt=O,Ye=1,_e=tt.m,Te=tt.gc[tt.ab],Ze=xe(_e,2);if(tt.Oc&1<<Ze)$=0;else{switch(tt.Oc|=1<<Ze,Te.hc=Ze,Te.Ea=Re[0],Te.nc=Le[0],Te.K=[null],++tt.ab,t(4>=tt.ab),Ze){case 0:case 1:Te.b=xe(_e,3)+2,Ye=Nr(ct(Te.Ea,Te.b),ct(Te.nc,Te.b),0,tt,Te.K),Te.K=Te.K[0];break;case 3:var at,Qe=xe(_e,8)+1,wt=16<Qe?0:4<Qe?1:2<Qe?2:3;if(Re[0]=ct(Te.Ea,wt),Te.b=wt,at=Ye=Nr(Qe,1,0,tt,Te.K)){var ft,Dt=Qe,pt=Te,Nn=1<<(8>>pt.b),Cn=s(Nn);if(Cn==null)at=0;else{var yn=pt.K[0],cn=pt.w;for(Cn[0]=pt.K[0][0],ft=1;ft<1*Dt;++ft)Cn[ft]=Ge(yn[cn+ft],Cn[ft-1]);for(;ft<4*Nn;++ft)Cn[ft]=0;pt.K[0]=null,pt.K[0]=Cn,at=1}}Ye=at;break;case 2:break;default:t(0)}$=Ye}}if(Y=Y[0],Z=Z[0],$&&xe(Q,1)&&!($=1<=(Me=xe(Q,4))&&11>=Me)){O.a=3;break e}var On;if(On=$)t:{var Pn,Jt,Br,ts=O,Fr=Y,ns=Z,En=Me,xs=L,ys=ts.m,ii=ts.s,mi=[null],Hi=1,zs=0,ja=vC[En];n:for(;;){if(xs&&xe(ys,1)){var si=xe(ys,3)+2,no=ct(Fr,si),ic=ct(ns,si),Gc=no*ic;if(!Nr(no,ic,0,ts,mi))break n;for(mi=mi[0],ii.xc=si,Pn=0;Pn<Gc;++Pn){var Uo=mi[Pn]>>8&65535;mi[Pn]=Uo,Uo>=Hi&&(Hi=Uo+1)}}if(ys.h)break n;for(Jt=0;5>Jt;++Jt){var yr=Ry[Jt];!Jt&&0<En&&(yr+=1<<En),zs<yr&&(zs=yr)}var Ap=o(Hi*ja,z),Gy=Hi,Yy=o(Gy,ae);if(Yy==null)var pf=null;else t(65536>=Gy),pf=Yy;var xd=s(zs);if(pf==null||xd==null||Ap==null){ts.a=1;break n}var mf=Ap;for(Pn=Br=0;Pn<Hi;++Pn){var sa=pf[Pn],Yc=sa.G,Xc=sa.H,Xy=0,gf=1,Ky=0;for(Jt=0;5>Jt;++Jt){yr=Ry[Jt],Yc[Jt]=mf,Xc[Jt]=Br,!Jt&&0<En&&(yr+=1<<En);i:{var xf,Sp=yr,yf=ts,yd=xd,UC=mf,VC=Br,Cp=0,Vo=yf.m,zC=xe(Vo,1);if(i(yd,0,0,Sp),zC){var HC=xe(Vo,1)+1,qC=xe(Vo,1),Zy=xe(Vo,qC==0?1:8);yd[Zy]=1,HC==2&&(yd[Zy=xe(Vo,8)]=1);var vf=1}else{var Qy=s(19),Jy=xe(Vo,4)+4;if(19<Jy){yf.a=3;var wf=0;break i}for(xf=0;xf<Jy;++xf)Qy[xC[xf]]=xe(Vo,3);var Ep=void 0,vd=void 0,ev=yf,WC=Qy,bf=Sp,tv=yd,_p=0,zo=ev.m,nv=8,rv=o(128,z);r:for(;W(rv,0,7,WC,19);){if(xe(zo,1)){var $C=2+2*xe(zo,3);if((Ep=2+xe(zo,$C))>bf)break r}else Ep=bf;for(vd=0;vd<bf&&Ep--;){he(zo);var iv=rv[0+(127&K(zo))];me(zo,zo.u+iv.g);var Kc=iv.value;if(16>Kc)tv[vd++]=Kc,Kc!=0&&(nv=Kc);else{var GC=Kc==16,sv=Kc-16,YC=mC[sv],av=xe(zo,pC[sv])+YC;if(vd+av>bf)break r;for(var XC=GC?nv:0;0<av--;)tv[vd++]=XC}}_p=1;break r}_p||(ev.a=3),vf=_p}(vf=vf&&!Vo.h)&&(Cp=W(UC,VC,8,yd,Sp)),vf&&Cp!=0?wf=Cp:(yf.a=3,wf=0)}if(wf==0)break n;if(gf&&gC[Jt]==1&&(gf=mf[Br].g==0),Xy+=mf[Br].g,Br+=wf,3>=Jt){var wd,Tp=xd[0];for(wd=1;wd<yr;++wd)xd[wd]>Tp&&(Tp=xd[wd]);Ky+=Tp}}if(sa.nd=gf,sa.Qb=0,gf&&(sa.qb=(Yc[3][Xc[3]+0].value<<24|Yc[1][Xc[1]+0].value<<16|Yc[2][Xc[2]+0].value)>>>0,Xy==0&&256>Yc[0][Xc[0]+0].value&&(sa.Qb=1,sa.qb+=Yc[0][Xc[0]+0].value<<8)),sa.jc=!sa.Qb&&6>Ky,sa.jc){var Nf,ro=sa;for(Nf=0;Nf<Ln;++Nf){var Ho=Nf,qo=ro.pd[Ho],Af=ro.G[0][ro.H[0]+Ho];256<=Af.value?(qo.g=Af.g+256,qo.value=Af.value):(qo.g=0,qo.value=0,Ho>>=mn(Af,8,qo),Ho>>=mn(ro.G[1][ro.H[1]+Ho],16,qo),Ho>>=mn(ro.G[2][ro.H[2]+Ho],0,qo),mn(ro.G[3][ro.H[3]+Ho],24,qo))}}}ii.vc=mi,ii.Wb=Hi,ii.Ya=pf,ii.yc=Ap,On=1;break t}On=0}if(!($=On)){O.a=3;break e}if(0<Me){if(de.ua=1<<Me,!vt(de.Wa,Me)){O.a=1,$=0;break e}}else de.ua=0;var Ip=O,ov=Y,KC=Z,kp=Ip.s,jp=kp.xc;if(Ip.c=ov,Ip.i=KC,kp.md=ct(ov,jp),kp.wc=jp==0?-1:(1<<jp)-1,L){O.xb=_C;break e}if((Ce=s(Y*Z))==null){O.a=1,$=0;break e}$=($=ni(O,Ce,0,Y,Z,Z,null))&&!Q.h;break e}return $?(H!=null?H[0]=Ce:(t(Ce==null),t(L)),O.$=0,L||Ui(de)):Ui(de),$}function Ya(v,A){var L=v.c*v.i,O=L+A+16*A;return t(v.c<=A),v.V=s(O),v.V==null?(v.Ta=null,v.Ua=0,v.a=1,0):(v.Ta=v.V,v.Ua=v.Ba+L+A,1)}function To(v,A){var L=v.C,O=A-L,H=v.V,$=v.Ba+v.c*L;for(t(A<=v.l.o);0<O;){var Y=16<O?16:O,Z=v.l.ma,Q=v.l.width,de=Q*Y,Ce=Z.ca,Me=Z.tb+Q*L,Re=v.Ta,Le=v.Ua;Mn(v,Y,H,$),_r(Re,Le,Ce,Me,de),Fi(Z,L,L+Y,Ce,Me,Q),O-=Y,H+=Y*v.c,L+=Y}t(L==A),v.C=v.Ma=A}function fi(){this.ub=this.yd=this.td=this.Rb=0}function mr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function bn(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Vl(){this.Yb=function(){var v=[];return function A(L,O,H){for(var $=H[O],Y=0;Y<$&&(L.push(H.length>O+1?[]:0),!(H.length<O+1));Y++)A(L[Y],O+1,H)}(v,0,[3,11]),v}()}function Ps(){this.jb=s(3),this.Wc=u([4,8],Vl),this.Xc=u([4,17],Vl)}function zl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function et(){this.ld=this.La=this.dd=this.tc=0}function zc(){this.Na=this.la=0}function Bn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Os(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function dd(){this.uc=this.M=this.Nb=0,this.wa=Array(new et),this.Y=0,this.ya=Array(new Os),this.aa=0,this.l=new Qt}function dn(){this.y=s(16),this.f=s(8),this.ea=s(8)}function hn(){this.cb=this.a=0,this.sc="",this.m=new Ee,this.Od=new fi,this.Kc=new mr,this.ed=new zl,this.Qa=new bn,this.Ic=this.$c=this.Aa=0,this.D=new dd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ee),this.ia=0,this.pb=o(4,Bn),this.Pa=new Ps,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new dn),this.Hd=0,this.rb=Array(new zc),this.sb=0,this.wa=Array(new et),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Os),this.L=this.aa=0,this.gd=u([4,2],et),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Qt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hl(){var v=new hn;return v!=null&&(v.a=0,v.sc="OK",v.cb=0,v.Xb=0,md||(md=fs)),v}function $n(v,A,L){return v.a==0&&(v.a=A,v.sc=L,v.cb=0),0}function Io(v,A,L){return 3<=L&&v[A+0]==157&&v[A+1]==1&&v[A+2]==42}function Jn(v,A){if(v==null)return 0;if(v.a=0,v.sc="OK",A==null)return $n(v,2,"null VP8Io passed to VP8GetHeaders()");var L=A.data,O=A.w,H=A.ha;if(4>H)return $n(v,7,"Truncated header.");var $=L[O+0]|L[O+1]<<8|L[O+2]<<16,Y=v.Od;if(Y.Rb=!(1&$),Y.td=$>>1&7,Y.yd=$>>4&1,Y.ub=$>>5,3<Y.td)return $n(v,3,"Incorrect keyframe parameters.");if(!Y.yd)return $n(v,4,"Frame not displayable.");O+=3,H-=3;var Z=v.Kc;if(Y.Rb){if(7>H)return $n(v,7,"cannot parse picture header");if(!Io(L,O,H))return $n(v,3,"Bad code word");Z.c=16383&(L[O+4]<<8|L[O+3]),Z.Td=L[O+4]>>6,Z.i=16383&(L[O+6]<<8|L[O+5]),Z.Ud=L[O+6]>>6,O+=7,H-=7,v.za=Z.c+15>>4,v.Ub=Z.i+15>>4,A.width=Z.c,A.height=Z.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i(($=v.Pa).jb,0,255,$.jb.length),t(($=v.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,i($.Zb,0,0,$.Zb.length),i($.Lb,0,0,$.Lb)}if(Y.ub>H)return $n(v,7,"bad partition length");te($=v.m,L,O,Y.ub),O+=Y.ub,H-=Y.ub,Y.Rb&&(Z.Ld=je($),Z.Kd=je($)),Z=v.Qa;var Q,de=v.Pa;if(t($!=null),t(Z!=null),Z.Cb=je($),Z.Cb){if(Z.Bb=je($),je($)){for(Z.Fb=je($),Q=0;4>Q;++Q)Z.Zb[Q]=je($)?Ae($,7):0;for(Q=0;4>Q;++Q)Z.Lb[Q]=je($)?Ae($,6):0}if(Z.Bb)for(Q=0;3>Q;++Q)de.jb[Q]=je($)?Se($,8):255}else Z.Bb=0;if($.Ka)return $n(v,3,"cannot parse segment header");if((Z=v.ed).zd=je($),Z.Tb=Se($,6),Z.wb=Se($,3),Z.Pc=je($),Z.Pc&&je($)){for(de=0;4>de;++de)je($)&&(Z.vd[de]=Ae($,6));for(de=0;4>de;++de)je($)&&(Z.od[de]=Ae($,6))}if(v.L=Z.Tb==0?0:Z.zd?1:2,$.Ka)return $n(v,3,"cannot parse filter header");var Ce=H;if(H=Q=O,O=Q+Ce,Z=Ce,v.Xb=(1<<Se(v.m,2))-1,Ce<3*(de=v.Xb))L=7;else{for(Q+=3*de,Z-=3*de,Ce=0;Ce<de;++Ce){var Me=L[H+0]|L[H+1]<<8|L[H+2]<<16;Me>Z&&(Me=Z),te(v.Jc[+Ce],L,Q,Me),Q+=Me,Z-=Me,H+=3}te(v.Jc[+de],L,Q,Z),L=Q<O?0:5}if(L!=0)return $n(v,L,"cannot parse partitions");for(L=Se(Q=v.m,7),H=je(Q)?Ae(Q,4):0,O=je(Q)?Ae(Q,4):0,Z=je(Q)?Ae(Q,4):0,de=je(Q)?Ae(Q,4):0,Q=je(Q)?Ae(Q,4):0,Ce=v.Qa,Me=0;4>Me;++Me){if(Ce.Cb){var Re=Ce.Zb[Me];Ce.Fb||(Re+=L)}else{if(0<Me){v.pb[Me]=v.pb[0];continue}Re=L}var Le=v.pb[Me];Le.Sc[0]=wp[gr(Re+H,127)],Le.Sc[1]=bp[gr(Re+0,127)],Le.Eb[0]=2*wp[gr(Re+O,127)],Le.Eb[1]=101581*bp[gr(Re+Z,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=wp[gr(Re+de,117)],Le.Qc[1]=bp[gr(Re+Q,127)],Le.lc=Re+Q}if(!Y.Rb)return $n(v,4,"Not a key frame.");for(je($),Y=v.Pa,L=0;4>L;++L){for(H=0;8>H;++H)for(O=0;3>O;++O)for(Z=0;11>Z;++Z)de=Oe($,CC[L][H][O][Z])?Se($,8):AC[L][H][O][Z],Y.Wc[L][H].Yb[O][Z]=de;for(H=0;17>H;++H)Y.Xc[L][H]=Y.Wc[L][EC[H]]}return v.kc=je($),v.kc&&(v.Bd=Se($,8)),v.cb=1}function fs(v,A,L,O,H,$,Y){var Z=A[H].Yb[L];for(L=0;16>H;++H){if(!Oe(v,Z[L+0]))return H;for(;!Oe(v,Z[L+1]);)if(Z=A[++H].Yb[0],L=0,H==16)return 16;var Q=A[H+1].Yb;if(Oe(v,Z[L+2])){var de=v,Ce=0;if(Oe(de,(Re=Z)[(Me=L)+3]))if(Oe(de,Re[Me+6])){for(Z=0,Me=2*(Ce=Oe(de,Re[Me+8]))+(Re=Oe(de,Re[Me+9+Ce])),Ce=0,Re=bC[Me];Re[Z];++Z)Ce+=Ce+Oe(de,Re[Z]);Ce+=3+(8<<Me)}else Oe(de,Re[Me+7])?(Ce=7+2*Oe(de,165),Ce+=Oe(de,145)):Ce=5+Oe(de,159);else Ce=Oe(de,Re[Me+4])?3+Oe(de,Re[Me+5]):2;Z=Q[2]}else Ce=1,Z=Q[1];Q=Y+NC[H],0>(de=v).b&&ke(de);var Me,Re=de.b,Le=(Me=de.Ca>>1)-(de.I>>Re)>>31;--de.b,de.Ca+=Le,de.Ca|=1,de.I-=(Me+1&Le)<<Re,$[Q]=((Ce^Le)-Le)*O[(0<H)+0]}return 16}function ql(v){var A=v.rb[v.sb-1];A.la=0,A.Na=0,i(v.zc,0,0,v.zc.length),v.ja=0}function Gn(v,A){if(v==null)return 0;if(A==null)return $n(v,2,"NULL VP8Io parameter in VP8Decode().");if(!v.cb&&!Jn(v,A))return 0;if(t(v.cb),A.ac==null||A.ac(A)){A.ob&&(v.L=0);var L=ff[v.L];if(v.L==2?(v.yb=0,v.zb=0):(v.yb=A.v-L>>4,v.zb=A.j-L>>4,0>v.yb&&(v.yb=0),0>v.zb&&(v.zb=0)),v.Va=A.o+15+L>>4,v.Hb=A.va+15+L>>4,v.Hb>v.za&&(v.Hb=v.za),v.Va>v.Ub&&(v.Va=v.Ub),0<v.L){var O=v.ed;for(L=0;4>L;++L){var H;if(v.Qa.Cb){var $=v.Qa.Lb[L];v.Qa.Fb||($+=O.Tb)}else $=O.Tb;for(H=0;1>=H;++H){var Y=v.gd[L][H],Z=$;if(O.Pc&&(Z+=O.vd[0],H&&(Z+=O.od[0])),0<(Z=0>Z?0:63<Z?63:Z)){var Q=Z;0<O.wb&&(Q=4<O.wb?Q>>2:Q>>1)>9-O.wb&&(Q=9-O.wb),1>Q&&(Q=1),Y.dd=Q,Y.tc=2*Z+Q,Y.ld=40<=Z?2:15<=Z?1:0}else Y.tc=0;Y.La=H}}}L=0}else $n(v,6,"Frame setup failed"),L=v.a;if(L=L==0){if(L){v.$c=0,0<v.Aa||(v.Ic=FC);e:{L=v.Ic,O=4*(Q=v.za);var de=32*Q,Ce=Q+1,Me=0<v.L?Q*(0<v.Aa?2:1):0,Re=(v.Aa==2?2:1)*Q;if((Y=O+832+(H=3*(16*L+ff[v.L])/2*de)+($=v.Fa!=null&&0<v.Fa.length?v.Kc.c*v.Kc.i:0))!=Y)L=0;else{if(Y>v.Vb){if(v.Vb=0,v.Ec=s(Y),v.Fc=0,v.Ec==null){L=$n(v,1,"no memory during frame initialization.");break e}v.Vb=Y}Y=v.Ec,Z=v.Fc,v.Ac=Y,v.Bc=Z,Z+=O,v.Gd=o(de,dn),v.Hd=0,v.rb=o(Ce+1,zc),v.sb=1,v.wa=Me?o(Me,et):null,v.Y=0,v.D.Nb=0,v.D.wa=v.wa,v.D.Y=v.Y,0<v.Aa&&(v.D.Y+=Q),t(!0),v.oc=Y,v.pc=Z,Z+=832,v.ya=o(Re,Os),v.aa=0,v.D.ya=v.ya,v.D.aa=v.aa,v.Aa==2&&(v.D.aa+=Q),v.R=16*Q,v.B=8*Q,Q=(de=ff[v.L])*v.R,de=de/2*v.B,v.sa=Y,v.ta=Z+Q,v.qa=v.sa,v.ra=v.ta+16*L*v.R+de,v.Ha=v.qa,v.Ia=v.ra+8*L*v.B+de,v.$c=0,Z+=H,v.mb=$?Y:null,v.nb=$?Z:null,t(Z+$<=v.Fc+v.Vb),ql(v),i(v.Ac,v.Bc,0,O),L=1}}if(L){if(A.ka=0,A.y=v.sa,A.O=v.ta,A.f=v.qa,A.N=v.ra,A.ea=v.Ha,A.Vd=v.Ia,A.fa=v.R,A.Rc=v.B,A.F=null,A.J=0,!rf){for(L=-255;255>=L;++L)Gr[255+L]=0>L?-L:L;for(L=-1020;1020>=L;++L)eo[1020+L]=-128>L?-128:127<L?127:L;for(L=-112;112>=L;++L)pd[112+L]=-16>L?-16:15<L?15:L;for(L=-255;510>=L;++L)$c[255+L]=0>L?0:255<L?255:L;rf=1}ye=Ni,Ne=De,Ue=oe,rt=It,ot=ar,Ie=Sr,st=Ea,tn=Si,Vt=Kt,xr=or,$r=fd,cr=Fe,fn=_a,rr=ec,Er=Jl,zi=Rs,Fs=ra,Ji=hd,ia[0]=kt,ia[1]=$l,ia[2]=Ka,ia[3]=Ds,ia[4]=qc,ia[5]=er,ia[6]=$t,ia[7]=Yl,ia[8]=Wc,ia[9]=Xl,Bo[0]=Lo,Bo[1]=Lt,Bo[2]=gn,Bo[3]=Xa,Bo[4]=Cr,Bo[5]=Gl,Bo[6]=Hc,to[0]=Zi,to[1]=Ai,to[2]=ta,to[3]=Kl,to[4]=Ca,to[5]=Za,to[6]=na,L=1}else L=0}L&&(L=function(Le,tt){for(Le.M=0;Le.M<Le.Va;++Le.M){var Ye,_e=Le.Jc[Le.M&Le.Xb],Te=Le.m,Ze=Le;for(Ye=0;Ye<Ze.za;++Ye){var at=Te,Qe=Ze,wt=Qe.Ac,ft=Qe.Bc+4*Ye,Dt=Qe.zc,pt=Qe.ya[Qe.aa+Ye];if(Qe.Qa.Bb?pt.$b=Oe(at,Qe.Pa.jb[0])?2+Oe(at,Qe.Pa.jb[2]):Oe(at,Qe.Pa.jb[1]):pt.$b=0,Qe.kc&&(pt.Ad=Oe(at,Qe.Bd)),pt.Za=!Oe(at,145)+0,pt.Za){var Nn=pt.Ob,Cn=0;for(Qe=0;4>Qe;++Qe){var yn,cn=Dt[0+Qe];for(yn=0;4>yn;++yn){cn=SC[wt[ft+yn]][cn];for(var On=By[Oe(at,cn[0])];0<On;)On=By[2*On+Oe(at,cn[On])];cn=-On,wt[ft+yn]=cn}r(Nn,Cn,wt,ft,4),Cn+=4,Dt[0+Qe]=cn}}else cn=Oe(at,156)?Oe(at,128)?1:3:Oe(at,163)?2:0,pt.Ob[0]=cn,i(wt,ft,cn,4),i(Dt,0,cn,4);pt.Dd=Oe(at,142)?Oe(at,114)?Oe(at,183)?1:3:2:0}if(Ze.m.Ka)return $n(Le,7,"Premature end-of-partition0 encountered.");for(;Le.ja<Le.za;++Le.ja){if(Ze=_e,at=(Te=Le).rb[Te.sb-1],wt=Te.rb[Te.sb+Te.ja],Ye=Te.ya[Te.aa+Te.ja],ft=Te.kc?Ye.Ad:0)at.la=wt.la=0,Ye.Za||(at.Na=wt.Na=0),Ye.Hc=0,Ye.Gc=0,Ye.ia=0;else{var Pn,Jt;if(at=wt,wt=Ze,ft=Te.Pa.Xc,Dt=Te.ya[Te.aa+Te.ja],pt=Te.pb[Dt.$b],Qe=Dt.ad,Nn=0,Cn=Te.rb[Te.sb-1],cn=yn=0,i(Qe,Nn,0,384),Dt.Za)var Br=0,ts=ft[3];else{On=s(16);var Fr=at.Na+Cn.Na;if(Fr=md(wt,ft[1],Fr,pt.Eb,0,On,0),at.Na=Cn.Na=(0<Fr)+0,1<Fr)ye(On,0,Qe,Nn);else{var ns=On[0]+3>>3;for(On=0;256>On;On+=16)Qe[Nn+On]=ns}Br=1,ts=ft[0]}var En=15&at.la,xs=15&Cn.la;for(On=0;4>On;++On){var ys=1&xs;for(ns=Jt=0;4>ns;++ns)En=En>>1|(ys=(Fr=md(wt,ts,Fr=ys+(1&En),pt.Sc,Br,Qe,Nn))>Br)<<7,Jt=Jt<<2|(3<Fr?3:1<Fr?2:Qe[Nn+0]!=0),Nn+=16;En>>=4,xs=xs>>1|ys<<7,yn=(yn<<8|Jt)>>>0}for(ts=En,Br=xs>>4,Pn=0;4>Pn;Pn+=2){for(Jt=0,En=at.la>>4+Pn,xs=Cn.la>>4+Pn,On=0;2>On;++On){for(ys=1&xs,ns=0;2>ns;++ns)Fr=ys+(1&En),En=En>>1|(ys=0<(Fr=md(wt,ft[2],Fr,pt.Qc,0,Qe,Nn)))<<3,Jt=Jt<<2|(3<Fr?3:1<Fr?2:Qe[Nn+0]!=0),Nn+=16;En>>=2,xs=xs>>1|ys<<5}cn|=Jt<<4*Pn,ts|=En<<4<<Pn,Br|=(240&xs)<<Pn}at.la=ts,Cn.la=Br,Dt.Hc=yn,Dt.Gc=cn,Dt.ia=43690&cn?0:pt.ia,ft=!(yn|cn)}if(0<Te.L&&(Te.wa[Te.Y+Te.ja]=Te.gd[Ye.$b][Ye.Za],Te.wa[Te.Y+Te.ja].La|=!ft),Ze.Ka)return $n(Le,7,"Premature end-of-file encountered.")}if(ql(Le),Te=tt,Ze=1,Ye=(_e=Le).D,at=0<_e.L&&_e.M>=_e.zb&&_e.M<=_e.Va,_e.Aa==0)e:{if(Ye.M=_e.M,Ye.uc=at,Ei(_e,Ye),Ze=1,Ye=(Jt=_e.D).Nb,at=(cn=ff[_e.L])*_e.R,wt=cn/2*_e.B,On=16*Ye*_e.R,ns=8*Ye*_e.B,ft=_e.sa,Dt=_e.ta-at+On,pt=_e.qa,Qe=_e.ra-wt+ns,Nn=_e.Ha,Cn=_e.Ia-wt+ns,xs=(En=Jt.M)==0,yn=En>=_e.Va-1,_e.Aa==2&&Ei(_e,Jt),Jt.uc)for(ys=(Fr=_e).D.M,t(Fr.D.uc),Jt=Fr.yb;Jt<Fr.Hb;++Jt){Br=Jt,ts=ys;var ii=(mi=(yr=Fr).D).Nb;Pn=yr.R;var mi=mi.wa[mi.Y+Br],Hi=yr.sa,zs=yr.ta+16*ii*Pn+16*Br,ja=mi.dd,si=mi.tc;if(si!=0)if(t(3<=si),yr.L==1)0<Br&&zi(Hi,zs,Pn,si+4),mi.La&&Ji(Hi,zs,Pn,si),0<ts&&Er(Hi,zs,Pn,si+4),mi.La&&Fs(Hi,zs,Pn,si);else{var no=yr.B,ic=yr.qa,Gc=yr.ra+8*ii*no+8*Br,Uo=yr.Ha,yr=yr.Ia+8*ii*no+8*Br;ii=mi.ld,0<Br&&(tn(Hi,zs,Pn,si+4,ja,ii),xr(ic,Gc,Uo,yr,no,si+4,ja,ii)),mi.La&&(cr(Hi,zs,Pn,si,ja,ii),rr(ic,Gc,Uo,yr,no,si,ja,ii)),0<ts&&(st(Hi,zs,Pn,si+4,ja,ii),Vt(ic,Gc,Uo,yr,no,si+4,ja,ii)),mi.La&&($r(Hi,zs,Pn,si,ja,ii),fn(ic,Gc,Uo,yr,no,si,ja,ii))}}if(_e.ia&&alert("todo:DitherRow"),Te.put!=null){if(Jt=16*En,En=16*(En+1),xs?(Te.y=_e.sa,Te.O=_e.ta+On,Te.f=_e.qa,Te.N=_e.ra+ns,Te.ea=_e.Ha,Te.W=_e.Ia+ns):(Jt-=cn,Te.y=ft,Te.O=Dt,Te.f=pt,Te.N=Qe,Te.ea=Nn,Te.W=Cn),yn||(En-=cn),En>Te.o&&(En=Te.o),Te.F=null,Te.J=null,_e.Fa!=null&&0<_e.Fa.length&&Jt<En&&(Te.J=xn(_e,Te,Jt,En-Jt),Te.F=_e.mb,Te.F==null&&Te.F.length==0)){Ze=$n(_e,3,"Could not decode alpha data.");break e}Jt<Te.j&&(cn=Te.j-Jt,Jt=Te.j,t(!(1&cn)),Te.O+=_e.R*cn,Te.N+=_e.B*(cn>>1),Te.W+=_e.B*(cn>>1),Te.F!=null&&(Te.J+=Te.width*cn)),Jt<En&&(Te.O+=Te.v,Te.N+=Te.v>>1,Te.W+=Te.v>>1,Te.F!=null&&(Te.J+=Te.v),Te.ka=Jt-Te.j,Te.U=Te.va-Te.v,Te.T=En-Jt,Ze=Te.put(Te))}Ye+1!=_e.Ic||yn||(r(_e.sa,_e.ta-at,ft,Dt+16*_e.R,at),r(_e.qa,_e.ra-wt,pt,Qe+8*_e.B,wt),r(_e.Ha,_e.Ia-wt,Nn,Cn+8*_e.B,wt))}if(!Ze)return $n(Le,6,"Output aborted.")}return 1}(v,A)),A.bc!=null&&A.bc(A),L&=1}return L?(v.cb=0,L):0}function Rr(v,A,L,O,H){H=v[A+L+32*O]+(H>>3),v[A+L+32*O]=-256&H?0>H?0:255:H}function ko(v,A,L,O,H,$){Rr(v,A,0,L,O+H),Rr(v,A,1,L,O+$),Rr(v,A,2,L,O-$),Rr(v,A,3,L,O-H)}function Ar(v){return(20091*v>>16)+v}function wn(v,A,L,O){var H,$=0,Y=s(16);for(H=0;4>H;++H){var Z=v[A+0]+v[A+8],Q=v[A+0]-v[A+8],de=(35468*v[A+4]>>16)-Ar(v[A+12]),Ce=Ar(v[A+4])+(35468*v[A+12]>>16);Y[$+0]=Z+Ce,Y[$+1]=Q+de,Y[$+2]=Q-de,Y[$+3]=Z-Ce,$+=4,A++}for(H=$=0;4>H;++H)Z=(v=Y[$+0]+4)+Y[$+8],Q=v-Y[$+8],de=(35468*Y[$+4]>>16)-Ar(Y[$+12]),Rr(L,O,0,0,Z+(Ce=Ar(Y[$+4])+(35468*Y[$+12]>>16))),Rr(L,O,1,0,Q+de),Rr(L,O,2,0,Q-de),Rr(L,O,3,0,Z-Ce),$++,O+=32}function Sr(v,A,L,O){var H=v[A+0]+4,$=35468*v[A+4]>>16,Y=Ar(v[A+4]),Z=35468*v[A+1]>>16;ko(L,O,0,H+Y,v=Ar(v[A+1]),Z),ko(L,O,1,H+$,v,Z),ko(L,O,2,H-$,v,Z),ko(L,O,3,H-Y,v,Z)}function De(v,A,L,O,H){wn(v,A,L,O),H&&wn(v,A+16,L,O+4)}function oe(v,A,L,O){Ne(v,A+0,L,O,1),Ne(v,A+32,L,O+128,1)}function It(v,A,L,O){var H;for(v=v[A+0]+4,H=0;4>H;++H)for(A=0;4>A;++A)Rr(L,O,A,H,v)}function ar(v,A,L,O){v[A+0]&&rt(v,A+0,L,O),v[A+16]&&rt(v,A+16,L,O+4),v[A+32]&&rt(v,A+32,L,O+128),v[A+48]&&rt(v,A+48,L,O+128+4)}function Ni(v,A,L,O){var H,$=s(16);for(H=0;4>H;++H){var Y=v[A+0+H]+v[A+12+H],Z=v[A+4+H]+v[A+8+H],Q=v[A+4+H]-v[A+8+H],de=v[A+0+H]-v[A+12+H];$[0+H]=Y+Z,$[8+H]=Y-Z,$[4+H]=de+Q,$[12+H]=de-Q}for(H=0;4>H;++H)Y=(v=$[0+4*H]+3)+$[3+4*H],Z=$[1+4*H]+$[2+4*H],Q=$[1+4*H]-$[2+4*H],de=v-$[3+4*H],L[O+0]=Y+Z>>3,L[O+16]=de+Q>>3,L[O+32]=Y-Z>>3,L[O+48]=de-Q>>3,O+=64}function Wl(v,A,L){var O,H=A-32,$=gs,Y=255-v[H-1];for(O=0;O<L;++O){var Z,Q=$,de=Y+v[A-1];for(Z=0;Z<L;++Z)v[A+Z]=Q[de+v[H+Z]];A+=32}}function $l(v,A){Wl(v,A,4)}function Ai(v,A){Wl(v,A,8)}function Lt(v,A){Wl(v,A,16)}function gn(v,A){var L;for(L=0;16>L;++L)r(v,A+32*L,v,A-32,16)}function Xa(v,A){var L;for(L=16;0<L;--L)i(v,A,v[A-1],16),A+=32}function jo(v,A,L){var O;for(O=0;16>O;++O)i(A,L+32*O,v,16)}function Lo(v,A){var L,O=16;for(L=0;16>L;++L)O+=v[A-1+32*L]+v[A+L-32];jo(O>>5,v,A)}function Cr(v,A){var L,O=8;for(L=0;16>L;++L)O+=v[A-1+32*L];jo(O>>4,v,A)}function Gl(v,A){var L,O=8;for(L=0;16>L;++L)O+=v[A+L-32];jo(O>>4,v,A)}function Hc(v,A){jo(128,v,A)}function St(v,A,L){return v+2*A+L+2>>2}function Ka(v,A){var L,O=A-32;for(O=new Uint8Array([St(v[O-1],v[O+0],v[O+1]),St(v[O+0],v[O+1],v[O+2]),St(v[O+1],v[O+2],v[O+3]),St(v[O+2],v[O+3],v[O+4])]),L=0;4>L;++L)r(v,A+32*L,O,0,O.length)}function Ds(v,A){var L=v[A-1],O=v[A-1+32],H=v[A-1+64],$=v[A-1+96];He(v,A+0,16843009*St(v[A-1-32],L,O)),He(v,A+32,16843009*St(L,O,H)),He(v,A+64,16843009*St(O,H,$)),He(v,A+96,16843009*St(H,$,$))}function kt(v,A){var L,O=4;for(L=0;4>L;++L)O+=v[A+L-32]+v[A-1+32*L];for(O>>=3,L=0;4>L;++L)i(v,A+32*L,O,4)}function qc(v,A){var L=v[A-1+0],O=v[A-1+32],H=v[A-1+64],$=v[A-1-32],Y=v[A+0-32],Z=v[A+1-32],Q=v[A+2-32],de=v[A+3-32];v[A+0+96]=St(O,H,v[A-1+96]),v[A+1+96]=v[A+0+64]=St(L,O,H),v[A+2+96]=v[A+1+64]=v[A+0+32]=St($,L,O),v[A+3+96]=v[A+2+64]=v[A+1+32]=v[A+0+0]=St(Y,$,L),v[A+3+64]=v[A+2+32]=v[A+1+0]=St(Z,Y,$),v[A+3+32]=v[A+2+0]=St(Q,Z,Y),v[A+3+0]=St(de,Q,Z)}function $t(v,A){var L=v[A+1-32],O=v[A+2-32],H=v[A+3-32],$=v[A+4-32],Y=v[A+5-32],Z=v[A+6-32],Q=v[A+7-32];v[A+0+0]=St(v[A+0-32],L,O),v[A+1+0]=v[A+0+32]=St(L,O,H),v[A+2+0]=v[A+1+32]=v[A+0+64]=St(O,H,$),v[A+3+0]=v[A+2+32]=v[A+1+64]=v[A+0+96]=St(H,$,Y),v[A+3+32]=v[A+2+64]=v[A+1+96]=St($,Y,Z),v[A+3+64]=v[A+2+96]=St(Y,Z,Q),v[A+3+96]=St(Z,Q,Q)}function er(v,A){var L=v[A-1+0],O=v[A-1+32],H=v[A-1+64],$=v[A-1-32],Y=v[A+0-32],Z=v[A+1-32],Q=v[A+2-32],de=v[A+3-32];v[A+0+0]=v[A+1+64]=$+Y+1>>1,v[A+1+0]=v[A+2+64]=Y+Z+1>>1,v[A+2+0]=v[A+3+64]=Z+Q+1>>1,v[A+3+0]=Q+de+1>>1,v[A+0+96]=St(H,O,L),v[A+0+64]=St(O,L,$),v[A+0+32]=v[A+1+96]=St(L,$,Y),v[A+1+32]=v[A+2+96]=St($,Y,Z),v[A+2+32]=v[A+3+96]=St(Y,Z,Q),v[A+3+32]=St(Z,Q,de)}function Yl(v,A){var L=v[A+0-32],O=v[A+1-32],H=v[A+2-32],$=v[A+3-32],Y=v[A+4-32],Z=v[A+5-32],Q=v[A+6-32],de=v[A+7-32];v[A+0+0]=L+O+1>>1,v[A+1+0]=v[A+0+64]=O+H+1>>1,v[A+2+0]=v[A+1+64]=H+$+1>>1,v[A+3+0]=v[A+2+64]=$+Y+1>>1,v[A+0+32]=St(L,O,H),v[A+1+32]=v[A+0+96]=St(O,H,$),v[A+2+32]=v[A+1+96]=St(H,$,Y),v[A+3+32]=v[A+2+96]=St($,Y,Z),v[A+3+64]=St(Y,Z,Q),v[A+3+96]=St(Z,Q,de)}function Xl(v,A){var L=v[A-1+0],O=v[A-1+32],H=v[A-1+64],$=v[A-1+96];v[A+0+0]=L+O+1>>1,v[A+2+0]=v[A+0+32]=O+H+1>>1,v[A+2+32]=v[A+0+64]=H+$+1>>1,v[A+1+0]=St(L,O,H),v[A+3+0]=v[A+1+32]=St(O,H,$),v[A+3+32]=v[A+1+64]=St(H,$,$),v[A+3+64]=v[A+2+64]=v[A+0+96]=v[A+1+96]=v[A+2+96]=v[A+3+96]=$}function Wc(v,A){var L=v[A-1+0],O=v[A-1+32],H=v[A-1+64],$=v[A-1+96],Y=v[A-1-32],Z=v[A+0-32],Q=v[A+1-32],de=v[A+2-32];v[A+0+0]=v[A+2+32]=L+Y+1>>1,v[A+0+32]=v[A+2+64]=O+L+1>>1,v[A+0+64]=v[A+2+96]=H+O+1>>1,v[A+0+96]=$+H+1>>1,v[A+3+0]=St(Z,Q,de),v[A+2+0]=St(Y,Z,Q),v[A+1+0]=v[A+3+32]=St(L,Y,Z),v[A+1+32]=v[A+3+64]=St(O,L,Y),v[A+1+64]=v[A+3+96]=St(H,O,L),v[A+1+96]=St($,H,O)}function ta(v,A){var L;for(L=0;8>L;++L)r(v,A+32*L,v,A-32,8)}function Kl(v,A){var L;for(L=0;8>L;++L)i(v,A,v[A-1],8),A+=32}function ps(v,A,L){var O;for(O=0;8>O;++O)i(A,L+32*O,v,8)}function Zi(v,A){var L,O=8;for(L=0;8>L;++L)O+=v[A+L-32]+v[A-1+32*L];ps(O>>4,v,A)}function Za(v,A){var L,O=4;for(L=0;8>L;++L)O+=v[A+L-32];ps(O>>3,v,A)}function Ca(v,A){var L,O=4;for(L=0;8>L;++L)O+=v[A-1+32*L];ps(O>>3,v,A)}function na(v,A){ps(128,v,A)}function Ms(v,A,L){var O=v[A-L],H=v[A+0],$=3*(H-O)+mp[1020+v[A-2*L]-v[A+L]],Y=sf[112+($+4>>3)];v[A-L]=gs[255+O+sf[112+($+3>>3)]],v[A+0]=gs[255+H-Y]}function qr(v,A,L,O){var H=v[A+0],$=v[A+L];return Us[255+v[A-2*L]-v[A-L]]>O||Us[255+$-H]>O}function Zl(v,A,L,O){return 4*Us[255+v[A-L]-v[A+0]]+Us[255+v[A-2*L]-v[A+L]]<=O}function Ql(v,A,L,O,H){var $=v[A-3*L],Y=v[A-2*L],Z=v[A-L],Q=v[A+0],de=v[A+L],Ce=v[A+2*L],Me=v[A+3*L];return 4*Us[255+Z-Q]+Us[255+Y-de]>O?0:Us[255+v[A-4*L]-$]<=H&&Us[255+$-Y]<=H&&Us[255+Y-Z]<=H&&Us[255+Me-Ce]<=H&&Us[255+Ce-de]<=H&&Us[255+de-Q]<=H}function Jl(v,A,L,O){var H=2*O+1;for(O=0;16>O;++O)Zl(v,A+O,L,H)&&Ms(v,A+O,L)}function Rs(v,A,L,O){var H=2*O+1;for(O=0;16>O;++O)Zl(v,A+O*L,1,H)&&Ms(v,A+O*L,1)}function ra(v,A,L,O){var H;for(H=3;0<H;--H)Jl(v,A+=4*L,L,O)}function hd(v,A,L,O){var H;for(H=3;0<H;--H)Rs(v,A+=4,L,O)}function sn(v,A,L,O,H,$,Y,Z){for($=2*$+1;0<H--;){if(Ql(v,A,L,$,Y))if(qr(v,A,L,Z))Ms(v,A,L);else{var Q=v,de=A,Ce=L,Me=Q[de-2*Ce],Re=Q[de-Ce],Le=Q[de+0],tt=Q[de+Ce],Ye=Q[de+2*Ce],_e=27*(Ze=mp[1020+3*(Le-Re)+mp[1020+Me-tt]])+63>>7,Te=18*Ze+63>>7,Ze=9*Ze+63>>7;Q[de-3*Ce]=gs[255+Q[de-3*Ce]+Ze],Q[de-2*Ce]=gs[255+Me+Te],Q[de-Ce]=gs[255+Re+_e],Q[de+0]=gs[255+Le-_e],Q[de+Ce]=gs[255+tt-Te],Q[de+2*Ce]=gs[255+Ye-Ze]}A+=O}}function Qi(v,A,L,O,H,$,Y,Z){for($=2*$+1;0<H--;){if(Ql(v,A,L,$,Y))if(qr(v,A,L,Z))Ms(v,A,L);else{var Q=v,de=A,Ce=L,Me=Q[de-Ce],Re=Q[de+0],Le=Q[de+Ce],tt=sf[112+((Ye=3*(Re-Me))+4>>3)],Ye=sf[112+(Ye+3>>3)],_e=tt+1>>1;Q[de-2*Ce]=gs[255+Q[de-2*Ce]+_e],Q[de-Ce]=gs[255+Me+Ye],Q[de+0]=gs[255+Re-tt],Q[de+Ce]=gs[255+Le-_e]}A+=O}}function Ea(v,A,L,O,H,$){sn(v,A,L,1,16,O,H,$)}function Si(v,A,L,O,H,$){sn(v,A,1,L,16,O,H,$)}function fd(v,A,L,O,H,$){var Y;for(Y=3;0<Y;--Y)Qi(v,A+=4*L,L,1,16,O,H,$)}function Fe(v,A,L,O,H,$){var Y;for(Y=3;0<Y;--Y)Qi(v,A+=4,1,L,16,O,H,$)}function Kt(v,A,L,O,H,$,Y,Z){sn(v,A,H,1,8,$,Y,Z),sn(L,O,H,1,8,$,Y,Z)}function or(v,A,L,O,H,$,Y,Z){sn(v,A,1,H,8,$,Y,Z),sn(L,O,1,H,8,$,Y,Z)}function _a(v,A,L,O,H,$,Y,Z){Qi(v,A+4*H,H,1,8,$,Y,Z),Qi(L,O+4*H,H,1,8,$,Y,Z)}function ec(v,A,L,O,H,$,Y,Z){Qi(v,A+4,1,H,8,$,Y,Z),Qi(L,O+4,1,H,8,$,Y,Z)}function Po(){this.ba=new Xt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Wn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function tc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function nc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Oo(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ae,this.yc=new z}function lr(){this.xb=this.a=0,this.l=new Qt,this.ca=new Xt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Oo,this.ab=0,this.gc=o(4,nc),this.Oc=0}function Ta(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Qt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function An(v,A,L,O,H,$,Y){for(v=v==null?0:v[A+0],A=0;A<Y;++A)H[$+A]=v+L[O+A]&255,v=H[$+A]}function Ia(v,A,L,O,H,$,Y){var Z;if(v==null)An(null,null,L,O,H,$,Y);else for(Z=0;Z<Y;++Z)H[$+Z]=v[A+Z]+L[O+Z]&255}function Ci(v,A,L,O,H,$,Y){if(v==null)An(null,null,L,O,H,$,Y);else{var Z,Q=v[A+0],de=Q,Ce=Q;for(Z=0;Z<Y;++Z)de=Ce+(Q=v[A+Z])-de,Ce=L[O+Z]+(-256&de?0>de?0:255:de)&255,de=Q,H[$+Z]=Ce}}function xn(v,A,L,O){var H=A.width,$=A.o;if(t(v!=null&&A!=null),0>L||0>=O||L+O>$)return null;if(!v.Cc){if(v.ga==null){var Y;if(v.ga=new Ta,(Y=v.ga==null)||(Y=A.width*A.o,t(v.Gb.length==0),v.Gb=s(Y),v.Uc=0,v.Gb==null?Y=0:(v.mb=v.Gb,v.nb=v.Uc,v.rc=null,Y=1),Y=!Y),!Y){Y=v.ga;var Z=v.Fa,Q=v.P,de=v.qc,Ce=v.mb,Me=v.nb,Re=Q+1,Le=de-1,tt=Y.l;if(t(Z!=null&&Ce!=null&&A!=null),Fo[0]=null,Fo[1]=An,Fo[2]=Ia,Fo[3]=Ci,Y.ca=Ce,Y.tb=Me,Y.c=A.width,Y.i=A.height,t(0<Y.c&&0<Y.i),1>=de)A=0;else if(Y.$a=Z[Q+0]>>0&3,Y.Z=Z[Q+0]>>2&3,Y.Lc=Z[Q+0]>>4&3,Q=Z[Q+0]>>6&3,0>Y.$a||1<Y.$a||4<=Y.Z||1<Y.Lc||Q)A=0;else if(tt.put=di,tt.ac=pn,tt.bc=Bi,tt.ma=Y,tt.width=A.width,tt.height=A.height,tt.Da=A.Da,tt.v=A.v,tt.va=A.va,tt.j=A.j,tt.o=A.o,Y.$a)e:{t(Y.$a==1),A=hi();t:for(;;){if(A==null){A=0;break e}if(t(Y!=null),Y.mc=A,A.c=Y.c,A.i=Y.i,A.l=Y.l,A.l.ma=Y,A.l.width=Y.c,A.l.height=Y.i,A.a=0,ge(A.m,Z,Re,Le),!Nr(Y.c,Y.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&bi(A.s)?(Y.ic=1,Z=A.c*A.i,A.Ta=null,A.Ua=0,A.V=s(Z),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(Y.ic=0,A=Ya(A,Y.c)),!A))break t;A=1;break e}Y.mc=null,A=0}else A=Le>=Y.c*Y.i;Y=!A}if(Y)return null;v.ga.Lc!=1?v.Ga=0:O=$-L}t(v.ga!=null),t(L+O<=$);e:{if(A=(Z=v.ga).c,$=Z.l.o,Z.$a==0){if(Re=v.rc,Le=v.Vc,tt=v.Fa,Q=v.P+1+L*A,de=v.mb,Ce=v.nb+L*A,t(Q<=v.P+v.qc),Z.Z!=0)for(t(Fo[Z.Z]!=null),Y=0;Y<O;++Y)Fo[Z.Z](Re,Le,tt,Q,de,Ce,A),Re=de,Le=Ce,Ce+=A,Q+=A;else for(Y=0;Y<O;++Y)r(de,Ce,tt,Q,A),Re=de,Le=Ce,Ce+=A,Q+=A;v.rc=Re,v.Vc=Le}else{if(t(Z.mc!=null),A=L+O,t((Y=Z.mc)!=null),t(A<=Y.i),Y.C>=A)A=1;else if(Z.ic||Pe(),Z.ic){Z=Y.V,Re=Y.Ba,Le=Y.c;var Ye=Y.i,_e=(tt=1,Q=Y.$/Le,de=Y.$%Le,Ce=Y.m,Me=Y.s,Y.$),Te=Le*Ye,Ze=Le*A,at=Me.wc,Qe=_e<Ze?jn(Me,de,Q):null;t(_e<=Te),t(A<=Ye),t(bi(Me));t:for(;;){for(;!Ce.h&&_e<Ze;){if(de&at||(Qe=jn(Me,de,Q)),t(Qe!=null),he(Ce),256>(Ye=ti(Qe.G[0],Qe.H[0],Ce)))Z[Re+_e]=Ye,++_e,++de>=Le&&(de=0,++Q<=A&&!(Q%16)&&Rn(Y,Q));else{if(!(280>Ye)){tt=0;break t}Ye=hs(Ye-256,Ce);var wt,ft=ti(Qe.G[4],Qe.H[4],Ce);if(he(Ce),!(_e>=(ft=ei(Le,ft=hs(ft,Ce)))&&Te-_e>=Ye)){tt=0;break t}for(wt=0;wt<Ye;++wt)Z[Re+_e+wt]=Z[Re+_e+wt-ft];for(_e+=Ye,de+=Ye;de>=Le;)de-=Le,++Q<=A&&!(Q%16)&&Rn(Y,Q);_e<Ze&&de&at&&(Qe=jn(Me,de,Q))}t(Ce.h==ee(Ce))}Rn(Y,Q>A?A:Q);break t}!tt||Ce.h&&_e<Te?(tt=0,Y.a=Ce.h?5:3):Y.$=_e,A=tt}else A=ni(Y,Y.V,Y.Ba,Y.c,Y.i,A,To);if(!A){O=0;break e}}L+O>=$&&(v.Cc=1),O=1}if(!O)return null;if(v.Cc&&((O=v.ga)!=null&&(O.mc=null),v.ga=null,0<v.Ga))return alert("todo:WebPDequantizeLevels"),null}return v.nb+L*H}function _(v,A,L,O,H,$){for(;0<H--;){var Y,Z=v,Q=A+(L?1:0),de=v,Ce=A+(L?0:3);for(Y=0;Y<O;++Y){var Me=de[Ce+4*Y];Me!=255&&(Me*=32897,Z[Q+4*Y+0]=Z[Q+4*Y+0]*Me>>23,Z[Q+4*Y+1]=Z[Q+4*Y+1]*Me>>23,Z[Q+4*Y+2]=Z[Q+4*Y+2]*Me>>23)}A+=$}}function q(v,A,L,O,H){for(;0<O--;){var $;for($=0;$<L;++$){var Y=v[A+2*$+0],Z=15&(de=v[A+2*$+1]),Q=4369*Z,de=(240&de|de>>4)*Q>>16;v[A+2*$+0]=(240&Y|Y>>4)*Q>>16&240|(15&Y|Y<<4)*Q>>16>>4&15,v[A+2*$+1]=240&de|Z}A+=H}}function le(v,A,L,O,H,$,Y,Z){var Q,de,Ce=255;for(de=0;de<H;++de){for(Q=0;Q<O;++Q){var Me=v[A+Q];$[Y+4*Q]=Me,Ce&=Me}A+=L,Y+=Z}return Ce!=255}function be(v,A,L,O,H){var $;for($=0;$<H;++$)L[O+$]=v[A+$]>>8}function Pe(){es=_,Fn=q,Un=le,_r=be}function Ke(v,A,L){X[v]=function(O,H,$,Y,Z,Q,de,Ce,Me,Re,Le,tt,Ye,_e,Te,Ze,at){var Qe,wt=at-1>>1,ft=Z[Q+0]|de[Ce+0]<<16,Dt=Me[Re+0]|Le[tt+0]<<16;t(O!=null);var pt=3*ft+Dt+131074>>2;for(A(O[H+0],255&pt,pt>>16,Ye,_e),$!=null&&(pt=3*Dt+ft+131074>>2,A($[Y+0],255&pt,pt>>16,Te,Ze)),Qe=1;Qe<=wt;++Qe){var Nn=Z[Q+Qe]|de[Ce+Qe]<<16,Cn=Me[Re+Qe]|Le[tt+Qe]<<16,yn=ft+Nn+Dt+Cn+524296,cn=yn+2*(Nn+Dt)>>3;pt=cn+ft>>1,ft=(yn=yn+2*(ft+Cn)>>3)+Nn>>1,A(O[H+2*Qe-1],255&pt,pt>>16,Ye,_e+(2*Qe-1)*L),A(O[H+2*Qe-0],255&ft,ft>>16,Ye,_e+(2*Qe-0)*L),$!=null&&(pt=yn+Dt>>1,ft=cn+Cn>>1,A($[Y+2*Qe-1],255&pt,pt>>16,Te,Ze+(2*Qe-1)*L),A($[Y+2*Qe+0],255&ft,ft>>16,Te,Ze+(2*Qe+0)*L)),ft=Nn,Dt=Cn}1&at||(pt=3*ft+Dt+131074>>2,A(O[H+at-1],255&pt,pt>>16,Ye,_e+(at-1)*L),$!=null&&(pt=3*Dt+ft+131074>>2,A($[Y+at-1],255&pt,pt>>16,Te,Ze+(at-1)*L)))}}function nt(){Vs[af]=TC,Vs[of]=Uy,Vs[Dy]=IC,Vs[lf]=Vy,Vs[cf]=zy,Vs[gp]=Hy,Vs[My]=kC,Vs[xp]=Uy,Vs[yp]=Vy,Vs[uf]=zy,Vs[vp]=Hy}function mt(v){return v&-16384?0>v?0:255:v>>jC}function jt(v,A){return mt((19077*v>>8)+(26149*A>>8)-14234)}function Ht(v,A,L){return mt((19077*v>>8)-(6419*A>>8)-(13320*L>>8)+8708)}function qt(v,A){return mt((19077*v>>8)+(33050*A>>8)-17685)}function an(v,A,L,O,H){O[H+0]=jt(v,L),O[H+1]=Ht(v,A,L),O[H+2]=qt(v,A)}function Yn(v,A,L,O,H){O[H+0]=qt(v,A),O[H+1]=Ht(v,A,L),O[H+2]=jt(v,L)}function Sn(v,A,L,O,H){var $=Ht(v,A,L);A=$<<3&224|qt(v,A)>>3,O[H+0]=248&jt(v,L)|$>>5,O[H+1]=A}function tr(v,A,L,O,H){var $=240&qt(v,A)|15;O[H+0]=240&jt(v,L)|Ht(v,A,L)>>4,O[H+1]=$}function ri(v,A,L,O,H){O[H+0]=255,an(v,A,L,O,H+1)}function nr(v,A,L,O,H){Yn(v,A,L,O,H),O[H+3]=255}function ms(v,A,L,O,H){an(v,A,L,O,H),O[H+3]=255}function gr(v,A){return 0>v?0:v>A?A:v}function Vi(v,A,L){X[v]=function(O,H,$,Y,Z,Q,de,Ce,Me){for(var Re=Ce+(-2&Me)*L;Ce!=Re;)A(O[H+0],$[Y+0],Z[Q+0],de,Ce),A(O[H+1],$[Y+0],Z[Q+0],de,Ce+L),H+=2,++Y,++Q,Ce+=2*L;1&Me&&A(O[H+0],$[Y+0],Z[Q+0],de,Ce)}}function pi(v,A,L){return L==0?v==0?A==0?6:5:A==0?4:0:L}function Do(v,A,L,O,H){switch(v>>>30){case 3:Ne(A,L,O,H,0);break;case 2:Ie(A,L,O,H);break;case 1:rt(A,L,O,H)}}function Ei(v,A){var L,O,H=A.M,$=A.Nb,Y=v.oc,Z=v.pc+40,Q=v.oc,de=v.pc+584,Ce=v.oc,Me=v.pc+600;for(L=0;16>L;++L)Y[Z+32*L-1]=129;for(L=0;8>L;++L)Q[de+32*L-1]=129,Ce[Me+32*L-1]=129;for(0<H?Y[Z-1-32]=Q[de-1-32]=Ce[Me-1-32]=129:(i(Y,Z-32-1,127,21),i(Q,de-32-1,127,9),i(Ce,Me-32-1,127,9)),O=0;O<v.za;++O){var Re=A.ya[A.aa+O];if(0<O){for(L=-1;16>L;++L)r(Y,Z+32*L-4,Y,Z+32*L+12,4);for(L=-1;8>L;++L)r(Q,de+32*L-4,Q,de+32*L+4,4),r(Ce,Me+32*L-4,Ce,Me+32*L+4,4)}var Le=v.Gd,tt=v.Hd+O,Ye=Re.ad,_e=Re.Hc;if(0<H&&(r(Y,Z-32,Le[tt].y,0,16),r(Q,de-32,Le[tt].f,0,8),r(Ce,Me-32,Le[tt].ea,0,8)),Re.Za){var Te=Y,Ze=Z-32+16;for(0<H&&(O>=v.za-1?i(Te,Ze,Le[tt].y[15],4):r(Te,Ze,Le[tt+1].y,0,4)),L=0;4>L;L++)Te[Ze+128+L]=Te[Ze+256+L]=Te[Ze+384+L]=Te[Ze+0+L];for(L=0;16>L;++L,_e<<=2)Te=Y,Ze=Z+Wy[L],ia[Re.Ob[L]](Te,Ze),Do(_e,Ye,16*+L,Te,Ze)}else if(Te=pi(O,H,Re.Ob[0]),Bo[Te](Y,Z),_e!=0)for(L=0;16>L;++L,_e<<=2)Do(_e,Ye,16*+L,Y,Z+Wy[L]);for(L=Re.Gc,Te=pi(O,H,Re.Dd),to[Te](Q,de),to[Te](Ce,Me),_e=Ye,Te=Q,Ze=de,255&(Re=L>>0)&&(170&Re?Ue(_e,256,Te,Ze):ot(_e,256,Te,Ze)),Re=Ce,_e=Me,255&(L>>=8)&&(170&L?Ue(Ye,320,Re,_e):ot(Ye,320,Re,_e)),H<v.Ub-1&&(r(Le[tt].y,0,Y,Z+480,16),r(Le[tt].f,0,Q,de+224,8),r(Le[tt].ea,0,Ce,Me+224,8)),L=8*$*v.B,Le=v.sa,tt=v.ta+16*O+16*$*v.R,Ye=v.qa,Re=v.ra+8*O+L,_e=v.Ha,Te=v.Ia+8*O+L,L=0;16>L;++L)r(Le,tt+L*v.R,Y,Z+32*L,16);for(L=0;8>L;++L)r(Ye,Re+L*v.B,Q,de+32*L,8),r(_e,Te+L*v.B,Ce,Me+32*L,8)}}function Mo(v,A,L,O,H,$,Y,Z,Q){var de=[0],Ce=[0],Me=0,Re=Q!=null?Q.kd:0,Le=Q??new tc;if(v==null||12>L)return 7;Le.data=v,Le.w=A,Le.ha=L,A=[A],L=[L],Le.gb=[Le.gb];e:{var tt=A,Ye=L,_e=Le.gb;if(t(v!=null),t(Ye!=null),t(_e!=null),_e[0]=0,12<=Ye[0]&&!n(v,tt[0],"RIFF")){if(n(v,tt[0]+8,"WEBP")){_e=3;break e}var Te=$e(v,tt[0]+4);if(12>Te||4294967286<Te){_e=3;break e}if(Re&&Te>Ye[0]-8){_e=7;break e}_e[0]=Te,tt[0]+=12,Ye[0]-=12}_e=0}if(_e!=0)return _e;for(Te=0<Le.gb[0],L=L[0];;){e:{var Ze=v;Ye=A,_e=L;var at=de,Qe=Ce,wt=tt=[0];if((pt=Me=[Me])[0]=0,8>_e[0])_e=7;else{if(!n(Ze,Ye[0],"VP8X")){if($e(Ze,Ye[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var ft=$e(Ze,Ye[0]+8),Dt=1+it(Ze,Ye[0]+12);if(2147483648<=Dt*(Ze=1+it(Ze,Ye[0]+15))){_e=3;break e}wt!=null&&(wt[0]=ft),at!=null&&(at[0]=Dt),Qe!=null&&(Qe[0]=Ze),Ye[0]+=18,_e[0]-=18,pt[0]=1}_e=0}}if(Me=Me[0],tt=tt[0],_e!=0)return _e;if(Ye=!!(2&tt),!Te&&Me)return 3;if($!=null&&($[0]=!!(16&tt)),Y!=null&&(Y[0]=Ye),Z!=null&&(Z[0]=0),Y=de[0],tt=Ce[0],Me&&Ye&&Q==null){_e=0;break}if(4>L){_e=7;break}if(Te&&Me||!Te&&!Me&&!n(v,A[0],"ALPH")){L=[L],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{ft=v,_e=A,Te=L;var pt=Le.gb;at=Le.na,Qe=Le.P,wt=Le.Sa,Dt=22,t(ft!=null),t(Te!=null),Ze=_e[0];var Nn=Te[0];for(t(at!=null),t(wt!=null),at[0]=null,Qe[0]=null,wt[0]=0;;){if(_e[0]=Ze,Te[0]=Nn,8>Nn){_e=7;break e}var Cn=$e(ft,Ze+4);if(4294967286<Cn){_e=3;break e}var yn=8+Cn+1&-2;if(Dt+=yn,0<pt&&Dt>pt){_e=3;break e}if(!n(ft,Ze,"VP8 ")||!n(ft,Ze,"VP8L")){_e=0;break e}if(Nn[0]<yn){_e=7;break e}n(ft,Ze,"ALPH")||(at[0]=ft,Qe[0]=Ze+8,wt[0]=Cn),Ze+=yn,Nn-=yn}}if(L=L[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],_e!=0)break}L=[L],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(pt=v,_e=A,Te=L,at=Le.gb[0],Qe=Le.Ja,wt=Le.xa,ft=_e[0],Ze=!n(pt,ft,"VP8 "),Dt=!n(pt,ft,"VP8L"),t(pt!=null),t(Te!=null),t(Qe!=null),t(wt!=null),8>Te[0])_e=7;else{if(Ze||Dt){if(pt=$e(pt,ft+4),12<=at&&pt>at-12){_e=3;break e}if(Re&&pt>Te[0]-8){_e=7;break e}Qe[0]=pt,_e[0]+=8,Te[0]-=8,wt[0]=Dt}else wt[0]=5<=Te[0]&&pt[ft+0]==47&&!(pt[ft+4]>>5),Qe[0]=Te[0];_e=0}if(L=L[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],A=A[0],_e!=0)break;if(4294967286<Le.Ja)return 3;if(Z==null||Ye||(Z[0]=Le.xa?2:1),Y=[Y],tt=[tt],Le.xa){if(5>L){_e=7;break}Z=Y,Re=tt,Ye=$,v==null||5>L?v=0:5<=L&&v[A+0]==47&&!(v[A+4]>>5)?(Te=[0],pt=[0],at=[0],ge(Qe=new R,v,A,L),_t(Qe,Te,pt,at)?(Z!=null&&(Z[0]=Te[0]),Re!=null&&(Re[0]=pt[0]),Ye!=null&&(Ye[0]=at[0]),v=1):v=0):v=0}else{if(10>L){_e=7;break}Z=tt,v==null||10>L||!Io(v,A+3,L-3)?v=0:(Re=v[A+0]|v[A+1]<<8|v[A+2]<<16,Ye=16383&(v[A+7]<<8|v[A+6]),v=16383&(v[A+9]<<8|v[A+8]),1&Re||3<(Re>>1&7)||!(Re>>4&1)||Re>>5>=Le.Ja||!Ye||!v?v=0:(Y&&(Y[0]=Ye),Z&&(Z[0]=v),v=1))}if(!v||(Y=Y[0],tt=tt[0],Me&&(de[0]!=Y||Ce[0]!=tt)))return 3;Q!=null&&(Q[0]=Le,Q.offset=A-Q.w,t(4294967286>A-Q.w),t(Q.offset==Q.ha-L));break}return _e==0||_e==7&&Me&&Q==null?($!=null&&($[0]|=Le.na!=null&&0<Le.na.length),O!=null&&(O[0]=Y),H!=null&&(H[0]=tt),0):_e}function Qa(v,A,L){var O=A.width,H=A.height,$=0,Y=0,Z=O,Q=H;if(A.Da=v!=null&&0<v.Da,A.Da&&(Z=v.cd,Q=v.bd,$=v.v,Y=v.j,11>L||($&=-2,Y&=-2),0>$||0>Y||0>=Z||0>=Q||$+Z>O||Y+Q>H))return 0;if(A.v=$,A.j=Y,A.va=$+Z,A.o=Y+Q,A.U=Z,A.T=Q,A.da=v!=null&&0<v.da,A.da){if(!bt(Z,Q,L=[v.ib],$=[v.hb]))return 0;A.ib=L[0],A.hb=$[0]}return A.ob=v!=null&&v.ob,A.Kb=v==null||!v.Sd,A.da&&(A.ob=A.ib<3*O/4&&A.hb<3*H/4,A.Kb=0),1}function rc(v){if(v==null)return 2;if(11>v.S){var A=v.f.RGBA;A.fb+=(v.height-1)*A.A,A.A=-A.A}else A=v.f.kb,v=v.height,A.O+=(v-1)*A.fa,A.fa=-A.fa,A.N+=(v-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(v-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(v-1)*A.lb,A.lb=-A.lb);return 0}function Ja(v,A,L,O){if(O==null||0>=v||0>=A)return 2;if(L!=null){if(L.Da){var H=L.cd,$=L.bd,Y=-2&L.v,Z=-2&L.j;if(0>Y||0>Z||0>=H||0>=$||Y+H>v||Z+$>A)return 2;v=H,A=$}if(L.da){if(!bt(v,A,H=[L.ib],$=[L.hb]))return 2;v=H[0],A=$[0]}}O.width=v,O.height=A;e:{var Q=O.width,de=O.height;if(v=O.S,0>=Q||0>=de||!(v>=af&&13>v))v=2;else{if(0>=O.Rd&&O.sd==null){Y=$=H=A=0;var Ce=(Z=Q*$y[v])*de;if(11>v||($=(de+1)/2*(A=(Q+1)/2),v==12&&(Y=(H=Q)*de)),(de=s(Ce+2*$+Y))==null){v=1;break e}O.sd=de,11>v?((Q=O.f.RGBA).eb=de,Q.fb=0,Q.A=Z,Q.size=Ce):((Q=O.f.kb).y=de,Q.O=0,Q.fa=Z,Q.Fd=Ce,Q.f=de,Q.N=0+Ce,Q.Ab=A,Q.Cd=$,Q.ea=de,Q.W=0+Ce+$,Q.Db=A,Q.Ed=$,v==12&&(Q.F=de,Q.J=0+Ce+2*$),Q.Tc=Y,Q.lb=H)}if(A=1,H=O.S,$=O.width,Y=O.height,H>=af&&13>H)if(11>H)v=O.f.RGBA,A&=(Z=Math.abs(v.A))*(Y-1)+$<=v.size,A&=Z>=$*$y[H],A&=v.eb!=null;else{v=O.f.kb,Z=($+1)/2,Ce=(Y+1)/2,Q=Math.abs(v.fa),de=Math.abs(v.Ab);var Me=Math.abs(v.Db),Re=Math.abs(v.lb),Le=Re*(Y-1)+$;A&=Q*(Y-1)+$<=v.Fd,A&=de*(Ce-1)+Z<=v.Cd,A=(A&=Me*(Ce-1)+Z<=v.Ed)&Q>=$&de>=Z&Me>=Z,A&=v.y!=null,A&=v.f!=null,A&=v.ea!=null,H==12&&(A&=Re>=$,A&=Le<=v.Tc,A&=v.F!=null)}else A=0;v=A?0:2}}return v!=0||L!=null&&L.fd&&(v=rc(O)),v}var Ln=64,Ro=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ka=24,Bs=32,rn=8,Wr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];se("Predictor0","PredictorAdd0"),X.Predictor0=function(){return 4278190080},X.Predictor1=function(v){return v},X.Predictor2=function(v,A,L){return A[L+0]},X.Predictor3=function(v,A,L){return A[L+1]},X.Predictor4=function(v,A,L){return A[L-1]},X.Predictor5=function(v,A,L){return we(we(v,A[L+1]),A[L+0])},X.Predictor6=function(v,A,L){return we(v,A[L-1])},X.Predictor7=function(v,A,L){return we(v,A[L+0])},X.Predictor8=function(v,A,L){return we(A[L-1],A[L+0])},X.Predictor9=function(v,A,L){return we(A[L+0],A[L+1])},X.Predictor10=function(v,A,L){return we(we(v,A[L-1]),we(A[L+0],A[L+1]))},X.Predictor11=function(v,A,L){var O=A[L+0];return 0>=We(O>>24&255,v>>24&255,(A=A[L-1])>>24&255)+We(O>>16&255,v>>16&255,A>>16&255)+We(O>>8&255,v>>8&255,A>>8&255)+We(255&O,255&v,255&A)?O:v},X.Predictor12=function(v,A,L){var O=A[L+0];return(qe((v>>24&255)+(O>>24&255)-((A=A[L-1])>>24&255))<<24|qe((v>>16&255)+(O>>16&255)-(A>>16&255))<<16|qe((v>>8&255)+(O>>8&255)-(A>>8&255))<<8|qe((255&v)+(255&O)-(255&A)))>>>0},X.Predictor13=function(v,A,L){var O=A[L-1];return(Be((v=we(v,A[L+0]))>>24&255,O>>24&255)<<24|Be(v>>16&255,O>>16&255)<<16|Be(v>>8&255,O>>8&255)<<8|Be(v>>0&255,O>>0&255))>>>0};var V=X.PredictorAdd0;X.PredictorAdd1=Je,se("Predictor2","PredictorAdd2"),se("Predictor3","PredictorAdd3"),se("Predictor4","PredictorAdd4"),se("Predictor5","PredictorAdd5"),se("Predictor6","PredictorAdd6"),se("Predictor7","PredictorAdd7"),se("Predictor8","PredictorAdd8"),se("Predictor9","PredictorAdd9"),se("Predictor10","PredictorAdd10"),se("Predictor11","PredictorAdd11"),se("Predictor12","PredictorAdd12"),se("Predictor13","PredictorAdd13");var a=X.PredictorAdd2;Mt("ColorIndexInverseTransform","MapARGB","32b",function(v){return v>>8&255},function(v){return v}),Mt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(v){return v},function(v){return v>>8&255});var l,c=X.ColorIndexInverseTransform,f=X.MapARGB,m=X.VP8LColorIndexInverseTransformAlpha,g=X.MapAlpha,w=X.VP8LPredictorsAdd=[];w.length=16,(X.VP8LPredictors=[]).length=16,(X.VP8LPredictorsAdd_C=[]).length=16,(X.VP8LPredictors_C=[]).length=16;var S,I,D,U,G,ue,ye,Ne,Ie,Ue,rt,ot,st,tn,Vt,xr,$r,cr,fn,rr,Er,zi,Fs,Ji,es,Fn,Un,_r,Gr=s(511),eo=s(2041),pd=s(225),$c=s(767),rf=0,mp=eo,sf=pd,gs=$c,Us=Gr,af=0,of=1,Dy=2,lf=3,cf=4,gp=5,My=6,xp=7,yp=8,uf=9,vp=10,pC=[2,3,7],mC=[3,3,11],Ry=[280,256,256,256,40],gC=[0,1,1,1,0],xC=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],yC=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],vC=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],wC=8,wp=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],bp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],md=null,bC=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],NC=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],By=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],AC=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],SC=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],CC=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],EC=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bo=[],ia=[],to=[],_C=1,Fy=2,Fo=[],Vs=[];Ke("UpsampleRgbLinePair",an,3),Ke("UpsampleBgrLinePair",Yn,3),Ke("UpsampleRgbaLinePair",ms,4),Ke("UpsampleBgraLinePair",nr,4),Ke("UpsampleArgbLinePair",ri,4),Ke("UpsampleRgba4444LinePair",tr,2),Ke("UpsampleRgb565LinePair",Sn,2);var TC=X.UpsampleRgbLinePair,IC=X.UpsampleBgrLinePair,Uy=X.UpsampleRgbaLinePair,Vy=X.UpsampleBgraLinePair,zy=X.UpsampleArgbLinePair,Hy=X.UpsampleRgba4444LinePair,kC=X.UpsampleRgb565LinePair,df=16,hf=1<<df-1,gd=-227,Np=482,jC=6,qy=0,LC=s(256),PC=s(256),OC=s(256),DC=s(256),MC=s(Np-gd),RC=s(Np-gd);Vi("YuvToRgbRow",an,3),Vi("YuvToBgrRow",Yn,3),Vi("YuvToRgbaRow",ms,4),Vi("YuvToBgraRow",nr,4),Vi("YuvToArgbRow",ri,4),Vi("YuvToRgba4444Row",tr,2),Vi("YuvToRgb565Row",Sn,2);var Wy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ff=[0,2,8],BC=[8,7,6,4,4,2,2,2,1,1,1,1],FC=1;this.WebPDecodeRGBA=function(v,A,L,O,H){var $=of,Y=new Po,Z=new Xt;Y.ba=Z,Z.S=$,Z.width=[Z.width],Z.height=[Z.height];var Q=Z.width,de=Z.height,Ce=new ui;if(Ce==null||v==null)var Me=2;else t(Ce!=null),Me=Mo(v,A,L,Ce.width,Ce.height,Ce.Pd,Ce.Qd,Ce.format,null);if(Me!=0?Q=0:(Q!=null&&(Q[0]=Ce.width[0]),de!=null&&(de[0]=Ce.height[0]),Q=1),Q){Z.width=Z.width[0],Z.height=Z.height[0],O!=null&&(O[0]=Z.width),H!=null&&(H[0]=Z.height);e:{if(O=new Qt,(H=new tc).data=v,H.w=A,H.ha=L,H.kd=1,A=[0],t(H!=null),((v=Mo(H.data,H.w,H.ha,null,null,null,A,null,H))==0||v==7)&&A[0]&&(v=4),(A=v)==0){if(t(Y!=null),O.data=H.data,O.w=H.w+H.offset,O.ha=H.ha-H.offset,O.put=di,O.ac=pn,O.bc=Bi,O.ma=Y,H.xa){if((v=hi())==null){Y=1;break e}if(function(Re,Le){var tt=[0],Ye=[0],_e=[0];t:for(;;){if(Re==null)return 0;if(Le==null)return Re.a=2,0;if(Re.l=Le,Re.a=0,ge(Re.m,Le.data,Le.w,Le.ha),!_t(Re.m,tt,Ye,_e)){Re.a=3;break t}if(Re.xb=Fy,Le.width=tt[0],Le.height=Ye[0],!Nr(tt[0],Ye[0],1,Re,null))break t;return 1}return t(Re.a!=0),0}(v,O)){if(O=(A=Ja(O.width,O.height,Y.Oa,Y.ba))==0){t:{O=v;n:for(;;){if(O==null){O=0;break t}if(t(O.s.yc!=null),t(O.s.Ya!=null),t(0<O.s.Wb),t((L=O.l)!=null),t((H=L.ma)!=null),O.xb!=0){if(O.ca=H.ba,O.tb=H.tb,t(O.ca!=null),!Qa(H.Oa,L,lf)){O.a=2;break n}if(!Ya(O,L.width)||L.da)break n;if((L.da||nn(O.ca.S))&&Pe(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Pe()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!vt(O.s.vb,O.s.Wa.Xa)){O.a=1;break n}O.xb=0}if(!ni(O,O.V,O.Ba,O.c,O.i,L.o,gt))break n;H.Dc=O.Ma,O=1;break t}t(O.a!=0),O=0}O=!O}O&&(A=v.a)}else A=v.a}else{if((v=new Hl)==null){Y=1;break e}if(v.Fa=H.na,v.P=H.P,v.qc=H.Sa,Jn(v,O)){if((A=Ja(O.width,O.height,Y.Oa,Y.ba))==0){if(v.Aa=0,L=Y.Oa,t((H=v)!=null),L!=null){if(0<(Q=0>(Q=L.Md)?0:100<Q?255:255*Q/100)){for(de=Ce=0;4>de;++de)12>(Me=H.pb[de]).lc&&(Me.ia=Q*BC[0>Me.lc?0:Me.lc]>>3),Ce|=Me.ia;Ce&&(alert("todo:VP8InitRandom"),H.ia=1)}H.Ga=L.Id,100<H.Ga?H.Ga=100:0>H.Ga&&(H.Ga=0)}Gn(v,O)||(A=v.a)}}else A=v.a}A==0&&Y.Oa!=null&&Y.Oa.fd&&(A=rc(Y.ba))}Y=A}$=Y!=0?null:11>$?Z.f.RGBA.eb:Z.f.kb.y}else $=null;return $};var $y=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(X,J){for(var ve="",W=0;W<4;W++)ve+=String.fromCharCode(X[J++]);return ve}function x(X,J){return(X[J+0]<<0|X[J+1]<<8|X[J+2]<<16)>>>0}function y(X,J){return(X[J+0]<<0|X[J+1]<<8|X[J+2]<<16|X[J+3]<<24)>>>0}new h;var N=[0],b=[0],j=[],T=new h,P=e,E=function(X,J){var ve={},W=0,z=!1,re=0,ae=0;if(ve.frames=[],!function(K,ee,me,he){for(var ke=0;ke<he;ke++)if(K[ee+ke]!=me.charCodeAt(ke))return!0;return!1}(X,J,"RIFF",4)){var te,Se;for(y(X,J+=4),J+=8;J<X.length;){var Ae=p(X,J),ge=y(X,J+=4);J+=4;var ie=ge+(1&ge);switch(Ae){case"VP8 ":case"VP8L":ve.frames[W]===void 0&&(ve.frames[W]={}),(R=ve.frames[W]).src_off=z?ae:J-8,R.src_size=re+ge+8,W++,z&&(z=!1,re=0,ae=0);break;case"VP8X":(R=ve.header={}).feature_flags=X[J];var xe=J+4;R.canvas_width=1+x(X,xe),xe+=3,R.canvas_height=1+x(X,xe),xe+=3;break;case"ALPH":z=!0,re=ie+8,ae=J-8;break;case"ANIM":(R=ve.header).bgcolor=y(X,J),xe=J+4,R.loop_count=(te=X)[(Se=xe)+0]<<0|te[Se+1]<<8,xe+=2;break;case"ANMF":var Ee,R;(R=ve.frames[W]={}).offset_x=2*x(X,J),J+=3,R.offset_y=2*x(X,J),J+=3,R.width=1+x(X,J),J+=3,R.height=1+x(X,J),J+=3,R.duration=x(X,J),J+=3,Ee=X[J++],R.dispose=1&Ee,R.blend=Ee>>1&1}Ae!="ANMF"&&(J+=ie)}return ve}}(P,0);E.response=P,E.rgbaoutput=!0,E.dataurl=!1;var C=E.header?E.header:null,k=E.frames?E.frames:null;if(C){C.loop_counter=C.loop_count,N=[C.canvas_height],b=[C.canvas_width];for(var M=0;M<k.length&&k[M].blend!=0;M++);}var B=k[0],ne=T.WebPDecodeRGBA(P,B.src_off,B.src_size,b,N);B.rgba=ne,B.imgwidth=b[0],B.imgheight=N[0];for(var F=0;F<b[0]*N[0]*4;F++)j[F]=ne[F];return this.width=b,this.height=N,this.data=j,this}(function(e){var t=function(){return typeof j2=="function"},n=function(N,b,j,T){var P=4,E=o;switch(T){case e.image_compression.FAST:P=1,E=s;break;case e.image_compression.MEDIUM:P=6,E=u;break;case e.image_compression.SLOW:P=9,E=h}N=r(N,b,j,E);var C=j2(N,{level:P});return e.__addimage__.arrayBufferToBinaryString(C)},r=function(N,b,j,T){for(var P,E,C,k=N.length/b,M=new Uint8Array(N.length+k),B=x(),ne=0;ne<k;ne+=1){if(C=ne*b,P=N.subarray(C,C+b),T)M.set(T(P,j,E),C+ne);else{for(var F,X=B.length,J=[];F<X;F+=1)J[F]=B[F](P,j,E);var ve=y(J.concat());M.set(J[ve],C+ne)}E=P}return M},i=function(N){var b=Array.apply([],N);return b.unshift(0),b},s=function(N,b){var j,T=[],P=N.length;T[0]=1;for(var E=0;E<P;E+=1)j=N[E-b]||0,T[E+1]=N[E]-j+256&255;return T},o=function(N,b,j){var T,P=[],E=N.length;P[0]=2;for(var C=0;C<E;C+=1)T=j&&j[C]||0,P[C+1]=N[C]-T+256&255;return P},u=function(N,b,j){var T,P,E=[],C=N.length;E[0]=3;for(var k=0;k<C;k+=1)T=N[k-b]||0,P=j&&j[k]||0,E[k+1]=N[k]+256-(T+P>>>1)&255;return E},h=function(N,b,j){var T,P,E,C,k=[],M=N.length;k[0]=4;for(var B=0;B<M;B+=1)T=N[B-b]||0,P=j&&j[B]||0,E=j&&j[B-b]||0,C=p(T,P,E),k[B+1]=N[B]-C+256&255;return k},p=function(N,b,j){if(N===b&&b===j)return N;var T=Math.abs(b-j),P=Math.abs(N-j),E=Math.abs(N+b-j-j);return T<=P&&T<=E?N:P<=E?b:j},x=function(){return[i,s,o,u,h]},y=function(N){var b=N.map(function(j){return j.reduce(function(T,P){return T+Math.abs(P)},0)});return b.indexOf(Math.min.apply(null,b))};e.processPNG=function(N,b,j,T){var P,E,C,k,M,B,ne,F,X,J,ve,W,z,re,ae,te=this.decode.FLATE_DECODE,Se="";if(this.__addimage__.isArrayBuffer(N)&&(N=new Uint8Array(N)),this.__addimage__.isArrayBufferView(N)){if(N=(C=new OB(N)).imgData,E=C.bits,P=C.colorSpace,M=C.colors,[4,6].indexOf(C.colorType)!==-1){if(C.bits===8){X=(F=C.pixelBitlength==32?new Uint32Array(C.decodePixels().buffer):C.pixelBitlength==16?new Uint16Array(C.decodePixels().buffer):new Uint8Array(C.decodePixels().buffer)).length,ve=new Uint8Array(X*C.colors),J=new Uint8Array(X);var Ae,ge=C.pixelBitlength-C.bits;for(re=0,ae=0;re<X;re++){for(z=F[re],Ae=0;Ae<ge;)ve[ae++]=z>>>Ae&255,Ae+=C.bits;J[re]=z>>>Ae&255}}if(C.bits===16){X=(F=new Uint32Array(C.decodePixels().buffer)).length,ve=new Uint8Array(X*(32/C.pixelBitlength)*C.colors),J=new Uint8Array(X*(32/C.pixelBitlength)),W=C.colors>1,re=0,ae=0;for(var ie=0;re<X;)z=F[re++],ve[ae++]=z>>>0&255,W&&(ve[ae++]=z>>>16&255,z=F[re++],ve[ae++]=z>>>0&255),J[ie++]=z>>>16&255;E=8}T!==e.image_compression.NONE&&t()?(N=n(ve,C.width*C.colors,C.colors,T),ne=n(J,C.width,1,T)):(N=ve,ne=J,te=void 0)}if(C.colorType===3&&(P=this.color_spaces.INDEXED,B=C.palette,C.transparency.indexed)){var xe=C.transparency.indexed,Ee=0;for(re=0,X=xe.length;re<X;++re)Ee+=xe[re];if((Ee/=255)===X-1&&xe.indexOf(0)!==-1)k=[xe.indexOf(0)];else if(Ee!==X){for(F=C.decodePixels(),J=new Uint8Array(F.length),re=0,X=F.length;re<X;re++)J[re]=xe[F[re]];ne=n(J,C.width,1)}}var R=function(K){var ee;switch(K){case e.image_compression.FAST:ee=11;break;case e.image_compression.MEDIUM:ee=13;break;case e.image_compression.SLOW:ee=14;break;default:ee=12}return ee}(T);return te===this.decode.FLATE_DECODE&&(Se="/Predictor "+R+" "),Se+="/Colors "+M+" /BitsPerComponent "+E+" /Columns "+C.width,(this.__addimage__.isArrayBuffer(N)||this.__addimage__.isArrayBufferView(N))&&(N=this.__addimage__.arrayBufferToBinaryString(N)),(ne&&this.__addimage__.isArrayBuffer(ne)||this.__addimage__.isArrayBufferView(ne))&&(ne=this.__addimage__.arrayBufferToBinaryString(ne)),{alias:j,data:N,index:b,filter:te,decodeParameters:Se,transparency:k,palette:B,sMask:ne,predictor:R,width:C.width,height:C.height,bitsPerComponent:E,colorSpace:P}}}})(Rt.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new DB(t),o=s.width,u=s.height,h=[];s.decodeAndBlitFrameRGBA(0,h);var p={data:h,width:o,height:u},x=new Bm(100).encode(p,100);return e.processJPEG.call(this,x,n,r,i)},e.processGIF87A=e.processGIF89A}(Rt.API),la.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},la.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Dn.log("bit decode error:"+n)}},la.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var h=this.palette[s>>7-u&1];this.data[o+4*u]=h.blue,this.data[o+4*u+1]=h.green,this.data[o+4*u+2]=h.red,this.data[o+4*u+3]=255}n!==0&&(this.pos+=4-n)}},la.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,u=s>>4,h=15&s,p=this.palette[u];if(this.data[o]=p.blue,this.data[o+1]=p.green,this.data[o+2]=p.red,this.data[o+3]=255,2*i+1>=this.width)break;p=this.palette[h],this.data[o+4]=p.blue,this.data[o+4+1]=p.green,this.data[o+4+2]=p.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},la.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},la.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,u=(s>>5&t)/t*255|0,h=(s>>10&t)/t*255|0,p=s>>15?255:0,x=r*this.width*4+4*i;this.data[x]=h,this.data[x+1]=u,this.data[x+2]=o,this.data[x+3]=p}this.pos+=e}},la.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,h=(o>>5&n)/n*255|0,p=(o>>11)/t*255|0,x=i*this.width*4+4*s;this.data[x]=p,this.data[x+1]=h,this.data[x+2]=u,this.data[x+3]=255}this.pos+=e}},la.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},la.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*n;this.data[u]=s,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=o}},la.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new la(t,!1),o=s.width,u=s.height,h={data:s.getData(),width:o,height:u},p=new Bm(100).encode(h,100);return e.processJPEG.call(this,p,n,r,i)}}(Rt.API),a3.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new a3(t),o=s.width,u=s.height,h={data:s.getData(),width:o,height:u},p=new Bm(100).encode(h,100);return e.processJPEG.call(this,p,n,r,i)}}(Rt.API),Rt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),u=0,h=0,p=0;p<i;p+=4){var x=r[p],y=r[p+1],N=r[p+2],b=r[p+3];s[u++]=x,s[u++]=y,s[u++]=N,o[h++]=b}var j=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:j,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Rt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},au=Rt.API,n0=au.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:i.metadata.Unicode.widths,h=u.fof?u.fof:1,p=t.kerning?t.kerning:i.metadata.Unicode.kerning,x=p.fof?p.fof:1,y=t.doKerning!==!1,N=0,b=e.length,j=0,T=u[0]||h,P=[];for(n=0;n<b;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?P.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(N=y&&Tn(p[r])==="object"&&!isNaN(parseInt(p[r][j],10))?p[r][j]/x:0,P.push((u[r]||T)/h+N)),j=r;return P},n3=au.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return au.processArabic&&(e=au.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:n0.apply(this,arguments).reduce(function(s,o){return s+o},0)},r3=function(e,t,n,r){for(var i=[],s=0,o=e.length,u=0;s!==o&&u+t[s]<n;)u+=t[s],s++;i.push(e.slice(0,s));var h=s;for(u=0;s!==o;)u+t[s]>r&&(i.push(e.slice(h,s)),u=0,h=s),u+=t[s],s++;return h!==s&&i.push(e.slice(h,s)),i},i3=function(e,t,n){n||(n={});var r,i,s,o,u,h,p,x=[],y=[x],N=n.textIndent||0,b=0,j=0,T=e.split(" "),P=n0.apply(this,[" ",n])[0];if(h=n.lineIndent===-1?T[0].length+2:n.lineIndent||0){var E=Array(h).join(" "),C=[];T.map(function(M){(M=M.split(/\s*\n/)).length>1?C=C.concat(M.map(function(B,ne){return(ne&&B.length?`
`:"")+B})):C.push(M[0])}),T=C,h=n3.apply(this,[E,n])}for(s=0,o=T.length;s<o;s++){var k=0;if(r=T[s],h&&r[0]==`
`&&(r=r.substr(1),k=1),N+b+(j=(i=n0.apply(this,[r,n])).reduce(function(M,B){return M+B},0))>t||k){if(j>t){for(u=r3.apply(this,[r,i,t-(N+b),t]),x.push(u.shift()),x=[u.pop()];u.length;)y.push([u.shift()]);j=i.slice(r.length-(x[0]?x[0].length:0)).reduce(function(M,B){return M+B},0)}else x=[r];y.push(x),N=j+h,b=P}else x.push(r),N+=b+j,b=P}return p=h?function(M,B){return(B?E:"")+M.join(" ")}:function(M){return M.join(" ")},y.map(p)},au.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var y=this.internal.getFont(x.fontName,x.fontStyle);return y.metadata.Unicode?{widths:y.metadata.Unicode.widths||{0:1},kerning:y.metadata.Unicode.kerning||{}}:{font:y.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var u,h,p=[];for(u=0,h=r.length;u<h;u++)p=p.concat(i3.apply(this,[r[u],o,s]));return p},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(y){return"0x"+parseInt(y,10).toString(16)},o=e.__fontmetrics__.compress=function(y){var N,b,j,T,P=["{"];for(var E in y){if(N=y[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=s(E).slice(2)).slice(0,-1)+r[b.slice(-1)]),typeof N=="number")N<0?(j=s(N).slice(3),T="-"):(j=s(N).slice(2),T=""),j=T+j.slice(0,-1)+r[j.slice(-1)];else{if(Tn(N)!=="object")throw new Error("Don't know what to do with value type "+Tn(N)+".");j=o(N)}P.push(b+j)}return P.push("}"),P.join("")},u=e.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var N,b,j,T,P={},E=1,C=P,k=[],M="",B="",ne=y.length-1,F=1;F<ne;F+=1)(T=y[F])=="'"?N?(j=N.join(""),N=void 0):N=[]:N?N.push(T):T=="{"?(k.push([C,j]),C={},j=void 0):T=="}"?((b=k.pop())[0][b[1]]=C,j=void 0,C=b[0]):T=="-"?E=-1:j===void 0?n.hasOwnProperty(T)?(M+=n[T],j=parseInt(M,16)*E,E=1,M=""):M+=T:n.hasOwnProperty(T)?(B+=n[T],C[j]=parseInt(B,16)*E,E=1,j=void 0,B=""):B+=T;return P},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},x={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(y){var N=y.font,b=x.Unicode[N.postScriptName];b&&(N.metadata.Unicode={},N.metadata.Unicode.widths=b.widths,N.metadata.Unicode.kerning=b.kerning);var j=p.Unicode[N.postScriptName];j&&(N.metadata.Unicode.encoding=j,N.encoding=j.codePages[0])}])}(Rt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(dh(u)),o.metadata=e.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Rt),function(e){function t(){return(Ut.canvg?Promise.resolve(Ut.canvg):El(()=>import("./index.es-CI_RPp0B.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Rt.API.addSvgAsImage=function(n,r,i,s,o,u,h,p){if(isNaN(r)||isNaN(i))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var x=document.createElement("canvas");x.width=s,x.height=o;var y=x.getContext("2d");y.fillStyle="#fff",y.fillRect(0,0,x.width,x.height);var N={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return t().then(function(j){return j.fromString(y,n,N)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(j){return j.render(N)}).then(function(){b.addImage(x.toDataURL("image/jpeg",1),r,i,s,o,h,p)})}}(),Rt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},Rt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),h=[],p=0,x=0,y=0;function N(j,T){var P,E=!1;for(P=0;P<j.length;P+=1)j[P]===T&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var b=u.length;for(y=0;y<b;y+=1)n[u[y]].value=n[u[y]].defaultValue,n[u[y]].explicitSet=!1}if(Tn(e)==="object"){for(i in e)if(s=e[i],N(u,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&N(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(p=0;p<s.length;p+=1)if(r=!0,s[p].length===1&&typeof s[p][0]=="number")h.push(String(s[p]-1));else if(s[p].length>1){for(x=0;x<s[p].length;x+=1)typeof s[p][x]!="number"&&(r=!1);r===!0&&h.push([s[p][0]-1,s[p][1]-1].join(" "))}n[i].value="["+h.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,T=[];for(j in n)n[j].explicitSet===!0&&(n[j].type==="name"?T.push("/"+j+" /"+n[j].value):T.push("/"+j+" "+n[j].value));T.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+T.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),p=s.length+o.length+u.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+u+h),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Rt.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var u,h=o.metadata.Unicode.widths,p=["","0","00","000","0000"],x=[""],y=0,N=s.length;y<N;++y){if(u=o.metadata.characterToGlyph(s.charCodeAt(y)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=s.charCodeAt(y),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return x.join("");u=u.toString(16),x.push(p[4-u.length],u)}return x.join("")},r=function(s){var o,u,h,p,x,y,N;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],y=0,N=(u=Object.keys(s).sort(function(b,j){return b-j})).length;y<N;y++)o=u[y],h.length>=100&&(x+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(p=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),h.push("<"+o+"><"+p+">"));return h.length&&(x+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),x+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var u=o.font,h=o.out,p=o.newObject,x=o.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var y=u.metadata.Unicode.widths,N=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),b="",j=0;j<N.length;j++)b+=String.fromCharCode(N[j]);var T=p();x({data:b,addLength1:!0,objectId:T}),h("endobj");var P=p();x({data:r(u.metadata.toUnicode),addLength1:!0,objectId:P}),h("endobj");var E=p();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+uu(u.fontName)),h("/FontFile2 "+T+" 0 R"),h("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var C=p();h("<<"),h("/Type /Font"),h("/BaseFont /"+uu(u.fontName)),h("/FontDescriptor "+E+" 0 R"),h("/W "+e.API.PDFObject.convert(y)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=p(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+P+" 0 R"),h("/BaseFont /"+uu(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+C+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var u=o.font,h=o.out,p=o.newObject,x=o.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var y=u.metadata.rawData,N="",b=0;b<y.length;b++)N+=String.fromCharCode(y[b]);var j=p();x({data:N,addLength1:!0,objectId:j}),h("endobj");var T=p();x({data:r(u.metadata.toUnicode),addLength1:!0,objectId:T}),h("endobj");var P=p();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+j+" 0 R"),h("/Flags 96"),h("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+uu(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=p();for(var E=0;E<u.metadata.hmtx.widths.length;E++)u.metadata.hmtx.widths[E]=parseInt(u.metadata.hmtx.widths[E]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+T+" 0 R/BaseFont/"+uu(u.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,u=s.text||"",h=s.x,p=s.y,x=s.options||{},y=s.mutex||{},N=y.pdfEscape,b=y.activeFontKey,j=y.fonts,T=b,P="",E=0,C="",k=j[T].encoding;if(j[T].encoding!=="Identity-H")return{text:u,x:h,y:p,options:x,mutex:y};for(C=u,T=b,Array.isArray(u)&&(C=u[0]),E=0;E<C.length;E+=1)j[T].metadata.hasOwnProperty("cmap")&&(o=j[T].metadata.cmap.unicode.codeMap[C[E].charCodeAt(0)]),o||C[E].charCodeAt(0)<256&&j[T].metadata.hasOwnProperty("Unicode")?P+=C[E]:P+="";var M="";return parseInt(T.slice(1))<14||k==="WinAnsiEncoding"?M=N(P,T).split("").map(function(B){return B.charCodeAt(0).toString(16)}).join(""):k==="Identity-H"&&(M=n(P,j[T])),y.isHex=!0,{text:M,x:h,y:p,options:x,mutex:y}};t.events.push(["postProcessText",function(s){var o=s.text||"",u=[],h={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var p=0;for(p=0;p<o.length;p+=1)Array.isArray(o[p])&&o[p].length===3?u.push([i(Object.assign({},h,{text:o[p][0]})).text,o[p][1],o[p][2]]):u.push(i(Object.assign({},h,{text:o[p]})).text);s.text=u}else s.text=i(Object.assign({},h,{text:o})).text}])}(Rt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Rt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,u,h,p,x,y=t,N=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},T={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),C=!1,k=0;this.__bidiEngine__={};var M=function(W){var z=W.charCodeAt(),re=z>>8,ae=T[re];return ae!==void 0?y[256*ae+(255&z)]:re===252||re===253?"AL":E.test(re)?"L":re===8?"R":"N"},B=function(W){for(var z,re=0;re<W.length;re++){if((z=M(W.charAt(re)))==="L")return!1;if(z==="R")return!0}return!1},ne=function(W,z,re,ae){var te,Se,Ae,ge,ie=z[ae];switch(ie){case"L":case"R":C=!1;break;case"N":case"AN":break;case"EN":C&&(ie="AN");break;case"AL":C=!0,ie="R";break;case"WS":ie="N";break;case"CS":ae<1||ae+1>=z.length||(te=re[ae-1])!=="EN"&&te!=="AN"||(Se=z[ae+1])!=="EN"&&Se!=="AN"?ie="N":C&&(Se="AN"),ie=Se===te?Se:"N";break;case"ES":ie=(te=ae>0?re[ae-1]:"B")==="EN"&&ae+1<z.length&&z[ae+1]==="EN"?"EN":"N";break;case"ET":if(ae>0&&re[ae-1]==="EN"){ie="EN";break}if(C){ie="N";break}for(Ae=ae+1,ge=z.length;Ae<ge&&z[Ae]==="ET";)Ae++;ie=Ae<ge&&z[Ae]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(ge=z.length,Ae=ae+1;Ae<ge&&z[Ae]==="NSM";)Ae++;if(Ae<ge){var xe=W[ae],Ee=xe>=1425&&xe<=2303||xe===64286;if(te=z[Ae],Ee&&(te==="R"||te==="AL")){ie="R";break}}}ie=ae<1||(te=z[ae-1])==="B"?"N":re[ae-1];break;case"B":C=!1,i=!0,ie=k;break;case"S":s=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":C=!1;break;case"BN":ie="N"}return ie},F=function(W,z,re){var ae=W.split("");return re&&X(ae,re,{hiLevel:k}),ae.reverse(),z&&z.reverse(),ae.join("")},X=function(W,z,re){var ae,te,Se,Ae,ge,ie=-1,xe=W.length,Ee=0,R=[],K=k?b:N,ee=[];for(C=!1,i=!1,s=!1,te=0;te<xe;te++)ee[te]=M(W[te]);for(Se=0;Se<xe;Se++){if(ge=Ee,R[Se]=ne(W,ee,R,Se),ae=240&(Ee=K[ge][j[R[Se]]]),Ee&=15,z[Se]=Ae=K[Ee][5],ae>0)if(ae===16){for(te=ie;te<Se;te++)z[te]=1;ie=-1}else ie=-1;if(K[Ee][6])ie===-1&&(ie=Se);else if(ie>-1){for(te=ie;te<Se;te++)z[te]=Ae;ie=-1}ee[Se]==="B"&&(z[Se]=0),re.hiLevel|=Ae}s&&function(me,he,ke){for(var je=0;je<ke;je++)if(me[je]==="S"){he[je]=k;for(var Oe=je-1;Oe>=0&&me[Oe]==="WS";Oe--)he[Oe]=k}}(ee,z,xe)},J=function(W,z,re,ae,te){if(!(te.hiLevel<W)){if(W===1&&k===1&&!i)return z.reverse(),void(re&&re.reverse());for(var Se,Ae,ge,ie,xe=z.length,Ee=0;Ee<xe;){if(ae[Ee]>=W){for(ge=Ee+1;ge<xe&&ae[ge]>=W;)ge++;for(ie=Ee,Ae=ge-1;ie<Ae;ie++,Ae--)Se=z[ie],z[ie]=z[Ae],z[Ae]=Se,re&&(Se=re[ie],re[ie]=re[Ae],re[Ae]=Se);Ee=ge}Ee++}}},ve=function(W,z,re){var ae=W.split(""),te={hiLevel:k};return re||(re=[]),X(ae,re,te),function(Se,Ae,ge){if(ge.hiLevel!==0&&x)for(var ie,xe=0;xe<Se.length;xe++)Ae[xe]===1&&(ie=P.indexOf(Se[xe]))>=0&&(Se[xe]=P[ie+1])}(ae,re,te),J(2,ae,z,re,te),J(1,ae,z,re,te),ae.join("")};return this.__bidiEngine__.doBidiReorder=function(W,z,re){if(function(te,Se){if(Se)for(var Ae=0;Ae<te.length;Ae++)Se[Ae]=Ae;u===void 0&&(u=B(te)),p===void 0&&(p=B(te))}(W,z),o||!h||p)if(o&&h&&u^p)k=u?1:0,W=F(W,z,re);else if(!o&&h&&p)k=u?1:0,W=ve(W,z,re),W=F(W,z);else if(!o||u||h||p){if(o&&!h&&u^p)W=F(W,z),u?(k=0,W=ve(W,z,re)):(k=1,W=ve(W,z,re),W=F(W,z));else if(o&&u&&!h&&p)k=1,W=ve(W,z,re),W=F(W,z);else if(!o&&!h&&u^p){var ae=x;u?(k=1,W=ve(W,z,re),k=0,x=!1,W=ve(W,z,re),x=ae):(k=0,W=ve(W,z,re),W=F(W,z),k=1,x=!1,W=ve(W,z,re),x=ae,W=F(W,z))}}else k=0,W=ve(W,z,re);else k=u?1:0,W=ve(W,z,re);return W},this.__bidiEngine__.setOptions=function(W){W&&(o=W.isInputVisual,h=W.isOutputVisual,u=W.isInputRtl,p=W.isOutputRtl,x=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(o=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?o.push([n.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):o.push([n.doBidiReorder(i[u])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Rt),Rt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Il(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new KB(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new MB(this.contents),this.head=new BB(this),this.name=new HB(this),this.cmap=new K6(this),this.toUnicode={},this.hhea=new FB(this),this.maxp=new qB(this),this.hmtx=new WB(this),this.post=new VB(this),this.os2=new UB(this),this.loca=new XB(this),this.glyf=new $B(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,h,p;for(p=[],o=0,u=(h=this.bbox).length;o<u;o++)t=h[o],p.push(Math.round(t*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,u;for(o=0,s=0,u=(t=""+t).length;0<=u?s<u:s>u;s=0<=u?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Sa,Il=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,u,h;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),h=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^u)+(255^h)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*u+h},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),MB=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,u,h,p,x,y,N,b,j,T;for(T in b=Object.keys(n).length,h=Math.log(2),y=16*Math.floor(Math.log(b)/h),o=Math.floor(y/h),x=16*b-y,(i=new Il).writeInt(this.scalarType),i.writeShort(b),i.writeShort(y),i.writeShort(o),i.writeShort(x),s=16*b,p=i.pos+s,u=null,j=[],n)for(N=n[T],i.writeString(T),i.writeInt(e(N)),i.writeInt(p),i.writeInt(N.length),j=j.concat(N),T==="head"&&(u=p),p+=N.length;p%4;)j.push(0),p++;return i.write(j),r=2981146554-e(i.data),i.pos=u+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=Z6.call(n);n.length%4;)n.push(0);for(s=new Il(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),RB={}.hasOwnProperty,$a=function(e,t){for(var n in t)RB.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Sa=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var BB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $a(t,Sa),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new Il).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),o3=function(){function e(t,n){var r,i,s,o,u,h,p,x,y,N,b,j,T,P,E,C,k;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),y=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=t.readByte();break;case 4:for(b=t.readUInt16(),N=b/2,t.pos+=6,s=function(){var M,B;for(B=[],h=M=0;0<=N?M<N:M>N;h=0<=N?++M:--M)B.push(t.readUInt16());return B}(),t.pos+=2,T=function(){var M,B;for(B=[],h=M=0;0<=N?M<N:M>N;h=0<=N?++M:--M)B.push(t.readUInt16());return B}(),p=function(){var M,B;for(B=[],h=M=0;0<=N?M<N:M>N;h=0<=N?++M:--M)B.push(t.readUInt16());return B}(),x=function(){var M,B;for(B=[],h=M=0;0<=N?M<N:M>N;h=0<=N?++M:--M)B.push(t.readUInt16());return B}(),i=(this.length-t.pos+this.offset)/2,u=function(){var M,B;for(B=[],h=M=0;0<=i?M<i:M>i;h=0<=i?++M:--M)B.push(t.readUInt16());return B}(),h=E=0,k=s.length;E<k;h=++E)for(P=s[h],r=C=j=T[h];j<=P?C<=P:C>=P;r=j<=P?++C:--C)x[h]===0?o=r+p[h]:(o=u[x[h]/2+(r-j)-(N-h)]||0)!==0&&(o+=p[h]),this.codeMap[r]=65535&o}t.pos=y}return e.encode=function(t,n){var r,i,s,o,u,h,p,x,y,N,b,j,T,P,E,C,k,M,B,ne,F,X,J,ve,W,z,re,ae,te,Se,Ae,ge,ie,xe,Ee,R,K,ee,me,he,ke,je,Oe,He,ze,it;switch(ae=new Il,o=Object.keys(t).sort(function($e,vt){return $e-vt}),n){case"macroman":for(T=0,P=function(){var $e=[];for(j=0;j<256;++j)$e.push(0);return $e}(),C={0:0},s={},te=0,ie=o.length;te<ie;te++)C[Oe=t[i=o[te]]]==null&&(C[Oe]=++T),s[i]={old:t[i],new:C[t[i]]},P[i]=C[t[i]];return ae.writeUInt16(1),ae.writeUInt16(0),ae.writeUInt32(12),ae.writeUInt16(0),ae.writeUInt16(262),ae.writeUInt16(0),ae.write(P),{charMap:s,subtable:ae.data,maxGlyphID:T+1};case"unicode":for(z=[],y=[],k=0,C={},r={},E=p=null,Se=0,xe=o.length;Se<xe;Se++)C[B=t[i=o[Se]]]==null&&(C[B]=++k),r[i]={old:B,new:C[B]},u=C[B]-i,E!=null&&u===p||(E&&y.push(E),z.push(i),p=u),E=i;for(E&&y.push(E),y.push(65535),z.push(65535),ve=2*(J=z.length),X=2*Math.pow(Math.log(J)/Math.LN2,2),N=Math.log(X/2)/Math.LN2,F=2*J-X,h=[],ne=[],b=[],j=Ae=0,Ee=z.length;Ae<Ee;j=++Ae){if(W=z[j],x=y[j],W===65535){h.push(0),ne.push(0);break}if(W-(re=r[W].new)>=32768)for(h.push(0),ne.push(2*(b.length+J-j)),i=ge=W;W<=x?ge<=x:ge>=x;i=W<=x?++ge:--ge)b.push(r[i].new);else h.push(re-W),ne.push(0)}for(ae.writeUInt16(3),ae.writeUInt16(1),ae.writeUInt32(12),ae.writeUInt16(4),ae.writeUInt16(16+8*J+2*b.length),ae.writeUInt16(0),ae.writeUInt16(ve),ae.writeUInt16(X),ae.writeUInt16(N),ae.writeUInt16(F),ke=0,R=y.length;ke<R;ke++)i=y[ke],ae.writeUInt16(i);for(ae.writeUInt16(0),je=0,K=z.length;je<K;je++)i=z[je],ae.writeUInt16(i);for(He=0,ee=h.length;He<ee;He++)u=h[He],ae.writeUInt16(u);for(ze=0,me=ne.length;ze<me;ze++)M=ne[ze],ae.writeUInt16(M);for(it=0,he=b.length;it<he;it++)T=b[it],ae.writeUInt16(T);return{charMap:r,subtable:ae.data,maxGlyphID:k+1}}},e}(),K6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $a(t,Sa),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new o3(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=o3.encode(n,r),(s=new Il).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),FB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $a(t,Sa),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),UB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $a(t,Sa),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),VB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $a(t,Sa),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var u,h,p;for(p=[],o=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;o=0<=h?++u:--u)p.push(n.readUInt32());return p}).call(this)}},t}(),zB=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},HB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $a(t,Sa),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,u,h,p,x,y,N,b;for(n.pos=this.offset,n.readShort(),r=n.readShort(),h=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+h+n.readShort()});for(p={},o=y=0,N=i.length;y<N;o=++y)s=i[o],n.pos=s.offset,x=n.readString(s.length),u=new zB(x,s),p[b=s.nameID]==null&&(p[b]=[]),p[s.nameID].push(u);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},t}(),qB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $a(t,Sa),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),WB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $a(t,Sa),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,u,h,p;for(n.pos=this.offset,this.metrics=[],r=0,h=this.file.hhea.numberOfMetrics;0<=h?r<h:r>h;r=0<=h?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var x,y;for(y=[],r=x=0;0<=s?x<s:x>s;r=0<=s?++x:--x)y.push(n.readInt16());return y}(),this.widths=(function(){var x,y,N,b;for(b=[],x=0,y=(N=this.metrics).length;x<y;x++)o=N[x],b.push(o.advance);return b}).call(this),i=this.widths[this.widths.length-1],p=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)p.push(this.widths.push(i));return p},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),Z6=[].slice,$B=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $a(t,Sa),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,u,h,p,x,y,N;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,u=(h=new Il(r.read(s))).readShort(),x=h.readShort(),N=h.readShort(),p=h.readShort(),y=h.readShort(),this.cache[n]=u===-1?new YB(h,x,N,p,y):new GB(h,u,x,N,p,y),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,u,h,p;for(u=[],o=[],h=0,p=r.length;h<p;h++)s=n[r[h]],o.push(u.length),s&&(u=u.concat(s.encode(i)));return o.push(u.length),{table:u,offsets:o}},t}(),GB=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),YB=function(){function e(t,n,r,i,s){var o,u;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Il(Z6.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),XB=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return $a(t,Sa),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<i.length;++u)if(i[u]=s,o<r.length&&r[o]==u){++o,i[u]=s;var h=this.offsets[u],p=this.offsets[u+1]-h;p>0&&(s+=p)}for(var x=new Array(4*i.length),y=0;y<i.length;++y)x[4*y+3]=255&i[y],x[4*y+2]=(65280&i[y])>>8,x[4*y+1]=(16711680&i[y])>>16,x[4*y]=(4278190080&i[y])>>24;return x},t}(),KB=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,u,h;for(i={},o=0,u=t.length;o<u;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in h=this.glyphsFor(n))r=h[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,u,h,p,x,y,N,b,j,T,P,E;for(i in r=K6.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),b={0:0},E=r.charMap)b[(h=E[i]).old]=h.new;for(j in N=r.maxGlyphID,o)j in b||(b[j]=N++);return x=function(C){var k,M;for(k in M={},C)M[C[k]]=k;return M}(b),y=Object.keys(x).sort(function(C,k){return C-k}),T=function(){var C,k,M;for(M=[],C=0,k=y.length;C<k;C++)u=y[C],M.push(x[u]);return M}(),s=this.font.glyf.encode(o,T,b),p=this.font.loca.encode(s.offsets,T),P={cmap:this.font.cmap.raw(),glyf:s.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},e}();Rt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var u,h,p;for(p=[],u=0,h=n.length;u<h;u++)r=n[u],p.push(t.convert(r));return p}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();var tf={},ZB=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Q6={},Ls={};let ky;const QB=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ls.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Ls.getSymbolTotalCodewords=function(t){return QB[t]};Ls.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Ls.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');ky=t};Ls.isKanjiModeEnabled=function(){return typeof ky<"u"};Ls.toSJIS=function(t){return ky(t)};var up={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(up);function J6(){this.buffer=[],this.length=0}J6.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var JB=J6;function nf(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}nf.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)};nf.prototype.get=function(e,t){return this.data[e*this.size+t]};nf.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};nf.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var eF=nf,eC={};(function(e){const t=Ls.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,u=[s-7];for(let h=1;h<i-1;h++)u[h]=u[h-1]-o;return u.push(6),u.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),o=s.length;for(let u=0;u<o;u++)for(let h=0;h<o;h++)u===0&&h===0||u===0&&h===o-1||u===o-1&&h===0||i.push([s[u],s[h]]);return i}})(eC);var tC={};const tF=Ls.getSymbolSize,l3=7;tC.getPositions=function(t){const n=tF(t);return[[0,0],[n-l3,0],[0,n-l3]]};var nC={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let o=0,u=0,h=0,p=null,x=null;for(let y=0;y<s;y++){u=h=0,p=x=null;for(let N=0;N<s;N++){let b=i.get(y,N);b===p?u++:(u>=5&&(o+=t.N1+(u-5)),p=b,u=1),b=i.get(N,y),b===x?h++:(h>=5&&(o+=t.N1+(h-5)),x=b,h=1)}u>=5&&(o+=t.N1+(u-5)),h>=5&&(o+=t.N1+(h-5))}return o},e.getPenaltyN2=function(i){const s=i.size;let o=0;for(let u=0;u<s-1;u++)for(let h=0;h<s-1;h++){const p=i.get(u,h)+i.get(u,h+1)+i.get(u+1,h)+i.get(u+1,h+1);(p===4||p===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const s=i.size;let o=0,u=0,h=0;for(let p=0;p<s;p++){u=h=0;for(let x=0;x<s;x++)u=u<<1&2047|i.get(p,x),x>=10&&(u===1488||u===93)&&o++,h=h<<1&2047|i.get(x,p),x>=10&&(h===1488||h===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let h=0;h<o;h++)s+=i.data[h];return Math.abs(Math.ceil(s*100/o/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const o=s.size;for(let u=0;u<o;u++)for(let h=0;h<o;h++)s.isReserved(h,u)||s.xor(h,u,n(i,h,u))},e.getBestMask=function(i,s){const o=Object.keys(e.Patterns).length;let u=0,h=1/0;for(let p=0;p<o;p++){s(p),e.applyMask(p,i);const x=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(p,i),x<h&&(h=x,u=p)}return u}})(nC);var dp={};const ul=up,r0=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i0=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];dp.getBlocksCount=function(t,n){switch(n){case ul.L:return r0[(t-1)*4+0];case ul.M:return r0[(t-1)*4+1];case ul.Q:return r0[(t-1)*4+2];case ul.H:return r0[(t-1)*4+3];default:return}};dp.getTotalCodewordsCount=function(t,n){switch(n){case ul.L:return i0[(t-1)*4+0];case ul.M:return i0[(t-1)*4+1];case ul.Q:return i0[(t-1)*4+2];case ul.H:return i0[(t-1)*4+3];default:return}};var rC={},hp={};const hh=new Uint8Array(512),b1=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)hh[n]=t,b1[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)hh[n]=hh[n-255]})();hp.log=function(t){if(t<1)throw new Error("log("+t+")");return b1[t]};hp.exp=function(t){return hh[t]};hp.mul=function(t,n){return t===0||n===0?0:hh[b1[t]+b1[n]]};(function(e){const t=hp;e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let u=0;u<i.length;u++)s[o+u]^=t.mul(r[o],i[u]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let h=0;h<i.length;h++)s[h]^=t.mul(i[h],o);let u=0;for(;u<s.length&&s[u]===0;)u++;s=s.slice(u)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}})(rC);const iC=rC;function jy(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}jy.prototype.initialize=function(t){this.degree=t,this.genPoly=iC.generateECPolynomial(this.degree)};jy.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=iC.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var nF=jy,sC={},Ul={},Ly={};Ly.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Ga={};const aC="[0-9]+",rF="[A-Z $%*+\\-./:]+";let Vh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Vh=Vh.replace(/u/g,"\\u");const iF="(?:(?![A-Z0-9 $%*+\\-./:]|"+Vh+`)(?:.|[\r
]))+`;Ga.KANJI=new RegExp(Vh,"g");Ga.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ga.BYTE=new RegExp(iF,"g");Ga.NUMERIC=new RegExp(aC,"g");Ga.ALPHANUMERIC=new RegExp(rF,"g");const sF=new RegExp("^"+Vh+"$"),aF=new RegExp("^"+aC+"$"),oF=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ga.testKanji=function(t){return sF.test(t)};Ga.testNumeric=function(t){return aF.test(t)};Ga.testAlphanumeric=function(t){return oF.test(t)};(function(e){const t=Ly,n=Ga;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,o){if(e.isValid(s))return s;try{return r(s)}catch{return o}}})(Ul);(function(e){const t=Ls,n=dp,r=up,i=Ul,s=Ly,o=7973,u=t.getBCHDigit(o);function h(N,b,j){for(let T=1;T<=40;T++)if(b<=e.getCapacity(T,j,N))return T}function p(N,b){return i.getCharCountIndicator(N,b)+4}function x(N,b){let j=0;return N.forEach(function(T){const P=p(T.mode,b);j+=P+T.getBitsLength()}),j}function y(N,b){for(let j=1;j<=40;j++)if(x(N,j)<=e.getCapacity(j,b,i.MIXED))return j}e.from=function(b,j){return s.isValid(b)?parseInt(b,10):j},e.getCapacity=function(b,j,T){if(!s.isValid(b))throw new Error("Invalid QR Code version");typeof T>"u"&&(T=i.BYTE);const P=t.getSymbolTotalCodewords(b),E=n.getTotalCodewordsCount(b,j),C=(P-E)*8;if(T===i.MIXED)return C;const k=C-p(T,b);switch(T){case i.NUMERIC:return Math.floor(k/10*3);case i.ALPHANUMERIC:return Math.floor(k/11*2);case i.KANJI:return Math.floor(k/13);case i.BYTE:default:return Math.floor(k/8)}},e.getBestVersionForData=function(b,j){let T;const P=r.from(j,r.M);if(Array.isArray(b)){if(b.length>1)return y(b,P);if(b.length===0)return 1;T=b[0]}else T=b;return h(T.mode,T.getLength(),P)},e.getEncodedBits=function(b){if(!s.isValid(b)||b<7)throw new Error("Invalid QR Code version");let j=b<<12;for(;t.getBCHDigit(j)-u>=0;)j^=o<<t.getBCHDigit(j)-u;return b<<12|j}})(sC);var oC={};const B2=Ls,lC=1335,lF=21522,c3=B2.getBCHDigit(lC);oC.getEncodedBits=function(t,n){const r=t.bit<<3|n;let i=r<<10;for(;B2.getBCHDigit(i)-c3>=0;)i^=lC<<B2.getBCHDigit(i)-c3;return(r<<10|i)^lF};var cC={};const cF=Ul;function ed(e){this.mode=cF.NUMERIC,this.data=e.toString()}ed.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};ed.prototype.getLength=function(){return this.data.length};ed.prototype.getBitsLength=function(){return ed.getBitsLength(this.data.length)};ed.prototype.write=function(t){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),t.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),t.put(i,s*3+1))};var uF=ed;const dF=Ul,Fm=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function td(e){this.mode=dF.ALPHANUMERIC,this.data=e}td.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};td.prototype.getLength=function(){return this.data.length};td.prototype.getBitsLength=function(){return td.getBitsLength(this.data.length)};td.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Fm.indexOf(this.data[n])*45;r+=Fm.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(Fm.indexOf(this.data[n]),6)};var hF=td;const fF=Ul;function nd(e){this.mode=fF.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}nd.getBitsLength=function(t){return t*8};nd.prototype.getLength=function(){return this.data.length};nd.prototype.getBitsLength=function(){return nd.getBitsLength(this.data.length)};nd.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var pF=nd;const mF=Ul,gF=Ls;function rd(e){this.mode=mF.KANJI,this.data=e}rd.getBitsLength=function(t){return t*13};rd.prototype.getLength=function(){return this.data.length};rd.prototype.getBitsLength=function(){return rd.getBitsLength(this.data.length)};rd.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=gF.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var xF=rd,uC={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var h,p,x,y,N,b,j,T,P;!u.empty();){h=u.pop(),p=h.value,y=h.cost,N=n[p]||{};for(x in N)N.hasOwnProperty(x)&&(b=N[x],j=y+b,T=o[x],P=typeof o[x]>"u",(P||T>j)&&(o[x]=j,u.push(x,j),s[x]=p))}if(typeof i<"u"&&typeof o[i]>"u"){var E=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(E)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(uC);var yF=uC.exports;(function(e){const t=Ul,n=uF,r=hF,i=pF,s=xF,o=Ga,u=Ls,h=yF;function p(E){return unescape(encodeURIComponent(E)).length}function x(E,C,k){const M=[];let B;for(;(B=E.exec(k))!==null;)M.push({data:B[0],index:B.index,mode:C,length:B[0].length});return M}function y(E){const C=x(o.NUMERIC,t.NUMERIC,E),k=x(o.ALPHANUMERIC,t.ALPHANUMERIC,E);let M,B;return u.isKanjiModeEnabled()?(M=x(o.BYTE,t.BYTE,E),B=x(o.KANJI,t.KANJI,E)):(M=x(o.BYTE_KANJI,t.BYTE,E),B=[]),C.concat(k,M,B).sort(function(F,X){return F.index-X.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function N(E,C){switch(C){case t.NUMERIC:return n.getBitsLength(E);case t.ALPHANUMERIC:return r.getBitsLength(E);case t.KANJI:return s.getBitsLength(E);case t.BYTE:return i.getBitsLength(E)}}function b(E){return E.reduce(function(C,k){const M=C.length-1>=0?C[C.length-1]:null;return M&&M.mode===k.mode?(C[C.length-1].data+=k.data,C):(C.push(k),C)},[])}function j(E){const C=[];for(let k=0;k<E.length;k++){const M=E[k];switch(M.mode){case t.NUMERIC:C.push([M,{data:M.data,mode:t.ALPHANUMERIC,length:M.length},{data:M.data,mode:t.BYTE,length:M.length}]);break;case t.ALPHANUMERIC:C.push([M,{data:M.data,mode:t.BYTE,length:M.length}]);break;case t.KANJI:C.push([M,{data:M.data,mode:t.BYTE,length:p(M.data)}]);break;case t.BYTE:C.push([{data:M.data,mode:t.BYTE,length:p(M.data)}])}}return C}function T(E,C){const k={},M={start:{}};let B=["start"];for(let ne=0;ne<E.length;ne++){const F=E[ne],X=[];for(let J=0;J<F.length;J++){const ve=F[J],W=""+ne+J;X.push(W),k[W]={node:ve,lastCount:0},M[W]={};for(let z=0;z<B.length;z++){const re=B[z];k[re]&&k[re].node.mode===ve.mode?(M[re][W]=N(k[re].lastCount+ve.length,ve.mode)-N(k[re].lastCount,ve.mode),k[re].lastCount+=ve.length):(k[re]&&(k[re].lastCount=ve.length),M[re][W]=N(ve.length,ve.mode)+4+t.getCharCountIndicator(ve.mode,C))}}B=X}for(let ne=0;ne<B.length;ne++)M[B[ne]].end=0;return{map:M,table:k}}function P(E,C){let k;const M=t.getBestModeForData(E);if(k=t.from(C,M),k!==t.BYTE&&k.bit<M.bit)throw new Error('"'+E+'" cannot be encoded with mode '+t.toString(k)+`.
 Suggested mode is: `+t.toString(M));switch(k===t.KANJI&&!u.isKanjiModeEnabled()&&(k=t.BYTE),k){case t.NUMERIC:return new n(E);case t.ALPHANUMERIC:return new r(E);case t.KANJI:return new s(E);case t.BYTE:return new i(E)}}e.fromArray=function(C){return C.reduce(function(k,M){return typeof M=="string"?k.push(P(M,null)):M.data&&k.push(P(M.data,M.mode)),k},[])},e.fromString=function(C,k){const M=y(C,u.isKanjiModeEnabled()),B=j(M),ne=T(B,k),F=h.find_path(ne.map,"start","end"),X=[];for(let J=1;J<F.length-1;J++)X.push(ne.table[F[J]].node);return e.fromArray(b(X))},e.rawSplit=function(C){return e.fromArray(y(C,u.isKanjiModeEnabled()))}})(cC);const fp=Ls,Um=up,vF=JB,wF=eF,bF=eC,NF=tC,F2=nC,U2=dp,AF=nF,N1=sC,SF=oC,CF=Ul,Vm=cC;function EF(e,t){const n=e.size,r=NF.getPositions(t);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let u=-1;u<=7;u++)if(!(s+u<=-1||n<=s+u))for(let h=-1;h<=7;h++)o+h<=-1||n<=o+h||(u>=0&&u<=6&&(h===0||h===6)||h>=0&&h<=6&&(u===0||u===6)||u>=2&&u<=4&&h>=2&&h<=4?e.set(s+u,o+h,!0,!0):e.set(s+u,o+h,!1,!0))}}function _F(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function TF(e,t){const n=bF.getPositions(t);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let u=-2;u<=2;u++)o===-2||o===2||u===-2||u===2||o===0&&u===0?e.set(i+o,s+u,!0,!0):e.set(i+o,s+u,!1,!0)}}function IF(e,t){const n=e.size,r=N1.getEncodedBits(t);let i,s,o;for(let u=0;u<18;u++)i=Math.floor(u/3),s=u%3+n-8-3,o=(r>>u&1)===1,e.set(i,s,o,!0),e.set(s,i,o,!0)}function zm(e,t,n){const r=e.size,i=SF.getEncodedBits(t,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?e.set(s,8,o,!0):s<8?e.set(s+1,8,o,!0):e.set(r-15+s,8,o,!0),s<8?e.set(8,r-s-1,o,!0):s<9?e.set(8,15-s-1+1,o,!0):e.set(8,15-s-1,o,!0);e.set(r-8,8,1,!0)}function kF(e,t){const n=e.size;let r=-1,i=n-1,s=7,o=0;for(let u=n-1;u>0;u-=2)for(u===6&&u--;;){for(let h=0;h<2;h++)if(!e.isReserved(i,u-h)){let p=!1;o<t.length&&(p=(t[o]>>>s&1)===1),e.set(i,u-h,p),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function jF(e,t,n){const r=new vF;n.forEach(function(h){r.put(h.mode.bit,4),r.put(h.getLength(),CF.getCharCountIndicator(h.mode,e)),h.write(r)});const i=fp.getSymbolTotalCodewords(e),s=U2.getTotalCodewordsCount(e,t),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const u=(o-r.getLengthInBits())/8;for(let h=0;h<u;h++)r.put(h%2?17:236,8);return LF(r,e,t)}function LF(e,t,n){const r=fp.getSymbolTotalCodewords(t),i=U2.getTotalCodewordsCount(t,n),s=r-i,o=U2.getBlocksCount(t,n),u=r%o,h=o-u,p=Math.floor(r/o),x=Math.floor(s/o),y=x+1,N=p-x,b=new AF(N);let j=0;const T=new Array(o),P=new Array(o);let E=0;const C=new Uint8Array(e.buffer);for(let F=0;F<o;F++){const X=F<h?x:y;T[F]=C.slice(j,j+X),P[F]=b.encode(T[F]),j+=X,E=Math.max(E,X)}const k=new Uint8Array(r);let M=0,B,ne;for(B=0;B<E;B++)for(ne=0;ne<o;ne++)B<T[ne].length&&(k[M++]=T[ne][B]);for(B=0;B<N;B++)for(ne=0;ne<o;ne++)k[M++]=P[ne][B];return k}function PF(e,t,n,r){let i;if(Array.isArray(e))i=Vm.fromArray(e);else if(typeof e=="string"){let p=t;if(!p){const x=Vm.rawSplit(e);p=N1.getBestVersionForData(x,n)}i=Vm.fromString(e,p||40)}else throw new Error("Invalid data");const s=N1.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=jF(t,n,i),u=fp.getSymbolSize(t),h=new wF(u);return EF(h,t),_F(h),TF(h,t),zm(h,n,0),t>=7&&IF(h,t),kF(h,o),isNaN(r)&&(r=F2.getBestMask(h,zm.bind(null,h,n))),F2.applyMask(r,h),zm(h,n,r),{modules:h,version:t,errorCorrectionLevel:n,maskPattern:r,segments:i}}Q6.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Um.M,i,s;return typeof n<"u"&&(r=Um.from(n.errorCorrectionLevel,Um.M),i=N1.from(n.version),s=F2.from(n.maskPattern),n.toSJISFunc&&fp.setToSJISFunction(n.toSJISFunc)),PF(t,i,r,s)};var dC={},Py={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const o=i.modules.size,u=i.modules.data,h=e.getScale(o,s),p=Math.floor((o+s.margin*2)*h),x=s.margin*h,y=[s.color.light,s.color.dark];for(let N=0;N<p;N++)for(let b=0;b<p;b++){let j=(N*p+b)*4,T=s.color.light;if(N>=x&&b>=x&&N<p-x&&b<p-x){const P=Math.floor((N-x)/h),E=Math.floor((b-x)/h);T=y[u[P*o+E]?1:0]}r[j++]=T.r,r[j++]=T.g,r[j++]=T.b,r[j]=T.a}}})(Py);(function(e){const t=Py;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,o,u){let h=u,p=o;typeof h>"u"&&(!o||!o.getContext)&&(h=o,o=void 0),o||(p=r()),h=t.getOptions(h);const x=t.getImageWidth(s.modules.size,h),y=p.getContext("2d"),N=y.createImageData(x,x);return t.qrToImageData(N.data,s,h),n(y,p,x),y.putImageData(N,0,0),p},e.renderToDataURL=function(s,o,u){let h=u;typeof h>"u"&&(!o||!o.getContext)&&(h=o,o=void 0),h||(h={});const p=e.render(s,o,h),x=h.type||"image/png",y=h.rendererOpts||{};return p.toDataURL(x,y.quality)}})(dC);var hC={};const OF=Py;function u3(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Hm(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function DF(e,t,n){let r="",i=0,s=!1,o=0;for(let u=0;u<e.length;u++){const h=Math.floor(u%t),p=Math.floor(u/t);!h&&!s&&(s=!0),e[u]?(o++,u>0&&h>0&&e[u-1]||(r+=s?Hm("M",h+n,.5+p+n):Hm("m",i,0),i=0,s=!1),h+1<t&&e[u+1]||(r+=Hm("h",o),o=0)):i++}return r}hC.render=function(t,n,r){const i=OF.getOptions(n),s=t.modules.size,o=t.modules.data,u=s+i.margin*2,h=i.color.light.a?"<path "+u3(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",p="<path "+u3(i.color.dark,"stroke")+' d="'+DF(o,s,i.margin)+'"/>',x='viewBox="0 0 '+u+" "+u+'"',N='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+x+' shape-rendering="crispEdges">'+h+p+`</svg>
`;return typeof r=="function"&&r(null,N),N};const MF=ZB,V2=Q6,fC=dC,RF=hC;function Oy(e,t,n,r,i){const s=[].slice.call(arguments,1),o=s.length,u=typeof s[o-1]=="function";if(!u&&!MF())throw new Error("Callback required as last argument");if(u){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=t,t=r=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=r=void 0):o===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(h,p){try{const x=V2.create(n,r);h(e(x,t,r))}catch(x){p(x)}})}try{const h=V2.create(n,r);i(null,e(h,t,r))}catch(h){i(h)}}tf.create=V2.create;tf.toCanvas=Oy.bind(null,fC.render);tf.toDataURL=Oy.bind(null,fC.renderToDataURL);tf.toString=Oy.bind(null,function(e,t,n){return RF.render(e,n)});const BF=({order:e,onClose:t})=>{var o,u;const n=((o=e.tickets)==null?void 0:o.reduce((h,p)=>h+(p.quantity||0),0))||0,r=h=>{h.target===h.currentTarget&&t()},{events:i}=_o(),s=async()=>{var h,p;try{const x=new Rt({unit:"pt",format:"a4"}),y=x.internal.pageSize.getWidth(),N=x.internal.pageSize.getHeight(),b=40;let j=b;x.setFillColor(17,24,39),x.rect(0,0,y,90,"F"),x.setTextColor(255,255,255),x.setFont("helvetica","bold"),x.setFontSize(22),x.text("Carnival LDN - Tickets",y/2,40,{align:"center"});const T=((h=i==null?void 0:i.find(E=>E.id===e.eventId))==null?void 0:h.title)||"Your Event";x.setFont("helvetica","normal"),x.setFontSize(13),x.text(T,y/2,62,{align:"center"}),j=110,x.setTextColor(55,65,81),x.setFontSize(12),x.text(`Order: ${e.id}`,b,j),j+=16,x.text(`Name: ${e.customerName||""}`,b,j),j+=16,x.text(`Email: ${e.customerEmail||""}`,b,j),j+=16,x.text(`Status: ${e.status}`,b,j),j+=16,x.text(`Total: £${((e.totalAmount||0)/100).toFixed(2)}`,b,j),j+=20;const P=e.tickets||[];for(let E=0;E<P.length;E++){const C=P[E];j+180>N-b&&(x.addPage(),j=b);const k=(()=>{var z;const ve=i==null?void 0:i.find(re=>re.id===e.eventId),W=(z=ve==null?void 0:ve.ticketTiers)==null?void 0:z.find(re=>re.id===C.ticketTierId);return(W==null?void 0:W.name)||C.ticketTierId})(),M=b,B=y-b*2,ne=150;x.setDrawColor(229,231,235),x.setFillColor(249,250,251),x.rect(M,j,B,ne,"FD");let F=j+24;x.setTextColor(31,41,55),x.setFont("helvetica","bold"),x.setFontSize(14),x.text(`Ticket ${E+1}`,M+16,F),F+=18,x.setFont("helvetica","normal"),x.setFontSize(12),x.text(`Tier: ${k}`,M+16,F),F+=14,x.text(`Quantity: ${C.quantity}`,M+16,F),F+=14,x.text(`Unit: £${(C.unitPrice/100).toFixed(2)}   Total: £${(C.totalPrice/100).toFixed(2)}`,M+16,F),F+=18,x.setTextColor(75,85,99),x.text(`Order Ref: ${(p=e.id)==null?void 0:p.slice(0,8)}...`,M+16,F);const X=JSON.stringify({orderId:e.id,ticketTierId:C.ticketTierId,quantity:C.quantity,customer:e.customerEmail}),J=await tf.toDataURL(X,{width:120,margin:1,color:{dark:"#111827",light:"#FFFFFFFF"}});x.addImage(J,"PNG",y-b-136,j+15,120,120),j+=ne+14}x.save(`tickets_${e.id}.pdf`)}catch(x){console.error("Failed to generate PDF:",x)}};return d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:r,children:d.jsxs(Xe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 text-center",children:[d.jsxs("div",{className:"mb-6",children:[d.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:d.jsx(Is,{className:"h-8 w-8 text-green-600"})}),d.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),d.jsx("p",{className:"text-gray-600",children:"Your tickets have been purchased successfully! Check your email for the confirmation and attached PDF tickets."})]}),d.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:[d.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Order ID:"}),d.jsxs("span",{className:"font-mono text-gray-600",children:[((u=e.id)==null?void 0:u.slice(0,8))||"N/A","..."]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Total Tickets:"}),d.jsx("span",{className:"font-semibold",children:n})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Total Amount:"}),d.jsxs("span",{className:"font-semibold",children:["£",((e.totalAmount||0)/100).toFixed(2)]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Status:"}),d.jsx("span",{className:"text-green-600 font-semibold capitalize",children:e.status||"completed"})]})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("div",{className:"text-sm text-gray-600",children:["Confirmation & tickets sent to ",d.jsx("span",{className:"font-semibold text-black",children:e.customerEmail||"your email"})]}),d.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[d.jsx(Ku,{className:"h-4 w-4 flex-shrink-0"}),d.jsx("span",{children:"PDF tickets attached to your email"})]})]}),d.jsxs("div",{className:"flex gap-3 mt-6",children:[d.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"}),d.jsxs("button",{onClick:s,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[d.jsx(hy,{className:"h-4 w-4"}),"Download"]})]})]})})},FF=()=>{var k,M;const{events:e,getEvents:t,isLoading:n}=_o(),[r,i]=fe.useState(null),[s,o]=fe.useState(!1),[u,h]=fe.useState(null),[p]=kT(),[x,y]=fe.useState(!1),[N,b]=fe.useState(null),[j,T]=fe.useState(!0),{glitchRef:P,isGlitching:E,glitchType:C}=Bl();return fe.useEffect(()=>{(async()=>{try{await t(),console.log("Events loaded in EventsPage:",e)}catch(ne){console.error("Failed to load events:",ne)}})()},[t]),fe.useEffect(()=>{if(e.length>0){const B=p.get("event");B&&e.find(F=>F.id===B)&&(h(B),setTimeout(()=>{var F;(F=document.getElementById("events-grid"))==null||F.scrollIntoView({behavior:"smooth",block:"start"})},500))}},[e,p]),fe.useEffect(()=>{const B=()=>{window.scrollY>100&&T(!1)};return window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)},[]),d.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[d.jsx(ES,{}),d.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-16 sm:pt-20 md:pt-32 pb-12 sm:pb-16 md:pb-24 px-2 sm:px-4",children:[d.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[d.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-150",children:d.jsx("source",{src:"/vid.mp4",type:"video/mp4"})}),d.jsx("div",{className:"absolute inset-0 bg-black/60"})]}),d.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-6 lg:px-8 text-center",children:d.jsxs(Xe.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"space-y-4 md:space-y-6 lg:space-y-8",children:[d.jsx(Xe.h1,{ref:P,animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:8,repeat:1/0,ease:"linear"},className:`text-6xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-8xl 2xl:text-8xl glitch-text ${E?`glitch-active glitch-${C}`:""}`,"data-text":"EVENTS",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"EVENTS"}),d.jsx(Xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"text-base sm:text-lg md:text-xl lg:text-xl font-light max-w-4xl mx-auto leading-relaxed px-2 text-white drop-shadow-lg",children:d.jsxs(Xe.span,{className:"inline-block px-3 sm:px-4 md:px-6 py-2 sm:py-2.5 md:py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20 text-sm sm:text-base md:text-lg",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.5)"},animate:{boxShadow:["0 0 10px rgba(255, 255, 255, 0.1)","0 0 20px rgba(255, 255, 255, 0.2)","0 0 10px rgba(255, 255, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[d.jsx("span",{className:"block sm:hidden",children:"⚡ Events that hit different ⚡"}),d.jsx("span",{className:"hidden sm:block",children:"⚡ From rooftop raves to underground vibes - events that hit different ⚡"})]})}),d.jsx(Xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"text-white/80 text-base sm:text-lg md:text-xl",children:n?d.jsx("span",{children:"Loading events..."}):d.jsxs("span",{children:[((k=e==null?void 0:e.filter(B=>!B.isArchived))==null?void 0:k.length)||0," upcoming events"]})}),d.jsx(Xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6},className:"flex flex-col sm:flex-row gap-3 sm:gap-4 md:gap-6 justify-center items-center pt-4 sm:pt-6 md:pt-8 px-2 sm:px-4",children:d.jsxs(Xe.button,{onClick:()=>{var B;(B=document.getElementById("events-grid"))==null||B.scrollIntoView({behavior:"smooth",block:"start"})},whileHover:{scale:1.05,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},whileTap:{scale:.95},className:"bg-transparent hover:bg-white/90 text-white hover:text-gray-900 px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 md:py-4 text-base sm:text-base md:text-lg font-semibold rounded-lg border-2 border-white/70 w-3/4 sm:w-auto transition-all backdrop-blur-sm group flex items-center justify-center gap-3",children:[d.jsx("span",{children:"Get Tickets"}),d.jsx(l1,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 group-hover:translate-x-1 transition-transform"})]})})]})}),j&&d.jsx(Xe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.8},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 w-full flex justify-center",children:d.jsxs(Xe.div,{animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"flex flex-col items-center space-y-2 cursor-pointer",onClick:()=>{var B;(B=document.getElementById("events-grid"))==null||B.scrollIntoView({behavior:"smooth",block:"start"})},children:[d.jsx(Xe.div,{animate:{y:[0,8,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-6 h-10 border-2 border-white/50 rounded-full flex justify-center",children:d.jsx(Xe.div,{animate:{y:[0,12,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-1 h-3 bg-white/70 rounded-full mt-2"})}),d.jsx(Xe.p,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-white/70 text-xs font-medium",children:"Scroll to explore"})]})})]}),d.jsxs("section",{id:"events-grid",className:"py-16 md:py-20 relative px-4 overflow-hidden",children:[d.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[d.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-150",children:d.jsx("source",{src:"/vid-ev.mp4",type:"video/mp4"})}),d.jsx("div",{className:"absolute inset-0 bg-gray-900/70"})]}),d.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[d.jsxs(Xe.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12 md:mb-16",children:[d.jsx(Xe.h2,{className:`text-5xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 text-white glitch-text ${E?`glitch-active glitch-${C}`:""}`,"data-text":"WHAT'S ON",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"WHAT'S ON"}),d.jsx("div",{className:"flex justify-center",children:d.jsx(Xe.span,{className:"inline-block px-3 sm:px-4 md:px-6 py-2 sm:py-2.5 md:py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20 text-sm sm:text-base md:text-lg text-white/80",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.5)"},animate:{boxShadow:["0 0 10px rgba(255, 255, 255, 0.1)","0 0 20px rgba(255, 255, 255, 0.2)","0 0 10px rgba(255, 255, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"🎭  Check out our upcoming events  🎭"})})]}),n?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-white text-lg mb-4",children:"Loading events..."}),d.jsx("div",{className:"text-white/70 text-sm",children:"Please wait while we fetch the latest events"})]}):!e||e.length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-white text-lg mb-4",children:"No events available"}),d.jsx("div",{className:"text-white/70 text-sm",children:"Check back later for upcoming events"})]}):e.filter(B=>!B.isArchived).length===0?d.jsxs("div",{className:"text-center py-12",children:[d.jsx("div",{className:"text-white text-lg mb-4",children:"No upcoming events"}),d.jsx("div",{className:"text-white/70 text-sm",children:"All events are currently archived"})]}):d.jsx("div",{className:`grid gap-6 md:gap-8 ${e.filter(B=>!B.isArchived).length===1?"grid-cols-1 max-w-md mx-auto":e.filter(B=>!B.isArchived).length===2?"grid-cols-1 md:grid-cols-2 max-w-4xl mx-auto":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:e.filter(B=>!B.isArchived).map((B,ne)=>d.jsxs(Xe.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:u===B.id?.2:ne*.1},whileHover:{y:-4},className:`group relative bg-gradient-to-br from-white via-gray-50 to-white border rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer backdrop-blur-sm ${u===B.id?"border-blue-500 shadow-blue-500/25 scale-105 ring-2 ring-blue-500/20":"border-gray-100"}`,children:[d.jsxs("div",{className:"relative h-48 md:h-56 overflow-hidden",onClick:()=>{i(B),o(!0)},children:[u===B.id&&d.jsx("div",{className:"absolute top-4 right-4 z-10 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg animate-pulse",children:"⭐ Featured Event"}),d.jsx("img",{src:B.image,alt:B.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:F=>{const X=F.target;X.src=`https://via.placeholder.com/400x300/6B7280/FFFFFF?text=${encodeURIComponent(B.title)}`}}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),d.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:B.tags.slice(0,2).map(F=>d.jsx("span",{className:"bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-semibold text-gray-800 shadow-sm border border-white/20",children:F},F))}),B.ticketTiers&&B.ticketTiers.length>0&&B.ticketTiers.every(F=>F.capacity-F.soldCount<=0||F.isActive===!1)&&d.jsx("div",{className:"absolute top-4 right-4 bg-red-500 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg",children:"Sold Out"}),d.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:d.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight drop-shadow-lg",children:B.title})})]}),d.jsxs("div",{className:"p-5 md:p-6 space-y-4",onClick:()=>{i(B),o(!0)},children:[d.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-2",children:B.description}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[d.jsx(yi,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-semibold text-gray-900",children:B.date})]}),d.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[d.jsx(Qs,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-semibold text-gray-900",children:B.time})]}),d.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[d.jsx(Cl,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-semibold text-gray-900",children:B.venue})]})]}),B.ticketTiers&&B.ticketTiers.length>0&&d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Ticket Options"}),d.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:["From £",(Math.min(...B.ticketTiers.map(F=>F.price))/100).toFixed(2)]})]}),d.jsxs("div",{className:"space-y-1.5",children:[B.ticketTiers.sort((F,X)=>F.price-X.price).slice(0,2).map(F=>d.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-gradient-to-r from-gray-50 to-white rounded-lg border border-gray-100",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),d.jsx("span",{className:"text-sm font-medium text-gray-800",children:F.name})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[F.originalPrice&&F.originalPrice>F.price&&d.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["£",(F.originalPrice/100).toFixed(2)]}),d.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["£",(F.price/100).toFixed(2)]})]})]},F.id)),B.ticketTiers.length>2&&d.jsx("div",{className:"text-center",children:d.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-3 py-1.5 rounded-full",children:["+",B.ticketTiers.length-2," more options"]})})]})]}),d.jsxs(Xe.button,{onClick:F=>{F.stopPropagation(),i(B),y(!0)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-gray-900 via-gray-800 to-gray-800 hover:from-gray-800 hover:via-gray-700 hover:to-gray-800 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 text-sm md:text-base flex items-center justify-center gap-3 shadow-lg hover:shadow-xl group-hover:shadow-2xl",children:[B.ticketTiers&&B.ticketTiers.length>0?"Get Tickets":"Book Now",d.jsx(l1,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]},B.id))})]})]}),s&&r&&d.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>o(!1),children:d.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full overflow-hidden",onClick:B=>B.stopPropagation(),children:[d.jsxs("div",{className:"relative h-48 overflow-hidden",children:[d.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"}),d.jsx("button",{className:"absolute top-3 right-3 bg-white/90 rounded-full p-1",onClick:()=>o(!1),children:d.jsx(Rl,{className:"w-5 h-5 text-gray-700"})})]}),d.jsxs("div",{className:"p-6 space-y-4",children:[d.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.title}),d.jsx("p",{className:"text-gray-600 text-sm",children:r.description}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-gray-600",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(yi,{className:"w-4 h-4"}),d.jsx("span",{children:r.date})]}),d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Qs,{className:"w-4 h-4"}),d.jsx("span",{children:r.time})]}),d.jsxs("div",{className:"flex items-center gap-2 sm:col-span-2",children:[d.jsx(Cl,{className:"w-4 h-4"}),d.jsx("span",{children:r.venue})]})]}),r.ticketTiers&&r.ticketTiers.length>0&&d.jsxs("div",{children:[d.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Ticket Tiers"}),d.jsx("div",{className:"space-y-2",children:r.ticketTiers.sort((B,ne)=>B.price-ne.price).map(B=>{const ne=B.capacity-B.soldCount,F=ne<=0||B.isActive===!1;return d.jsxs("div",{className:"flex items-center justify-between text-sm",children:[d.jsx("span",{className:"text-gray-700",children:B.name}),F?d.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700",children:"Sold out"}):d.jsxs("div",{className:"flex items-center gap-2",children:[B.originalPrice&&B.originalPrice>B.price&&d.jsxs("span",{className:"text-gray-400 line-through",children:["£",(B.originalPrice/100).toFixed(2)]}),d.jsxs("span",{className:"font-semibold text-gray-900",children:["£",(B.price/100).toFixed(2)]}),d.jsxs("span",{className:"text-xs text-gray-500",children:["(",ne," left)"]})]})]},B.id)})})]}),d.jsx("button",{onClick:()=>{o(!1),i(r),y(!0)},disabled:(M=r.ticketTiers)==null?void 0:M.every(B=>B.capacity-B.soldCount<=0||B.isActive===!1),className:"w-full bg-gray-900 hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg text-sm",children:"Buy Tickets"})]})]})}),x&&r&&d.jsx(JR,{event:r,onClose:()=>y(!1),onSuccess:B=>{b(B),y(!1)}}),N&&d.jsx(BF,{order:N,onClose:()=>b(null)}),d.jsx(t6,{})]})},UF=()=>d.jsx("div",{className:"min-h-screen bg-gray-50",children:d.jsx(cR,{})}),VF=({className:e=""})=>{var N,b,j,T,P,E;const[t,n]=fe.useState(null),[r,i]=fe.useState(!0),[s,o]=fe.useState(new Date),[u,h]=fe.useState("24h"),[p,x]=fe.useState("overview");fe.useEffect(()=>{const C=()=>{i(!0),setTimeout(()=>{const M={liveVisitors:Math.floor(Math.random()*50)+10,currentSessions:Math.floor(Math.random()*30)+5,totalSessions:Math.floor(Math.random()*1e3)+500,averageSessionDuration:Math.floor(Math.random()*300)+120,bounceRate:Math.random()*40+20,totalPageViews:Math.floor(Math.random()*3e3)+1500,averageTimeOnPage:Math.floor(Math.random()*180)+60,mostVisitedPages:[{page:"/",views:450,averageTime:120},{page:"/events",views:320,averageTime:180},{page:"/about",views:180,averageTime:90},{page:"/contact",views:120,averageTime:60}],totalEventsViewed:Math.floor(Math.random()*200)+100,mostViewedEvents:[{eventId:"1",views:85,uniqueViewers:65},{eventId:"2",views:72,uniqueViewers:58},{eventId:"3",views:68,uniqueViewers:52}],totalCheckouts:Math.floor(Math.random()*50)+20,totalPurchases:Math.floor(Math.random()*30)+15,conversionRate:Math.random()*15+5,averageOrderValue:Math.floor(Math.random()*50)+25,trafficSources:[{source:"Google",sessions:450,conversionRate:8.5},{source:"Direct",sessions:280,conversionRate:12.3},{source:"Social Media",sessions:180,conversionRate:6.2},{source:"Referral",sessions:90,conversionRate:4.1}],deviceBreakdown:[{device:"Mobile",sessions:520,percentage:52},{device:"Desktop",sessions:380,percentage:38},{device:"Tablet",sessions:100,percentage:10}],topLocations:[{location:"London",sessions:650,conversionRate:9.8},{location:"Manchester",sessions:120,conversionRate:7.2},{location:"Birmingham",sessions:85,conversionRate:6.5},{location:"Leeds",sessions:65,conversionRate:5.8}]};n(M),o(new Date),i(!1)},1e3)};C();const k=setInterval(C,5*60*1e3);return()=>clearInterval(k)},[u]);const y=()=>{i(!0),setTimeout(()=>{o(new Date),i(!1)},1e3)};return r&&!t?d.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),d.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Loading Analytics..."})]})}):d.jsxs("div",{className:`min-h-screen bg-gray-50 ${e}`,children:[d.jsx("div",{className:"bg-white shadow-sm border-b",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Analytics Dashboard"}),d.jsx("p",{className:"text-gray-600 mt-1",children:"Real-time insights into your Carnival LDN website performance"})]}),d.jsxs("div",{className:"flex items-center space-x-4",children:[d.jsxs("select",{value:u,onChange:C=>h(C.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[d.jsx("option",{value:"1h",children:"Last Hour"}),d.jsx("option",{value:"24h",children:"Last 24 Hours"}),d.jsx("option",{value:"7d",children:"Last 7 Days"}),d.jsx("option",{value:"30d",children:"Last 30 Days"})]}),d.jsxs("button",{onClick:y,disabled:r,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:[d.jsx(AS,{className:`h-4 w-4 ${r?"animate-spin":""}`}),d.jsx("span",{children:"Refresh"})]})]})]}),d.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Last updated: ",s.toLocaleTimeString()]})]})}),d.jsx("div",{className:"bg-white border-b",children:d.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:d.jsx("nav",{className:"flex space-x-8",children:[{id:"overview",label:"Overview",icon:c1},{id:"traffic",label:"Traffic",icon:bS},{id:"conversions",label:"Conversions",icon:FP},{id:"events",label:"Events",icon:yi},{id:"users",label:"Users",icon:Qr}].map(C=>{const k=C.icon;return d.jsxs("button",{onClick:()=>x(C.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm ${p===C.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(k,{className:"h-4 w-4"}),d.jsx("span",{children:C.label})]},C.id)})})})}),d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[p==="overview"&&d.jsxs("div",{className:"space-y-8",children:[d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[d.jsx(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:d.jsx(Qr,{className:"h-6 w-6 text-blue-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Live Visitors"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t==null?void 0:t.liveVisitors})]})]})}),d.jsx(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:d.jsx(Dh,{className:"h-6 w-6 text-green-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Page Views"}),d.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(N=t==null?void 0:t.totalPageViews)==null?void 0:N.toLocaleString()})]})]})}),d.jsx(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:d.jsx(U5,{className:"h-6 w-6 text-purple-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conversions"}),d.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[(b=t==null?void 0:t.conversionRate)==null?void 0:b.toFixed(1),"%"]})]})]})}),d.jsx(Xe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-lg shadow p-6",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:d.jsx(u1,{className:"h-6 w-6 text-orange-600"})}),d.jsxs("div",{className:"ml-4",children:[d.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Order Value"}),d.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["£",t==null?void 0:t.averageOrderValue]})]})]})})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Traffic Sources"}),d.jsx("div",{className:"space-y-4",children:t==null?void 0:t.trafficSources.map((C,k)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${k===0?"bg-blue-500":k===1?"bg-green-500":k===2?"bg-purple-500":"bg-gray-500"}`}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:C.source})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-900",children:C.sessions.toLocaleString()}),d.jsxs("p",{className:"text-xs text-gray-500",children:[C.conversionRate.toFixed(1),"% conversion"]})]})]},C.source))})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Device Breakdown"}),d.jsx("div",{className:"space-y-4",children:t==null?void 0:t.deviceBreakdown.map((C,k)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx("div",{className:`w-3 h-3 rounded-full ${k===0?"bg-blue-500":k===1?"bg-green-500":"bg-purple-500"}`}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:C.device})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("p",{className:"text-sm font-semibold text-gray-900",children:C.sessions.toLocaleString()}),d.jsxs("p",{className:"text-xs text-gray-500",children:[C.percentage,"%"]})]})]},C.device))})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Most Visited Pages"}),d.jsx("div",{className:"space-y-3",children:t==null?void 0:t.mostVisitedPages.map((C,k)=>d.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100 last:border-b-0",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",k+1]}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:C.page})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[C.views.toLocaleString()," views"]}),d.jsxs("p",{className:"text-xs text-gray-500",children:[C.averageTime,"s avg time"]})]})]},C.page))})]})]}),p==="traffic"&&d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Geographic Distribution"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t==null?void 0:t.topLocations.map((C,k)=>d.jsxs("div",{className:"border rounded-lg p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-2",children:[d.jsxs("div",{className:"flex items-center space-x-2",children:[d.jsx(Cl,{className:"h-4 w-4 text-gray-500"}),d.jsx("span",{className:"font-medium text-gray-900",children:C.location})]}),d.jsxs("span",{className:"text-sm text-gray-500",children:["#",k+1]})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Sessions:"}),d.jsx("span",{className:"font-medium",children:C.sessions.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between text-sm",children:[d.jsx("span",{className:"text-gray-600",children:"Conversion Rate:"}),d.jsxs("span",{className:"font-medium text-green-600",children:[C.conversionRate.toFixed(1),"%"]})]})]})]},C.location))})]})}),p==="conversions"&&d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Conversion Funnel"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Dh,{className:"h-5 w-5 text-blue-600"}),d.jsx("span",{className:"font-medium",children:"Page Views"})]}),d.jsx("span",{className:"text-lg font-bold text-gray-900",children:(j=t==null?void 0:t.totalPageViews)==null?void 0:j.toLocaleString()})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(U5,{className:"h-5 w-5 text-green-600"}),d.jsx("span",{className:"font-medium",children:"Checkouts Started"})]}),d.jsx("span",{className:"text-lg font-bold text-gray-900",children:t==null?void 0:t.totalCheckouts})]}),d.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsx(Is,{className:"h-5 w-5 text-purple-600"}),d.jsx("span",{className:"font-medium",children:"Purchases Completed"})]}),d.jsx("span",{className:"text-lg font-bold text-gray-900",children:t==null?void 0:t.totalPurchases})]})]})]})}),p==="events"&&d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Event Performance"}),d.jsx("div",{className:"space-y-4",children:t==null?void 0:t.mostViewedEvents.map((C,k)=>d.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[d.jsxs("div",{className:"flex items-center space-x-3",children:[d.jsxs("span",{className:"text-sm font-medium text-gray-500",children:["#",k+1]}),d.jsxs("span",{className:"font-medium text-gray-900",children:["Event ",C.eventId]})]}),d.jsxs("div",{className:"text-right",children:[d.jsxs("p",{className:"text-sm font-semibold text-gray-900",children:[C.views," views"]}),d.jsxs("p",{className:"text-xs text-gray-500",children:[C.uniqueViewers," unique viewers"]})]})]},C.eventId))})]})}),p==="users"&&d.jsx("div",{className:"space-y-8",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Session Metrics"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Sessions:"}),d.jsx("span",{className:"font-medium",children:(T=t==null?void 0:t.totalSessions)==null?void 0:T.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Avg Duration:"}),d.jsxs("span",{className:"font-medium",children:[Math.floor(((t==null?void 0:t.averageSessionDuration)||0)/60),"m ",((t==null?void 0:t.averageSessionDuration)||0)%60,"s"]})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Bounce Rate:"}),d.jsxs("span",{className:"font-medium",children:[(P=t==null?void 0:t.bounceRate)==null?void 0:P.toFixed(1),"%"]})]})]})]}),d.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[d.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Page Engagement"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Total Page Views:"}),d.jsx("span",{className:"font-medium",children:(E=t==null?void 0:t.totalPageViews)==null?void 0:E.toLocaleString()})]}),d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{className:"text-gray-600",children:"Avg Time on Page:"}),d.jsxs("span",{className:"font-medium",children:[Math.floor(((t==null?void 0:t.averageTimeOnPage)||0)/60),"m ",((t==null?void 0:t.averageTimeOnPage)||0)%60,"s"]})]})]})]})]})})]})]})},zF=()=>(fe.useEffect(()=>{zx("/404","Carnival LDN - Page Not Found")},[]),d.jsxs("div",{className:"h-screen md:min-h-screen bg-black flex items-center justify-center px-4 relative overflow-hidden pt-0 md:pt-0",children:[d.jsx("div",{className:"absolute inset-0 opacity-5",children:d.jsx("div",{className:"absolute inset-0",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='1'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}})}),d.jsxs("div",{className:"text-center relative z-10 max-w-2xl mx-auto -mt-16 md:mt-0",children:[d.jsx("div",{className:"mb-8 md:mb-12 flex justify-center",children:d.jsx("img",{src:"/carnival-logo-w.svg",alt:"Carnival LDN Logo",className:"w-16 h-16 md:w-24 md:h-24 object-contain"})}),d.jsx("div",{className:"text-6xl md:text-9xl font-bold text-white/30 mb-6 md:mb-8 select-none font-mono",children:"404"}),d.jsx("h1",{className:"text-2xl md:text-5xl font-bold text-white mb-4 md:mb-6 tracking-tight",children:"Page Not Found"}),d.jsx("p",{className:"text-base md:text-xl text-gray-400 mb-8 md:mb-10 max-w-md mx-auto leading-relaxed px-4",children:"The page you're looking for seems to have wandered off to join the carnival elsewhere."}),d.jsxs("div",{className:"flex flex-col gap-3 md:gap-4 justify-center items-center px-4",children:[d.jsx(Aw,{to:"/",className:"w-full max-w-xs md:max-w-none px-8 py-3 md:py-4 bg-white text-black font-semibold rounded-lg hover:bg-gray-100 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl border-2 border-white text-center",children:"Go Home"}),d.jsx(Aw,{to:"/events",className:"w-full max-w-xs md:max-w-none px-8 py-3 md:py-4 border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-black transform hover:scale-105 transition-all duration-200 text-center",children:"Browse Events"})]})]})]})),pp=({title:e,description:t,keywords:n="Carnival LDN, London events, nightlife London, club nights London, Bollywood parties London, Diwali celebrations London, New Year parties London, corporate events London, private parties London, event planning London",image:r="/carnival-logo.svg",url:i="https://carnivalldn.com",type:s="website"})=>{const o=`${e} | Carnival LDN - London's Premier Events Company`;return d.jsxs(rk,{children:[d.jsx("title",{children:o}),d.jsx("meta",{name:"description",content:t}),d.jsx("meta",{name:"keywords",content:n}),d.jsx("meta",{name:"author",content:"Carnival LDN"}),d.jsx("meta",{name:"robots",content:"index, follow"}),d.jsx("link",{rel:"canonical",href:i}),d.jsx("meta",{property:"og:type",content:s}),d.jsx("meta",{property:"og:url",content:i}),d.jsx("meta",{property:"og:title",content:o}),d.jsx("meta",{property:"og:description",content:t}),d.jsx("meta",{property:"og:image",content:r}),d.jsx("meta",{property:"og:site_name",content:"Carnival LDN"}),d.jsx("meta",{property:"og:locale",content:"en_GB"}),d.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),d.jsx("meta",{name:"twitter:site",content:"@carnivalldn"}),d.jsx("meta",{name:"twitter:title",content:o}),d.jsx("meta",{name:"twitter:description",content:t}),d.jsx("meta",{name:"twitter:image",content:r}),d.jsx("meta",{name:"geo.region",content:"GB-LND"}),d.jsx("meta",{name:"geo.placename",content:"London"}),d.jsx("meta",{name:"geo.position",content:"51.5074;-0.1278"}),d.jsx("meta",{name:"ICBM",content:"51.5074, -0.1278"}),d.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"Event",name:"Carnival LDN Events",description:"London's premier professional events company, creating exceptional experiences that elevate your brand and strengthen business relationships.",url:"https://carnivalldn.com",logo:"https://carnivalldn.com/carnival-logo.svg",address:{"@type":"PostalAddress",streetAddress:"123 Event Street",addressLocality:"London",addressCountry:"GB"},contactPoint:{"@type":"ContactPoint",telephone:"+44-20-1234-5678",contactType:"customer service",email:"partnerships@carnivalldn.com"},sameAs:["https://instagram.com/carnivalldn","https://facebook.com/carnivalldn","https://twitter.com/carnivalldn"]})})]})},HF=()=>{const{glitchRef:e,isGlitching:t,glitchType:n}=Bl(),r=[{icon:Dh,title:"Information We Collect",content:["Personal information (name, email, phone number) when you contact us or book events","Event preferences and attendance history","Payment information processed securely through Stripe","Website usage data and analytics","Communication preferences and marketing consent"]},{icon:Mh,title:"How We Use Your Information",content:["Process event bookings and payments","Send event confirmations and updates","Provide customer support and respond to inquiries","Improve our services and website experience","Send marketing communications (with your consent)","Comply with legal obligations"]},{icon:wS,title:"Data Storage & Security",content:["Data stored securely on Supabase cloud infrastructure","Encrypted transmission using HTTPS protocols","Regular security audits and updates","Limited access to authorized personnel only","Data retention policies in compliance with GDPR"]},{icon:Qr,title:"Sharing Your Information",content:["We do not sell your personal information","Share with event venues and partners as necessary","Legal requirements and law enforcement","Business transfers (with privacy protection)","Aggregated, anonymized data for analytics"]},{icon:bS,title:"Your Rights & Choices",content:["Access and review your personal data","Request corrections or updates","Opt-out of marketing communications","Request data deletion (subject to legal requirements)","Data portability and transfer rights","Withdraw consent at any time"]}];return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black text-white py-20 px-4",children:[d.jsx(pp,{title:"Privacy Policy",description:"Carnival LDN Privacy Policy - Learn how we collect, use, and protect your personal information. Your privacy is important to us.",keywords:"Carnival LDN privacy policy, data protection, GDPR compliance, London events privacy, personal data security"}),d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs(Xe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[d.jsx(Xe.h1,{ref:e,className:`text-5xl md:text-6xl font-bold mb-6 glitch-text ${t?`glitch-active glitch-${n}`:""}`,"data-text":"PRIVACY POLICY",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"PRIVACY POLICY"}),d.jsx(Xe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Your privacy is important to us. This policy explains how we collect, use, and protect your information."}),d.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-sm text-gray-400 mt-4",children:["Last updated: ",new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white/5 border border-white/20 rounded-2xl p-8 mb-12 backdrop-blur-sm",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Introduction"}),d.jsx("p",{className:"text-gray-300 leading-relaxed",children:'Carnival LDN ("we," "our," or "us") is committed to protecting your privacy. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you visit our website, use our services, or attend our events. By using our services, you consent to the data practices described in this policy.'})]}),d.jsx("div",{className:"space-y-8",children:r.map((i,s)=>d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.7+s*.1},className:"bg-white/5 border border-white/20 rounded-2xl p-8 backdrop-blur-sm hover:bg-white/10 transition-all duration-300",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-lg flex items-center justify-center mr-4",children:d.jsx(i.icon,{className:"w-6 h-6 text-white"})}),d.jsx("h3",{className:"text-2xl font-bold text-white",children:i.title})]}),d.jsx("ul",{className:"space-y-3",children:i.content.map((o,u)=>d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"w-2 h-2 bg-white rounded-full mt-2 mr-3 flex-shrink-0"}),d.jsx("span",{className:"text-gray-300 leading-relaxed",children:o})]},u))})]},i.title))}),d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.2},className:"bg-white/5 border border-white/20 rounded-2xl p-8 mt-12 backdrop-blur-sm",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Contact Us"}),d.jsx("p",{className:"text-gray-300 mb-4",children:"If you have any questions about this Privacy Policy or our data practices, please contact us:"}),d.jsxs("div",{className:"space-y-2 text-gray-300",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," privacy@carnivalldn.com"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Phone:"})," +44 20 1234 5678"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Address:"})," 123 Event Street, London, UK"]})]})]}),d.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.4},className:"text-center mt-12",children:d.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-white transition-all duration-300 hover:scale-105",children:"← Back to Home"})})]})]})},qF=()=>{const{glitchRef:e,isGlitching:t,glitchType:n}=Bl(),r=[{icon:Qr,title:"Acceptance of Terms",content:["By accessing and using Carnival LDN's website and services, you accept and agree to be bound by these terms","If you disagree with any part of these terms, you may not access our services","We reserve the right to modify these terms at any time with notice","Continued use after changes constitutes acceptance of new terms"]},{icon:yi,title:"Event Bookings & Services",content:["Event bookings are confirmed upon receipt of full payment","Cancellation policies vary by event and are clearly stated at booking","We reserve the right to modify or cancel events due to circumstances beyond our control","Refunds are processed according to our cancellation policy","Event details, times, and venues are subject to change with notice"]},{icon:vS,title:"Payment & Refunds",content:["All payments are processed securely through Stripe","Prices are quoted in British Pounds (GBP) and include applicable taxes","Payment is required in full at the time of booking","Refund requests must be submitted in writing within specified timeframes","Processing fees may apply to refunds and are non-refundable"]},{icon:Is,title:"User Conduct & Responsibilities",content:["Attendees must be 18+ years old or accompanied by a legal guardian","Respect venue rules and other attendees","No illegal substances or weapons permitted at events","Photography and recording policies vary by event","Violation of conduct policies may result in removal without refund"]},{icon:_P,title:"Limitation of Liability",content:["Carnival LDN is not liable for personal injury or property damage","We are not responsible for lost or stolen personal items","Maximum liability is limited to the amount paid for the event","Force majeure events may result in event cancellation without liability","Venue-specific risks and requirements are the responsibility of attendees"]},{icon:d1,title:"Intellectual Property",content:["All content on our website is owned by Carnival LDN","Event photography and branding are protected by copyright","Unauthorized use of our intellectual property is prohibited","Attendees may be photographed for promotional purposes","Opt-out requests for photography must be submitted in advance"]}];return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black text-white py-20 px-4",children:[d.jsx(pp,{title:"Terms of Service",description:"Carnival LDN Terms of Service - Read our terms and conditions for using our event services and website.",keywords:"Carnival LDN terms of service, event booking terms, London events terms, party planning terms, event company terms"}),d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs(Xe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[d.jsx(Xe.h1,{ref:e,className:`text-5xl md:text-6xl font-bold mb-6 glitch-text ${t?`glitch-active glitch-${n}`:""}`,"data-text":"TERMS OF SERVICE",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"TERMS OF SERVICE"}),d.jsx(Xe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"Please read these terms carefully before using our services. They govern your relationship with Carnival LDN."}),d.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-sm text-gray-400 mt-4",children:["Last updated: ",new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white/5 border border-white/20 rounded-2xl p-8 mb-12 backdrop-blur-sm",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Agreement to Terms"}),d.jsx("p",{className:"text-gray-300 leading-relaxed",children:`These Terms of Service ("Terms") govern your use of Carnival LDN's website, services, and events. By accessing or using our services, you agree to be bound by these Terms. If you disagree with any part of these terms, then you may not access our services.`})]}),d.jsx("div",{className:"space-y-8",children:r.map((i,s)=>d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.7+s*.1},className:"bg-white/5 border border-white/20 rounded-2xl p-8 backdrop-blur-sm hover:bg-white/10 transition-all duration-300",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-lg flex items-center justify-center mr-4",children:d.jsx(i.icon,{className:"w-6 h-6 text-white"})}),d.jsx("h3",{className:"text-2xl font-bold text-white",children:i.title})]}),d.jsx("ul",{className:"space-y-3",children:i.content.map((o,u)=>d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"w-2 h-2 bg-white rounded-full mt-2 mr-3 flex-shrink-0"}),d.jsx("span",{className:"text-gray-300 leading-relaxed",children:o})]},u))})]},i.title))}),d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.3},className:"bg-white/5 border border-white/20 rounded-2xl p-8 mt-12 backdrop-blur-sm",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Additional Terms"}),d.jsxs("div",{className:"space-y-4 text-gray-300",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Governing Law:"})," These terms are governed by the laws of England and Wales."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Dispute Resolution:"})," Any disputes will be resolved through mediation or in the courts of England and Wales."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Severability:"})," If any provision is found to be unenforceable, the remaining provisions remain in effect."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Entire Agreement:"})," These terms constitute the entire agreement between you and Carnival LDN."]})]})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.4},className:"bg-white/5 border border-white/20 rounded-2xl p-8 mt-12 backdrop-blur-sm",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Questions About These Terms?"}),d.jsx("p",{className:"text-gray-300 mb-4",children:"If you have any questions about these Terms of Service, please contact us:"}),d.jsxs("div",{className:"space-y-2 text-gray-300",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," legal@carnivalldn.com"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Phone:"})," +44 20 1234 5678"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Address:"})," 123 Event Street, London, UK"]})]})]}),d.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.6},className:"text-center mt-12",children:d.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-white transition-all duration-300 hover:scale-105",children:"← Back to Home"})})]})]})},WF=()=>{const{glitchRef:e,isGlitching:t,glitchType:n}=Bl(),r=[{icon:RP,title:"Essential Cookies",description:"These cookies are necessary for the website to function properly and cannot be disabled.",examples:["Authentication and security cookies","Shopping cart functionality","Basic website navigation","Payment processing cookies"],duration:"Session or up to 1 year"},{icon:c1,title:"Analytics Cookies",description:"These cookies help us understand how visitors interact with our website.",examples:["Google Analytics tracking","Page view and user behavior data","Performance monitoring","Traffic source analysis"],duration:"Up to 2 years"},{icon:Dh,title:"Marketing Cookies",description:"These cookies are used to deliver relevant advertisements and track marketing campaigns.",examples:["Social media tracking pixels","Advertising network cookies","Retargeting campaigns","Conversion tracking"],duration:"Up to 1 year"},{icon:wS,title:"Preference Cookies",description:"These cookies remember your choices and preferences for a better user experience.",examples:["Language preferences","Theme and layout choices","Event preferences","Newsletter subscription status"],duration:"Up to 1 year"}];return d.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black text-white py-20 px-4",children:[d.jsx(pp,{title:"Cookie Policy",description:"Carnival LDN Cookie Policy - Learn about how we use cookies to enhance your browsing experience and provide personalized content.",keywords:"Carnival LDN cookie policy, website cookies, London events cookies, privacy cookies, cookie management"}),d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs(Xe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-16",children:[d.jsx(Xe.h1,{ref:e,className:`text-5xl md:text-6xl font-bold mb-6 glitch-text ${t?`glitch-active glitch-${n}`:""}`,"data-text":"COOKIE POLICY",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"COOKIE POLICY"}),d.jsx(Xe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-xl text-gray-300 max-w-2xl mx-auto",children:"We use cookies to enhance your browsing experience and provide personalized content."}),d.jsxs(Xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-sm text-gray-400 mt-4",children:["Last updated: ",new Date().toLocaleDateString("en-GB",{day:"numeric",month:"long",year:"numeric"})]})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white/5 border border-white/20 rounded-2xl p-8 mb-12 backdrop-blur-sm",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"What Are Cookies?"}),d.jsx("p",{className:"text-gray-300 leading-relaxed mb-4",children:"Cookies are small text files that are stored on your device when you visit our website. They help us provide you with a better experience by remembering your preferences, analyzing how you use our site, and personalizing content."}),d.jsx("p",{className:"text-gray-300 leading-relaxed",children:"By continuing to use our website, you consent to our use of cookies as described in this policy. You can manage your cookie preferences at any time through your browser settings or our cookie consent tool."})]}),d.jsxs("div",{className:"space-y-8 mb-12",children:[d.jsx(Xe.h2,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.7},className:"text-3xl font-bold text-white text-center mb-8",children:"Types of Cookies We Use"}),r.map((i,s)=>d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.8+s*.1},className:"bg-white/5 border border-white/20 rounded-2xl p-8 backdrop-blur-sm hover:bg-white/10 transition-all duration-300",children:[d.jsxs("div",{className:"flex items-center mb-6",children:[d.jsx("div",{className:"w-12 h-12 bg-white/10 rounded-lg flex items-center justify-center mr-4",children:d.jsx(i.icon,{className:"w-6 h-6 text-white"})}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-2xl font-bold text-white",children:i.title}),d.jsx("p",{className:"text-gray-400 text-sm",children:i.duration})]})]}),d.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:i.description}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("p",{className:"text-sm font-medium text-white mb-2",children:"Examples:"}),d.jsx("ul",{className:"space-y-2",children:i.examples.map((o,u)=>d.jsxs("li",{className:"flex items-start",children:[d.jsx("span",{className:"w-2 h-2 bg-white rounded-full mt-2 mr-3 flex-shrink-0"}),d.jsx("span",{className:"text-gray-300 text-sm",children:o})]},u))})]})]},i.title))]}),d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.2},className:"bg-white/5 border border-white/20 rounded-2xl p-8 mb-12 backdrop-blur-sm",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Third-Party Cookies"}),d.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed",children:"We work with trusted third-party services that may also place cookies on your device:"}),d.jsxs("div",{className:"space-y-3 text-gray-300",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Google Analytics:"})," Website analytics and performance tracking"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Stripe:"})," Secure payment processing"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Social Media:"})," Social sharing and engagement tracking"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Marketing Tools:"})," Campaign performance and conversion tracking"]})]})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.3},className:"bg-white/5 border border-white/20 rounded-2xl p-8 mb-12 backdrop-blur-sm",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Managing Your Cookie Preferences"}),d.jsxs("div",{className:"space-y-4 text-gray-300",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Browser Settings:"})," You can control cookies through your browser settings. Most browsers allow you to block or delete cookies."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Cookie Consent Tool:"})," Use our cookie consent tool to manage your preferences for non-essential cookies."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Opt-Out Links:"})," Some third-party services provide opt-out mechanisms for their cookies."]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Mobile Devices:"})," Cookie settings may vary on mobile devices and apps."]})]})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.4},className:"bg-white/5 border border-white/20 rounded-2xl p-8 mb-12 backdrop-blur-sm",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Impact of Disabling Cookies"}),d.jsx("p",{className:"text-gray-300 leading-relaxed",children:"While you can disable cookies, please note that some features of our website may not function properly without them. Essential cookies are required for basic functionality, and disabling others may affect your user experience."})]}),d.jsxs(Xe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:1.5},className:"bg-white/5 border border-white/20 rounded-2xl p-8 mb-12 backdrop-blur-sm",children:[d.jsx("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Questions About Cookies?"}),d.jsx("p",{className:"text-gray-300 mb-4",children:"If you have any questions about our use of cookies, please contact us:"}),d.jsxs("div",{className:"space-y-2 text-gray-300",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Email:"})," privacy@carnivalldn.com"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Phone:"})," +44 20 1234 5678"]}),d.jsxs("p",{children:[d.jsx("strong",{children:"Address:"})," 123 Event Street, London, UK"]})]})]}),d.jsx(Xe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.7},className:"text-center",children:d.jsx("a",{href:"/",className:"inline-flex items-center px-6 py-3 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-white transition-all duration-300 hover:scale-105",children:"← Back to Home"})})]})]})};function $F(){const{getEvents:e,subscribeToEvents:t}=_o();return fe.useEffect(()=>{ik(),zx("/","Carnival LDN - Home"),e();const n=t();return()=>{n==null||n.unsubscribe()}},[e,t]),d.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[d.jsx(pp,{title:"Home",description:"Carnival LDN - London's premier professional events company. From club nights to corporate events, Bollywood parties to Diwali celebrations. Creating unforgettable experiences since 2014.",keywords:"Carnival LDN, London events, nightlife London, club nights London, Bollywood parties London, Diwali celebrations London, New Year parties London, corporate events London, private parties London, event planning London, London nightlife, London party planning"}),d.jsx(H9,{}),d.jsx(ES,{}),d.jsx(VP,{}),d.jsx(U9,{}),d.jsx(V9,{}),d.jsx(z9,{}),d.jsx(t6,{})]})}function GF({children:e}){const{isAuthenticated:t}=_o();return t?d.jsx(d.Fragment,{children:e}):d.jsx(gT,{to:"/admin",replace:!0})}function YF(){return d.jsx(XN,{children:d.jsxs(ET,{children:[d.jsxs(yT,{children:[d.jsx(ca,{path:"/",element:d.jsx($F,{})}),d.jsx(ca,{path:"/events",element:d.jsx(FF,{})}),d.jsx(ca,{path:"/admin",element:d.jsx(hM,{})}),d.jsx(ca,{path:"/admin/dashboard",element:d.jsx(GF,{children:d.jsx(pR,{})})}),d.jsx(ca,{path:"/scanner",element:d.jsx(UF,{})}),d.jsx(ca,{path:"/analytics",element:d.jsx(VF,{})}),d.jsx(ca,{path:"/privacy-policy",element:d.jsx(HF,{})}),d.jsx(ca,{path:"/terms-of-service",element:d.jsx(qF,{})}),d.jsx(ca,{path:"/cookie-policy",element:d.jsx(WF,{})}),d.jsx(ca,{path:"*",element:d.jsx(zF,{})})]}),d.jsx(UT,{}),d.jsx(TI,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#fff",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})}Wm.createRoot(document.getElementById("root")).render(d.jsx(Ot.StrictMode,{children:d.jsx(YF,{})}));export{Tn as _,xi as c,Pc as g};
