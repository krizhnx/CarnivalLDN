function Nb(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var mi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function r1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function JN(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Cb={exports:{}},i1={},Eb={exports:{}},an={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sh=Symbol.for("react.element"),e8=Symbol.for("react.portal"),t8=Symbol.for("react.fragment"),n8=Symbol.for("react.strict_mode"),r8=Symbol.for("react.profiler"),i8=Symbol.for("react.provider"),s8=Symbol.for("react.context"),a8=Symbol.for("react.forward_ref"),o8=Symbol.for("react.suspense"),l8=Symbol.for("react.memo"),c8=Symbol.for("react.lazy"),Ey=Symbol.iterator;function u8(e){return e===null||typeof e!="object"?null:(e=Ey&&e[Ey]||e["@@iterator"],typeof e=="function"?e:null)}var _b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tb=Object.assign,Ib={};function Hu(e,t,n){this.props=e,this.context=t,this.refs=Ib,this.updater=n||_b}Hu.prototype.isReactComponent={};Hu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kb(){}kb.prototype=Hu.prototype;function f2(e,t,n){this.props=e,this.context=t,this.refs=Ib,this.updater=n||_b}var p2=f2.prototype=new kb;p2.constructor=f2;Tb(p2,Hu.prototype);p2.isPureReactComponent=!0;var _y=Array.isArray,Lb=Object.prototype.hasOwnProperty,g2={current:null},Pb={key:!0,ref:!0,__self:!0,__source:!0};function Ob(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Lb.call(t,r)&&!Pb.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(u===1)i.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];i.children=d}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)i[r]===void 0&&(i[r]=u[r]);return{$$typeof:Sh,type:e,key:s,ref:o,props:i,_owner:g2.current}}function d8(e,t){return{$$typeof:Sh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function m2(e){return typeof e=="object"&&e!==null&&e.$$typeof===Sh}function h8(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ty=/\/+/g;function hp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?h8(""+e.key):t.toString(36)}function qf(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Sh:case e8:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+hp(o,0):r,_y(i)?(n="",e!=null&&(n=e.replace(Ty,"$&/")+"/"),qf(i,t,n,"",function(f){return f})):i!=null&&(m2(i)&&(i=d8(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ty,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",_y(e))for(var u=0;u<e.length;u++){s=e[u];var d=r+hp(s,u);o+=qf(s,t,n,d,i)}else if(d=u8(e),typeof d=="function")for(e=d.call(e),u=0;!(s=e.next()).done;)s=s.value,d=r+hp(s,u++),o+=qf(s,t,n,d,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function uf(e,t,n){if(e==null)return e;var r=[],i=0;return qf(e,r,"","",function(s){return t.call(n,s,i++)}),r}function f8(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $i={current:null},Wf={transition:null},p8={ReactCurrentDispatcher:$i,ReactCurrentBatchConfig:Wf,ReactCurrentOwner:g2};function Db(){throw Error("act(...) is not supported in production builds of React.")}an.Children={map:uf,forEach:function(e,t,n){uf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return uf(e,function(){t++}),t},toArray:function(e){return uf(e,function(t){return t})||[]},only:function(e){if(!m2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};an.Component=Hu;an.Fragment=t8;an.Profiler=r8;an.PureComponent=f2;an.StrictMode=n8;an.Suspense=o8;an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p8;an.act=Db;an.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tb({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=g2.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(d in t)Lb.call(t,d)&&!Pb.hasOwnProperty(d)&&(r[d]=t[d]===void 0&&u!==void 0?u[d]:t[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Sh,type:e.type,key:i,ref:s,props:r,_owner:o}};an.createContext=function(e){return e={$$typeof:s8,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:i8,_context:e},e.Consumer=e};an.createElement=Ob;an.createFactory=function(e){var t=Ob.bind(null,e);return t.type=e,t};an.createRef=function(){return{current:null}};an.forwardRef=function(e){return{$$typeof:a8,render:e}};an.isValidElement=m2;an.lazy=function(e){return{$$typeof:c8,_payload:{_status:-1,_result:e},_init:f8}};an.memo=function(e,t){return{$$typeof:l8,type:e,compare:t===void 0?null:t}};an.startTransition=function(e){var t=Wf.transition;Wf.transition={};try{e()}finally{Wf.transition=t}};an.unstable_act=Db;an.useCallback=function(e,t){return $i.current.useCallback(e,t)};an.useContext=function(e){return $i.current.useContext(e)};an.useDebugValue=function(){};an.useDeferredValue=function(e){return $i.current.useDeferredValue(e)};an.useEffect=function(e,t){return $i.current.useEffect(e,t)};an.useId=function(){return $i.current.useId()};an.useImperativeHandle=function(e,t,n){return $i.current.useImperativeHandle(e,t,n)};an.useInsertionEffect=function(e,t){return $i.current.useInsertionEffect(e,t)};an.useLayoutEffect=function(e,t){return $i.current.useLayoutEffect(e,t)};an.useMemo=function(e,t){return $i.current.useMemo(e,t)};an.useReducer=function(e,t,n){return $i.current.useReducer(e,t,n)};an.useRef=function(e){return $i.current.useRef(e)};an.useState=function(e){return $i.current.useState(e)};an.useSyncExternalStore=function(e,t,n){return $i.current.useSyncExternalStore(e,t,n)};an.useTransition=function(){return $i.current.useTransition()};an.version="18.3.1";Eb.exports=an;var me=Eb.exports;const Wt=r1(me),g8=Nb({__proto__:null,default:Wt},[me]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m8=me,x8=Symbol.for("react.element"),y8=Symbol.for("react.fragment"),v8=Object.prototype.hasOwnProperty,w8=m8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b8={key:!0,ref:!0,__self:!0,__source:!0};function jb(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)v8.call(t,r)&&!b8.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:x8,type:e,key:s,ref:o,props:i,_owner:w8.current}}i1.Fragment=y8;i1.jsx=jb;i1.jsxs=jb;Cb.exports=i1;var v=Cb.exports,bg={},Rb={exports:{}},_s={},Mb={exports:{}},Bb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(fe,Ce){var Ie=fe.length;fe.push(Ce);e:for(;0<Ie;){var Ue=Ie-1>>>1,M=fe[Ue];if(0<i(M,Ce))fe[Ue]=Ce,fe[Ie]=M,Ie=Ue;else break e}}function n(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var Ce=fe[0],Ie=fe.pop();if(Ie!==Ce){fe[0]=Ie;e:for(var Ue=0,M=fe.length,ne=M>>>1;Ue<ne;){var oe=2*(Ue+1)-1,pe=fe[oe],he=oe+1,Pe=fe[he];if(0>i(pe,Ie))he<M&&0>i(Pe,pe)?(fe[Ue]=Pe,fe[he]=Ie,Ue=he):(fe[Ue]=pe,fe[oe]=Ie,Ue=oe);else if(he<M&&0>i(Pe,Ie))fe[Ue]=Pe,fe[he]=Ie,Ue=he;else break e}}return Ce}function i(fe,Ce){var Ie=fe.sortIndex-Ce.sortIndex;return Ie!==0?Ie:fe.id-Ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var d=[],f=[],m=1,x=null,A=3,b=!1,P=!1,I=!1,O=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(fe){for(var Ce=n(f);Ce!==null;){if(Ce.callback===null)r(f);else if(Ce.startTime<=fe)r(f),Ce.sortIndex=Ce.expirationTime,t(d,Ce);else break;Ce=n(f)}}function R(fe){if(I=!1,L(fe),!P)if(n(d)!==null)P=!0,be(V);else{var Ce=n(f);Ce!==null&&ve(R,Ce.startTime-fe)}}function V(fe,Ce){P=!1,I&&(I=!1,E(K),K=-1),b=!0;var Ie=A;try{for(L(Ce),x=n(d);x!==null&&(!(x.expirationTime>Ce)||fe&&!W());){var Ue=x.callback;if(typeof Ue=="function"){x.callback=null,A=x.priorityLevel;var M=Ue(x.expirationTime<=Ce);Ce=e.unstable_now(),typeof M=="function"?x.callback=M:x===n(d)&&r(d),L(Ce)}else r(d);x=n(d)}if(x!==null)var ne=!0;else{var oe=n(f);oe!==null&&ve(R,oe.startTime-Ce),ne=!1}return ne}finally{x=null,A=Ie,b=!1}}var ie=!1,q=null,K=-1,$=5,ge=-1;function W(){return!(e.unstable_now()-ge<$)}function B(){if(q!==null){var fe=e.unstable_now();ge=fe;var Ce=!0;try{Ce=q(!0,fe)}finally{Ce?ee():(ie=!1,q=null)}}else ie=!1}var ee;if(typeof _=="function")ee=function(){_(B)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,J=te.port2;te.port1.onmessage=B,ee=function(){J.postMessage(null)}}else ee=function(){O(B,0)};function be(fe){q=fe,ie||(ie=!0,ee())}function ve(fe,Ce){K=O(function(){fe(e.unstable_now())},Ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(fe){fe.callback=null},e.unstable_continueExecution=function(){P||b||(P=!0,be(V))},e.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<fe?Math.floor(1e3/fe):5},e.unstable_getCurrentPriorityLevel=function(){return A},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(fe){switch(A){case 1:case 2:case 3:var Ce=3;break;default:Ce=A}var Ie=A;A=Ce;try{return fe()}finally{A=Ie}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(fe,Ce){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Ie=A;A=fe;try{return Ce()}finally{A=Ie}},e.unstable_scheduleCallback=function(fe,Ce,Ie){var Ue=e.unstable_now();switch(typeof Ie=="object"&&Ie!==null?(Ie=Ie.delay,Ie=typeof Ie=="number"&&0<Ie?Ue+Ie:Ue):Ie=Ue,fe){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=Ie+M,fe={id:m++,callback:Ce,priorityLevel:fe,startTime:Ie,expirationTime:M,sortIndex:-1},Ie>Ue?(fe.sortIndex=Ie,t(f,fe),n(d)===null&&fe===n(f)&&(I?(E(K),K=-1):I=!0,ve(R,Ie-Ue))):(fe.sortIndex=M,t(d,fe),P||b||(P=!0,be(V))),fe},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(fe){var Ce=A;return function(){var Ie=A;A=Ce;try{return fe.apply(this,arguments)}finally{A=Ie}}}})(Bb);Mb.exports=Bb;var A8=Mb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S8=me,Cs=A8;function ct(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fb=new Set,Kd={};function Ac(e,t){Eu(e,t),Eu(e+"Capture",t)}function Eu(e,t){for(Kd[e]=t,e=0;e<t.length;e++)Fb.add(t[e])}var po=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ag=Object.prototype.hasOwnProperty,N8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iy={},ky={};function C8(e){return Ag.call(ky,e)?!0:Ag.call(Iy,e)?!1:N8.test(e)?ky[e]=!0:(Iy[e]=!0,!1)}function E8(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _8(e,t,n,r){if(t===null||typeof t>"u"||E8(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Gi(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var yi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){yi[e]=new Gi(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];yi[t]=new Gi(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){yi[e]=new Gi(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){yi[e]=new Gi(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){yi[e]=new Gi(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){yi[e]=new Gi(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){yi[e]=new Gi(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){yi[e]=new Gi(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){yi[e]=new Gi(e,5,!1,e.toLowerCase(),null,!1,!1)});var x2=/[\-:]([a-z])/g;function y2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(x2,y2);yi[t]=new Gi(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(x2,y2);yi[t]=new Gi(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(x2,y2);yi[t]=new Gi(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){yi[e]=new Gi(e,1,!1,e.toLowerCase(),null,!1,!1)});yi.xlinkHref=new Gi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){yi[e]=new Gi(e,1,!1,e.toLowerCase(),null,!0,!0)});function v2(e,t,n,r){var i=yi.hasOwnProperty(t)?yi[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_8(t,n,i,r)&&(n=null),r||i===null?C8(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wo=S8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,df=Symbol.for("react.element"),Qc=Symbol.for("react.portal"),Jc=Symbol.for("react.fragment"),w2=Symbol.for("react.strict_mode"),Sg=Symbol.for("react.profiler"),Ub=Symbol.for("react.provider"),Vb=Symbol.for("react.context"),b2=Symbol.for("react.forward_ref"),Ng=Symbol.for("react.suspense"),Cg=Symbol.for("react.suspense_list"),A2=Symbol.for("react.memo"),$o=Symbol.for("react.lazy"),zb=Symbol.for("react.offscreen"),Ly=Symbol.iterator;function ad(e){return e===null||typeof e!="object"?null:(e=Ly&&e[Ly]||e["@@iterator"],typeof e=="function"?e:null)}var fr=Object.assign,fp;function Sd(e){if(fp===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);fp=t&&t[1]||""}return`
`+fp+e}var pp=!1;function gp(e,t){if(!e||pp)return"";pp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var d=`
`+i[o].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=o&&0<=u);break}}}finally{pp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Sd(e):""}function T8(e){switch(e.tag){case 5:return Sd(e.type);case 16:return Sd("Lazy");case 13:return Sd("Suspense");case 19:return Sd("SuspenseList");case 0:case 2:case 15:return e=gp(e.type,!1),e;case 11:return e=gp(e.type.render,!1),e;case 1:return e=gp(e.type,!0),e;default:return""}}function Eg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jc:return"Fragment";case Qc:return"Portal";case Sg:return"Profiler";case w2:return"StrictMode";case Ng:return"Suspense";case Cg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vb:return(e.displayName||"Context")+".Consumer";case Ub:return(e._context.displayName||"Context")+".Provider";case b2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case A2:return t=e.displayName||null,t!==null?t:Eg(e.type)||"Memo";case $o:t=e._payload,e=e._init;try{return Eg(e(t))}catch{}}return null}function I8(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eg(t);case 8:return t===w2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Hb(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function k8(e){var t=Hb(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hf(e){e._valueTracker||(e._valueTracker=k8(e))}function qb(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Hb(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function d0(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function _g(e,t){var n=t.checked;return fr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Py(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Wb(e,t){t=t.checked,t!=null&&v2(e,"checked",t,!1)}function Tg(e,t){Wb(e,t);var n=pl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ig(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ig(e,t.type,pl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Oy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ig(e,t,n){(t!=="number"||d0(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Nd=Array.isArray;function mu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function kg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ct(91));return fr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Dy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(ct(92));if(Nd(n)){if(1<n.length)throw Error(ct(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pl(n)}}function $b(e,t){var n=pl(t.value),r=pl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function jy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ff,Yb=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ff=ff||document.createElement("div"),ff.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ff.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Zd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Id={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L8=["Webkit","ms","Moz","O"];Object.keys(Id).forEach(function(e){L8.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Id[t]=Id[e]})});function Xb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Id.hasOwnProperty(e)&&Id[e]?(""+t).trim():t+"px"}function Kb(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Xb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var P8=fr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pg(e,t){if(t){if(P8[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ct(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ct(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ct(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ct(62))}}function Og(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dg=null;function S2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jg=null,xu=null,yu=null;function Ry(e){if(e=Eh(e)){if(typeof jg!="function")throw Error(ct(280));var t=e.stateNode;t&&(t=c1(t),jg(e.stateNode,e.type,t))}}function Zb(e){xu?yu?yu.push(e):yu=[e]:xu=e}function Qb(){if(xu){var e=xu,t=yu;if(yu=xu=null,Ry(e),t)for(e=0;e<t.length;e++)Ry(t[e])}}function Jb(e,t){return e(t)}function e3(){}var mp=!1;function t3(e,t,n){if(mp)return e(t,n);mp=!0;try{return Jb(e,t,n)}finally{mp=!1,(xu!==null||yu!==null)&&(e3(),Qb())}}function Qd(e,t){var n=e.stateNode;if(n===null)return null;var r=c1(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(ct(231,t,typeof n));return n}var Rg=!1;if(po)try{var od={};Object.defineProperty(od,"passive",{get:function(){Rg=!0}}),window.addEventListener("test",od,od),window.removeEventListener("test",od,od)}catch{Rg=!1}function O8(e,t,n,r,i,s,o,u,d){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(m){this.onError(m)}}var kd=!1,h0=null,f0=!1,Mg=null,D8={onError:function(e){kd=!0,h0=e}};function j8(e,t,n,r,i,s,o,u,d){kd=!1,h0=null,O8.apply(D8,arguments)}function R8(e,t,n,r,i,s,o,u,d){if(j8.apply(this,arguments),kd){if(kd){var f=h0;kd=!1,h0=null}else throw Error(ct(198));f0||(f0=!0,Mg=f)}}function Sc(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function n3(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function My(e){if(Sc(e)!==e)throw Error(ct(188))}function M8(e){var t=e.alternate;if(!t){if(t=Sc(e),t===null)throw Error(ct(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return My(i),e;if(s===r)return My(i),t;s=s.sibling}throw Error(ct(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,u=i.child;u;){if(u===n){o=!0,n=i,r=s;break}if(u===r){o=!0,r=i,n=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===n){o=!0,n=s,r=i;break}if(u===r){o=!0,r=s,n=i;break}u=u.sibling}if(!o)throw Error(ct(189))}}if(n.alternate!==r)throw Error(ct(190))}if(n.tag!==3)throw Error(ct(188));return n.stateNode.current===n?e:t}function r3(e){return e=M8(e),e!==null?i3(e):null}function i3(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=i3(e);if(t!==null)return t;e=e.sibling}return null}var s3=Cs.unstable_scheduleCallback,By=Cs.unstable_cancelCallback,B8=Cs.unstable_shouldYield,F8=Cs.unstable_requestPaint,_r=Cs.unstable_now,U8=Cs.unstable_getCurrentPriorityLevel,N2=Cs.unstable_ImmediatePriority,a3=Cs.unstable_UserBlockingPriority,p0=Cs.unstable_NormalPriority,V8=Cs.unstable_LowPriority,o3=Cs.unstable_IdlePriority,s1=null,Ra=null;function z8(e){if(Ra&&typeof Ra.onCommitFiberRoot=="function")try{Ra.onCommitFiberRoot(s1,e,void 0,(e.current.flags&128)===128)}catch{}}var pa=Math.clz32?Math.clz32:W8,H8=Math.log,q8=Math.LN2;function W8(e){return e>>>=0,e===0?32:31-(H8(e)/q8|0)|0}var pf=64,gf=4194304;function Cd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function g0(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var u=o&~i;u!==0?r=Cd(u):(s&=o,s!==0&&(r=Cd(s)))}else o=n&~i,o!==0?r=Cd(o):s!==0&&(r=Cd(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-pa(t),i=1<<n,r|=e[n],t&=~i;return r}function $8(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G8(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-pa(s),u=1<<o,d=i[o];d===-1?(!(u&n)||u&r)&&(i[o]=$8(u,t)):d<=t&&(e.expiredLanes|=u),s&=~u}}function Bg(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function l3(){var e=pf;return pf<<=1,!(pf&4194240)&&(pf=64),e}function xp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Nh(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-pa(t),e[t]=n}function Y8(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-pa(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function C2(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pa(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var In=0;function c3(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var u3,E2,d3,h3,f3,Fg=!1,mf=[],sl=null,al=null,ol=null,Jd=new Map,eh=new Map,Xo=[],X8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fy(e,t){switch(e){case"focusin":case"focusout":sl=null;break;case"dragenter":case"dragleave":al=null;break;case"mouseover":case"mouseout":ol=null;break;case"pointerover":case"pointerout":Jd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":eh.delete(t.pointerId)}}function ld(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Eh(t),t!==null&&E2(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function K8(e,t,n,r,i){switch(t){case"focusin":return sl=ld(sl,e,t,n,r,i),!0;case"dragenter":return al=ld(al,e,t,n,r,i),!0;case"mouseover":return ol=ld(ol,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Jd.set(s,ld(Jd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,eh.set(s,ld(eh.get(s)||null,e,t,n,r,i)),!0}return!1}function p3(e){var t=sc(e.target);if(t!==null){var n=Sc(t);if(n!==null){if(t=n.tag,t===13){if(t=n3(n),t!==null){e.blockedOn=t,f3(e.priority,function(){d3(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $f(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ug(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Dg=r,n.target.dispatchEvent(r),Dg=null}else return t=Eh(n),t!==null&&E2(t),e.blockedOn=n,!1;t.shift()}return!0}function Uy(e,t,n){$f(e)&&n.delete(t)}function Z8(){Fg=!1,sl!==null&&$f(sl)&&(sl=null),al!==null&&$f(al)&&(al=null),ol!==null&&$f(ol)&&(ol=null),Jd.forEach(Uy),eh.forEach(Uy)}function cd(e,t){e.blockedOn===t&&(e.blockedOn=null,Fg||(Fg=!0,Cs.unstable_scheduleCallback(Cs.unstable_NormalPriority,Z8)))}function th(e){function t(i){return cd(i,e)}if(0<mf.length){cd(mf[0],e);for(var n=1;n<mf.length;n++){var r=mf[n];r.blockedOn===e&&(r.blockedOn=null)}}for(sl!==null&&cd(sl,e),al!==null&&cd(al,e),ol!==null&&cd(ol,e),Jd.forEach(t),eh.forEach(t),n=0;n<Xo.length;n++)r=Xo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Xo.length&&(n=Xo[0],n.blockedOn===null);)p3(n),n.blockedOn===null&&Xo.shift()}var vu=wo.ReactCurrentBatchConfig,m0=!0;function Q8(e,t,n,r){var i=In,s=vu.transition;vu.transition=null;try{In=1,_2(e,t,n,r)}finally{In=i,vu.transition=s}}function J8(e,t,n,r){var i=In,s=vu.transition;vu.transition=null;try{In=4,_2(e,t,n,r)}finally{In=i,vu.transition=s}}function _2(e,t,n,r){if(m0){var i=Ug(e,t,n,r);if(i===null)_p(e,t,r,x0,n),Fy(e,r);else if(K8(i,e,t,n,r))r.stopPropagation();else if(Fy(e,r),t&4&&-1<X8.indexOf(e)){for(;i!==null;){var s=Eh(i);if(s!==null&&u3(s),s=Ug(e,t,n,r),s===null&&_p(e,t,r,x0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _p(e,t,r,null,n)}}var x0=null;function Ug(e,t,n,r){if(x0=null,e=S2(r),e=sc(e),e!==null)if(t=Sc(e),t===null)e=null;else if(n=t.tag,n===13){if(e=n3(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return x0=e,null}function g3(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(U8()){case N2:return 1;case a3:return 4;case p0:case V8:return 16;case o3:return 536870912;default:return 16}default:return 16}}var el=null,T2=null,Gf=null;function m3(){if(Gf)return Gf;var e,t=T2,n=t.length,r,i="value"in el?el.value:el.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Gf=i.slice(e,1<r?1-r:void 0)}function Yf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function xf(){return!0}function Vy(){return!1}function Ts(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xf:Vy,this.isPropagationStopped=Vy,this}return fr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xf)},persist:function(){},isPersistent:xf}),t}var qu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I2=Ts(qu),Ch=fr({},qu,{view:0,detail:0}),eC=Ts(Ch),yp,vp,ud,a1=fr({},Ch,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:k2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ud&&(ud&&e.type==="mousemove"?(yp=e.screenX-ud.screenX,vp=e.screenY-ud.screenY):vp=yp=0,ud=e),yp)},movementY:function(e){return"movementY"in e?e.movementY:vp}}),zy=Ts(a1),tC=fr({},a1,{dataTransfer:0}),nC=Ts(tC),rC=fr({},Ch,{relatedTarget:0}),wp=Ts(rC),iC=fr({},qu,{animationName:0,elapsedTime:0,pseudoElement:0}),sC=Ts(iC),aC=fr({},qu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),oC=Ts(aC),lC=fr({},qu,{data:0}),Hy=Ts(lC),cC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dC[e])?!!t[e]:!1}function k2(){return hC}var fC=fr({},Ch,{key:function(e){if(e.key){var t=cC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Yf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:k2,charCode:function(e){return e.type==="keypress"?Yf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pC=Ts(fC),gC=fr({},a1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qy=Ts(gC),mC=fr({},Ch,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:k2}),xC=Ts(mC),yC=fr({},qu,{propertyName:0,elapsedTime:0,pseudoElement:0}),vC=Ts(yC),wC=fr({},a1,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bC=Ts(wC),AC=[9,13,27,32],L2=po&&"CompositionEvent"in window,Ld=null;po&&"documentMode"in document&&(Ld=document.documentMode);var SC=po&&"TextEvent"in window&&!Ld,x3=po&&(!L2||Ld&&8<Ld&&11>=Ld),Wy=" ",$y=!1;function y3(e,t){switch(e){case"keyup":return AC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v3(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var eu=!1;function NC(e,t){switch(e){case"compositionend":return v3(t);case"keypress":return t.which!==32?null:($y=!0,Wy);case"textInput":return e=t.data,e===Wy&&$y?null:e;default:return null}}function CC(e,t){if(eu)return e==="compositionend"||!L2&&y3(e,t)?(e=m3(),Gf=T2=el=null,eu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return x3&&t.locale!=="ko"?null:t.data;default:return null}}var EC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!EC[e.type]:t==="textarea"}function w3(e,t,n,r){Zb(r),t=y0(t,"onChange"),0<t.length&&(n=new I2("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Pd=null,nh=null;function _C(e){L3(e,0)}function o1(e){var t=ru(e);if(qb(t))return e}function TC(e,t){if(e==="change")return t}var b3=!1;if(po){var bp;if(po){var Ap="oninput"in document;if(!Ap){var Yy=document.createElement("div");Yy.setAttribute("oninput","return;"),Ap=typeof Yy.oninput=="function"}bp=Ap}else bp=!1;b3=bp&&(!document.documentMode||9<document.documentMode)}function Xy(){Pd&&(Pd.detachEvent("onpropertychange",A3),nh=Pd=null)}function A3(e){if(e.propertyName==="value"&&o1(nh)){var t=[];w3(t,nh,e,S2(e)),t3(_C,t)}}function IC(e,t,n){e==="focusin"?(Xy(),Pd=t,nh=n,Pd.attachEvent("onpropertychange",A3)):e==="focusout"&&Xy()}function kC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return o1(nh)}function LC(e,t){if(e==="click")return o1(t)}function PC(e,t){if(e==="input"||e==="change")return o1(t)}function OC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ma=typeof Object.is=="function"?Object.is:OC;function rh(e,t){if(ma(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ag.call(t,i)||!ma(e[i],t[i]))return!1}return!0}function Ky(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Zy(e,t){var n=Ky(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ky(n)}}function S3(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?S3(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function N3(){for(var e=window,t=d0();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=d0(e.document)}return t}function P2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function DC(e){var t=N3(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&S3(n.ownerDocument.documentElement,n)){if(r!==null&&P2(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Zy(n,s);var o=Zy(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jC=po&&"documentMode"in document&&11>=document.documentMode,tu=null,Vg=null,Od=null,zg=!1;function Qy(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zg||tu==null||tu!==d0(r)||(r=tu,"selectionStart"in r&&P2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Od&&rh(Od,r)||(Od=r,r=y0(Vg,"onSelect"),0<r.length&&(t=new I2("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=tu)))}function yf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var nu={animationend:yf("Animation","AnimationEnd"),animationiteration:yf("Animation","AnimationIteration"),animationstart:yf("Animation","AnimationStart"),transitionend:yf("Transition","TransitionEnd")},Sp={},C3={};po&&(C3=document.createElement("div").style,"AnimationEvent"in window||(delete nu.animationend.animation,delete nu.animationiteration.animation,delete nu.animationstart.animation),"TransitionEvent"in window||delete nu.transitionend.transition);function l1(e){if(Sp[e])return Sp[e];if(!nu[e])return e;var t=nu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in C3)return Sp[e]=t[n];return e}var E3=l1("animationend"),_3=l1("animationiteration"),T3=l1("animationstart"),I3=l1("transitionend"),k3=new Map,Jy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Al(e,t){k3.set(e,t),Ac(t,[e])}for(var Np=0;Np<Jy.length;Np++){var Cp=Jy[Np],RC=Cp.toLowerCase(),MC=Cp[0].toUpperCase()+Cp.slice(1);Al(RC,"on"+MC)}Al(E3,"onAnimationEnd");Al(_3,"onAnimationIteration");Al(T3,"onAnimationStart");Al("dblclick","onDoubleClick");Al("focusin","onFocus");Al("focusout","onBlur");Al(I3,"onTransitionEnd");Eu("onMouseEnter",["mouseout","mouseover"]);Eu("onMouseLeave",["mouseout","mouseover"]);Eu("onPointerEnter",["pointerout","pointerover"]);Eu("onPointerLeave",["pointerout","pointerover"]);Ac("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ac("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ac("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ac("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ac("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ac("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ed="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ed));function ev(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,R8(r,t,void 0,e),e.currentTarget=null}function L3(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==s&&i.isPropagationStopped())break e;ev(i,u,f),s=d}else for(o=0;o<r.length;o++){if(u=r[o],d=u.instance,f=u.currentTarget,u=u.listener,d!==s&&i.isPropagationStopped())break e;ev(i,u,f),s=d}}}if(f0)throw e=Mg,f0=!1,Mg=null,e}function Yn(e,t){var n=t[Gg];n===void 0&&(n=t[Gg]=new Set);var r=e+"__bubble";n.has(r)||(P3(t,e,2,!1),n.add(r))}function Ep(e,t,n){var r=0;t&&(r|=4),P3(n,e,r,t)}var vf="_reactListening"+Math.random().toString(36).slice(2);function ih(e){if(!e[vf]){e[vf]=!0,Fb.forEach(function(n){n!=="selectionchange"&&(BC.has(n)||Ep(n,!1,e),Ep(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vf]||(t[vf]=!0,Ep("selectionchange",!1,t))}}function P3(e,t,n,r){switch(g3(t)){case 1:var i=Q8;break;case 4:i=J8;break;default:i=_2}n=i.bind(null,t,n,e),i=void 0,!Rg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function _p(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var u=r.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var d=o.tag;if((d===3||d===4)&&(d=o.stateNode.containerInfo,d===i||d.nodeType===8&&d.parentNode===i))return;o=o.return}for(;u!==null;){if(o=sc(u),o===null)return;if(d=o.tag,d===5||d===6){r=s=o;continue e}u=u.parentNode}}r=r.return}t3(function(){var f=s,m=S2(n),x=[];e:{var A=k3.get(e);if(A!==void 0){var b=I2,P=e;switch(e){case"keypress":if(Yf(n)===0)break e;case"keydown":case"keyup":b=pC;break;case"focusin":P="focus",b=wp;break;case"focusout":P="blur",b=wp;break;case"beforeblur":case"afterblur":b=wp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=zy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=nC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=xC;break;case E3:case _3:case T3:b=sC;break;case I3:b=vC;break;case"scroll":b=eC;break;case"wheel":b=bC;break;case"copy":case"cut":case"paste":b=oC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=qy}var I=(t&4)!==0,O=!I&&e==="scroll",E=I?A!==null?A+"Capture":null:A;I=[];for(var _=f,L;_!==null;){L=_;var R=L.stateNode;if(L.tag===5&&R!==null&&(L=R,E!==null&&(R=Qd(_,E),R!=null&&I.push(sh(_,R,L)))),O)break;_=_.return}0<I.length&&(A=new b(A,P,null,n,m),x.push({event:A,listeners:I}))}}if(!(t&7)){e:{if(A=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",A&&n!==Dg&&(P=n.relatedTarget||n.fromElement)&&(sc(P)||P[go]))break e;if((b||A)&&(A=m.window===m?m:(A=m.ownerDocument)?A.defaultView||A.parentWindow:window,b?(P=n.relatedTarget||n.toElement,b=f,P=P?sc(P):null,P!==null&&(O=Sc(P),P!==O||P.tag!==5&&P.tag!==6)&&(P=null)):(b=null,P=f),b!==P)){if(I=zy,R="onMouseLeave",E="onMouseEnter",_="mouse",(e==="pointerout"||e==="pointerover")&&(I=qy,R="onPointerLeave",E="onPointerEnter",_="pointer"),O=b==null?A:ru(b),L=P==null?A:ru(P),A=new I(R,_+"leave",b,n,m),A.target=O,A.relatedTarget=L,R=null,sc(m)===f&&(I=new I(E,_+"enter",P,n,m),I.target=L,I.relatedTarget=O,R=I),O=R,b&&P)t:{for(I=b,E=P,_=0,L=I;L;L=Bc(L))_++;for(L=0,R=E;R;R=Bc(R))L++;for(;0<_-L;)I=Bc(I),_--;for(;0<L-_;)E=Bc(E),L--;for(;_--;){if(I===E||E!==null&&I===E.alternate)break t;I=Bc(I),E=Bc(E)}I=null}else I=null;b!==null&&tv(x,A,b,I,!1),P!==null&&O!==null&&tv(x,O,P,I,!0)}}e:{if(A=f?ru(f):window,b=A.nodeName&&A.nodeName.toLowerCase(),b==="select"||b==="input"&&A.type==="file")var V=TC;else if(Gy(A))if(b3)V=PC;else{V=kC;var ie=IC}else(b=A.nodeName)&&b.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(V=LC);if(V&&(V=V(e,f))){w3(x,V,n,m);break e}ie&&ie(e,A,f),e==="focusout"&&(ie=A._wrapperState)&&ie.controlled&&A.type==="number"&&Ig(A,"number",A.value)}switch(ie=f?ru(f):window,e){case"focusin":(Gy(ie)||ie.contentEditable==="true")&&(tu=ie,Vg=f,Od=null);break;case"focusout":Od=Vg=tu=null;break;case"mousedown":zg=!0;break;case"contextmenu":case"mouseup":case"dragend":zg=!1,Qy(x,n,m);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":Qy(x,n,m)}var q;if(L2)e:{switch(e){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else eu?y3(e,n)&&(K="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(K="onCompositionStart");K&&(x3&&n.locale!=="ko"&&(eu||K!=="onCompositionStart"?K==="onCompositionEnd"&&eu&&(q=m3()):(el=m,T2="value"in el?el.value:el.textContent,eu=!0)),ie=y0(f,K),0<ie.length&&(K=new Hy(K,e,null,n,m),x.push({event:K,listeners:ie}),q?K.data=q:(q=v3(n),q!==null&&(K.data=q)))),(q=SC?NC(e,n):CC(e,n))&&(f=y0(f,"onBeforeInput"),0<f.length&&(m=new Hy("onBeforeInput","beforeinput",null,n,m),x.push({event:m,listeners:f}),m.data=q))}L3(x,t)})}function sh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function y0(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Qd(e,n),s!=null&&r.unshift(sh(e,s,i)),s=Qd(e,t),s!=null&&r.push(sh(e,s,i))),e=e.return}return r}function Bc(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tv(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&f!==null&&(u=f,i?(d=Qd(n,s),d!=null&&o.unshift(sh(n,d,u))):i||(d=Qd(n,s),d!=null&&o.push(sh(n,d,u)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var FC=/\r\n?/g,UC=/\u0000|\uFFFD/g;function nv(e){return(typeof e=="string"?e:""+e).replace(FC,`
`).replace(UC,"")}function wf(e,t,n){if(t=nv(t),nv(e)!==t&&n)throw Error(ct(425))}function v0(){}var Hg=null,qg=null;function Wg(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $g=typeof setTimeout=="function"?setTimeout:void 0,VC=typeof clearTimeout=="function"?clearTimeout:void 0,rv=typeof Promise=="function"?Promise:void 0,zC=typeof queueMicrotask=="function"?queueMicrotask:typeof rv<"u"?function(e){return rv.resolve(null).then(e).catch(HC)}:$g;function HC(e){setTimeout(function(){throw e})}function Tp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),th(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);th(t)}function ll(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function iv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Wu=Math.random().toString(36).slice(2),Pa="__reactFiber$"+Wu,ah="__reactProps$"+Wu,go="__reactContainer$"+Wu,Gg="__reactEvents$"+Wu,qC="__reactListeners$"+Wu,WC="__reactHandles$"+Wu;function sc(e){var t=e[Pa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[go]||n[Pa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=iv(e);e!==null;){if(n=e[Pa])return n;e=iv(e)}return t}e=n,n=e.parentNode}return null}function Eh(e){return e=e[Pa]||e[go],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ru(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(ct(33))}function c1(e){return e[ah]||null}var Yg=[],iu=-1;function Sl(e){return{current:e}}function Zn(e){0>iu||(e.current=Yg[iu],Yg[iu]=null,iu--)}function Vn(e,t){iu++,Yg[iu]=e.current,e.current=t}var gl={},Di=Sl(gl),is=Sl(!1),mc=gl;function _u(e,t){var n=e.type.contextTypes;if(!n)return gl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ss(e){return e=e.childContextTypes,e!=null}function w0(){Zn(is),Zn(Di)}function sv(e,t,n){if(Di.current!==gl)throw Error(ct(168));Vn(Di,t),Vn(is,n)}function O3(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(ct(108,I8(e)||"Unknown",i));return fr({},n,r)}function b0(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||gl,mc=Di.current,Vn(Di,e),Vn(is,is.current),!0}function av(e,t,n){var r=e.stateNode;if(!r)throw Error(ct(169));n?(e=O3(e,t,mc),r.__reactInternalMemoizedMergedChildContext=e,Zn(is),Zn(Di),Vn(Di,e)):Zn(is),Vn(is,n)}var io=null,u1=!1,Ip=!1;function D3(e){io===null?io=[e]:io.push(e)}function $C(e){u1=!0,D3(e)}function Nl(){if(!Ip&&io!==null){Ip=!0;var e=0,t=In;try{var n=io;for(In=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}io=null,u1=!1}catch(i){throw io!==null&&(io=io.slice(e+1)),s3(N2,Nl),i}finally{In=t,Ip=!1}}return null}var su=[],au=0,A0=null,S0=0,zs=[],Hs=0,xc=null,so=1,ao="";function Kl(e,t){su[au++]=S0,su[au++]=A0,A0=e,S0=t}function j3(e,t,n){zs[Hs++]=so,zs[Hs++]=ao,zs[Hs++]=xc,xc=e;var r=so;e=ao;var i=32-pa(r)-1;r&=~(1<<i),n+=1;var s=32-pa(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,so=1<<32-pa(t)+i|n<<i|r,ao=s+e}else so=1<<s|n<<i|r,ao=e}function O2(e){e.return!==null&&(Kl(e,1),j3(e,1,0))}function D2(e){for(;e===A0;)A0=su[--au],su[au]=null,S0=su[--au],su[au]=null;for(;e===xc;)xc=zs[--Hs],zs[Hs]=null,ao=zs[--Hs],zs[Hs]=null,so=zs[--Hs],zs[Hs]=null}var Ns=null,bs=null,ir=!1,da=null;function R3(e,t){var n=Ws(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ov(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ns=e,bs=ll(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ns=e,bs=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=xc!==null?{id:so,overflow:ao}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ws(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ns=e,bs=null,!0):!1;default:return!1}}function Xg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Kg(e){if(ir){var t=bs;if(t){var n=t;if(!ov(e,t)){if(Xg(e))throw Error(ct(418));t=ll(n.nextSibling);var r=Ns;t&&ov(e,t)?R3(r,n):(e.flags=e.flags&-4097|2,ir=!1,Ns=e)}}else{if(Xg(e))throw Error(ct(418));e.flags=e.flags&-4097|2,ir=!1,Ns=e}}}function lv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ns=e}function bf(e){if(e!==Ns)return!1;if(!ir)return lv(e),ir=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wg(e.type,e.memoizedProps)),t&&(t=bs)){if(Xg(e))throw M3(),Error(ct(418));for(;t;)R3(e,t),t=ll(t.nextSibling)}if(lv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(ct(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){bs=ll(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}bs=null}}else bs=Ns?ll(e.stateNode.nextSibling):null;return!0}function M3(){for(var e=bs;e;)e=ll(e.nextSibling)}function Tu(){bs=Ns=null,ir=!1}function j2(e){da===null?da=[e]:da.push(e)}var GC=wo.ReactCurrentBatchConfig;function dd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ct(309));var r=n.stateNode}if(!r)throw Error(ct(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var u=i.refs;o===null?delete u[s]:u[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(ct(284));if(!n._owner)throw Error(ct(290,e))}return e}function Af(e,t){throw e=Object.prototype.toString.call(t),Error(ct(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cv(e){var t=e._init;return t(e._payload)}function B3(e){function t(E,_){if(e){var L=E.deletions;L===null?(E.deletions=[_],E.flags|=16):L.push(_)}}function n(E,_){if(!e)return null;for(;_!==null;)t(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function i(E,_){return E=hl(E,_),E.index=0,E.sibling=null,E}function s(E,_,L){return E.index=L,e?(L=E.alternate,L!==null?(L=L.index,L<_?(E.flags|=2,_):L):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return e&&E.alternate===null&&(E.flags|=2),E}function u(E,_,L,R){return _===null||_.tag!==6?(_=Rp(L,E.mode,R),_.return=E,_):(_=i(_,L),_.return=E,_)}function d(E,_,L,R){var V=L.type;return V===Jc?m(E,_,L.props.children,R,L.key):_!==null&&(_.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===$o&&cv(V)===_.type)?(R=i(_,L.props),R.ref=dd(E,_,L),R.return=E,R):(R=t0(L.type,L.key,L.props,null,E.mode,R),R.ref=dd(E,_,L),R.return=E,R)}function f(E,_,L,R){return _===null||_.tag!==4||_.stateNode.containerInfo!==L.containerInfo||_.stateNode.implementation!==L.implementation?(_=Mp(L,E.mode,R),_.return=E,_):(_=i(_,L.children||[]),_.return=E,_)}function m(E,_,L,R,V){return _===null||_.tag!==7?(_=hc(L,E.mode,R,V),_.return=E,_):(_=i(_,L),_.return=E,_)}function x(E,_,L){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Rp(""+_,E.mode,L),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case df:return L=t0(_.type,_.key,_.props,null,E.mode,L),L.ref=dd(E,null,_),L.return=E,L;case Qc:return _=Mp(_,E.mode,L),_.return=E,_;case $o:var R=_._init;return x(E,R(_._payload),L)}if(Nd(_)||ad(_))return _=hc(_,E.mode,L,null),_.return=E,_;Af(E,_)}return null}function A(E,_,L,R){var V=_!==null?_.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return V!==null?null:u(E,_,""+L,R);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case df:return L.key===V?d(E,_,L,R):null;case Qc:return L.key===V?f(E,_,L,R):null;case $o:return V=L._init,A(E,_,V(L._payload),R)}if(Nd(L)||ad(L))return V!==null?null:m(E,_,L,R,null);Af(E,L)}return null}function b(E,_,L,R,V){if(typeof R=="string"&&R!==""||typeof R=="number")return E=E.get(L)||null,u(_,E,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case df:return E=E.get(R.key===null?L:R.key)||null,d(_,E,R,V);case Qc:return E=E.get(R.key===null?L:R.key)||null,f(_,E,R,V);case $o:var ie=R._init;return b(E,_,L,ie(R._payload),V)}if(Nd(R)||ad(R))return E=E.get(L)||null,m(_,E,R,V,null);Af(_,R)}return null}function P(E,_,L,R){for(var V=null,ie=null,q=_,K=_=0,$=null;q!==null&&K<L.length;K++){q.index>K?($=q,q=null):$=q.sibling;var ge=A(E,q,L[K],R);if(ge===null){q===null&&(q=$);break}e&&q&&ge.alternate===null&&t(E,q),_=s(ge,_,K),ie===null?V=ge:ie.sibling=ge,ie=ge,q=$}if(K===L.length)return n(E,q),ir&&Kl(E,K),V;if(q===null){for(;K<L.length;K++)q=x(E,L[K],R),q!==null&&(_=s(q,_,K),ie===null?V=q:ie.sibling=q,ie=q);return ir&&Kl(E,K),V}for(q=r(E,q);K<L.length;K++)$=b(q,E,K,L[K],R),$!==null&&(e&&$.alternate!==null&&q.delete($.key===null?K:$.key),_=s($,_,K),ie===null?V=$:ie.sibling=$,ie=$);return e&&q.forEach(function(W){return t(E,W)}),ir&&Kl(E,K),V}function I(E,_,L,R){var V=ad(L);if(typeof V!="function")throw Error(ct(150));if(L=V.call(L),L==null)throw Error(ct(151));for(var ie=V=null,q=_,K=_=0,$=null,ge=L.next();q!==null&&!ge.done;K++,ge=L.next()){q.index>K?($=q,q=null):$=q.sibling;var W=A(E,q,ge.value,R);if(W===null){q===null&&(q=$);break}e&&q&&W.alternate===null&&t(E,q),_=s(W,_,K),ie===null?V=W:ie.sibling=W,ie=W,q=$}if(ge.done)return n(E,q),ir&&Kl(E,K),V;if(q===null){for(;!ge.done;K++,ge=L.next())ge=x(E,ge.value,R),ge!==null&&(_=s(ge,_,K),ie===null?V=ge:ie.sibling=ge,ie=ge);return ir&&Kl(E,K),V}for(q=r(E,q);!ge.done;K++,ge=L.next())ge=b(q,E,K,ge.value,R),ge!==null&&(e&&ge.alternate!==null&&q.delete(ge.key===null?K:ge.key),_=s(ge,_,K),ie===null?V=ge:ie.sibling=ge,ie=ge);return e&&q.forEach(function(B){return t(E,B)}),ir&&Kl(E,K),V}function O(E,_,L,R){if(typeof L=="object"&&L!==null&&L.type===Jc&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case df:e:{for(var V=L.key,ie=_;ie!==null;){if(ie.key===V){if(V=L.type,V===Jc){if(ie.tag===7){n(E,ie.sibling),_=i(ie,L.props.children),_.return=E,E=_;break e}}else if(ie.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===$o&&cv(V)===ie.type){n(E,ie.sibling),_=i(ie,L.props),_.ref=dd(E,ie,L),_.return=E,E=_;break e}n(E,ie);break}else t(E,ie);ie=ie.sibling}L.type===Jc?(_=hc(L.props.children,E.mode,R,L.key),_.return=E,E=_):(R=t0(L.type,L.key,L.props,null,E.mode,R),R.ref=dd(E,_,L),R.return=E,E=R)}return o(E);case Qc:e:{for(ie=L.key;_!==null;){if(_.key===ie)if(_.tag===4&&_.stateNode.containerInfo===L.containerInfo&&_.stateNode.implementation===L.implementation){n(E,_.sibling),_=i(_,L.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else t(E,_);_=_.sibling}_=Mp(L,E.mode,R),_.return=E,E=_}return o(E);case $o:return ie=L._init,O(E,_,ie(L._payload),R)}if(Nd(L))return P(E,_,L,R);if(ad(L))return I(E,_,L,R);Af(E,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,_!==null&&_.tag===6?(n(E,_.sibling),_=i(_,L),_.return=E,E=_):(n(E,_),_=Rp(L,E.mode,R),_.return=E,E=_),o(E)):n(E,_)}return O}var Iu=B3(!0),F3=B3(!1),N0=Sl(null),C0=null,ou=null,R2=null;function M2(){R2=ou=C0=null}function B2(e){var t=N0.current;Zn(N0),e._currentValue=t}function Zg(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wu(e,t){C0=e,R2=ou=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(rs=!0),e.firstContext=null)}function Gs(e){var t=e._currentValue;if(R2!==e)if(e={context:e,memoizedValue:t,next:null},ou===null){if(C0===null)throw Error(ct(308));ou=e,C0.dependencies={lanes:0,firstContext:e}}else ou=ou.next=e;return t}var ac=null;function F2(e){ac===null?ac=[e]:ac.push(e)}function U3(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,F2(t)):(n.next=i.next,i.next=n),t.interleaved=n,mo(e,r)}function mo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Go=!1;function U2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V3(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function co(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function cl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,yn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,mo(e,n)}return i=r.interleaved,i===null?(t.next=t,F2(r)):(t.next=i.next,i.next=t),r.interleaved=t,mo(e,n)}function Xf(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,C2(e,n)}}function uv(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function E0(e,t,n,r){var i=e.updateQueue;Go=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var d=u,f=d.next;d.next=null,o===null?s=f:o.next=f,o=d;var m=e.alternate;m!==null&&(m=m.updateQueue,u=m.lastBaseUpdate,u!==o&&(u===null?m.firstBaseUpdate=f:u.next=f,m.lastBaseUpdate=d))}if(s!==null){var x=i.baseState;o=0,m=f=d=null,u=s;do{var A=u.lane,b=u.eventTime;if((r&A)===A){m!==null&&(m=m.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var P=e,I=u;switch(A=t,b=n,I.tag){case 1:if(P=I.payload,typeof P=="function"){x=P.call(b,x,A);break e}x=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=I.payload,A=typeof P=="function"?P.call(b,x,A):P,A==null)break e;x=fr({},x,A);break e;case 2:Go=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,A=i.effects,A===null?i.effects=[u]:A.push(u))}else b={eventTime:b,lane:A,tag:u.tag,payload:u.payload,callback:u.callback,next:null},m===null?(f=m=b,d=x):m=m.next=b,o|=A;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;A=u,u=A.next,A.next=null,i.lastBaseUpdate=A,i.shared.pending=null}}while(!0);if(m===null&&(d=x),i.baseState=d,i.firstBaseUpdate=f,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);vc|=o,e.lanes=o,e.memoizedState=x}}function dv(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ct(191,i));i.call(r)}}}var _h={},Ma=Sl(_h),oh=Sl(_h),lh=Sl(_h);function oc(e){if(e===_h)throw Error(ct(174));return e}function V2(e,t){switch(Vn(lh,t),Vn(oh,e),Vn(Ma,_h),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lg(t,e)}Zn(Ma),Vn(Ma,t)}function ku(){Zn(Ma),Zn(oh),Zn(lh)}function z3(e){oc(lh.current);var t=oc(Ma.current),n=Lg(t,e.type);t!==n&&(Vn(oh,e),Vn(Ma,n))}function z2(e){oh.current===e&&(Zn(Ma),Zn(oh))}var ur=Sl(0);function _0(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var kp=[];function H2(){for(var e=0;e<kp.length;e++)kp[e]._workInProgressVersionPrimary=null;kp.length=0}var Kf=wo.ReactCurrentDispatcher,Lp=wo.ReactCurrentBatchConfig,yc=0,hr=null,Kr=null,ai=null,T0=!1,Dd=!1,ch=0,YC=0;function Ci(){throw Error(ct(321))}function q2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ma(e[n],t[n]))return!1;return!0}function W2(e,t,n,r,i,s){if(yc=s,hr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kf.current=e===null||e.memoizedState===null?QC:JC,e=n(r,i),Dd){s=0;do{if(Dd=!1,ch=0,25<=s)throw Error(ct(301));s+=1,ai=Kr=null,t.updateQueue=null,Kf.current=eE,e=n(r,i)}while(Dd)}if(Kf.current=I0,t=Kr!==null&&Kr.next!==null,yc=0,ai=Kr=hr=null,T0=!1,t)throw Error(ct(300));return e}function $2(){var e=ch!==0;return ch=0,e}function Ta(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ai===null?hr.memoizedState=ai=e:ai=ai.next=e,ai}function Ys(){if(Kr===null){var e=hr.alternate;e=e!==null?e.memoizedState:null}else e=Kr.next;var t=ai===null?hr.memoizedState:ai.next;if(t!==null)ai=t,Kr=e;else{if(e===null)throw Error(ct(310));Kr=e,e={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},ai===null?hr.memoizedState=ai=e:ai=ai.next=e}return ai}function uh(e,t){return typeof t=="function"?t(e):t}function Pp(e){var t=Ys(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var r=Kr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var u=o=null,d=null,f=s;do{var m=f.lane;if((yc&m)===m)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var x={lane:m,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=x,o=r):d=d.next=x,hr.lanes|=m,vc|=m}f=f.next}while(f!==null&&f!==s);d===null?o=r:d.next=u,ma(r,t.memoizedState)||(rs=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=d,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,hr.lanes|=s,vc|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Op(e){var t=Ys(),n=t.queue;if(n===null)throw Error(ct(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);ma(s,t.memoizedState)||(rs=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function H3(){}function q3(e,t){var n=hr,r=Ys(),i=t(),s=!ma(r.memoizedState,i);if(s&&(r.memoizedState=i,rs=!0),r=r.queue,G2(G3.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ai!==null&&ai.memoizedState.tag&1){if(n.flags|=2048,dh(9,$3.bind(null,n,r,i,t),void 0,null),li===null)throw Error(ct(349));yc&30||W3(n,t,i)}return i}function W3(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function $3(e,t,n,r){t.value=n,t.getSnapshot=r,Y3(t)&&X3(e)}function G3(e,t,n){return n(function(){Y3(t)&&X3(e)})}function Y3(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ma(e,n)}catch{return!0}}function X3(e){var t=mo(e,1);t!==null&&ga(t,e,1,-1)}function hv(e){var t=Ta();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:uh,lastRenderedState:e},t.queue=e,e=e.dispatch=ZC.bind(null,hr,e),[t.memoizedState,e]}function dh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=hr.updateQueue,t===null?(t={lastEffect:null,stores:null},hr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function K3(){return Ys().memoizedState}function Zf(e,t,n,r){var i=Ta();hr.flags|=e,i.memoizedState=dh(1|t,n,void 0,r===void 0?null:r)}function d1(e,t,n,r){var i=Ys();r=r===void 0?null:r;var s=void 0;if(Kr!==null){var o=Kr.memoizedState;if(s=o.destroy,r!==null&&q2(r,o.deps)){i.memoizedState=dh(t,n,s,r);return}}hr.flags|=e,i.memoizedState=dh(1|t,n,s,r)}function fv(e,t){return Zf(8390656,8,e,t)}function G2(e,t){return d1(2048,8,e,t)}function Z3(e,t){return d1(4,2,e,t)}function Q3(e,t){return d1(4,4,e,t)}function J3(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function e4(e,t,n){return n=n!=null?n.concat([e]):null,d1(4,4,J3.bind(null,t,e),n)}function Y2(){}function t4(e,t){var n=Ys();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&q2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function n4(e,t){var n=Ys();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&q2(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function r4(e,t,n){return yc&21?(ma(n,t)||(n=l3(),hr.lanes|=n,vc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,rs=!0),e.memoizedState=n)}function XC(e,t){var n=In;In=n!==0&&4>n?n:4,e(!0);var r=Lp.transition;Lp.transition={};try{e(!1),t()}finally{In=n,Lp.transition=r}}function i4(){return Ys().memoizedState}function KC(e,t,n){var r=dl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s4(e))a4(t,n);else if(n=U3(e,t,n,r),n!==null){var i=Wi();ga(n,e,r,i),o4(n,t,r)}}function ZC(e,t,n){var r=dl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s4(e))a4(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,u=s(o,n);if(i.hasEagerState=!0,i.eagerState=u,ma(u,o)){var d=t.interleaved;d===null?(i.next=i,F2(t)):(i.next=d.next,d.next=i),t.interleaved=i;return}}catch{}finally{}n=U3(e,t,i,r),n!==null&&(i=Wi(),ga(n,e,r,i),o4(n,t,r))}}function s4(e){var t=e.alternate;return e===hr||t!==null&&t===hr}function a4(e,t){Dd=T0=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function o4(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,C2(e,n)}}var I0={readContext:Gs,useCallback:Ci,useContext:Ci,useEffect:Ci,useImperativeHandle:Ci,useInsertionEffect:Ci,useLayoutEffect:Ci,useMemo:Ci,useReducer:Ci,useRef:Ci,useState:Ci,useDebugValue:Ci,useDeferredValue:Ci,useTransition:Ci,useMutableSource:Ci,useSyncExternalStore:Ci,useId:Ci,unstable_isNewReconciler:!1},QC={readContext:Gs,useCallback:function(e,t){return Ta().memoizedState=[e,t===void 0?null:t],e},useContext:Gs,useEffect:fv,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zf(4194308,4,J3.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zf(4,2,e,t)},useMemo:function(e,t){var n=Ta();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ta();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=KC.bind(null,hr,e),[r.memoizedState,e]},useRef:function(e){var t=Ta();return e={current:e},t.memoizedState=e},useState:hv,useDebugValue:Y2,useDeferredValue:function(e){return Ta().memoizedState=e},useTransition:function(){var e=hv(!1),t=e[0];return e=XC.bind(null,e[1]),Ta().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=hr,i=Ta();if(ir){if(n===void 0)throw Error(ct(407));n=n()}else{if(n=t(),li===null)throw Error(ct(349));yc&30||W3(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,fv(G3.bind(null,r,s,e),[e]),r.flags|=2048,dh(9,$3.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Ta(),t=li.identifierPrefix;if(ir){var n=ao,r=so;n=(r&~(1<<32-pa(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ch++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=YC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},JC={readContext:Gs,useCallback:t4,useContext:Gs,useEffect:G2,useImperativeHandle:e4,useInsertionEffect:Z3,useLayoutEffect:Q3,useMemo:n4,useReducer:Pp,useRef:K3,useState:function(){return Pp(uh)},useDebugValue:Y2,useDeferredValue:function(e){var t=Ys();return r4(t,Kr.memoizedState,e)},useTransition:function(){var e=Pp(uh)[0],t=Ys().memoizedState;return[e,t]},useMutableSource:H3,useSyncExternalStore:q3,useId:i4,unstable_isNewReconciler:!1},eE={readContext:Gs,useCallback:t4,useContext:Gs,useEffect:G2,useImperativeHandle:e4,useInsertionEffect:Z3,useLayoutEffect:Q3,useMemo:n4,useReducer:Op,useRef:K3,useState:function(){return Op(uh)},useDebugValue:Y2,useDeferredValue:function(e){var t=Ys();return Kr===null?t.memoizedState=e:r4(t,Kr.memoizedState,e)},useTransition:function(){var e=Op(uh)[0],t=Ys().memoizedState;return[e,t]},useMutableSource:H3,useSyncExternalStore:q3,useId:i4,unstable_isNewReconciler:!1};function aa(e,t){if(e&&e.defaultProps){t=fr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Qg(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:fr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var h1={isMounted:function(e){return(e=e._reactInternals)?Sc(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Wi(),i=dl(e),s=co(r,i);s.payload=t,n!=null&&(s.callback=n),t=cl(e,s,i),t!==null&&(ga(t,e,i,r),Xf(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Wi(),i=dl(e),s=co(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=cl(e,s,i),t!==null&&(ga(t,e,i,r),Xf(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Wi(),r=dl(e),i=co(n,r);i.tag=2,t!=null&&(i.callback=t),t=cl(e,i,r),t!==null&&(ga(t,e,r,n),Xf(t,e,r))}};function pv(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!rh(n,r)||!rh(i,s):!0}function l4(e,t,n){var r=!1,i=gl,s=t.contextType;return typeof s=="object"&&s!==null?s=Gs(s):(i=ss(t)?mc:Di.current,r=t.contextTypes,s=(r=r!=null)?_u(e,i):gl),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=h1,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function gv(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&h1.enqueueReplaceState(t,t.state,null)}function Jg(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},U2(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Gs(s):(s=ss(t)?mc:Di.current,i.context=_u(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Qg(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&h1.enqueueReplaceState(i,i.state,null),E0(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Lu(e,t){try{var n="",r=t;do n+=T8(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Dp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function em(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var tE=typeof WeakMap=="function"?WeakMap:Map;function c4(e,t,n){n=co(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){L0||(L0=!0,um=r),em(e,t)},n}function u4(e,t,n){n=co(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){em(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){em(e,t),typeof r!="function"&&(ul===null?ul=new Set([this]):ul.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function mv(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new tE;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=gE.bind(null,e,t,n),t.then(e,e))}function xv(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yv(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=co(-1,1),t.tag=2,cl(n,t,1))),n.lanes|=1),e)}var nE=wo.ReactCurrentOwner,rs=!1;function Hi(e,t,n,r){t.child=e===null?F3(t,null,n,r):Iu(t,e.child,n,r)}function vv(e,t,n,r,i){n=n.render;var s=t.ref;return wu(t,i),r=W2(e,t,n,r,s,i),n=$2(),e!==null&&!rs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xo(e,t,i)):(ir&&n&&O2(t),t.flags|=1,Hi(e,t,r,i),t.child)}function wv(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!nx(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,d4(e,t,s,r,i)):(e=t0(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:rh,n(o,r)&&e.ref===t.ref)return xo(e,t,i)}return t.flags|=1,e=hl(s,r),e.ref=t.ref,e.return=t,t.child=e}function d4(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(rh(s,r)&&e.ref===t.ref)if(rs=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(rs=!0);else return t.lanes=e.lanes,xo(e,t,i)}return tm(e,t,n,r,i)}function h4(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vn(cu,vs),vs|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Vn(cu,vs),vs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Vn(cu,vs),vs|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Vn(cu,vs),vs|=r;return Hi(e,t,i,n),t.child}function f4(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tm(e,t,n,r,i){var s=ss(n)?mc:Di.current;return s=_u(t,s),wu(t,i),n=W2(e,t,n,r,s,i),r=$2(),e!==null&&!rs?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xo(e,t,i)):(ir&&r&&O2(t),t.flags|=1,Hi(e,t,n,i),t.child)}function bv(e,t,n,r,i){if(ss(n)){var s=!0;b0(t)}else s=!1;if(wu(t,i),t.stateNode===null)Qf(e,t),l4(t,n,r),Jg(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var d=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=Gs(f):(f=ss(n)?mc:Di.current,f=_u(t,f));var m=n.getDerivedStateFromProps,x=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";x||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==r||d!==f)&&gv(t,o,r,f),Go=!1;var A=t.memoizedState;o.state=A,E0(t,r,o,i),d=t.memoizedState,u!==r||A!==d||is.current||Go?(typeof m=="function"&&(Qg(t,n,m,r),d=t.memoizedState),(u=Go||pv(t,n,u,r,A,d,f))?(x||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=d),o.props=r,o.state=d,o.context=f,r=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,V3(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:aa(t.type,u),o.props=f,x=t.pendingProps,A=o.context,d=n.contextType,typeof d=="object"&&d!==null?d=Gs(d):(d=ss(n)?mc:Di.current,d=_u(t,d));var b=n.getDerivedStateFromProps;(m=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==x||A!==d)&&gv(t,o,r,d),Go=!1,A=t.memoizedState,o.state=A,E0(t,r,o,i);var P=t.memoizedState;u!==x||A!==P||is.current||Go?(typeof b=="function"&&(Qg(t,n,b,r),P=t.memoizedState),(f=Go||pv(t,n,f,r,A,P,d)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,P,d),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,P,d)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),o.props=r,o.state=P,o.context=d,r=f):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),r=!1)}return nm(e,t,n,r,s,i)}function nm(e,t,n,r,i,s){f4(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&av(t,n,!1),xo(e,t,s);r=t.stateNode,nE.current=t;var u=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Iu(t,e.child,null,s),t.child=Iu(t,null,u,s)):Hi(e,t,u,s),t.memoizedState=r.state,i&&av(t,n,!0),t.child}function p4(e){var t=e.stateNode;t.pendingContext?sv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&sv(e,t.context,!1),V2(e,t.containerInfo)}function Av(e,t,n,r,i){return Tu(),j2(i),t.flags|=256,Hi(e,t,n,r),t.child}var rm={dehydrated:null,treeContext:null,retryLane:0};function im(e){return{baseLanes:e,cachePool:null,transitions:null}}function g4(e,t,n){var r=t.pendingProps,i=ur.current,s=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Vn(ur,i&1),e===null)return Kg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=g1(o,r,0,null),e=hc(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=im(n),t.memoizedState=rm,e):X2(t,o));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return rE(e,t,o,r,u,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,u=i.sibling;var d={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=d,t.deletions=null):(r=hl(i,d),r.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=hl(u,s):(s=hc(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?im(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=rm,r}return s=e.child,e=s.sibling,r=hl(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function X2(e,t){return t=g1({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sf(e,t,n,r){return r!==null&&j2(r),Iu(t,e.child,null,n),e=X2(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function rE(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Dp(Error(ct(422))),Sf(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=g1({mode:"visible",children:r.children},i,0,null),s=hc(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Iu(t,e.child,null,o),t.child.memoizedState=im(o),t.memoizedState=rm,s);if(!(t.mode&1))return Sf(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(ct(419)),r=Dp(s,r,void 0),Sf(e,t,o,r)}if(u=(o&e.childLanes)!==0,rs||u){if(r=li,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,mo(e,i),ga(r,e,i,-1))}return tx(),r=Dp(Error(ct(421))),Sf(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=mE.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,bs=ll(i.nextSibling),Ns=t,ir=!0,da=null,e!==null&&(zs[Hs++]=so,zs[Hs++]=ao,zs[Hs++]=xc,so=e.id,ao=e.overflow,xc=t),t=X2(t,r.children),t.flags|=4096,t)}function Sv(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zg(e.return,t,n)}function jp(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function m4(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Hi(e,t,r.children,n),r=ur.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sv(e,n,t);else if(e.tag===19)Sv(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Vn(ur,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&_0(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),jp(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&_0(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}jp(t,!0,n,null,s);break;case"together":jp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),vc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(ct(153));if(t.child!==null){for(e=t.child,n=hl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function iE(e,t,n){switch(t.tag){case 3:p4(t),Tu();break;case 5:z3(t);break;case 1:ss(t.type)&&b0(t);break;case 4:V2(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Vn(N0,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Vn(ur,ur.current&1),t.flags|=128,null):n&t.child.childLanes?g4(e,t,n):(Vn(ur,ur.current&1),e=xo(e,t,n),e!==null?e.sibling:null);Vn(ur,ur.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return m4(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Vn(ur,ur.current),r)break;return null;case 22:case 23:return t.lanes=0,h4(e,t,n)}return xo(e,t,n)}var x4,sm,y4,v4;x4=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};sm=function(){};y4=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,oc(Ma.current);var s=null;switch(n){case"input":i=_g(e,i),r=_g(e,r),s=[];break;case"select":i=fr({},i,{value:void 0}),r=fr({},r,{value:void 0}),s=[];break;case"textarea":i=kg(e,i),r=kg(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=v0)}Pg(n,r);var o;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var u=i[f];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Kd.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var d=r[f];if(u=i!=null?i[f]:void 0,r.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(o in u)!u.hasOwnProperty(o)||d&&d.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in d)d.hasOwnProperty(o)&&u[o]!==d[o]&&(n||(n={}),n[o]=d[o])}else n||(s||(s=[]),s.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(s=s||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(s=s||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Kd.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&Yn("scroll",e),s||u===d||(s=[])):(s=s||[]).push(f,d))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};v4=function(e,t,n,r){n!==r&&(t.flags|=4)};function hd(e,t){if(!ir)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ei(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function sE(e,t,n){var r=t.pendingProps;switch(D2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ei(t),null;case 1:return ss(t.type)&&w0(),Ei(t),null;case 3:return r=t.stateNode,ku(),Zn(is),Zn(Di),H2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(bf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,da!==null&&(fm(da),da=null))),sm(e,t),Ei(t),null;case 5:z2(t);var i=oc(lh.current);if(n=t.type,e!==null&&t.stateNode!=null)y4(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(ct(166));return Ei(t),null}if(e=oc(Ma.current),bf(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Pa]=t,r[ah]=s,e=(t.mode&1)!==0,n){case"dialog":Yn("cancel",r),Yn("close",r);break;case"iframe":case"object":case"embed":Yn("load",r);break;case"video":case"audio":for(i=0;i<Ed.length;i++)Yn(Ed[i],r);break;case"source":Yn("error",r);break;case"img":case"image":case"link":Yn("error",r),Yn("load",r);break;case"details":Yn("toggle",r);break;case"input":Py(r,s),Yn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Yn("invalid",r);break;case"textarea":Dy(r,s),Yn("invalid",r)}Pg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&wf(r.textContent,u,e),i=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&wf(r.textContent,u,e),i=["children",""+u]):Kd.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Yn("scroll",r)}switch(n){case"input":hf(r),Oy(r,s,!0);break;case"textarea":hf(r),jy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=v0)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Pa]=t,e[ah]=r,x4(e,t,!1,!1),t.stateNode=e;e:{switch(o=Og(n,r),n){case"dialog":Yn("cancel",e),Yn("close",e),i=r;break;case"iframe":case"object":case"embed":Yn("load",e),i=r;break;case"video":case"audio":for(i=0;i<Ed.length;i++)Yn(Ed[i],e);i=r;break;case"source":Yn("error",e),i=r;break;case"img":case"image":case"link":Yn("error",e),Yn("load",e),i=r;break;case"details":Yn("toggle",e),i=r;break;case"input":Py(e,r),i=_g(e,r),Yn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=fr({},r,{value:void 0}),Yn("invalid",e);break;case"textarea":Dy(e,r),i=kg(e,r),Yn("invalid",e);break;default:i=r}Pg(n,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var d=u[s];s==="style"?Kb(e,d):s==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Yb(e,d)):s==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Zd(e,d):typeof d=="number"&&Zd(e,""+d):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Kd.hasOwnProperty(s)?d!=null&&s==="onScroll"&&Yn("scroll",e):d!=null&&v2(e,s,d,o))}switch(n){case"input":hf(e),Oy(e,r,!1);break;case"textarea":hf(e),jy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pl(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?mu(e,!!r.multiple,s,!1):r.defaultValue!=null&&mu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=v0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ei(t),null;case 6:if(e&&t.stateNode!=null)v4(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(ct(166));if(n=oc(lh.current),oc(Ma.current),bf(t)){if(r=t.stateNode,n=t.memoizedProps,r[Pa]=t,(s=r.nodeValue!==n)&&(e=Ns,e!==null))switch(e.tag){case 3:wf(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wf(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pa]=t,t.stateNode=r}return Ei(t),null;case 13:if(Zn(ur),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ir&&bs!==null&&t.mode&1&&!(t.flags&128))M3(),Tu(),t.flags|=98560,s=!1;else if(s=bf(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(ct(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ct(317));s[Pa]=t}else Tu(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ei(t),s=!1}else da!==null&&(fm(da),da=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ur.current&1?Qr===0&&(Qr=3):tx())),t.updateQueue!==null&&(t.flags|=4),Ei(t),null);case 4:return ku(),sm(e,t),e===null&&ih(t.stateNode.containerInfo),Ei(t),null;case 10:return B2(t.type._context),Ei(t),null;case 17:return ss(t.type)&&w0(),Ei(t),null;case 19:if(Zn(ur),s=t.memoizedState,s===null)return Ei(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)hd(s,!1);else{if(Qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=_0(e),o!==null){for(t.flags|=128,hd(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Vn(ur,ur.current&1|2),t.child}e=e.sibling}s.tail!==null&&_r()>Pu&&(t.flags|=128,r=!0,hd(s,!1),t.lanes=4194304)}else{if(!r)if(e=_0(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ir)return Ei(t),null}else 2*_r()-s.renderingStartTime>Pu&&n!==1073741824&&(t.flags|=128,r=!0,hd(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=_r(),t.sibling=null,n=ur.current,Vn(ur,r?n&1|2:n&1),t):(Ei(t),null);case 22:case 23:return ex(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?vs&1073741824&&(Ei(t),t.subtreeFlags&6&&(t.flags|=8192)):Ei(t),null;case 24:return null;case 25:return null}throw Error(ct(156,t.tag))}function aE(e,t){switch(D2(t),t.tag){case 1:return ss(t.type)&&w0(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ku(),Zn(is),Zn(Di),H2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return z2(t),null;case 13:if(Zn(ur),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(ct(340));Tu()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Zn(ur),null;case 4:return ku(),null;case 10:return B2(t.type._context),null;case 22:case 23:return ex(),null;case 24:return null;default:return null}}var Nf=!1,Pi=!1,oE=typeof WeakSet=="function"?WeakSet:Set,At=null;function lu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wr(e,t,r)}else n.current=null}function am(e,t,n){try{n()}catch(r){wr(e,t,r)}}var Nv=!1;function lE(e,t){if(Hg=m0,e=N3(),P2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,u=-1,d=-1,f=0,m=0,x=e,A=null;t:for(;;){for(var b;x!==n||i!==0&&x.nodeType!==3||(u=o+i),x!==s||r!==0&&x.nodeType!==3||(d=o+r),x.nodeType===3&&(o+=x.nodeValue.length),(b=x.firstChild)!==null;)A=x,x=b;for(;;){if(x===e)break t;if(A===n&&++f===i&&(u=o),A===s&&++m===r&&(d=o),(b=x.nextSibling)!==null)break;x=A,A=x.parentNode}x=b}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(qg={focusedElem:e,selectionRange:n},m0=!1,At=t;At!==null;)if(t=At,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,At=e;else for(;At!==null;){t=At;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var I=P.memoizedProps,O=P.memoizedState,E=t.stateNode,_=E.getSnapshotBeforeUpdate(t.elementType===t.type?I:aa(t.type,I),O);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var L=t.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ct(163))}}catch(R){wr(t,t.return,R)}if(e=t.sibling,e!==null){e.return=t.return,At=e;break}At=t.return}return P=Nv,Nv=!1,P}function jd(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&am(t,n,s)}i=i.next}while(i!==r)}}function f1(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function om(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function w4(e){var t=e.alternate;t!==null&&(e.alternate=null,w4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pa],delete t[ah],delete t[Gg],delete t[qC],delete t[WC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function b4(e){return e.tag===5||e.tag===3||e.tag===4}function Cv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||b4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=v0));else if(r!==4&&(e=e.child,e!==null))for(lm(e,t,n),e=e.sibling;e!==null;)lm(e,t,n),e=e.sibling}function cm(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cm(e,t,n),e=e.sibling;e!==null;)cm(e,t,n),e=e.sibling}var gi=null,la=!1;function Fo(e,t,n){for(n=n.child;n!==null;)A4(e,t,n),n=n.sibling}function A4(e,t,n){if(Ra&&typeof Ra.onCommitFiberUnmount=="function")try{Ra.onCommitFiberUnmount(s1,n)}catch{}switch(n.tag){case 5:Pi||lu(n,t);case 6:var r=gi,i=la;gi=null,Fo(e,t,n),gi=r,la=i,gi!==null&&(la?(e=gi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gi.removeChild(n.stateNode));break;case 18:gi!==null&&(la?(e=gi,n=n.stateNode,e.nodeType===8?Tp(e.parentNode,n):e.nodeType===1&&Tp(e,n),th(e)):Tp(gi,n.stateNode));break;case 4:r=gi,i=la,gi=n.stateNode.containerInfo,la=!0,Fo(e,t,n),gi=r,la=i;break;case 0:case 11:case 14:case 15:if(!Pi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&am(n,t,o),i=i.next}while(i!==r)}Fo(e,t,n);break;case 1:if(!Pi&&(lu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){wr(n,t,u)}Fo(e,t,n);break;case 21:Fo(e,t,n);break;case 22:n.mode&1?(Pi=(r=Pi)||n.memoizedState!==null,Fo(e,t,n),Pi=r):Fo(e,t,n);break;default:Fo(e,t,n)}}function Ev(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new oE),t.forEach(function(r){var i=xE.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function na(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,u=o;e:for(;u!==null;){switch(u.tag){case 5:gi=u.stateNode,la=!1;break e;case 3:gi=u.stateNode.containerInfo,la=!0;break e;case 4:gi=u.stateNode.containerInfo,la=!0;break e}u=u.return}if(gi===null)throw Error(ct(160));A4(s,o,i),gi=null,la=!1;var d=i.alternate;d!==null&&(d.return=null),i.return=null}catch(f){wr(i,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)S4(t,e),t=t.sibling}function S4(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(na(t,e),Ea(e),r&4){try{jd(3,e,e.return),f1(3,e)}catch(I){wr(e,e.return,I)}try{jd(5,e,e.return)}catch(I){wr(e,e.return,I)}}break;case 1:na(t,e),Ea(e),r&512&&n!==null&&lu(n,n.return);break;case 5:if(na(t,e),Ea(e),r&512&&n!==null&&lu(n,n.return),e.flags&32){var i=e.stateNode;try{Zd(i,"")}catch(I){wr(e,e.return,I)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,u=e.type,d=e.updateQueue;if(e.updateQueue=null,d!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&Wb(i,s),Og(u,o);var f=Og(u,s);for(o=0;o<d.length;o+=2){var m=d[o],x=d[o+1];m==="style"?Kb(i,x):m==="dangerouslySetInnerHTML"?Yb(i,x):m==="children"?Zd(i,x):v2(i,m,x,f)}switch(u){case"input":Tg(i,s);break;case"textarea":$b(i,s);break;case"select":var A=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?mu(i,!!s.multiple,b,!1):A!==!!s.multiple&&(s.defaultValue!=null?mu(i,!!s.multiple,s.defaultValue,!0):mu(i,!!s.multiple,s.multiple?[]:"",!1))}i[ah]=s}catch(I){wr(e,e.return,I)}}break;case 6:if(na(t,e),Ea(e),r&4){if(e.stateNode===null)throw Error(ct(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(I){wr(e,e.return,I)}}break;case 3:if(na(t,e),Ea(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{th(t.containerInfo)}catch(I){wr(e,e.return,I)}break;case 4:na(t,e),Ea(e);break;case 13:na(t,e),Ea(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Q2=_r())),r&4&&Ev(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Pi=(f=Pi)||m,na(t,e),Pi=f):na(t,e),Ea(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!m&&e.mode&1)for(At=e,m=e.child;m!==null;){for(x=At=m;At!==null;){switch(A=At,b=A.child,A.tag){case 0:case 11:case 14:case 15:jd(4,A,A.return);break;case 1:lu(A,A.return);var P=A.stateNode;if(typeof P.componentWillUnmount=="function"){r=A,n=A.return;try{t=r,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(I){wr(r,n,I)}}break;case 5:lu(A,A.return);break;case 22:if(A.memoizedState!==null){Tv(x);continue}}b!==null?(b.return=A,At=b):Tv(x)}m=m.sibling}e:for(m=null,x=e;;){if(x.tag===5){if(m===null){m=x;try{i=x.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=x.stateNode,d=x.memoizedProps.style,o=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=Xb("display",o))}catch(I){wr(e,e.return,I)}}}else if(x.tag===6){if(m===null)try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(I){wr(e,e.return,I)}}else if((x.tag!==22&&x.tag!==23||x.memoizedState===null||x===e)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===e)break e;for(;x.sibling===null;){if(x.return===null||x.return===e)break e;m===x&&(m=null),x=x.return}m===x&&(m=null),x.sibling.return=x.return,x=x.sibling}}break;case 19:na(t,e),Ea(e),r&4&&Ev(e);break;case 21:break;default:na(t,e),Ea(e)}}function Ea(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(b4(n)){var r=n;break e}n=n.return}throw Error(ct(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zd(i,""),r.flags&=-33);var s=Cv(e);cm(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,u=Cv(e);lm(e,u,o);break;default:throw Error(ct(161))}}catch(d){wr(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function cE(e,t,n){At=e,N4(e)}function N4(e,t,n){for(var r=(e.mode&1)!==0;At!==null;){var i=At,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Nf;if(!o){var u=i.alternate,d=u!==null&&u.memoizedState!==null||Pi;u=Nf;var f=Pi;if(Nf=o,(Pi=d)&&!f)for(At=i;At!==null;)o=At,d=o.child,o.tag===22&&o.memoizedState!==null?Iv(i):d!==null?(d.return=o,At=d):Iv(i);for(;s!==null;)At=s,N4(s),s=s.sibling;At=i,Nf=u,Pi=f}_v(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,At=s):_v(e)}}function _v(e){for(;At!==null;){var t=At;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pi||f1(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:aa(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&dv(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}dv(t,o,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var d=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var m=f.memoizedState;if(m!==null){var x=m.dehydrated;x!==null&&th(x)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ct(163))}Pi||t.flags&512&&om(t)}catch(A){wr(t,t.return,A)}}if(t===e){At=null;break}if(n=t.sibling,n!==null){n.return=t.return,At=n;break}At=t.return}}function Tv(e){for(;At!==null;){var t=At;if(t===e){At=null;break}var n=t.sibling;if(n!==null){n.return=t.return,At=n;break}At=t.return}}function Iv(e){for(;At!==null;){var t=At;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{f1(4,t)}catch(d){wr(t,n,d)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(d){wr(t,i,d)}}var s=t.return;try{om(t)}catch(d){wr(t,s,d)}break;case 5:var o=t.return;try{om(t)}catch(d){wr(t,o,d)}}}catch(d){wr(t,t.return,d)}if(t===e){At=null;break}var u=t.sibling;if(u!==null){u.return=t.return,At=u;break}At=t.return}}var uE=Math.ceil,k0=wo.ReactCurrentDispatcher,K2=wo.ReactCurrentOwner,$s=wo.ReactCurrentBatchConfig,yn=0,li=null,zr=null,xi=0,vs=0,cu=Sl(0),Qr=0,hh=null,vc=0,p1=0,Z2=0,Rd=null,ts=null,Q2=0,Pu=1/0,no=null,L0=!1,um=null,ul=null,Cf=!1,tl=null,P0=0,Md=0,dm=null,Jf=-1,e0=0;function Wi(){return yn&6?_r():Jf!==-1?Jf:Jf=_r()}function dl(e){return e.mode&1?yn&2&&xi!==0?xi&-xi:GC.transition!==null?(e0===0&&(e0=l3()),e0):(e=In,e!==0||(e=window.event,e=e===void 0?16:g3(e.type)),e):1}function ga(e,t,n,r){if(50<Md)throw Md=0,dm=null,Error(ct(185));Nh(e,n,r),(!(yn&2)||e!==li)&&(e===li&&(!(yn&2)&&(p1|=n),Qr===4&&Ko(e,xi)),as(e,r),n===1&&yn===0&&!(t.mode&1)&&(Pu=_r()+500,u1&&Nl()))}function as(e,t){var n=e.callbackNode;G8(e,t);var r=g0(e,e===li?xi:0);if(r===0)n!==null&&By(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&By(n),t===1)e.tag===0?$C(kv.bind(null,e)):D3(kv.bind(null,e)),zC(function(){!(yn&6)&&Nl()}),n=null;else{switch(c3(r)){case 1:n=N2;break;case 4:n=a3;break;case 16:n=p0;break;case 536870912:n=o3;break;default:n=p0}n=P4(n,C4.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function C4(e,t){if(Jf=-1,e0=0,yn&6)throw Error(ct(327));var n=e.callbackNode;if(bu()&&e.callbackNode!==n)return null;var r=g0(e,e===li?xi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=O0(e,r);else{t=r;var i=yn;yn|=2;var s=_4();(li!==e||xi!==t)&&(no=null,Pu=_r()+500,dc(e,t));do try{fE();break}catch(u){E4(e,u)}while(!0);M2(),k0.current=s,yn=i,zr!==null?t=0:(li=null,xi=0,t=Qr)}if(t!==0){if(t===2&&(i=Bg(e),i!==0&&(r=i,t=hm(e,i))),t===1)throw n=hh,dc(e,0),Ko(e,r),as(e,_r()),n;if(t===6)Ko(e,r);else{if(i=e.current.alternate,!(r&30)&&!dE(i)&&(t=O0(e,r),t===2&&(s=Bg(e),s!==0&&(r=s,t=hm(e,s))),t===1))throw n=hh,dc(e,0),Ko(e,r),as(e,_r()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(ct(345));case 2:Zl(e,ts,no);break;case 3:if(Ko(e,r),(r&130023424)===r&&(t=Q2+500-_r(),10<t)){if(g0(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Wi(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$g(Zl.bind(null,e,ts,no),t);break}Zl(e,ts,no);break;case 4:if(Ko(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-pa(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=_r()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uE(r/1960))-r,10<r){e.timeoutHandle=$g(Zl.bind(null,e,ts,no),r);break}Zl(e,ts,no);break;case 5:Zl(e,ts,no);break;default:throw Error(ct(329))}}}return as(e,_r()),e.callbackNode===n?C4.bind(null,e):null}function hm(e,t){var n=Rd;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),e=O0(e,t),e!==2&&(t=ts,ts=n,t!==null&&fm(t)),e}function fm(e){ts===null?ts=e:ts.push.apply(ts,e)}function dE(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ma(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ko(e,t){for(t&=~Z2,t&=~p1,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-pa(t),r=1<<n;e[n]=-1,t&=~r}}function kv(e){if(yn&6)throw Error(ct(327));bu();var t=g0(e,0);if(!(t&1))return as(e,_r()),null;var n=O0(e,t);if(e.tag!==0&&n===2){var r=Bg(e);r!==0&&(t=r,n=hm(e,r))}if(n===1)throw n=hh,dc(e,0),Ko(e,t),as(e,_r()),n;if(n===6)throw Error(ct(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zl(e,ts,no),as(e,_r()),null}function J2(e,t){var n=yn;yn|=1;try{return e(t)}finally{yn=n,yn===0&&(Pu=_r()+500,u1&&Nl())}}function wc(e){tl!==null&&tl.tag===0&&!(yn&6)&&bu();var t=yn;yn|=1;var n=$s.transition,r=In;try{if($s.transition=null,In=1,e)return e()}finally{In=r,$s.transition=n,yn=t,!(yn&6)&&Nl()}}function ex(){vs=cu.current,Zn(cu)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,VC(n)),zr!==null)for(n=zr.return;n!==null;){var r=n;switch(D2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&w0();break;case 3:ku(),Zn(is),Zn(Di),H2();break;case 5:z2(r);break;case 4:ku();break;case 13:Zn(ur);break;case 19:Zn(ur);break;case 10:B2(r.type._context);break;case 22:case 23:ex()}n=n.return}if(li=e,zr=e=hl(e.current,null),xi=vs=t,Qr=0,hh=null,Z2=p1=vc=0,ts=Rd=null,ac!==null){for(t=0;t<ac.length;t++)if(n=ac[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ac=null}return e}function E4(e,t){do{var n=zr;try{if(M2(),Kf.current=I0,T0){for(var r=hr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}T0=!1}if(yc=0,ai=Kr=hr=null,Dd=!1,ch=0,K2.current=null,n===null||n.return===null){Qr=1,hh=t,zr=null;break}e:{var s=e,o=n.return,u=n,d=t;if(t=xi,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,m=u,x=m.tag;if(!(m.mode&1)&&(x===0||x===11||x===15)){var A=m.alternate;A?(m.updateQueue=A.updateQueue,m.memoizedState=A.memoizedState,m.lanes=A.lanes):(m.updateQueue=null,m.memoizedState=null)}var b=xv(o);if(b!==null){b.flags&=-257,yv(b,o,u,s,t),b.mode&1&&mv(s,f,t),t=b,d=f;var P=t.updateQueue;if(P===null){var I=new Set;I.add(d),t.updateQueue=I}else P.add(d);break e}else{if(!(t&1)){mv(s,f,t),tx();break e}d=Error(ct(426))}}else if(ir&&u.mode&1){var O=xv(o);if(O!==null){!(O.flags&65536)&&(O.flags|=256),yv(O,o,u,s,t),j2(Lu(d,u));break e}}s=d=Lu(d,u),Qr!==4&&(Qr=2),Rd===null?Rd=[s]:Rd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var E=c4(s,d,t);uv(s,E);break e;case 1:u=d;var _=s.type,L=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(ul===null||!ul.has(L)))){s.flags|=65536,t&=-t,s.lanes|=t;var R=u4(s,u,t);uv(s,R);break e}}s=s.return}while(s!==null)}I4(n)}catch(V){t=V,zr===n&&n!==null&&(zr=n=n.return);continue}break}while(!0)}function _4(){var e=k0.current;return k0.current=I0,e===null?I0:e}function tx(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),li===null||!(vc&268435455)&&!(p1&268435455)||Ko(li,xi)}function O0(e,t){var n=yn;yn|=2;var r=_4();(li!==e||xi!==t)&&(no=null,dc(e,t));do try{hE();break}catch(i){E4(e,i)}while(!0);if(M2(),yn=n,k0.current=r,zr!==null)throw Error(ct(261));return li=null,xi=0,Qr}function hE(){for(;zr!==null;)T4(zr)}function fE(){for(;zr!==null&&!B8();)T4(zr)}function T4(e){var t=L4(e.alternate,e,vs);e.memoizedProps=e.pendingProps,t===null?I4(e):zr=t,K2.current=null}function I4(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=aE(n,t),n!==null){n.flags&=32767,zr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qr=6,zr=null;return}}else if(n=sE(n,t,vs),n!==null){zr=n;return}if(t=t.sibling,t!==null){zr=t;return}zr=t=e}while(t!==null);Qr===0&&(Qr=5)}function Zl(e,t,n){var r=In,i=$s.transition;try{$s.transition=null,In=1,pE(e,t,n,r)}finally{$s.transition=i,In=r}return null}function pE(e,t,n,r){do bu();while(tl!==null);if(yn&6)throw Error(ct(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(ct(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(Y8(e,s),e===li&&(zr=li=null,xi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cf||(Cf=!0,P4(p0,function(){return bu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$s.transition,$s.transition=null;var o=In;In=1;var u=yn;yn|=4,K2.current=null,lE(e,n),S4(n,e),DC(qg),m0=!!Hg,qg=Hg=null,e.current=n,cE(n),F8(),yn=u,In=o,$s.transition=s}else e.current=n;if(Cf&&(Cf=!1,tl=e,P0=i),s=e.pendingLanes,s===0&&(ul=null),z8(n.stateNode),as(e,_r()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(L0)throw L0=!1,e=um,um=null,e;return P0&1&&e.tag!==0&&bu(),s=e.pendingLanes,s&1?e===dm?Md++:(Md=0,dm=e):Md=0,Nl(),null}function bu(){if(tl!==null){var e=c3(P0),t=$s.transition,n=In;try{if($s.transition=null,In=16>e?16:e,tl===null)var r=!1;else{if(e=tl,tl=null,P0=0,yn&6)throw Error(ct(331));var i=yn;for(yn|=4,At=e.current;At!==null;){var s=At,o=s.child;if(At.flags&16){var u=s.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(At=f;At!==null;){var m=At;switch(m.tag){case 0:case 11:case 15:jd(8,m,s)}var x=m.child;if(x!==null)x.return=m,At=x;else for(;At!==null;){m=At;var A=m.sibling,b=m.return;if(w4(m),m===f){At=null;break}if(A!==null){A.return=b,At=A;break}At=b}}}var P=s.alternate;if(P!==null){var I=P.child;if(I!==null){P.child=null;do{var O=I.sibling;I.sibling=null,I=O}while(I!==null)}}At=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,At=o;else e:for(;At!==null;){if(s=At,s.flags&2048)switch(s.tag){case 0:case 11:case 15:jd(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,At=E;break e}At=s.return}}var _=e.current;for(At=_;At!==null;){o=At;var L=o.child;if(o.subtreeFlags&2064&&L!==null)L.return=o,At=L;else e:for(o=_;At!==null;){if(u=At,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:f1(9,u)}}catch(V){wr(u,u.return,V)}if(u===o){At=null;break e}var R=u.sibling;if(R!==null){R.return=u.return,At=R;break e}At=u.return}}if(yn=i,Nl(),Ra&&typeof Ra.onPostCommitFiberRoot=="function")try{Ra.onPostCommitFiberRoot(s1,e)}catch{}r=!0}return r}finally{In=n,$s.transition=t}}return!1}function Lv(e,t,n){t=Lu(n,t),t=c4(e,t,1),e=cl(e,t,1),t=Wi(),e!==null&&(Nh(e,1,t),as(e,t))}function wr(e,t,n){if(e.tag===3)Lv(e,e,n);else for(;t!==null;){if(t.tag===3){Lv(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ul===null||!ul.has(r))){e=Lu(n,e),e=u4(t,e,1),t=cl(t,e,1),e=Wi(),t!==null&&(Nh(t,1,e),as(t,e));break}}t=t.return}}function gE(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Wi(),e.pingedLanes|=e.suspendedLanes&n,li===e&&(xi&n)===n&&(Qr===4||Qr===3&&(xi&130023424)===xi&&500>_r()-Q2?dc(e,0):Z2|=n),as(e,t)}function k4(e,t){t===0&&(e.mode&1?(t=gf,gf<<=1,!(gf&130023424)&&(gf=4194304)):t=1);var n=Wi();e=mo(e,t),e!==null&&(Nh(e,t,n),as(e,n))}function mE(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),k4(e,n)}function xE(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(ct(314))}r!==null&&r.delete(t),k4(e,n)}var L4;L4=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||is.current)rs=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return rs=!1,iE(e,t,n);rs=!!(e.flags&131072)}else rs=!1,ir&&t.flags&1048576&&j3(t,S0,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qf(e,t),e=t.pendingProps;var i=_u(t,Di.current);wu(t,n),i=W2(null,t,r,e,i,n);var s=$2();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ss(r)?(s=!0,b0(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,U2(t),i.updater=h1,t.stateNode=i,i._reactInternals=t,Jg(t,r,e,n),t=nm(null,t,r,!0,s,n)):(t.tag=0,ir&&s&&O2(t),Hi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qf(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=vE(r),e=aa(r,e),i){case 0:t=tm(null,t,r,e,n);break e;case 1:t=bv(null,t,r,e,n);break e;case 11:t=vv(null,t,r,e,n);break e;case 14:t=wv(null,t,r,aa(r.type,e),n);break e}throw Error(ct(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),tm(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),bv(e,t,r,i,n);case 3:e:{if(p4(t),e===null)throw Error(ct(387));r=t.pendingProps,s=t.memoizedState,i=s.element,V3(e,t),E0(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Lu(Error(ct(423)),t),t=Av(e,t,r,n,i);break e}else if(r!==i){i=Lu(Error(ct(424)),t),t=Av(e,t,r,n,i);break e}else for(bs=ll(t.stateNode.containerInfo.firstChild),Ns=t,ir=!0,da=null,n=F3(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Tu(),r===i){t=xo(e,t,n);break e}Hi(e,t,r,n)}t=t.child}return t;case 5:return z3(t),e===null&&Kg(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Wg(r,i)?o=null:s!==null&&Wg(r,s)&&(t.flags|=32),f4(e,t),Hi(e,t,o,n),t.child;case 6:return e===null&&Kg(t),null;case 13:return g4(e,t,n);case 4:return V2(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Iu(t,null,r,n):Hi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),vv(e,t,r,i,n);case 7:return Hi(e,t,t.pendingProps,n),t.child;case 8:return Hi(e,t,t.pendingProps.children,n),t.child;case 12:return Hi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Vn(N0,r._currentValue),r._currentValue=o,s!==null)if(ma(s.value,o)){if(s.children===i.children&&!is.current){t=xo(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(s.tag===1){d=co(-1,n&-n),d.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var m=f.pending;m===null?d.next=d:(d.next=m.next,m.next=d),f.pending=d}}s.lanes|=n,d=s.alternate,d!==null&&(d.lanes|=n),Zg(s.return,n,t),u.lanes|=n;break}d=d.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ct(341));o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),Zg(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Hi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,wu(t,n),i=Gs(i),r=r(i),t.flags|=1,Hi(e,t,r,n),t.child;case 14:return r=t.type,i=aa(r,t.pendingProps),i=aa(r.type,i),wv(e,t,r,i,n);case 15:return d4(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),Qf(e,t),t.tag=1,ss(r)?(e=!0,b0(t)):e=!1,wu(t,n),l4(t,r,i),Jg(t,r,i,n),nm(null,t,r,!0,e,n);case 19:return m4(e,t,n);case 22:return h4(e,t,n)}throw Error(ct(156,t.tag))};function P4(e,t){return s3(e,t)}function yE(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ws(e,t,n,r){return new yE(e,t,n,r)}function nx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function vE(e){if(typeof e=="function")return nx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===b2)return 11;if(e===A2)return 14}return 2}function hl(e,t){var n=e.alternate;return n===null?(n=Ws(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function t0(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")nx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Jc:return hc(n.children,i,s,t);case w2:o=8,i|=8;break;case Sg:return e=Ws(12,n,t,i|2),e.elementType=Sg,e.lanes=s,e;case Ng:return e=Ws(13,n,t,i),e.elementType=Ng,e.lanes=s,e;case Cg:return e=Ws(19,n,t,i),e.elementType=Cg,e.lanes=s,e;case zb:return g1(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ub:o=10;break e;case Vb:o=9;break e;case b2:o=11;break e;case A2:o=14;break e;case $o:o=16,r=null;break e}throw Error(ct(130,e==null?e:typeof e,""))}return t=Ws(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function hc(e,t,n,r){return e=Ws(7,e,r,t),e.lanes=n,e}function g1(e,t,n,r){return e=Ws(22,e,r,t),e.elementType=zb,e.lanes=n,e.stateNode={isHidden:!1},e}function Rp(e,t,n){return e=Ws(6,e,null,t),e.lanes=n,e}function Mp(e,t,n){return t=Ws(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wE(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function rx(e,t,n,r,i,s,o,u,d){return e=new wE(e,t,n,u,d),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ws(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},U2(s),e}function bE(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function O4(e){if(!e)return gl;e=e._reactInternals;e:{if(Sc(e)!==e||e.tag!==1)throw Error(ct(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ss(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ct(171))}if(e.tag===1){var n=e.type;if(ss(n))return O3(e,n,t)}return t}function D4(e,t,n,r,i,s,o,u,d){return e=rx(n,r,!0,e,i,s,o,u,d),e.context=O4(null),n=e.current,r=Wi(),i=dl(n),s=co(r,i),s.callback=t??null,cl(n,s,i),e.current.lanes=i,Nh(e,i,r),as(e,r),e}function m1(e,t,n,r){var i=t.current,s=Wi(),o=dl(i);return n=O4(n),t.context===null?t.context=n:t.pendingContext=n,t=co(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=cl(i,t,o),e!==null&&(ga(e,i,o,s),Xf(e,i,o)),o}function D0(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ix(e,t){Pv(e,t),(e=e.alternate)&&Pv(e,t)}function AE(){return null}var j4=typeof reportError=="function"?reportError:function(e){console.error(e)};function sx(e){this._internalRoot=e}x1.prototype.render=sx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(ct(409));m1(e,t,null,null)};x1.prototype.unmount=sx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;wc(function(){m1(null,e,null,null)}),t[go]=null}};function x1(e){this._internalRoot=e}x1.prototype.unstable_scheduleHydration=function(e){if(e){var t=h3();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xo.length&&t!==0&&t<Xo[n].priority;n++);Xo.splice(n,0,e),n===0&&p3(e)}};function ax(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function y1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ov(){}function SE(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=D0(o);s.call(f)}}var o=D4(t,r,e,0,null,!1,!1,"",Ov);return e._reactRootContainer=o,e[go]=o.current,ih(e.nodeType===8?e.parentNode:e),wc(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var u=r;r=function(){var f=D0(d);u.call(f)}}var d=rx(e,0,!1,null,null,!1,!1,"",Ov);return e._reactRootContainer=d,e[go]=d.current,ih(e.nodeType===8?e.parentNode:e),wc(function(){m1(t,d,n,r)}),d}function v1(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var d=D0(o);u.call(d)}}m1(t,o,e,i)}else o=SE(n,t,e,i,r);return D0(o)}u3=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cd(t.pendingLanes);n!==0&&(C2(t,n|1),as(t,_r()),!(yn&6)&&(Pu=_r()+500,Nl()))}break;case 13:wc(function(){var r=mo(e,1);if(r!==null){var i=Wi();ga(r,e,1,i)}}),ix(e,1)}};E2=function(e){if(e.tag===13){var t=mo(e,134217728);if(t!==null){var n=Wi();ga(t,e,134217728,n)}ix(e,134217728)}};d3=function(e){if(e.tag===13){var t=dl(e),n=mo(e,t);if(n!==null){var r=Wi();ga(n,e,t,r)}ix(e,t)}};h3=function(){return In};f3=function(e,t){var n=In;try{return In=e,t()}finally{In=n}};jg=function(e,t,n){switch(t){case"input":if(Tg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=c1(r);if(!i)throw Error(ct(90));qb(r),Tg(r,i)}}}break;case"textarea":$b(e,n);break;case"select":t=n.value,t!=null&&mu(e,!!n.multiple,t,!1)}};Jb=J2;e3=wc;var NE={usingClientEntryPoint:!1,Events:[Eh,ru,c1,Zb,Qb,J2]},fd={findFiberByHostInstance:sc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},CE={bundleType:fd.bundleType,version:fd.version,rendererPackageName:fd.rendererPackageName,rendererConfig:fd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=r3(e),e===null?null:e.stateNode},findFiberByHostInstance:fd.findFiberByHostInstance||AE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ef=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ef.isDisabled&&Ef.supportsFiber)try{s1=Ef.inject(CE),Ra=Ef}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE;_s.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ax(t))throw Error(ct(200));return bE(e,t,null,n)};_s.createRoot=function(e,t){if(!ax(e))throw Error(ct(299));var n=!1,r="",i=j4;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=rx(e,1,!1,null,null,n,!1,r,i),e[go]=t.current,ih(e.nodeType===8?e.parentNode:e),new sx(t)};_s.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(ct(188)):(e=Object.keys(e).join(","),Error(ct(268,e)));return e=r3(t),e=e===null?null:e.stateNode,e};_s.flushSync=function(e){return wc(e)};_s.hydrate=function(e,t,n){if(!y1(t))throw Error(ct(200));return v1(null,e,t,!0,n)};_s.hydrateRoot=function(e,t,n){if(!ax(e))throw Error(ct(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=j4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=D4(t,null,e,1,n??null,i,!1,s,o),e[go]=t.current,ih(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new x1(t)};_s.render=function(e,t,n){if(!y1(t))throw Error(ct(200));return v1(null,e,t,!1,n)};_s.unmountComponentAtNode=function(e){if(!y1(e))throw Error(ct(40));return e._reactRootContainer?(wc(function(){v1(null,null,e,!1,function(){e._reactRootContainer=null,e[go]=null})}),!0):!1};_s.unstable_batchedUpdates=J2;_s.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!y1(n))throw Error(ct(200));if(e==null||e._reactInternals===void 0)throw Error(ct(38));return v1(e,t,n,!1,r)};_s.version="18.3.1-next-f1338f8080-20240426";function R4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(R4)}catch(e){console.error(e)}}R4(),Rb.exports=_s;var EE=Rb.exports,Dv=EE;bg.createRoot=Dv.createRoot,bg.hydrateRoot=Dv.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fh(){return fh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fh.apply(this,arguments)}var nl;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(nl||(nl={}));const jv="popstate";function _E(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:o,hash:u}=r.location;return pm("",{pathname:s,search:o,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:B4(i)}return IE(t,n,null,e)}function Hr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function M4(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function TE(){return Math.random().toString(36).substr(2,8)}function Rv(e,t){return{usr:e.state,key:e.key,idx:t}}function pm(e,t,n,r){return n===void 0&&(n=null),fh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?$u(t):t,{state:n,key:t&&t.key||r||TE()})}function B4(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $u(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function IE(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,u=nl.Pop,d=null,f=m();f==null&&(f=0,o.replaceState(fh({},o.state,{idx:f}),""));function m(){return(o.state||{idx:null}).idx}function x(){u=nl.Pop;let O=m(),E=O==null?null:O-f;f=O,d&&d({action:u,location:I.location,delta:E})}function A(O,E){u=nl.Push;let _=pm(I.location,O,E);f=m()+1;let L=Rv(_,f),R=I.createHref(_);try{o.pushState(L,"",R)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;i.location.assign(R)}s&&d&&d({action:u,location:I.location,delta:1})}function b(O,E){u=nl.Replace;let _=pm(I.location,O,E);f=m();let L=Rv(_,f),R=I.createHref(_);o.replaceState(L,"",R),s&&d&&d({action:u,location:I.location,delta:0})}function P(O){let E=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof O=="string"?O:B4(O);return _=_.replace(/ $/,"%20"),Hr(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let I={get action(){return u},get location(){return e(i,o)},listen(O){if(d)throw new Error("A history only accepts one active listener");return i.addEventListener(jv,x),d=O,()=>{i.removeEventListener(jv,x),d=null}},createHref(O){return t(i,O)},createURL:P,encodeLocation(O){let E=P(O);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:A,replace:b,go(O){return o.go(O)}};return I}var Mv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Mv||(Mv={}));function kE(e,t,n){return n===void 0&&(n="/"),LE(e,t,n)}function LE(e,t,n,r){let i=typeof t=="string"?$u(t):t,s=V4(i.pathname||"/",n);if(s==null)return null;let o=F4(e);PE(o);let u=null;for(let d=0;u==null&&d<o.length;++d){let f=qE(s);u=VE(o[d],f)}return u}function F4(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,u)=>{let d={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};d.relativePath.startsWith("/")&&(Hr(d.relativePath.startsWith(r),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(r.length));let f=fc([r,d.relativePath]),m=n.concat(d);s.children&&s.children.length>0&&(Hr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),F4(s.children,t,m,f)),!(s.path==null&&!s.index)&&t.push({path:f,score:FE(f,s.index),routesMeta:m})};return e.forEach((s,o)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,o);else for(let d of U4(s.path))i(s,o,d)}),t}function U4(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=U4(r.join("/")),u=[];return u.push(...o.map(d=>d===""?s:[s,d].join("/"))),i&&u.push(...o),u.map(d=>e.startsWith("/")&&d===""?"/":d)}function PE(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:UE(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const OE=/^:[\w-]+$/,DE=3,jE=2,RE=1,ME=10,BE=-2,Bv=e=>e==="*";function FE(e,t){let n=e.split("/"),r=n.length;return n.some(Bv)&&(r+=BE),t&&(r+=jE),n.filter(i=>!Bv(i)).reduce((i,s)=>i+(OE.test(s)?DE:s===""?RE:ME),r)}function UE(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function VE(e,t,n){let{routesMeta:r}=e,i={},s="/",o=[];for(let u=0;u<r.length;++u){let d=r[u],f=u===r.length-1,m=s==="/"?t:t.slice(s.length)||"/",x=zE({path:d.relativePath,caseSensitive:d.caseSensitive,end:f},m),A=d.route;if(!x)return null;Object.assign(i,x.params),o.push({params:i,pathname:fc([s,x.pathname]),pathnameBase:YE(fc([s,x.pathnameBase])),route:A}),x.pathnameBase!=="/"&&(s=fc([s,x.pathnameBase]))}return o}function zE(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=HE(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((f,m,x)=>{let{paramName:A,isOptional:b}=m;if(A==="*"){let I=u[x]||"";o=s.slice(0,s.length-I.length).replace(/(.)\/+$/,"$1")}const P=u[x];return b&&!P?f[A]=void 0:f[A]=(P||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:o,pattern:e}}function HE(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),M4(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,u,d)=>(r.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function qE(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return M4(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function V4(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function WE(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?$u(e):e;return{pathname:n?n.startsWith("/")?n:$E(n,t):t,search:XE(r),hash:KE(i)}}function $E(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bp(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GE(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function z4(e,t){let n=GE(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function H4(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=$u(e):(i=fh({},e),Hr(!i.pathname||!i.pathname.includes("?"),Bp("?","pathname","search",i)),Hr(!i.pathname||!i.pathname.includes("#"),Bp("#","pathname","hash",i)),Hr(!i.search||!i.search.includes("#"),Bp("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,u;if(o==null)u=n;else{let x=t.length-1;if(!r&&o.startsWith("..")){let A=o.split("/");for(;A[0]==="..";)A.shift(),x-=1;i.pathname=A.join("/")}u=x>=0?t[x]:"/"}let d=WE(i,u),f=o&&o!=="/"&&o.endsWith("/"),m=(s||o===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(f||m)&&(d.pathname+="/"),d}const fc=e=>e.join("/").replace(/\/\/+/g,"/"),YE=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),XE=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KE=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZE(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const q4=["post","put","patch","delete"];new Set(q4);const QE=["get",...q4];new Set(QE);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ph.apply(this,arguments)}const ox=me.createContext(null),JE=me.createContext(null),Th=me.createContext(null),w1=me.createContext(null),Nc=me.createContext({outlet:null,matches:[],isDataRoute:!1}),W4=me.createContext(null);function Ih(){return me.useContext(w1)!=null}function kh(){return Ih()||Hr(!1),me.useContext(w1).location}function $4(e){me.useContext(Th).static||me.useLayoutEffect(e)}function Gu(){let{isDataRoute:e}=me.useContext(Nc);return e?h_():e_()}function e_(){Ih()||Hr(!1);let e=me.useContext(ox),{basename:t,future:n,navigator:r}=me.useContext(Th),{matches:i}=me.useContext(Nc),{pathname:s}=kh(),o=JSON.stringify(z4(i,n.v7_relativeSplatPath)),u=me.useRef(!1);return $4(()=>{u.current=!0}),me.useCallback(function(f,m){if(m===void 0&&(m={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let x=H4(f,JSON.parse(o),s,m.relative==="path");e==null&&t!=="/"&&(x.pathname=x.pathname==="/"?t:fc([t,x.pathname])),(m.replace?r.replace:r.push)(x,m.state,m)},[t,r,o,s,e])}function t_(e,t){return n_(e,t)}function n_(e,t,n,r){Ih()||Hr(!1);let{navigator:i}=me.useContext(Th),{matches:s}=me.useContext(Nc),o=s[s.length-1],u=o?o.params:{};o&&o.pathname;let d=o?o.pathnameBase:"/";o&&o.route;let f=kh(),m;if(t){var x;let O=typeof t=="string"?$u(t):t;d==="/"||(x=O.pathname)!=null&&x.startsWith(d)||Hr(!1),m=O}else m=f;let A=m.pathname||"/",b=A;if(d!=="/"){let O=d.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(O.length).join("/")}let P=kE(e,{pathname:b}),I=o_(P&&P.map(O=>Object.assign({},O,{params:Object.assign({},u,O.params),pathname:fc([d,i.encodeLocation?i.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?d:fc([d,i.encodeLocation?i.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),s,n,r);return t&&I?me.createElement(w1.Provider,{value:{location:ph({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:nl.Pop}},I):I}function r_(){let e=d_(),t=ZE(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return me.createElement(me.Fragment,null,me.createElement("h2",null,"Unexpected Application Error!"),me.createElement("h3",{style:{fontStyle:"italic"}},t),n?me.createElement("pre",{style:i},n):null,null)}const i_=me.createElement(r_,null);class s_ extends me.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?me.createElement(Nc.Provider,{value:this.props.routeContext},me.createElement(W4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a_(e){let{routeContext:t,match:n,children:r}=e,i=me.useContext(ox);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),me.createElement(Nc.Provider,{value:t},r)}function o_(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,u=(i=n)==null?void 0:i.errors;if(u!=null){let m=o.findIndex(x=>x.route.id&&(u==null?void 0:u[x.route.id])!==void 0);m>=0||Hr(!1),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<o.length;m++){let x=o[m];if((x.route.HydrateFallback||x.route.hydrateFallbackElement)&&(f=m),x.route.id){let{loaderData:A,errors:b}=n,P=x.route.loader&&A[x.route.id]===void 0&&(!b||b[x.route.id]===void 0);if(x.route.lazy||P){d=!0,f>=0?o=o.slice(0,f+1):o=[o[0]];break}}}return o.reduceRight((m,x,A)=>{let b,P=!1,I=null,O=null;n&&(b=u&&x.route.id?u[x.route.id]:void 0,I=x.route.errorElement||i_,d&&(f<0&&A===0?(f_("route-fallback"),P=!0,O=null):f===A&&(P=!0,O=x.route.hydrateFallbackElement||null)));let E=t.concat(o.slice(0,A+1)),_=()=>{let L;return b?L=I:P?L=O:x.route.Component?L=me.createElement(x.route.Component,null):x.route.element?L=x.route.element:L=m,me.createElement(a_,{match:x,routeContext:{outlet:m,matches:E,isDataRoute:n!=null},children:L})};return n&&(x.route.ErrorBoundary||x.route.errorElement||A===0)?me.createElement(s_,{location:n.location,revalidation:n.revalidation,component:I,error:b,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var G4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(G4||{}),Y4=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Y4||{});function l_(e){let t=me.useContext(ox);return t||Hr(!1),t}function c_(e){let t=me.useContext(JE);return t||Hr(!1),t}function u_(e){let t=me.useContext(Nc);return t||Hr(!1),t}function X4(e){let t=u_(),n=t.matches[t.matches.length-1];return n.route.id||Hr(!1),n.route.id}function d_(){var e;let t=me.useContext(W4),n=c_(),r=X4();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function h_(){let{router:e}=l_(G4.UseNavigateStable),t=X4(Y4.UseNavigateStable),n=me.useRef(!1);return $4(()=>{n.current=!0}),me.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ph({fromRouteId:t},s)))},[e,t])}const Fv={};function f_(e,t,n){Fv[e]||(Fv[e]=!0)}function p_(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function g_(e){let{to:t,replace:n,state:r,relative:i}=e;Ih()||Hr(!1);let{future:s,static:o}=me.useContext(Th),{matches:u}=me.useContext(Nc),{pathname:d}=kh(),f=Gu(),m=H4(t,z4(u,s.v7_relativeSplatPath),d,i==="path"),x=JSON.stringify(m);return me.useEffect(()=>f(JSON.parse(x),{replace:n,state:r,relative:i}),[f,x,i,n,r]),null}function Gc(e){Hr(!1)}function m_(e){let{basename:t="/",children:n=null,location:r,navigationType:i=nl.Pop,navigator:s,static:o=!1,future:u}=e;Ih()&&Hr(!1);let d=t.replace(/^\/*/,"/"),f=me.useMemo(()=>({basename:d,navigator:s,static:o,future:ph({v7_relativeSplatPath:!1},u)}),[d,u,s,o]);typeof r=="string"&&(r=$u(r));let{pathname:m="/",search:x="",hash:A="",state:b=null,key:P="default"}=r,I=me.useMemo(()=>{let O=V4(m,d);return O==null?null:{location:{pathname:O,search:x,hash:A,state:b,key:P},navigationType:i}},[d,m,x,A,b,P,i]);return I==null?null:me.createElement(Th.Provider,{value:f},me.createElement(w1.Provider,{children:n,value:I}))}function x_(e){let{children:t,location:n}=e;return t_(gm(t),n)}new Promise(()=>{});function gm(e,t){t===void 0&&(t=[]);let n=[];return me.Children.forEach(e,(r,i)=>{if(!me.isValidElement(r))return;let s=[...t,i];if(r.type===me.Fragment){n.push.apply(n,gm(r.props.children,s));return}r.type!==Gc&&Hr(!1),!r.props.index||!r.props.children||Hr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mm(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function y_(e,t){let n=mm(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}const v_="6";try{window.__reactRouterVersion=v_}catch{}const w_="startTransition",Uv=g8[w_];function b_(e){let{basename:t,children:n,future:r,window:i}=e,s=me.useRef();s.current==null&&(s.current=_E({window:i,v5Compat:!0}));let o=s.current,[u,d]=me.useState({action:o.action,location:o.location}),{v7_startTransition:f}=r||{},m=me.useCallback(x=>{f&&Uv?Uv(()=>d(x)):d(x)},[d,f]);return me.useLayoutEffect(()=>o.listen(m),[o,m]),me.useEffect(()=>p_(r),[r]),me.createElement(m_,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:o,future:r})}var Vv;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vv||(Vv={}));var zv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(zv||(zv={}));function A_(e){let t=me.useRef(mm(e)),n=me.useRef(!1),r=kh(),i=me.useMemo(()=>y_(r.search,n.current?null:t.current),[r.search]),s=Gu(),o=me.useCallback((u,d)=>{const f=mm(typeof u=="function"?u(i):u);n.current=!0,s("?"+f,d)},[s,i]);return[i,o]}var Hv={},S_="@vercel/analytics",N_="1.5.0",C_=()=>{window.va||(window.va=function(...t){(window.vaq=window.vaq||[]).push(t)})};function K4(){return typeof window<"u"}function Z4(){try{const e="production"}catch{}return"production"}function E_(e="auto"){if(e==="auto"){window.vam=Z4();return}window.vam=e}function __(){return(K4()?window.vam:Z4())||"production"}function xm(){return __()==="development"}function T_(e){return e.scriptSrc?e.scriptSrc:xm()?"https://va.vercel-scripts.com/v1/script.debug.js":e.basePath?`${e.basePath}/insights/script.js`:"/_vercel/insights/script.js"}function I_(e={debug:!0}){var t;if(!K4())return;E_(e.mode),C_(),e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend));const n=T_(e);if(document.head.querySelector(`script[src*="${n}"]`))return;const r=document.createElement("script");r.src=n,r.defer=!0,r.dataset.sdkn=S_+(e.framework?`/${e.framework}`:""),r.dataset.sdkv=N_,e.disableAutoTrack&&(r.dataset.disableAutoTrack="1"),e.endpoint?r.dataset.endpoint=e.endpoint:e.basePath&&(r.dataset.endpoint=`${e.basePath}/insights`),e.dsn&&(r.dataset.dsn=e.dsn),r.onerror=()=>{const i=xm()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log(`[Vercel Web Analytics] Failed to load script from ${n}. ${i}`)},xm()&&e.debug===!1&&(r.dataset.debug="false"),document.head.appendChild(r)}function k_({route:e,path:t}){var n;(n=window.va)==null||n.call(window,"pageview",{route:e,path:t})}function L_(){if(!(typeof process>"u"||typeof Hv>"u"))return Hv.REACT_APP_VERCEL_OBSERVABILITY_BASEPATH}function P_(e){return me.useEffect(()=>{var t;e.beforeSend&&((t=window.va)==null||t.call(window,"beforeSend",e.beforeSend))},[e.beforeSend]),me.useEffect(()=>{I_({framework:e.framework||"react",basePath:e.basePath??L_(),...e.route!==void 0&&{disableAutoTrack:!0},...e})},[]),me.useEffect(()=>{e.route&&e.path&&k_({route:e.route,path:e.path})},[e.route,e.path]),null}let O_={data:""},D_=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||O_,j_=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,R_=/\/\*[^]*?\*\/|  +/g,qv=/\n+/g,Zo=(e,t)=>{let n="",r="",i="";for(let s in e){let o=e[s];s[0]=="@"?s[1]=="i"?n=s+" "+o+";":r+=s[1]=="f"?Zo(o,s):s+"{"+Zo(o,s[1]=="k"?"":t)+"}":typeof o=="object"?r+=Zo(o,t?t.replace(/([^,])+/g,u=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,d=>/&/.test(d)?d.replace(/&/g,u):u?u+" "+d:d)):s):o!=null&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),i+=Zo.p?Zo.p(s,o):s+":"+o+";")}return n+(t&&i?t+"{"+i+"}":i)+r},Qa={},Q4=e=>{if(typeof e=="object"){let t="";for(let n in e)t+=n+Q4(e[n]);return t}return e},M_=(e,t,n,r,i)=>{let s=Q4(e),o=Qa[s]||(Qa[s]=(d=>{let f=0,m=11;for(;f<d.length;)m=101*m+d.charCodeAt(f++)>>>0;return"go"+m})(s));if(!Qa[o]){let d=s!==e?e:(f=>{let m,x,A=[{}];for(;m=j_.exec(f.replace(R_,""));)m[4]?A.shift():m[3]?(x=m[3].replace(qv," ").trim(),A.unshift(A[0][x]=A[0][x]||{})):A[0][m[1]]=m[2].replace(qv," ").trim();return A[0]})(e);Qa[o]=Zo(i?{["@keyframes "+o]:d}:d,n?"":"."+o)}let u=n&&Qa.g?Qa.g:null;return n&&(Qa.g=Qa[o]),((d,f,m,x)=>{x?f.data=f.data.replace(x,d):f.data.indexOf(d)===-1&&(f.data=m?d+f.data:f.data+d)})(Qa[o],t,r,u),o},B_=(e,t,n)=>e.reduce((r,i,s)=>{let o=t[s];if(o&&o.call){let u=o(n),d=u&&u.props&&u.props.className||/^go/.test(u)&&u;o=d?"."+d:u&&typeof u=="object"?u.props?"":Zo(u,""):u===!1?"":u}return r+i+(o??"")},"");function b1(e){let t=this||{},n=e.call?e(t.p):e;return M_(n.unshift?n.raw?B_(n,[].slice.call(arguments,1),t.p):n.reduce((r,i)=>Object.assign(r,i&&i.call?i(t.p):i),{}):n,D_(t.target),t.g,t.o,t.k)}let J4,ym,vm;b1.bind({g:1});let yo=b1.bind({k:1});function F_(e,t,n,r){Zo.p=t,J4=e,ym=n,vm=r}function Cl(e,t){let n=this||{};return function(){let r=arguments;function i(s,o){let u=Object.assign({},s),d=u.className||i.className;n.p=Object.assign({theme:ym&&ym()},u),n.o=/ *go\d+/.test(d),u.className=b1.apply(n,r)+(d?" "+d:"");let f=e;return e[0]&&(f=u.as||e,delete u.as),vm&&f[0]&&vm(u),J4(f,u)}return i}}var U_=e=>typeof e=="function",j0=(e,t)=>U_(e)?e(t):e,V_=(()=>{let e=0;return()=>(++e).toString()})(),eA=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),z_=20,lx="default",tA=(e,t)=>{let{toastLimit:n}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case 1:return{...e,toasts:e.toasts.map(o=>o.id===t.toast.id?{...o,...t.toast}:o)};case 2:let{toast:r}=t;return tA(e,{type:e.toasts.find(o=>o.id===r.id)?1:0,toast:r});case 3:let{toastId:i}=t;return{...e,toasts:e.toasts.map(o=>o.id===i||i===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(o=>o.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},n0=[],nA={toasts:[],pausedAt:void 0,settings:{toastLimit:z_}},Oa={},rA=(e,t=lx)=>{Oa[t]=tA(Oa[t]||nA,e),n0.forEach(([n,r])=>{n===t&&r(Oa[t])})},iA=e=>Object.keys(Oa).forEach(t=>rA(e,t)),H_=e=>Object.keys(Oa).find(t=>Oa[t].toasts.some(n=>n.id===e)),A1=(e=lx)=>t=>{rA(t,e)},q_={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},W_=(e={},t=lx)=>{let[n,r]=me.useState(Oa[t]||nA),i=me.useRef(Oa[t]);me.useEffect(()=>(i.current!==Oa[t]&&r(Oa[t]),n0.push([t,r]),()=>{let o=n0.findIndex(([u])=>u===t);o>-1&&n0.splice(o,1)}),[t]);let s=n.toasts.map(o=>{var u,d,f;return{...e,...e[o.type],...o,removeDelay:o.removeDelay||((u=e[o.type])==null?void 0:u.removeDelay)||(e==null?void 0:e.removeDelay),duration:o.duration||((d=e[o.type])==null?void 0:d.duration)||(e==null?void 0:e.duration)||q_[o.type],style:{...e.style,...(f=e[o.type])==null?void 0:f.style,...o.style}}});return{...n,toasts:s}},$_=(e,t="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...n,id:(n==null?void 0:n.id)||V_()}),Lh=e=>(t,n)=>{let r=$_(t,e,n);return A1(r.toasterId||H_(r.id))({type:2,toast:r}),r.id},Zr=(e,t)=>Lh("blank")(e,t);Zr.error=Lh("error");Zr.success=Lh("success");Zr.loading=Lh("loading");Zr.custom=Lh("custom");Zr.dismiss=(e,t)=>{let n={type:3,toastId:e};t?A1(t)(n):iA(n)};Zr.dismissAll=e=>Zr.dismiss(void 0,e);Zr.remove=(e,t)=>{let n={type:4,toastId:e};t?A1(t)(n):iA(n)};Zr.removeAll=e=>Zr.remove(void 0,e);Zr.promise=(e,t,n)=>{let r=Zr.loading(t.loading,{...n,...n==null?void 0:n.loading});return typeof e=="function"&&(e=e()),e.then(i=>{let s=t.success?j0(t.success,i):void 0;return s?Zr.success(s,{id:r,...n,...n==null?void 0:n.success}):Zr.dismiss(r),i}).catch(i=>{let s=t.error?j0(t.error,i):void 0;s?Zr.error(s,{id:r,...n,...n==null?void 0:n.error}):Zr.dismiss(r)}),e};var G_=1e3,Y_=(e,t="default")=>{let{toasts:n,pausedAt:r}=W_(e,t),i=me.useRef(new Map).current,s=me.useCallback((x,A=G_)=>{if(i.has(x))return;let b=setTimeout(()=>{i.delete(x),o({type:4,toastId:x})},A);i.set(x,b)},[]);me.useEffect(()=>{if(r)return;let x=Date.now(),A=n.map(b=>{if(b.duration===1/0)return;let P=(b.duration||0)+b.pauseDuration-(x-b.createdAt);if(P<0){b.visible&&Zr.dismiss(b.id);return}return setTimeout(()=>Zr.dismiss(b.id,t),P)});return()=>{A.forEach(b=>b&&clearTimeout(b))}},[n,r,t]);let o=me.useCallback(A1(t),[t]),u=me.useCallback(()=>{o({type:5,time:Date.now()})},[o]),d=me.useCallback((x,A)=>{o({type:1,toast:{id:x,height:A}})},[o]),f=me.useCallback(()=>{r&&o({type:6,time:Date.now()})},[r,o]),m=me.useCallback((x,A)=>{let{reverseOrder:b=!1,gutter:P=8,defaultPosition:I}=A||{},O=n.filter(L=>(L.position||I)===(x.position||I)&&L.height),E=O.findIndex(L=>L.id===x.id),_=O.filter((L,R)=>R<E&&L.visible).length;return O.filter(L=>L.visible).slice(...b?[_+1]:[0,_]).reduce((L,R)=>L+(R.height||0)+P,0)},[n]);return me.useEffect(()=>{n.forEach(x=>{if(x.dismissed)s(x.id,x.removeDelay);else{let A=i.get(x.id);A&&(clearTimeout(A),i.delete(x.id))}})},[n,s]),{toasts:n,handlers:{updateHeight:d,startPause:u,endPause:f,calculateOffset:m}}},X_=yo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,K_=yo`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Z_=yo`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Q_=Cl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${X_} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${K_} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Z_} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,J_=yo`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,eT=Cl("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${J_} 1s linear infinite;
`,tT=yo`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,nT=yo`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,rT=Cl("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${tT} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${nT} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,iT=Cl("div")`
  position: absolute;
`,sT=Cl("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,aT=yo`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oT=Cl("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${aT} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,lT=({toast:e})=>{let{icon:t,type:n,iconTheme:r}=e;return t!==void 0?typeof t=="string"?me.createElement(oT,null,t):t:n==="blank"?null:me.createElement(sT,null,me.createElement(eT,{...r}),n!=="loading"&&me.createElement(iT,null,n==="error"?me.createElement(Q_,{...r}):me.createElement(rT,{...r})))},cT=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uT=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,dT="0%{opacity:0;} 100%{opacity:1;}",hT="0%{opacity:1;} 100%{opacity:0;}",fT=Cl("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,pT=Cl("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,gT=(e,t)=>{let n=e.includes("top")?1:-1,[r,i]=eA()?[dT,hT]:[cT(n),uT(n)];return{animation:t?`${yo(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${yo(i)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},mT=me.memo(({toast:e,position:t,style:n,children:r})=>{let i=e.height?gT(e.position||t||"top-center",e.visible):{opacity:0},s=me.createElement(lT,{toast:e}),o=me.createElement(pT,{...e.ariaProps},j0(e.message,e));return me.createElement(fT,{className:e.className,style:{...i,...n,...e.style}},typeof r=="function"?r({icon:s,message:o}):me.createElement(me.Fragment,null,s,o))});F_(me.createElement);var xT=({id:e,className:t,style:n,onHeightUpdate:r,children:i})=>{let s=me.useCallback(o=>{if(o){let u=()=>{let d=o.getBoundingClientRect().height;r(e,d)};u(),new MutationObserver(u).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,r]);return me.createElement("div",{ref:s,className:t,style:n},i)},yT=(e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:eA()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(n?1:-1)}px)`,...r,...i}},vT=b1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_f=16,wT=({reverseOrder:e,position:t="top-center",toastOptions:n,gutter:r,children:i,toasterId:s,containerStyle:o,containerClassName:u})=>{let{toasts:d,handlers:f}=Y_(n,s);return me.createElement("div",{"data-rht-toaster":s||"",style:{position:"fixed",zIndex:9999,top:_f,left:_f,right:_f,bottom:_f,pointerEvents:"none",...o},className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map(m=>{let x=m.position||t,A=f.calculateOffset(m,{reverseOrder:e,gutter:r,defaultPosition:t}),b=yT(x,A);return me.createElement(xT,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?vT:"",style:b},m.type==="custom"?j0(m.message,m):i?i(m):me.createElement(mT,{toast:m,position:x}))}))},qs=Zr;const sA=me.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),S1=me.createContext({}),N1=me.createContext(null),C1=typeof document<"u",cx=C1?me.useLayoutEffect:me.useEffect,aA=me.createContext({strict:!1}),ux=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),bT="framerAppearId",oA="data-"+ux(bT);function AT(e,t,n,r){const{visualElement:i}=me.useContext(S1),s=me.useContext(aA),o=me.useContext(N1),u=me.useContext(sA).reducedMotion,d=me.useRef();r=r||s.renderer,!d.current&&r&&(d.current=r(e,{visualState:t,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:u}));const f=d.current;me.useInsertionEffect(()=>{f&&f.update(n,o)});const m=me.useRef(!!(n[oA]&&!window.HandoffComplete));return cx(()=>{f&&(f.render(),m.current&&f.animationState&&f.animationState.animateChanges())}),me.useEffect(()=>{f&&(f.updateFeatures(),!m.current&&f.animationState&&f.animationState.animateChanges(),m.current&&(m.current=!1,window.HandoffComplete=!0))}),f}function uu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function ST(e,t,n){return me.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):uu(n)&&(n.current=r))},[t])}function gh(e){return typeof e=="string"||Array.isArray(e)}function E1(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const dx=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hx=["initial",...dx];function _1(e){return E1(e.animate)||hx.some(t=>gh(e[t]))}function lA(e){return!!(_1(e)||e.variants)}function NT(e,t){if(_1(e)){const{initial:n,animate:r}=e;return{initial:n===!1||gh(n)?n:void 0,animate:gh(r)?r:void 0}}return e.inherit!==!1?t:{}}function CT(e){const{initial:t,animate:n}=NT(e,me.useContext(S1));return me.useMemo(()=>({initial:t,animate:n}),[Wv(t),Wv(n)])}function Wv(e){return Array.isArray(e)?e.join(" "):e}const $v={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},mh={};for(const e in $v)mh[e]={isEnabled:t=>$v[e].some(n=>!!t[n])};function ET(e){for(const t in e)mh[t]={...mh[t],...e[t]}}const fx=me.createContext({}),cA=me.createContext({}),_T=Symbol.for("motionComponentSymbol");function TT({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&ET(e);function s(u,d){let f;const m={...me.useContext(sA),...u,layoutId:IT(u)},{isStatic:x}=m,A=CT(u),b=r(u,x);if(!x&&C1){A.visualElement=AT(i,b,m,t);const P=me.useContext(cA),I=me.useContext(aA).strict;A.visualElement&&(f=A.visualElement.loadFeatures(m,I,e,P))}return me.createElement(S1.Provider,{value:A},f&&A.visualElement?me.createElement(f,{visualElement:A.visualElement,...m}):null,n(i,u,ST(b,A.visualElement,d),b,x,A.visualElement))}const o=me.forwardRef(s);return o[_T]=i,o}function IT({layoutId:e}){const t=me.useContext(fx).id;return t&&e!==void 0?t+"-"+e:e}function kT(e){function t(r,i={}){return TT(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const LT=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function px(e){return typeof e!="string"||e.includes("-")?!1:!!(LT.indexOf(e)>-1||/[A-Z]/.test(e))}const R0={};function PT(e){Object.assign(R0,e)}const Ph=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cc=new Set(Ph);function uA(e,{layout:t,layoutId:n}){return Cc.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!R0[e]||e==="opacity")}const os=e=>!!(e&&e.getVelocity),OT={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},DT=Ph.length;function jT(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<DT;o++){const u=Ph[o];if(e[u]!==void 0){const d=OT[u]||u;s+=`${d}(${e[u]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const dA=e=>t=>typeof t=="string"&&t.startsWith(e),hA=dA("--"),wm=dA("var(--"),RT=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,MT=(e,t)=>t&&typeof e=="number"?t.transform(e):e,ml=(e,t,n)=>Math.min(Math.max(n,e),t),Ec={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bd={...Ec,transform:e=>ml(0,1,e)},Tf={...Ec,default:1},Fd=e=>Math.round(e*1e5)/1e5,T1=/(-)?([\d]*\.?[\d])+/g,fA=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,BT=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Oh(e){return typeof e=="string"}const Dh=e=>({test:t=>Oh(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),qo=Dh("deg"),Ba=Dh("%"),Mt=Dh("px"),FT=Dh("vh"),UT=Dh("vw"),Gv={...Ba,parse:e=>Ba.parse(e)/100,transform:e=>Ba.transform(e*100)},Yv={...Ec,transform:Math.round},pA={borderWidth:Mt,borderTopWidth:Mt,borderRightWidth:Mt,borderBottomWidth:Mt,borderLeftWidth:Mt,borderRadius:Mt,radius:Mt,borderTopLeftRadius:Mt,borderTopRightRadius:Mt,borderBottomRightRadius:Mt,borderBottomLeftRadius:Mt,width:Mt,maxWidth:Mt,height:Mt,maxHeight:Mt,size:Mt,top:Mt,right:Mt,bottom:Mt,left:Mt,padding:Mt,paddingTop:Mt,paddingRight:Mt,paddingBottom:Mt,paddingLeft:Mt,margin:Mt,marginTop:Mt,marginRight:Mt,marginBottom:Mt,marginLeft:Mt,rotate:qo,rotateX:qo,rotateY:qo,rotateZ:qo,scale:Tf,scaleX:Tf,scaleY:Tf,scaleZ:Tf,skew:qo,skewX:qo,skewY:qo,distance:Mt,translateX:Mt,translateY:Mt,translateZ:Mt,x:Mt,y:Mt,z:Mt,perspective:Mt,transformPerspective:Mt,opacity:Bd,originX:Gv,originY:Gv,originZ:Mt,zIndex:Yv,fillOpacity:Bd,strokeOpacity:Bd,numOctaves:Yv};function gx(e,t,n,r){const{style:i,vars:s,transform:o,transformOrigin:u}=e;let d=!1,f=!1,m=!0;for(const x in t){const A=t[x];if(hA(x)){s[x]=A;continue}const b=pA[x],P=MT(A,b);if(Cc.has(x)){if(d=!0,o[x]=P,!m)continue;A!==(b.default||0)&&(m=!1)}else x.startsWith("origin")?(f=!0,u[x]=P):i[x]=P}if(t.transform||(d||r?i.transform=jT(e.transform,n,m,r):i.transform&&(i.transform="none")),f){const{originX:x="50%",originY:A="50%",originZ:b=0}=u;i.transformOrigin=`${x} ${A} ${b}`}}const mx=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gA(e,t,n){for(const r in t)!os(t[r])&&!uA(r,n)&&(e[r]=t[r])}function VT({transformTemplate:e},t,n){return me.useMemo(()=>{const r=mx();return gx(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function zT(e,t,n){const r=e.style||{},i={};return gA(i,r,e),Object.assign(i,VT(e,t,n)),e.transformValues?e.transformValues(i):i}function HT(e,t,n){const r={},i=zT(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const qT=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function M0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qT.has(e)}let mA=e=>!M0(e);function WT(e){e&&(mA=t=>t.startsWith("on")?!M0(t):e(t))}try{WT(require("@emotion/is-prop-valid").default)}catch{}function $T(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(mA(i)||n===!0&&M0(i)||!t&&!M0(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function Xv(e,t,n){return typeof e=="string"?e:Mt.transform(t+n*e)}function GT(e,t,n){const r=Xv(t,e.x,e.width),i=Xv(n,e.y,e.height);return`${r} ${i}`}const YT={offset:"stroke-dashoffset",array:"stroke-dasharray"},XT={offset:"strokeDashoffset",array:"strokeDasharray"};function KT(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?YT:XT;e[s.offset]=Mt.transform(-r);const o=Mt.transform(t),u=Mt.transform(n);e[s.array]=`${o} ${u}`}function xx(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:u=1,pathOffset:d=0,...f},m,x,A){if(gx(e,f,m,A),x){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:b,style:P,dimensions:I}=e;b.transform&&(I&&(P.transform=b.transform),delete b.transform),I&&(i!==void 0||s!==void 0||P.transform)&&(P.transformOrigin=GT(I,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(b.x=t),n!==void 0&&(b.y=n),r!==void 0&&(b.scale=r),o!==void 0&&KT(b,o,u,d,!1)}const xA=()=>({...mx(),attrs:{}}),yx=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ZT(e,t,n,r){const i=me.useMemo(()=>{const s=xA();return xx(s,t,{enableHardwareAcceleration:!1},yx(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};gA(s,e.style,e),i.style={...s,...i.style}}return i}function QT(e=!1){return(n,r,i,{latestValues:s},o)=>{const d=(px(n)?ZT:HT)(r,s,o,n),m={...$T(r,typeof n=="string",e),...d,ref:i},{children:x}=r,A=me.useMemo(()=>os(x)?x.get():x,[x]);return me.createElement(n,{...m,children:A})}}function yA(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const vA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function wA(e,t,n,r){yA(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(vA.has(i)?i:ux(i),t.attrs[i])}function vx(e,t){const{style:n}=e,r={};for(const i in n)(os(n[i])||t.style&&os(t.style[i])||uA(i,e))&&(r[i]=n[i]);return r}function bA(e,t){const n=vx(e,t);for(const r in e)if(os(e[r])||os(t[r])){const i=Ph.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function wx(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function AA(e){const t=me.useRef(null);return t.current===null&&(t.current=e()),t.current}const B0=e=>Array.isArray(e),JT=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),eI=e=>B0(e)?e[e.length-1]||0:e;function r0(e){const t=os(e)?e.get():e;return JT(t)?t.toValue():t}function tI({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const o={latestValues:nI(r,i,s,e),renderState:t()};return n&&(o.mount=u=>n(r,u,o)),o}const SA=e=>(t,n)=>{const r=me.useContext(S1),i=me.useContext(N1),s=()=>tI(e,t,r,i);return n?s():AA(s)};function nI(e,t,n,r){const i={},s=r(e,{});for(const A in s)i[A]=r0(s[A]);let{initial:o,animate:u}=e;const d=_1(e),f=lA(e);t&&f&&!d&&e.inherit!==!1&&(o===void 0&&(o=t.initial),u===void 0&&(u=t.animate));let m=n?n.initial===!1:!1;m=m||o===!1;const x=m?u:o;return x&&typeof x!="boolean"&&!E1(x)&&(Array.isArray(x)?x:[x]).forEach(b=>{const P=wx(e,b);if(!P)return;const{transitionEnd:I,transition:O,...E}=P;for(const _ in E){let L=E[_];if(Array.isArray(L)){const R=m?L.length-1:0;L=L[R]}L!==null&&(i[_]=L)}for(const _ in I)i[_]=I[_]}),i}const Lr=e=>e;class Kv{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function rI(e){let t=new Kv,n=new Kv,r=0,i=!1,s=!1;const o=new WeakSet,u={schedule:(d,f=!1,m=!1)=>{const x=m&&i,A=x?t:n;return f&&o.add(d),A.add(d)&&x&&i&&(r=t.order.length),d},cancel:d=>{n.remove(d),o.delete(d)},process:d=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let f=0;f<r;f++){const m=t.order[f];m(d),o.has(m)&&(u.schedule(m),e())}i=!1,s&&(s=!1,u.process(d))}};return u}const If=["prepare","read","update","preRender","render","postRender"],iI=40;function sI(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=If.reduce((x,A)=>(x[A]=rI(()=>n=!0),x),{}),o=x=>s[x].process(i),u=()=>{const x=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(x-i.timestamp,iI),1),i.timestamp=x,i.isProcessing=!0,If.forEach(o),i.isProcessing=!1,n&&t&&(r=!1,e(u))},d=()=>{n=!0,r=!0,i.isProcessing||e(u)};return{schedule:If.reduce((x,A)=>{const b=s[A];return x[A]=(P,I=!1,O=!1)=>(n||d(),b.schedule(P,I,O)),x},{}),cancel:x=>If.forEach(A=>s[A].cancel(x)),state:i,steps:s}}const{schedule:zn,cancel:vo,state:Li,steps:Fp}=sI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lr,!0),aI={useVisualState:SA({scrapeMotionValuesFromProps:bA,createRenderState:xA,onMount:(e,t,{renderState:n,latestValues:r})=>{zn.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),zn.render(()=>{xx(n,r,{enableHardwareAcceleration:!1},yx(t.tagName),e.transformTemplate),wA(t,n)})}})},oI={useVisualState:SA({scrapeMotionValuesFromProps:vx,createRenderState:mx})};function lI(e,{forwardMotionProps:t=!1},n,r){return{...px(e)?aI:oI,preloadedFeatures:n,useRender:QT(t),createVisualElement:r,Component:e}}function oo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const NA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function I1(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const cI=e=>t=>NA(t)&&e(t,I1(t));function uo(e,t,n,r){return oo(e,t,cI(n),r)}const uI=(e,t)=>n=>t(e(n)),fl=(...e)=>e.reduce(uI);function CA(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const Zv=CA("dragHorizontal"),Qv=CA("dragVertical");function EA(e){let t=!1;if(e==="y")t=Qv();else if(e==="x")t=Zv();else{const n=Zv(),r=Qv();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function _A(){const e=EA(!0);return e?(e(),!1):!0}class El{constructor(t){this.isMounted=!1,this.node=t}update(){}}function Jv(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||_A())return;const u=e.getProps();e.animationState&&u.whileHover&&e.animationState.setActive("whileHover",t),u[r]&&zn.update(()=>u[r](s,o))};return uo(e.current,n,i,{passive:!e.getProps()[r]})}class dI extends El{mount(){this.unmount=fl(Jv(this.node,!0),Jv(this.node,!1))}unmount(){}}class hI extends El{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fl(oo(this.node.current,"focus",()=>this.onFocus()),oo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const TA=(e,t)=>t?e===t?!0:TA(e,t.parentElement):!1;function Up(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,I1(n))}class fI extends El{constructor(){super(...arguments),this.removeStartListeners=Lr,this.removeEndListeners=Lr,this.removeAccessibleListeners=Lr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=uo(window,"pointerup",(u,d)=>{if(!this.checkPressEnd())return;const{onTap:f,onTapCancel:m,globalTapTarget:x}=this.node.getProps();zn.update(()=>{!x&&!TA(this.node.current,u.target)?m&&m(u,d):f&&f(u,d)})},{passive:!(r.onTap||r.onPointerUp)}),o=uo(window,"pointercancel",(u,d)=>this.cancelPress(u,d),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=fl(s,o),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=u=>{u.key!=="Enter"||!this.checkPressEnd()||Up("up",(d,f)=>{const{onTap:m}=this.node.getProps();m&&zn.update(()=>m(d,f))})};this.removeEndListeners(),this.removeEndListeners=oo(this.node.current,"keyup",o),Up("down",(u,d)=>{this.startPress(u,d)})},n=oo(this.node.current,"keydown",t),r=()=>{this.isPressing&&Up("cancel",(s,o)=>this.cancelPress(s,o))},i=oo(this.node.current,"blur",r);this.removeAccessibleListeners=fl(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&zn.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!_A()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&zn.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=uo(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=oo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=fl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const bm=new WeakMap,Vp=new WeakMap,pI=e=>{const t=bm.get(e.target);t&&t(e)},gI=e=>{e.forEach(pI)};function mI({root:e,...t}){const n=e||document;Vp.has(n)||Vp.set(n,{});const r=Vp.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(gI,{root:e,...t})),r[i]}function xI(e,t,n){const r=mI(t);return bm.set(e,n),r.observe(e),()=>{bm.delete(e),r.unobserve(e)}}const yI={some:0,all:1};class vI extends El{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:yI[i]},u=d=>{const{isIntersecting:f}=d;if(this.isInView===f||(this.isInView=f,s&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:m,onViewportLeave:x}=this.node.getProps(),A=f?m:x;A&&A(d)};return xI(this.node.current,o,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(wI(t,n))&&this.startObserver()}unmount(){}}function wI({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const bI={inView:{Feature:vI},tap:{Feature:fI},focus:{Feature:hI},hover:{Feature:dI}};function IA(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function AI(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function SI(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function k1(e,t,n){const r=e.getProps();return wx(r,t,n!==void 0?n:r.custom,AI(e),SI(e))}let bx=Lr;const pc=e=>e*1e3,ho=e=>e/1e3,NI={current:!1},kA=e=>Array.isArray(e)&&typeof e[0]=="number";function LA(e){return!!(!e||typeof e=="string"&&PA[e]||kA(e)||Array.isArray(e)&&e.every(LA))}const _d=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,PA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_d([0,.65,.55,1]),circOut:_d([.55,0,1,.45]),backIn:_d([.31,.01,.66,-.59]),backOut:_d([.33,1.53,.69,.99])};function OA(e){if(e)return kA(e)?_d(e):Array.isArray(e)?e.map(OA):PA[e]}function CI(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:u,times:d}={}){const f={[t]:n};d&&(f.offset=d);const m=OA(u);return Array.isArray(m)&&(f.easing=m),e.animate(f,{delay:r,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function EI(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const DA=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,_I=1e-7,TI=12;function II(e,t,n,r,i){let s,o,u=0;do o=t+(n-t)/2,s=DA(o,r,i)-e,s>0?n=o:t=o;while(Math.abs(s)>_I&&++u<TI);return o}function jh(e,t,n,r){if(e===t&&n===r)return Lr;const i=s=>II(s,0,1,e,n);return s=>s===0||s===1?s:DA(i(s),t,r)}const kI=jh(.42,0,1,1),LI=jh(0,0,.58,1),jA=jh(.42,0,.58,1),PI=e=>Array.isArray(e)&&typeof e[0]!="number",RA=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,MA=e=>t=>1-e(1-t),Ax=e=>1-Math.sin(Math.acos(e)),BA=MA(Ax),OI=RA(Ax),FA=jh(.33,1.53,.69,.99),Sx=MA(FA),DI=RA(Sx),jI=e=>(e*=2)<1?.5*Sx(e):.5*(2-Math.pow(2,-10*(e-1))),RI={linear:Lr,easeIn:kI,easeInOut:jA,easeOut:LI,circIn:Ax,circInOut:OI,circOut:BA,backIn:Sx,backInOut:DI,backOut:FA,anticipate:jI},e5=e=>{if(Array.isArray(e)){bx(e.length===4);const[t,n,r,i]=e;return jh(t,n,r,i)}else if(typeof e=="string")return RI[e];return e},Nx=(e,t)=>n=>!!(Oh(n)&&BT.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),UA=(e,t,n)=>r=>{if(!Oh(r))return r;const[i,s,o,u]=r.match(T1);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(o),alpha:u!==void 0?parseFloat(u):1}},MI=e=>ml(0,255,e),zp={...Ec,transform:e=>Math.round(MI(e))},lc={test:Nx("rgb","red"),parse:UA("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+zp.transform(e)+", "+zp.transform(t)+", "+zp.transform(n)+", "+Fd(Bd.transform(r))+")"};function BI(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Am={test:Nx("#"),parse:BI,transform:lc.transform},du={test:Nx("hsl","hue"),parse:UA("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ba.transform(Fd(t))+", "+Ba.transform(Fd(n))+", "+Fd(Bd.transform(r))+")"},zi={test:e=>lc.test(e)||Am.test(e)||du.test(e),parse:e=>lc.test(e)?lc.parse(e):du.test(e)?du.parse(e):Am.parse(e),transform:e=>Oh(e)?e:e.hasOwnProperty("red")?lc.transform(e):du.transform(e)},dr=(e,t,n)=>-n*e+n*t+e;function Hp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function FI({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,o=0;if(!t)i=s=o=n;else{const u=n<.5?n*(1+t):n+t-n*t,d=2*n-u;i=Hp(d,u,e+1/3),s=Hp(d,u,e),o=Hp(d,u,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const qp=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},UI=[Am,lc,du],VI=e=>UI.find(t=>t.test(e));function t5(e){const t=VI(e);let n=t.parse(e);return t===du&&(n=FI(n)),n}const VA=(e,t)=>{const n=t5(e),r=t5(t),i={...n};return s=>(i.red=qp(n.red,r.red,s),i.green=qp(n.green,r.green,s),i.blue=qp(n.blue,r.blue,s),i.alpha=dr(n.alpha,r.alpha,s),lc.transform(i))};function zI(e){var t,n;return isNaN(e)&&Oh(e)&&(((t=e.match(T1))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(fA))===null||n===void 0?void 0:n.length)||0)>0}const zA={regex:RT,countKey:"Vars",token:"${v}",parse:Lr},HA={regex:fA,countKey:"Colors",token:"${c}",parse:zi.parse},qA={regex:T1,countKey:"Numbers",token:"${n}",parse:Ec.parse};function Wp(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function F0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Wp(n,zA),Wp(n,HA),Wp(n,qA),n}function WA(e){return F0(e).values}function $A(e){const{values:t,numColors:n,numVars:r,tokenised:i}=F0(e),s=t.length;return o=>{let u=i;for(let d=0;d<s;d++)d<r?u=u.replace(zA.token,o[d]):d<r+n?u=u.replace(HA.token,zi.transform(o[d])):u=u.replace(qA.token,Fd(o[d]));return u}}const HI=e=>typeof e=="number"?0:e;function qI(e){const t=WA(e);return $A(e)(t.map(HI))}const xl={test:zI,parse:WA,createTransformer:$A,getAnimatableNone:qI},GA=(e,t)=>n=>`${n>0?t:e}`;function YA(e,t){return typeof e=="number"?n=>dr(e,t,n):zi.test(e)?VA(e,t):e.startsWith("var(")?GA(e,t):KA(e,t)}const XA=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,o)=>YA(s,t[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},WI=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=YA(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},KA=(e,t)=>{const n=xl.createTransformer(t),r=F0(e),i=F0(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?fl(XA(r.values,i.values),n):GA(e,t)},xh=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},n5=(e,t)=>n=>dr(e,t,n);function $I(e){return typeof e=="number"?n5:typeof e=="string"?zi.test(e)?VA:KA:Array.isArray(e)?XA:typeof e=="object"?WI:n5}function GI(e,t,n){const r=[],i=n||$I(e[0]),s=e.length-1;for(let o=0;o<s;o++){let u=i(e[o],e[o+1]);if(t){const d=Array.isArray(t)?t[o]||Lr:t;u=fl(d,u)}r.push(u)}return r}function ZA(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(bx(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=GI(t,r,i),u=o.length,d=f=>{let m=0;if(u>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const x=xh(e[m],e[m+1],f);return o[m](x)};return n?f=>d(ml(e[0],e[s-1],f)):d}function YI(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=xh(0,t,r);e.push(dr(n,1,i))}}function XI(e){const t=[0];return YI(t,e.length-1),t}function KI(e,t){return e.map(n=>n*t)}function ZI(e,t){return e.map(()=>t||jA).splice(0,e.length-1)}function U0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=PI(r)?r.map(e5):e5(r),s={done:!1,value:t[0]},o=KI(n&&n.length===t.length?n:XI(t),e),u=ZA(o,t,{ease:Array.isArray(i)?i:ZI(t,i)});return{calculatedDuration:e,next:d=>(s.value=u(d),s.done=d>=e,s)}}function QA(e,t){return t?e*(1e3/t):0}const QI=5;function JA(e,t,n){const r=Math.max(t-QI,0);return QA(n-e(r),t-r)}const $p=.001,JI=.01,e7=10,t7=.05,n7=1;function r7({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s,o=1-t;o=ml(t7,n7,o),e=ml(JI,e7,ho(e)),o<1?(i=f=>{const m=f*o,x=m*e,A=m-n,b=Sm(f,o),P=Math.exp(-x);return $p-A/b*P},s=f=>{const x=f*o*e,A=x*n+n,b=Math.pow(o,2)*Math.pow(f,2)*e,P=Math.exp(-x),I=Sm(Math.pow(f,2),o);return(-i(f)+$p>0?-1:1)*((A-b)*P)/I}):(i=f=>{const m=Math.exp(-f*e),x=(f-n)*e+1;return-$p+m*x},s=f=>{const m=Math.exp(-f*e),x=(n-f)*(e*e);return m*x});const u=5/e,d=s7(i,s,u);if(e=pc(e),isNaN(d))return{stiffness:100,damping:10,duration:e};{const f=Math.pow(d,2)*r;return{stiffness:f,damping:o*2*Math.sqrt(r*f),duration:e}}}const i7=12;function s7(e,t,n){let r=n;for(let i=1;i<i7;i++)r=r-e(r)/t(r);return r}function Sm(e,t){return e*Math.sqrt(1-t*t)}const a7=["duration","bounce"],o7=["stiffness","damping","mass"];function r5(e,t){return t.some(n=>e[n]!==void 0)}function l7(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!r5(e,o7)&&r5(e,a7)){const n=r7(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function e6({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],o={done:!1,value:i},{stiffness:u,damping:d,mass:f,duration:m,velocity:x,isResolvedFromDuration:A}=l7({...r,velocity:-ho(r.velocity||0)}),b=x||0,P=d/(2*Math.sqrt(u*f)),I=s-i,O=ho(Math.sqrt(u/f)),E=Math.abs(I)<5;n||(n=E?.01:2),t||(t=E?.005:.5);let _;if(P<1){const L=Sm(O,P);_=R=>{const V=Math.exp(-P*O*R);return s-V*((b+P*O*I)/L*Math.sin(L*R)+I*Math.cos(L*R))}}else if(P===1)_=L=>s-Math.exp(-O*L)*(I+(b+O*I)*L);else{const L=O*Math.sqrt(P*P-1);_=R=>{const V=Math.exp(-P*O*R),ie=Math.min(L*R,300);return s-V*((b+P*O*I)*Math.sinh(ie)+L*I*Math.cosh(ie))/L}}return{calculatedDuration:A&&m||null,next:L=>{const R=_(L);if(A)o.done=L>=m;else{let V=b;L!==0&&(P<1?V=JA(_,L,R):V=0);const ie=Math.abs(V)<=n,q=Math.abs(s-R)<=t;o.done=ie&&q}return o.value=o.done?s:R,o}}}function i5({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:u,max:d,restDelta:f=.5,restSpeed:m}){const x=e[0],A={done:!1,value:x},b=K=>u!==void 0&&K<u||d!==void 0&&K>d,P=K=>u===void 0?d:d===void 0||Math.abs(u-K)<Math.abs(d-K)?u:d;let I=n*t;const O=x+I,E=o===void 0?O:o(O);E!==O&&(I=E-x);const _=K=>-I*Math.exp(-K/r),L=K=>E+_(K),R=K=>{const $=_(K),ge=L(K);A.done=Math.abs($)<=f,A.value=A.done?E:ge};let V,ie;const q=K=>{b(A.value)&&(V=K,ie=e6({keyframes:[A.value,P(A.value)],velocity:JA(L,K,A.value),damping:i,stiffness:s,restDelta:f,restSpeed:m}))};return q(0),{calculatedDuration:null,next:K=>{let $=!1;return!ie&&V===void 0&&($=!0,R(K),q(K)),V!==void 0&&K>V?ie.next(K-V):(!$&&R(K),A)}}}const c7=e=>{const t=({timestamp:n})=>e(n);return{start:()=>zn.update(t,!0),stop:()=>vo(t),now:()=>Li.isProcessing?Li.timestamp:performance.now()}},s5=2e4;function a5(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<s5;)t+=n,r=e.next(t);return t>=s5?1/0:t}const u7={decay:i5,inertia:i5,tween:U0,keyframes:U0,spring:e6};function V0({autoplay:e=!0,delay:t=0,driver:n=c7,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:u="loop",onPlay:d,onStop:f,onComplete:m,onUpdate:x,...A}){let b=1,P=!1,I,O;const E=()=>{O=new Promise(Ue=>{I=Ue})};E();let _;const L=u7[i]||U0;let R;L!==U0&&typeof r[0]!="number"&&(R=ZA([0,100],r,{clamp:!1}),r=[0,100]);const V=L({...A,keyframes:r});let ie;u==="mirror"&&(ie=L({...A,keyframes:[...r].reverse(),velocity:-(A.velocity||0)}));let q="idle",K=null,$=null,ge=null;V.calculatedDuration===null&&s&&(V.calculatedDuration=a5(V));const{calculatedDuration:W}=V;let B=1/0,ee=1/0;W!==null&&(B=W+o,ee=B*(s+1)-o);let te=0;const J=Ue=>{if($===null)return;b>0&&($=Math.min($,Ue)),b<0&&($=Math.min(Ue-ee/b,$)),K!==null?te=K:te=Math.round(Ue-$)*b;const M=te-t*(b>=0?1:-1),ne=b>=0?M<0:M>ee;te=Math.max(M,0),q==="finished"&&K===null&&(te=ee);let oe=te,pe=V;if(s){const Oe=Math.min(te,ee)/B;let et=Math.floor(Oe),Ge=Oe%1;!Ge&&Oe>=1&&(Ge=1),Ge===1&&et--,et=Math.min(et,s+1),!!(et%2)&&(u==="reverse"?(Ge=1-Ge,o&&(Ge-=o/B)):u==="mirror"&&(pe=ie)),oe=ml(0,1,Ge)*B}const he=ne?{done:!1,value:r[0]}:pe.next(oe);R&&(he.value=R(he.value));let{done:Pe}=he;!ne&&W!==null&&(Pe=b>=0?te>=ee:te<=0);const Le=K===null&&(q==="finished"||q==="running"&&Pe);return x&&x(he.value),Le&&fe(),he},be=()=>{_&&_.stop(),_=void 0},ve=()=>{q="idle",be(),I(),E(),$=ge=null},fe=()=>{q="finished",m&&m(),be(),I()},Ce=()=>{if(P)return;_||(_=n(J));const Ue=_.now();d&&d(),K!==null?$=Ue-K:(!$||q==="finished")&&($=Ue),q==="finished"&&E(),ge=$,K=null,q="running",_.start()};e&&Ce();const Ie={then(Ue,M){return O.then(Ue,M)},get time(){return ho(te)},set time(Ue){Ue=pc(Ue),te=Ue,K!==null||!_||b===0?K=Ue:$=_.now()-Ue/b},get duration(){const Ue=V.calculatedDuration===null?a5(V):V.calculatedDuration;return ho(Ue)},get speed(){return b},set speed(Ue){Ue===b||!_||(b=Ue,Ie.time=ho(te))},get state(){return q},play:Ce,pause:()=>{q="paused",K=te},stop:()=>{P=!0,q!=="idle"&&(q="idle",f&&f(),ve())},cancel:()=>{ge!==null&&J(ge),ve()},complete:()=>{q="finished"},sample:Ue=>($=0,J(Ue))};return Ie}function d7(e){let t;return()=>(t===void 0&&(t=e()),t)}const h7=d7(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),f7=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),kf=10,p7=2e4,g7=(e,t)=>t.type==="spring"||e==="backgroundColor"||!LA(t.ease);function m7(e,t,{onUpdate:n,onComplete:r,...i}){if(!(h7()&&f7.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,u,d,f=!1;const m=()=>{d=new Promise(L=>{u=L})};m();let{keyframes:x,duration:A=300,ease:b,times:P}=i;if(g7(t,i)){const L=V0({...i,repeat:0,delay:0});let R={done:!1,value:x[0]};const V=[];let ie=0;for(;!R.done&&ie<p7;)R=L.sample(ie),V.push(R.value),ie+=kf;P=void 0,x=V,A=ie-kf,b="linear"}const I=CI(e.owner.current,t,x,{...i,duration:A,ease:b,times:P}),O=()=>{f=!1,I.cancel()},E=()=>{f=!0,zn.update(O),u(),m()};return I.onfinish=()=>{f||(e.set(EI(x,i)),r&&r(),E())},{then(L,R){return d.then(L,R)},attachTimeline(L){return I.timeline=L,I.onfinish=null,Lr},get time(){return ho(I.currentTime||0)},set time(L){I.currentTime=pc(L)},get speed(){return I.playbackRate},set speed(L){I.playbackRate=L},get duration(){return ho(A)},play:()=>{o||(I.play(),vo(O))},pause:()=>I.pause(),stop:()=>{if(o=!0,I.playState==="idle")return;const{currentTime:L}=I;if(L){const R=V0({...i,autoplay:!1});e.setWithVelocity(R.sample(L-kf).value,R.sample(L).value,kf)}E()},complete:()=>{f||I.finish()},cancel:E}}function x7({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Lr,pause:Lr,stop:Lr,then:s=>(s(),Promise.resolve()),cancel:Lr,complete:Lr});return t?V0({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const y7={type:"spring",stiffness:500,damping:25,restSpeed:10},v7=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),w7={type:"keyframes",duration:.8},b7={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},A7=(e,{keyframes:t})=>t.length>2?w7:Cc.has(e)?e.startsWith("scale")?v7(t[1]):y7:b7,Nm=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(xl.test(t)||t==="0")&&!t.startsWith("url(")),S7=new Set(["brightness","contrast","saturate","opacity"]);function N7(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(T1)||[];if(!r)return e;const i=n.replace(r,"");let s=S7.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const C7=/([a-z-]*)\(.*?\)/g,Cm={...xl,getAnimatableNone:e=>{const t=e.match(C7);return t?t.map(N7).join(" "):e}},E7={...pA,color:zi,backgroundColor:zi,outlineColor:zi,fill:zi,stroke:zi,borderColor:zi,borderTopColor:zi,borderRightColor:zi,borderBottomColor:zi,borderLeftColor:zi,filter:Cm,WebkitFilter:Cm},Cx=e=>E7[e];function t6(e,t){let n=Cx(e);return n!==Cm&&(n=xl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const n6=e=>/^0[^.\s]+$/.test(e);function _7(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||n6(e)}function T7(e,t,n,r){const i=Nm(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:e.get();let u;const d=[];for(let f=0;f<s.length;f++)s[f]===null&&(s[f]=f===0?o:s[f-1]),_7(s[f])&&d.push(f),typeof s[f]=="string"&&s[f]!=="none"&&s[f]!=="0"&&(u=s[f]);if(i&&d.length&&u)for(let f=0;f<d.length;f++){const m=d[f];s[m]=t6(t,u)}return s}function I7({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:u,from:d,elapsed:f,...m}){return!!Object.keys(m).length}function Ex(e,t){return e[t]||e.default||e}const k7={skipAnimations:!1},_x=(e,t,n,r={})=>i=>{const s=Ex(r,e)||{},o=s.delay||r.delay||0;let{elapsed:u=0}=r;u=u-pc(o);const d=T7(t,e,n,s),f=d[0],m=d[d.length-1],x=Nm(e,f),A=Nm(e,m);let b={keyframes:d,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-u,onUpdate:P=>{t.set(P),s.onUpdate&&s.onUpdate(P)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(I7(s)||(b={...b,...A7(e,b)}),b.duration&&(b.duration=pc(b.duration)),b.repeatDelay&&(b.repeatDelay=pc(b.repeatDelay)),!x||!A||NI.current||s.type===!1||k7.skipAnimations)return x7(b);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const P=m7(t,e,b);if(P)return P}return V0(b)};function z0(e){return!!(os(e)&&e.add)}const r6=e=>/^\-?\d*\.?\d+$/.test(e);function Tx(e,t){e.indexOf(t)===-1&&e.push(t)}function Ix(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class kx{constructor(){this.subscriptions=[]}add(t){return Tx(this.subscriptions,t),()=>Ix(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const L7=e=>!isNaN(parseFloat(e));class P7{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Li;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,zn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>zn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=L7(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new kx);const r=this.events[t].add(n);return t==="change"?()=>{r(),zn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?QA(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ou(e,t){return new P7(e,t)}const i6=e=>t=>t.test(e),O7={test:e=>e==="auto",parse:e=>e},s6=[Ec,Mt,Ba,qo,UT,FT,O7],pd=e=>s6.find(i6(e)),D7=[...s6,zi,xl],j7=e=>D7.find(i6(e));function R7(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Ou(n))}function M7(e,t){const n=k1(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const u=eI(s[o]);R7(e,o,u)}}function B7(e,t,n){var r,i;const s=Object.keys(t).filter(u=>!e.hasValue(u)),o=s.length;if(o)for(let u=0;u<o;u++){const d=s[u],f=t[d];let m=null;Array.isArray(f)&&(m=f[0]),m===null&&(m=(i=(r=n[d])!==null&&r!==void 0?r:e.readValue(d))!==null&&i!==void 0?i:t[d]),m!=null&&(typeof m=="string"&&(r6(m)||n6(m))?m=parseFloat(m):!j7(m)&&xl.test(f)&&(m=t6(d,f)),e.addValue(d,Ou(m,{owner:e})),n[d]===void 0&&(n[d]=m),m!==null&&e.setBaseTarget(d,m))}}function F7(e,t){return t?(t[e]||t.default||t).from:void 0}function U7(e,t,n){const r={};for(const i in e){const s=F7(i,t);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function V7({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function z7(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function a6(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:o,...u}=e.makeTargetAnimatable(t);const d=e.getValue("willChange");r&&(s=r);const f=[],m=i&&e.animationState&&e.animationState.getState()[i];for(const x in u){const A=e.getValue(x),b=u[x];if(!A||b===void 0||m&&V7(m,x))continue;const P={delay:n,elapsed:0,...Ex(s||{},x)};if(window.HandoffAppearAnimations){const E=e.getProps()[oA];if(E){const _=window.HandoffAppearAnimations(E,x,A,zn);_!==null&&(P.elapsed=_,P.isHandoff=!0)}}let I=!P.isHandoff&&!z7(A,b);if(P.type==="spring"&&(A.getVelocity()||P.velocity)&&(I=!1),A.animation&&(I=!1),I)continue;A.start(_x(x,A,b,e.shouldReduceMotion&&Cc.has(x)?{type:!1}:P));const O=A.animation;z0(d)&&(d.add(x),O.then(()=>d.remove(x))),f.push(O)}return o&&Promise.all(f).then(()=>{o&&M7(e,o)}),f}function Em(e,t,n={}){const r=k1(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(a6(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:x}=i;return H7(e,t,f+d,m,x,n)}:()=>Promise.resolve(),{when:u}=i;if(u){const[d,f]=u==="beforeChildren"?[s,o]:[o,s];return d().then(()=>f())}else return Promise.all([s(),o(n.delay)])}function H7(e,t,n=0,r=0,i=1,s){const o=[],u=(e.variantChildren.size-1)*r,d=i===1?(f=0)=>f*r:(f=0)=>u-f*r;return Array.from(e.variantChildren).sort(q7).forEach((f,m)=>{f.notify("AnimationStart",t),o.push(Em(f,t,{...s,delay:n+d(m)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(o)}function q7(e,t){return e.sortNodePosition(t)}function W7(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Em(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Em(e,t,n);else{const i=typeof t=="function"?k1(e,t,n.custom):t;r=Promise.all(a6(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const $7=[...dx].reverse(),G7=dx.length;function Y7(e){return t=>Promise.all(t.map(({animation:n,options:r})=>W7(e,n,r)))}function X7(e){let t=Y7(e);const n=Z7();let r=!0;const i=(d,f)=>{const m=k1(e,f);if(m){const{transition:x,transitionEnd:A,...b}=m;d={...d,...b,...A}}return d};function s(d){t=d(e)}function o(d,f){const m=e.getProps(),x=e.getVariantContext(!0)||{},A=[],b=new Set;let P={},I=1/0;for(let E=0;E<G7;E++){const _=$7[E],L=n[_],R=m[_]!==void 0?m[_]:x[_],V=gh(R),ie=_===f?L.isActive:null;ie===!1&&(I=E);let q=R===x[_]&&R!==m[_]&&V;if(q&&r&&e.manuallyAnimateOnMount&&(q=!1),L.protectedKeys={...P},!L.isActive&&ie===null||!R&&!L.prevProp||E1(R)||typeof R=="boolean")continue;let $=K7(L.prevProp,R)||_===f&&L.isActive&&!q&&V||E>I&&V,ge=!1;const W=Array.isArray(R)?R:[R];let B=W.reduce(i,{});ie===!1&&(B={});const{prevResolvedValues:ee={}}=L,te={...ee,...B},J=be=>{$=!0,b.has(be)&&(ge=!0,b.delete(be)),L.needsAnimating[be]=!0};for(const be in te){const ve=B[be],fe=ee[be];if(P.hasOwnProperty(be))continue;let Ce=!1;B0(ve)&&B0(fe)?Ce=!IA(ve,fe):Ce=ve!==fe,Ce?ve!==void 0?J(be):b.add(be):ve!==void 0&&b.has(be)?J(be):L.protectedKeys[be]=!0}L.prevProp=R,L.prevResolvedValues=B,L.isActive&&(P={...P,...B}),r&&e.blockInitialAnimation&&($=!1),$&&(!q||ge)&&A.push(...W.map(be=>({animation:be,options:{type:_,...d}})))}if(b.size){const E={};b.forEach(_=>{const L=e.getBaseTarget(_);L!==void 0&&(E[_]=L)}),A.push({animation:E})}let O=!!A.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(O=!1),r=!1,O?t(A):Promise.resolve()}function u(d,f,m){var x;if(n[d].isActive===f)return Promise.resolve();(x=e.variantChildren)===null||x===void 0||x.forEach(b=>{var P;return(P=b.animationState)===null||P===void 0?void 0:P.setActive(d,f)}),n[d].isActive=f;const A=o(m,d);for(const b in n)n[b].protectedKeys={};return A}return{animateChanges:o,setActive:u,setAnimateFunction:s,getState:()=>n}}function K7(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IA(t,e):!1}function Gl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Z7(){return{animate:Gl(!0),whileInView:Gl(),whileHover:Gl(),whileTap:Gl(),whileDrag:Gl(),whileFocus:Gl(),exit:Gl()}}class Q7 extends El{constructor(t){super(t),t.animationState||(t.animationState=X7(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),E1(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let J7=0;class ek extends El{constructor(){super(...arguments),this.id=J7++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const tk={animation:{Feature:Q7},exit:{Feature:ek}},o5=(e,t)=>Math.abs(e-t);function nk(e,t){const n=o5(e.x,t.x),r=o5(e.y,t.y);return Math.sqrt(n**2+r**2)}class o6{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Yp(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,b=nk(x.offset,{x:0,y:0})>=3;if(!A&&!b)return;const{point:P}=x,{timestamp:I}=Li;this.history.push({...P,timestamp:I});const{onStart:O,onMove:E}=this.handlers;A||(O&&O(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,x)},this.handlePointerMove=(x,A)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Gp(A,this.transformPagePoint),zn.update(this.updatePoint,!0)},this.handlePointerUp=(x,A)=>{this.end();const{onEnd:b,onSessionEnd:P,resumeAnimation:I}=this.handlers;if(this.dragSnapToOrigin&&I&&I(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=Yp(x.type==="pointercancel"?this.lastMoveEventInfo:Gp(A,this.transformPagePoint),this.history);this.startEvent&&b&&b(x,O),P&&P(x,O)},!NA(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=I1(t),u=Gp(o,this.transformPagePoint),{point:d}=u,{timestamp:f}=Li;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=n;m&&m(t,Yp(u,this.history)),this.removeListeners=fl(uo(this.contextWindow,"pointermove",this.handlePointerMove),uo(this.contextWindow,"pointerup",this.handlePointerUp),uo(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),vo(this.updatePoint)}}function Gp(e,t){return t?{point:t(e.point)}:e}function l5(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Yp({point:e},t){return{point:e,delta:l5(e,l6(t)),offset:l5(e,rk(t)),velocity:ik(t,.1)}}function rk(e){return e[0]}function l6(e){return e[e.length-1]}function ik(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=l6(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>pc(t)));)n--;if(!r)return{x:0,y:0};const s=ho(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Es(e){return e.max-e.min}function _m(e,t=0,n=.01){return Math.abs(e-t)<=n}function c5(e,t,n,r=.5){e.origin=r,e.originPoint=dr(t.min,t.max,e.origin),e.scale=Es(n)/Es(t),(_m(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=dr(n.min,n.max,e.origin)-e.originPoint,(_m(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Ud(e,t,n,r){c5(e.x,t.x,n.x,r?r.originX:void 0),c5(e.y,t.y,n.y,r?r.originY:void 0)}function u5(e,t,n){e.min=n.min+t.min,e.max=e.min+Es(t)}function sk(e,t,n){u5(e.x,t.x,n.x),u5(e.y,t.y,n.y)}function d5(e,t,n){e.min=t.min-n.min,e.max=e.min+Es(t)}function Vd(e,t,n){d5(e.x,t.x,n.x),d5(e.y,t.y,n.y)}function ak(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?dr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?dr(n,e,r.max):Math.min(e,n)),e}function h5(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function ok(e,{top:t,left:n,bottom:r,right:i}){return{x:h5(e.x,n,i),y:h5(e.y,t,r)}}function f5(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function lk(e,t){return{x:f5(e.x,t.x),y:f5(e.y,t.y)}}function ck(e,t){let n=.5;const r=Es(e),i=Es(t);return i>r?n=xh(t.min,t.max-r,e.min):r>i&&(n=xh(e.min,e.max-i,t.min)),ml(0,1,n)}function uk(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const Tm=.35;function dk(e=Tm){return e===!1?e=0:e===!0&&(e=Tm),{x:p5(e,"left","right"),y:p5(e,"top","bottom")}}function p5(e,t,n){return{min:g5(e,t),max:g5(e,n)}}function g5(e,t){return typeof e=="number"?e:e[t]||0}const m5=()=>({translate:0,scale:1,origin:0,originPoint:0}),hu=()=>({x:m5(),y:m5()}),x5=()=>({min:0,max:0}),Ur=()=>({x:x5(),y:x5()});function Vs(e){return[e("x"),e("y")]}function c6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function hk({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function fk(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Xp(e){return e===void 0||e===1}function Im({scale:e,scaleX:t,scaleY:n}){return!Xp(e)||!Xp(t)||!Xp(n)}function Ql(e){return Im(e)||u6(e)||e.z||e.rotate||e.rotateX||e.rotateY}function u6(e){return y5(e.x)||y5(e.y)}function y5(e){return e&&e!=="0%"}function H0(e,t,n){const r=e-n,i=t*r;return n+i}function v5(e,t,n,r,i){return i!==void 0&&(e=H0(e,i,r)),H0(e,n,r)+t}function km(e,t=0,n=1,r,i){e.min=v5(e.min,t,n,r,i),e.max=v5(e.max,t,n,r,i)}function d6(e,{x:t,y:n}){km(e.x,t.translate,t.scale,t.originPoint),km(e.y,n.translate,n.scale,n.originPoint)}function pk(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,o;for(let u=0;u<i;u++){s=n[u],o=s.projectionDelta;const d=s.instance;d&&d.style&&d.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&fu(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,d6(e,o)),r&&Ql(s.latestValues)&&fu(e,s.latestValues))}t.x=w5(t.x),t.y=w5(t.y)}function w5(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Yo(e,t){e.min=e.min+t,e.max=e.max+t}function b5(e,t,[n,r,i]){const s=t[i]!==void 0?t[i]:.5,o=dr(e.min,e.max,s);km(e,t[n],t[r],o,t.scale)}const gk=["x","scaleX","originX"],mk=["y","scaleY","originY"];function fu(e,t){b5(e.x,t,gk),b5(e.y,t,mk)}function h6(e,t){return c6(fk(e.getBoundingClientRect(),t))}function xk(e,t,n){const r=h6(e,n),{scroll:i}=t;return i&&(Yo(r.x,i.offset.x),Yo(r.y,i.offset.y)),r}const f6=({current:e})=>e?e.ownerDocument.defaultView:null,yk=new WeakMap;class vk{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ur(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(I1(m,"page").point)},s=(m,x)=>{const{drag:A,dragPropagation:b,onDragStart:P}=this.getProps();if(A&&!b&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=EA(A),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Vs(O=>{let E=this.getAxisMotionValue(O).get()||0;if(Ba.test(E)){const{projection:_}=this.visualElement;if(_&&_.layout){const L=_.layout.layoutBox[O];L&&(E=Es(L)*(parseFloat(E)/100))}}this.originPoint[O]=E}),P&&zn.update(()=>P(m,x),!1,!0);const{animationState:I}=this.visualElement;I&&I.setActive("whileDrag",!0)},o=(m,x)=>{const{dragPropagation:A,dragDirectionLock:b,onDirectionLock:P,onDrag:I}=this.getProps();if(!A&&!this.openGlobalLock)return;const{offset:O}=x;if(b&&this.currentDirection===null){this.currentDirection=wk(O),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",x.point,O),this.updateAxis("y",x.point,O),this.visualElement.render(),I&&I(m,x)},u=(m,x)=>this.stop(m,x),d=()=>Vs(m=>{var x;return this.getAnimationState(m)==="paused"&&((x=this.getAxisMotionValue(m).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new o6(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:f6(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&zn.update(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Lf(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=ak(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&uu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=ok(i.layoutBox,n):this.constraints=!1,this.elastic=dk(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Vs(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=uk(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!uu(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=xk(r,i.root,this.visualElement.getTransformPagePoint());let o=lk(i.layout.layoutBox,s);if(n){const u=n(hk(o));this.hasMutatedConstraints=!!u,u&&(o=c6(u))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:u}=this.getProps(),d=this.constraints||{},f=Vs(m=>{if(!Lf(m,n,this.currentDirection))return;let x=d&&d[m]||{};o&&(x={min:0,max:0});const A=i?200:1e6,b=i?40:1e7,P={type:"inertia",velocity:r?t[m]:0,bounceStiffness:A,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...s,...x};return this.startAxisValueAnimation(m,P)});return Promise.all(f).then(u)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(_x(t,r,0,n))}stopAnimation(){Vs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Vs(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Vs(n=>{const{drag:r}=this.getProps();if(!Lf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:u}=i.layout.layoutBox[n];s.set(t[n]-dr(o,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!uu(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Vs(o=>{const u=this.getAxisMotionValue(o);if(u){const d=u.get();i[o]=ck({min:d,max:d},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Vs(o=>{if(!Lf(o,t,null))return;const u=this.getAxisMotionValue(o),{min:d,max:f}=this.constraints[o];u.set(dr(d,f,i[o]))})}addListeners(){if(!this.visualElement.current)return;yk.set(this.visualElement,this);const t=this.visualElement.current,n=uo(t,"pointerdown",d=>{const{drag:f,dragListener:m=!0}=this.getProps();f&&m&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();uu(d)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=oo(window,"resize",()=>this.scalePositionWithinConstraints()),u=i.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f})=>{this.isDragging&&f&&(Vs(m=>{const x=this.getAxisMotionValue(m);x&&(this.originPoint[m]+=d[m].translate,x.set(x.get()+d[m].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Tm,dragMomentum:u=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:u}}}function Lf(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function wk(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class bk extends El{constructor(t){super(t),this.removeGroupControls=Lr,this.removeListeners=Lr,this.controls=new vk(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const A5=e=>(t,n)=>{e&&zn.update(()=>e(t,n))};class Ak extends El{constructor(){super(...arguments),this.removePointerDownListener=Lr}onPointerDown(t){this.session=new o6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:f6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:A5(t),onStart:A5(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&zn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=uo(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Sk(){const e=me.useContext(N1);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=me.useId();return me.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const i0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S5(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const gd={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Mt.test(e))e=parseFloat(e);else return e;const n=S5(e,t.target.x),r=S5(e,t.target.y);return`${n}% ${r}%`}},Nk={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=xl.parse(e);if(i.length>5)return r;const s=xl.createTransformer(e),o=typeof i[0]!="number"?1:0,u=n.x.scale*t.x,d=n.y.scale*t.y;i[0+o]/=u,i[1+o]/=d;const f=dr(u,d,.5);return typeof i[2+o]=="number"&&(i[2+o]/=f),typeof i[3+o]=="number"&&(i[3+o]/=f),s(i)}};class Ck extends Wt.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;PT(Ek),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),i0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||zn.postRender(()=>{const u=o.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function p6(e){const[t,n]=Sk(),r=me.useContext(fx);return Wt.createElement(Ck,{...e,layoutGroup:r,switchLayoutGroup:me.useContext(cA),isPresent:t,safeToRemove:n})}const Ek={borderRadius:{...gd,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gd,borderTopRightRadius:gd,borderBottomLeftRadius:gd,borderBottomRightRadius:gd,boxShadow:Nk},g6=["TopLeft","TopRight","BottomLeft","BottomRight"],_k=g6.length,N5=e=>typeof e=="string"?parseFloat(e):e,C5=e=>typeof e=="number"||Mt.test(e);function Tk(e,t,n,r,i,s){i?(e.opacity=dr(0,n.opacity!==void 0?n.opacity:1,Ik(r)),e.opacityExit=dr(t.opacity!==void 0?t.opacity:1,0,kk(r))):s&&(e.opacity=dr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<_k;o++){const u=`border${g6[o]}Radius`;let d=E5(t,u),f=E5(n,u);if(d===void 0&&f===void 0)continue;d||(d=0),f||(f=0),d===0||f===0||C5(d)===C5(f)?(e[u]=Math.max(dr(N5(d),N5(f),r),0),(Ba.test(f)||Ba.test(d))&&(e[u]+="%")):e[u]=f}(t.rotate||n.rotate)&&(e.rotate=dr(t.rotate||0,n.rotate||0,r))}function E5(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ik=m6(0,.5,BA),kk=m6(.5,.95,Lr);function m6(e,t,n){return r=>r<e?0:r>t?1:n(xh(e,t,r))}function _5(e,t){e.min=t.min,e.max=t.max}function Us(e,t){_5(e.x,t.x),_5(e.y,t.y)}function T5(e,t,n,r,i){return e-=t,e=H0(e,1/n,r),i!==void 0&&(e=H0(e,1/i,r)),e}function Lk(e,t=0,n=1,r=.5,i,s=e,o=e){if(Ba.test(t)&&(t=parseFloat(t),t=dr(o.min,o.max,t/100)-o.min),typeof t!="number")return;let u=dr(s.min,s.max,r);e===s&&(u-=t),e.min=T5(e.min,t,n,u,i),e.max=T5(e.max,t,n,u,i)}function I5(e,t,[n,r,i],s,o){Lk(e,t[n],t[r],t[i],t.scale,s,o)}const Pk=["x","scaleX","originX"],Ok=["y","scaleY","originY"];function k5(e,t,n,r){I5(e.x,t,Pk,n?n.x:void 0,r?r.x:void 0),I5(e.y,t,Ok,n?n.y:void 0,r?r.y:void 0)}function L5(e){return e.translate===0&&e.scale===1}function x6(e){return L5(e.x)&&L5(e.y)}function Dk(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function y6(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function P5(e){return Es(e.x)/Es(e.y)}class jk{constructor(){this.members=[]}add(t){Tx(this.members,t),t.scheduleRender()}remove(t){if(Ix(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function O5(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:d,rotateX:f,rotateY:m}=n;d&&(r+=`rotate(${d}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `)}const o=e.x.scale*t.x,u=e.y.scale*t.y;return(o!==1||u!==1)&&(r+=`scale(${o}, ${u})`),r||"none"}const Rk=(e,t)=>e.depth-t.depth;class Mk{constructor(){this.children=[],this.isDirty=!1}add(t){Tx(this.children,t),this.isDirty=!0}remove(t){Ix(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Rk),this.isDirty=!1,this.children.forEach(t)}}function Bk(e,t){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(vo(r),e(s-t))};return zn.read(r,!0),()=>vo(r)}function Fk(e){window.MotionDebug&&window.MotionDebug.record(e)}function Uk(e){return e instanceof SVGElement&&e.tagName!=="svg"}function Vk(e,t,n){const r=os(e)?e:Ou(e);return r.start(_x("",r,t,n)),r.animation}const D5=["","X","Y","Z"],zk={visibility:"hidden"},j5=1e3;let Hk=0;const Jl={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function v6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},u=t==null?void 0:t()){this.id=Hk++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Jl.totalNodes=Jl.resolvedTargetDeltas=Jl.recalculatedProjection=0,this.nodes.forEach($k),this.nodes.forEach(Zk),this.nodes.forEach(Qk),this.nodes.forEach(Gk),Fk(Jl)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new Mk)}addEventListener(o,u){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new kx),this.eventHandlers.get(o).add(u)}notifyListeners(o,...u){const d=this.eventHandlers.get(o);d&&d.notify(...u)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,u=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Uk(o),this.instance=o;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),u&&(f||d)&&(this.isLayoutDirty=!0),e){let x;const A=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=Bk(A,250),i0.hasAnimatedSinceResize&&(i0.hasAnimatedSinceResize=!1,this.nodes.forEach(M5))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:A,hasRelativeTargetChanged:b,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const I=this.options.transition||m.getDefaultTransition()||rL,{onLayoutAnimationStart:O,onLayoutAnimationComplete:E}=m.getProps(),_=!this.targetLayout||!y6(this.targetLayout,P)||b,L=!A&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||L||A&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,L);const R={...Ex(I,"layout"),onPlay:O,onComplete:E};(m.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R)}else A||M5(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,vo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jk),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const x=this.path[m];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:u,layout:d}=this.options;if(u===void 0&&!d)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(R5);return}this.isUpdating||this.nodes.forEach(Xk),this.isUpdating=!1,this.nodes.forEach(Kk),this.nodes.forEach(qk),this.nodes.forEach(Wk),this.clearAllSnapshots();const u=performance.now();Li.delta=ml(0,1e3/60,u-Li.timestamp),Li.timestamp=u,Li.isProcessing=!0,Fp.update.process(Li),Fp.preRender.process(Li),Fp.render.process(Li),Li.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Yk),this.sharedNodes.forEach(eL)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,zn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){zn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ur(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let u=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(u=!1),u&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,u=this.projectionDelta&&!x6(this.projectionDelta),d=this.getTransformTemplate(),f=d?d(this.latestValues,""):void 0,m=f!==this.prevTransformTemplateValue;o&&(u||Ql(this.latestValues)||m)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const u=this.measurePageBox();let d=this.removeElementScroll(u);return o&&(d=this.removeTransform(d)),iL(d),{animationId:this.root.animationId,measuredBox:u,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Ur();const u=o.measureViewportBox(),{scroll:d}=this.root;return d&&(Yo(u.x,d.offset.x),Yo(u.y,d.offset.y)),u}removeElementScroll(o){const u=Ur();Us(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:x}=f;if(f!==this.root&&m&&x.layoutScroll){if(m.isRoot){Us(u,o);const{scroll:A}=this.root;A&&(Yo(u.x,-A.offset.x),Yo(u.y,-A.offset.y))}Yo(u.x,m.offset.x),Yo(u.y,m.offset.y)}}return u}applyTransform(o,u=!1){const d=Ur();Us(d,o);for(let f=0;f<this.path.length;f++){const m=this.path[f];!u&&m.options.layoutScroll&&m.scroll&&m!==m.root&&fu(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Ql(m.latestValues)&&fu(d,m.latestValues)}return Ql(this.latestValues)&&fu(d,this.latestValues),d}removeTransform(o){const u=Ur();Us(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];if(!f.instance||!Ql(f.latestValues))continue;Im(f.latestValues)&&f.updateSnapshot();const m=Ur(),x=f.measurePageBox();Us(m,x),k5(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,m)}return Ql(this.latestValues)&&k5(u,this.latestValues),u}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Li.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var u;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(o||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:x,layoutId:A}=this.options;if(!(!this.layout||!(x||A))){if(this.resolvedRelativeTargetAt=Li.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),Vd(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ur(),this.targetWithTransforms=Ur()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Us(this.target,this.layout.layoutBox),d6(this.target,this.targetDelta)):Us(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ur(),this.relativeTargetOrigin=Ur(),Vd(this.relativeTargetOrigin,this.target,b.target),Us(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Jl.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Im(this.parent.latestValues)||u6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const u=this.getLead(),d=!!this.resumingFrom||this!==u;let f=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Li.timestamp&&(f=!1),f)return;const{layout:m,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||x))return;Us(this.layoutCorrected,this.layout.layoutBox);const A=this.treeScale.x,b=this.treeScale.y;pk(this.layoutCorrected,this.treeScale,this.path,d),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox);const{target:P}=u;if(!P){this.projectionTransform&&(this.projectionDelta=hu(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=hu(),this.projectionDeltaWithTransform=hu());const I=this.projectionTransform;Ud(this.projectionDelta,this.layoutCorrected,P,this.latestValues),this.projectionTransform=O5(this.projectionDelta,this.treeScale),(this.projectionTransform!==I||this.treeScale.x!==A||this.treeScale.y!==b)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P)),Jl.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,u=!1){const d=this.snapshot,f=d?d.latestValues:{},m={...this.latestValues},x=hu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const A=Ur(),b=d?d.source:void 0,P=this.layout?this.layout.source:void 0,I=b!==P,O=this.getStack(),E=!O||O.members.length<=1,_=!!(I&&!E&&this.options.crossfade===!0&&!this.path.some(nL));this.animationProgress=0;let L;this.mixTargetDelta=R=>{const V=R/1e3;B5(x.x,o.x,V),B5(x.y,o.y,V),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Vd(A,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tL(this.relativeTarget,this.relativeTargetOrigin,A,V),L&&Dk(this.relativeTarget,L)&&(this.isProjectionDirty=!1),L||(L=Ur()),Us(L,this.relativeTarget)),I&&(this.animationValues=m,Tk(m,f,this.latestValues,V,_,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(vo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=zn.update(()=>{i0.hasAnimatedSinceResize=!0,this.currentAnimation=Vk(0,j5,{...o,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(j5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:u,target:d,layout:f,latestValues:m}=o;if(!(!u||!d||!f)){if(this!==o&&this.layout&&f&&w6(this.options.animationType,this.layout.layoutBox,f.layoutBox)){d=this.target||Ur();const x=Es(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+x;const A=Es(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+A}Us(u,d),fu(u,m),Ud(this.projectionDeltaWithTransform,this.layoutCorrected,u,m)}}registerSharedNode(o,u){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jk),this.sharedNodes.get(o).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:u}=this.options;return u?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:u}=this.options;return u?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:u,preserveFollowOpacity:d}={}){const f=this.getStack();f&&f.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let u=!1;const{latestValues:d}=o;if((d.rotate||d.rotateX||d.rotateY||d.rotateZ)&&(u=!0),!u)return;const f={};for(let m=0;m<D5.length;m++){const x="rotate"+D5[m];d[x]&&(f[x]=d[x],o.setStaticValue(x,0))}o.render();for(const m in f)o.setStaticValue(m,f[m]);o.scheduleRender()}getProjectionStyles(o){var u,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zk;const f={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=r0(o==null?void 0:o.pointerEvents)||"",f.transform=m?m(this.latestValues,""):"none",f;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=r0(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Ql(this.latestValues)&&(I.transform=m?m({},""):"none",this.hasProjected=!1),I}const A=x.animationValues||x.latestValues;this.applyTransformsToTarget(),f.transform=O5(this.projectionDeltaWithTransform,this.treeScale,A),m&&(f.transform=m(A,f.transform));const{x:b,y:P}=this.projectionDelta;f.transformOrigin=`${b.origin*100}% ${P.origin*100}% 0`,x.animationValues?f.opacity=x===this?(d=(u=A.opacity)!==null&&u!==void 0?u:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:A.opacityExit:f.opacity=x===this?A.opacity!==void 0?A.opacity:"":A.opacityExit!==void 0?A.opacityExit:0;for(const I in R0){if(A[I]===void 0)continue;const{correct:O,applyTo:E}=R0[I],_=f.transform==="none"?A[I]:O(A[I],x);if(E){const L=E.length;for(let R=0;R<L;R++)f[E[R]]=_}else f[I]=_}return this.options.layoutId&&(f.pointerEvents=x===this?r0(o==null?void 0:o.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var u;return(u=o.currentAnimation)===null||u===void 0?void 0:u.stop()}),this.root.nodes.forEach(R5),this.root.sharedNodes.clear()}}}function qk(e){e.updateLayout()}function Wk(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,o=n.source!==e.layout.source;s==="size"?Vs(x=>{const A=o?n.measuredBox[x]:n.layoutBox[x],b=Es(A);A.min=r[x].min,A.max=A.min+b}):w6(s,n.layoutBox,r)&&Vs(x=>{const A=o?n.measuredBox[x]:n.layoutBox[x],b=Es(r[x]);A.max=A.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+b)});const u=hu();Ud(u,r,n.layoutBox);const d=hu();o?Ud(d,e.applyTransform(i,!0),n.measuredBox):Ud(d,r,n.layoutBox);const f=!x6(u);let m=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:A,layout:b}=x;if(A&&b){const P=Ur();Vd(P,n.layoutBox,A.layoutBox);const I=Ur();Vd(I,r,b.layoutBox),y6(P,I)||(m=!0),x.options.layoutRoot&&(e.relativeTarget=I,e.relativeTargetOrigin=P,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:d,layoutDelta:u,hasLayoutChanged:f,hasRelativeTargetChanged:m})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function $k(e){Jl.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Gk(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Yk(e){e.clearSnapshot()}function R5(e){e.clearMeasurements()}function Xk(e){e.isLayoutDirty=!1}function Kk(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function M5(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Zk(e){e.resolveTargetDelta()}function Qk(e){e.calcProjection()}function Jk(e){e.resetRotation()}function eL(e){e.removeLeadSnapshot()}function B5(e,t,n){e.translate=dr(t.translate,0,n),e.scale=dr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function F5(e,t,n,r){e.min=dr(t.min,n.min,r),e.max=dr(t.max,n.max,r)}function tL(e,t,n,r){F5(e.x,t.x,n.x,r),F5(e.y,t.y,n.y,r)}function nL(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const rL={duration:.45,ease:[.4,0,.1,1]},U5=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),V5=U5("applewebkit/")&&!U5("chrome/")?Math.round:Lr;function z5(e){e.min=V5(e.min),e.max=V5(e.max)}function iL(e){z5(e.x),z5(e.y)}function w6(e,t,n){return e==="position"||e==="preserve-aspect"&&!_m(P5(t),P5(n),.2)}const sL=v6({attachResizeListener:(e,t)=>oo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kp={current:void 0},b6=v6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Kp.current){const e=new sL({});e.mount(window),e.setOptions({layoutScroll:!0}),Kp.current=e}return Kp.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),aL={pan:{Feature:Ak},drag:{Feature:bk,ProjectionNode:b6,MeasureLayout:p6}},oL=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function lL(e){const t=oL.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Lm(e,t,n=1){const[r,i]=lL(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const o=s.trim();return r6(o)?parseFloat(o):o}else return wm(i)?Lm(i,t,n+1):i}function cL(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!wm(s))return;const o=Lm(s,r);o&&i.set(o)});for(const i in t){const s=t[i];if(!wm(s))continue;const o=Lm(s,r);o&&(t[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const uL=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),A6=e=>uL.has(e),dL=e=>Object.keys(e).some(A6),H5=e=>e===Ec||e===Mt,q5=(e,t)=>parseFloat(e.split(", ")[t]),W5=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return q5(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?q5(s[1],e):0}},hL=new Set(["x","y","z"]),fL=Ph.filter(e=>!hL.has(e));function pL(e){const t=[];return fL.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Du={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:W5(4,13),y:W5(5,14)};Du.translateX=Du.x;Du.translateY=Du.y;const gL=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:o}=s,u={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(f=>{u[f]=Du[f](r,s)}),t.render();const d=t.measureViewportBox();return n.forEach(f=>{const m=t.getValue(f);m&&m.jump(u[f]),e[f]=Du[f](d,s)}),e},mL=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(A6);let s=[],o=!1;const u=[];if(i.forEach(d=>{const f=e.getValue(d);if(!e.hasValue(d))return;let m=n[d],x=pd(m);const A=t[d];let b;if(B0(A)){const P=A.length,I=A[0]===null?1:0;m=A[I],x=pd(m);for(let O=I;O<P&&A[O]!==null;O++)b?bx(pd(A[O])===b):b=pd(A[O])}else b=pd(A);if(x!==b)if(H5(x)&&H5(b)){const P=f.get();typeof P=="string"&&f.set(parseFloat(P)),typeof A=="string"?t[d]=parseFloat(A):Array.isArray(A)&&b===Mt&&(t[d]=A.map(parseFloat))}else x!=null&&x.transform&&(b!=null&&b.transform)&&(m===0||A===0)?m===0?f.set(b.transform(m)):t[d]=x.transform(A):(o||(s=pL(e),o=!0),u.push(d),r[d]=r[d]!==void 0?r[d]:t[d],f.jump(A))}),u.length){const d=u.indexOf("height")>=0?window.pageYOffset:null,f=gL(t,e,u);return s.length&&s.forEach(([m,x])=>{e.getValue(m).set(x)}),e.render(),C1&&d!==null&&window.scrollTo({top:d}),{target:f,transitionEnd:r}}else return{target:t,transitionEnd:r}};function xL(e,t,n,r){return dL(t)?mL(e,t,n,r):{target:t,transitionEnd:r}}const yL=(e,t,n,r)=>{const i=cL(e,t,r);return t=i.target,r=i.transitionEnd,xL(e,t,n,r)},Pm={current:null},S6={current:!1};function vL(){if(S6.current=!0,!!C1)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Pm.current=e.matches;e.addListener(t),t()}else Pm.current=!1}function wL(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],o=n[i];if(os(s))e.addValue(i,s),z0(r)&&r.add(i);else if(os(o))e.addValue(i,Ou(s,{owner:e})),z0(r)&&r.remove(i);else if(o!==s)if(e.hasValue(i)){const u=e.getValue(i);!u.hasAnimated&&u.set(s)}else{const u=e.getStaticValue(i);e.addValue(i,Ou(u!==void 0?u:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const $5=new WeakMap,N6=Object.keys(mh),bL=N6.length,G5=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],AL=hx.length;class SL{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>zn.render(this.render,!1,!0);const{latestValues:u,renderState:d}=s;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=_1(n),this.isVariantNode=lA(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{});for(const x in m){const A=m[x];u[x]!==void 0&&os(A)&&(A.set(u[x],!1),z0(f)&&f.add(x))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,$5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),S6.current||vL(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Pm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){$5.delete(this.current),this.projection&&this.projection.unmount(),vo(this.notifyUpdate),vo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Cc.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&zn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let o,u;for(let d=0;d<bL;d++){const f=N6[d],{isEnabled:m,Feature:x,ProjectionNode:A,MeasureLayout:b}=mh[f];A&&(o=A),m(n)&&(!this.features[f]&&x&&(this.features[f]=new x(this)),b&&(u=b))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:d,layout:f,drag:m,dragConstraints:x,layoutScroll:A,layoutRoot:b}=n;this.projection.setOptions({layoutId:d,layout:f,alwaysMeasureLayout:!!m||x&&uu(x),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:s,layoutScroll:A,layoutRoot:b})}return u}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ur()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<G5.length;r++){const i=G5[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=wL(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<AL;r++){const i=hx[r],s=this.props[i];(gh(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Ou(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=wx(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!os(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new kx),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class C6 extends SL{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let o=U7(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){B7(this,r,o);const u=yL(this,r,o,n);n=u.transitionEnd,r=u.target}return{transition:t,transitionEnd:n,...r}}}function NL(e){return window.getComputedStyle(e)}class CL extends C6{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Cc.has(n)){const r=Cx(n);return r&&r.default||0}else{const r=NL(t),i=(hA(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return h6(t,n)}build(t,n,r,i){gx(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return vx(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;os(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){yA(t,n,r,i)}}class EL extends C6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Cc.has(n)){const r=Cx(n);return r&&r.default||0}return n=vA.has(n)?n:ux(n),t.getAttribute(n)}measureInstanceViewportBox(){return Ur()}scrapeMotionValuesFromProps(t,n){return bA(t,n)}build(t,n,r,i){xx(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){wA(t,n,r,i)}mount(t){this.isSVGTag=yx(t.tagName),super.mount(t)}}const _L=(e,t)=>px(e)?new EL(t,{enableHardwareAcceleration:!1}):new CL(t,{enableHardwareAcceleration:!0}),TL={layout:{ProjectionNode:b6,MeasureLayout:p6}},IL={...tk,...bI,...aL,...TL},lt=kT((e,t)=>lI(e,t,IL,_L));function E6(){const e=me.useRef(!1);return cx(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function kL(){const e=E6(),[t,n]=me.useState(0),r=me.useCallback(()=>{e.current&&n(t+1)},[t]);return[me.useCallback(()=>zn.postRender(r),[r]),t]}class LL extends me.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PL({children:e,isPresent:t}){const n=me.useId(),r=me.useRef(null),i=me.useRef({width:0,height:0,top:0,left:0});return me.useInsertionEffect(()=>{const{width:s,height:o,top:u,left:d}=i.current;if(t||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${u}px !important;
            left: ${d}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),me.createElement(LL,{isPresent:t,childRef:r,sizeRef:i},me.cloneElement(e,{ref:r}))}const Zp=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const u=AA(OL),d=me.useId(),f=me.useMemo(()=>({id:d,initial:t,isPresent:n,custom:i,onExitComplete:m=>{u.set(m,!0);for(const x of u.values())if(!x)return;r&&r()},register:m=>(u.set(m,!1),()=>u.delete(m))}),s?void 0:[n]);return me.useMemo(()=>{u.forEach((m,x)=>u.set(x,!1))},[n]),me.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(e=me.createElement(PL,{isPresent:n},e)),me.createElement(N1.Provider,{value:f},e)};function OL(){return new Map}function DL(e){return me.useEffect(()=>()=>e(),[])}const ec=e=>e.key||"";function jL(e,t){e.forEach(n=>{const r=ec(n);t.set(r,n)})}function RL(e){const t=[];return me.Children.forEach(e,n=>{me.isValidElement(n)&&t.push(n)}),t}const _6=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const u=me.useContext(fx).forceRender||kL()[0],d=E6(),f=RL(e);let m=f;const x=me.useRef(new Map).current,A=me.useRef(m),b=me.useRef(new Map).current,P=me.useRef(!0);if(cx(()=>{P.current=!1,jL(f,b),A.current=m}),DL(()=>{P.current=!0,b.clear(),x.clear()}),P.current)return me.createElement(me.Fragment,null,m.map(_=>me.createElement(Zp,{key:ec(_),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},_)));m=[...m];const I=A.current.map(ec),O=f.map(ec),E=I.length;for(let _=0;_<E;_++){const L=I[_];O.indexOf(L)===-1&&!x.has(L)&&x.set(L,void 0)}return o==="wait"&&x.size&&(m=[]),x.forEach((_,L)=>{if(O.indexOf(L)!==-1)return;const R=b.get(L);if(!R)return;const V=I.indexOf(L);let ie=_;if(!ie){const q=()=>{x.delete(L);const K=Array.from(b.keys()).filter($=>!O.includes($));if(K.forEach($=>b.delete($)),A.current=f.filter($=>{const ge=ec($);return ge===L||K.includes(ge)}),!x.size){if(d.current===!1)return;u(),r&&r()}};ie=me.createElement(Zp,{key:ec(R),isPresent:!1,onExitComplete:q,custom:t,presenceAffectsLayout:s,mode:o},R),x.set(L,ie)}m.splice(V,0,ie)}),m=m.map(_=>{const L=_.key;return x.has(L)?_:me.createElement(Zp,{key:ec(_),isPresent:!0,presenceAffectsLayout:s,mode:o},_)}),me.createElement(me.Fragment,null,x.size?m:m.map(_=>me.cloneElement(_)))};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ML={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ln=(e,t)=>{const n=me.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:u="",children:d,...f},m)=>me.createElement("svg",{ref:m,...ML,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${BL(e)}`,u].join(" "),...f},[...t.map(([x,A])=>me.createElement(x,A)),...Array.isArray(d)?d:[d]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Om=ln("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=ln("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=ln("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=ln("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=ln("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=ln("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ln("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yh=ln("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=ln("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ln("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=ln("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=ln("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=ln("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=ln("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=ln("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=ln("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=ln("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=ln("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=ln("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=ln("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=ln("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=ln("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=ln("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=ln("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=ln("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=ln("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=ln("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=ln("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=ln("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=ln("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=ln("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=ln("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=ln("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=ln("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=ln("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ln("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),T6=()=>{const[e,t]=me.useState(!1),[n,r]=me.useState(!1),i=kh();me.useEffect(()=>{const o=()=>{r(window.scrollY>50)};return window.addEventListener("scroll",o),()=>window.removeEventListener("scroll",o)},[]);const s=[{name:"Home",href:i.pathname==="/"?"#home":"/#home"},{name:"Events",href:i.pathname==="/"?"#events":"/events"},{name:"About",href:i.pathname==="/"?"#about":"/#about"},{name:"Contact",href:i.pathname==="/"?"#contact":"/#contact"}];return v.jsx("div",{className:"fixed top-0 left-0 right-0 z-50 px-2 md:px-4 pt-2 md:pt-4",children:v.jsx(lt.nav,{initial:{y:-100},animate:{y:0},className:`transition-all duration-500 ease-out ${n?"bg-white/80 backdrop-blur-xl shadow-2xl border-2 border-slate-200/80 rounded-2xl max-w-4xl md:max-w-7xl mx-auto":"bg-transparent max-w-4xl md:max-w-7xl mx-auto"}`,children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6",children:[v.jsxs("div",{className:"flex items-center justify-between h-14 md:h-16 relative",children:[v.jsx("div",{className:"hidden md:flex items-center z-10",children:v.jsx("img",{src:"/carntext-b.svg",alt:"Carnival LDN",className:"h-6 md:h-8 w-auto max-w-[120px] md:max-w-[220px] object-contain transition-all duration-300",style:{filter:n?"none":"brightness(0) invert(1) drop-shadow(0 0 8px rgba(0,0,0,0.5))"}})}),v.jsx(lt.div,{whileHover:{scale:1.05},className:"pl-2 md:pl-0 md:absolute md:left-1/2 md:transform md:-translate-x-1/2 z-10",children:v.jsx("div",{className:"relative",children:v.jsx("img",{src:n?"/carnival-logo.svg":"/carnival-logo-w.svg",alt:"Carnival LDN Logo",className:"w-10 h-10 md:w-12 md:h-12 object-contain transition-all duration-300",style:{backgroundColor:"transparent"}})})}),v.jsx("div",{className:"flex justify-end z-10",children:v.jsx(lt.button,{whileTap:{scale:.95},onClick:()=>t(!e),className:`p-4 transition-colors rounded-lg ${n?"text-gray-700 hover:text-gray-900 hover:bg-gray-100":"text-white hover:text-gray-200 hover:bg-white/10"}`,children:e?v.jsx(Rh,{size:28,strokeWidth:2.5}):v.jsx(WL,{size:28,strokeWidth:2.5})})})]}),v.jsx(_6,{children:e&&v.jsx(lt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:`md:hidden border-t mt-2 overflow-hidden ${n?"border-gray-200/50":"border-white/30"}`,children:v.jsxs("div",{className:"px-2 py-6 space-y-0",children:[s.map((o,u)=>v.jsxs("div",{children:[v.jsx(lt.a,{href:o.href,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:u*.1},onClick:()=>t(!1),className:`block text-center text-lg font-medium transition-colors py-3 rounded-lg ${n?"text-gray-700 hover:text-gray-900 hover:bg-gray-50":"text-white hover:text-gray-200 hover:bg-white/10"}`,children:o.name}),u<s.length-1&&v.jsx("div",{className:`border-b mx-4 ${n?"border-gray-200":"border-white/30"}`})]},o.name)),v.jsx(lt.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s.length*.1},className:`w-full py-3 rounded-lg font-medium transition-colors text-base mt-4 ${n?"bg-gray-900 hover:bg-gray-800 text-white":"bg-white/90 hover:bg-white text-gray-900"}`,children:"Book Event"})]})})})]})})})},Mh=()=>{const e=me.useRef(null),[t,n]=me.useState(!1),[r,i]=me.useState("full");return me.useEffect(()=>{const s=()=>{if(e.current){const u=["upper","lower","full"],d=u[Math.floor(Math.random()*u.length)];i(d),n(!0),setTimeout(()=>{n(!1)},200);const f=Math.random()*500+100;setTimeout(s,f)}},o=setTimeout(()=>{s()},100);return()=>{clearTimeout(o)}},[]),{glitchRef:e,isGlitching:t,glitchType:r}},eP=()=>v.jsxs(lt.span,{className:"inline-block px-3 sm:px-4 md:px-6 py-2 sm:py-2.5 md:py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20 text-sm sm:text-base md:text-lg",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.5)"},animate:{boxShadow:["0 0 10px rgba(255, 255, 255, 0.1)","0 0 20px rgba(255, 255, 255, 0.2)","0 0 10px rgba(255, 255, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[v.jsx(Z5,{className:"hidden md:inline-block mr-2 w-4 h-4 md:w-5 md:h-5 text-yellow-400"}),"London's Most Professional Events Experience",v.jsx(Z5,{className:"hidden md:inline-block ml-2 w-4 h-4 md:w-5 md:h-5 text-yellow-400"})]}),tP=()=>{const{glitchRef:e,isGlitching:t,glitchType:n}=Mh(),r=Gu(),i={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.3,delayChildren:.2}}},s={hidden:{y:50,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",damping:15,stiffness:100}}},o=()=>{r("/events")},u=()=>{const d=document.getElementById("contact");d&&d.scrollIntoView({behavior:"smooth"})};return v.jsxs("section",{id:"home",className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-16 sm:pt-20 md:pt-32 pb-12 sm:pb-16 md:pb-24 px-2 sm:px-4",children:[v.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[v.jsx("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",children:v.jsx("source",{src:"/vid.mp4",type:"video/mp4"})}),v.jsx("div",{className:"absolute inset-0 bg-black/50"})]}),v.jsx("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 text-center relative z-10",children:v.jsxs(lt.div,{variants:i,initial:"hidden",animate:"visible",className:"space-y-6 md:space-y-8",children:[v.jsx(lt.div,{variants:s,children:v.jsx("h1",{ref:e,className:`text-6xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl glitch-text ${t?`glitch-active glitch-${n}`:""}`,"data-text":"CARNIVAL LDN",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"CARNIVAL LDN"})}),v.jsxs(lt.div,{variants:s,className:"space-y-4 md:space-y-6 lg:space-y-7",children:[v.jsx(lt.h2,{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-light max-w-4xl mx-auto leading-relaxed px-2 text-white drop-shadow-lg",children:v.jsx(eP,{})}),v.jsx(lt.p,{animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"text-s sm:text-sm md:text-base lg:text-lg xl:text-xl max-w-3xl mx-auto leading-relaxed px-2 bg-gradient-to-r from-gray-200 via-white to-gray-200 bg-[length:200%_200%] bg-clip-text text-transparent drop-shadow-lg",children:"From corporate events to cultural celebrations, from exclusive parties to memorable occasions"})]}),v.jsxs(lt.div,{variants:s,className:"flex flex-col sm:flex-row gap-3 sm:gap-4 md:gap-6 justify-center items-center pt-4 sm:pt-6 md:pt-8 px-2 sm:px-4",children:[v.jsxs(lt.button,{onClick:o,whileHover:{scale:1.05,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},whileTap:{scale:.95},className:"bg-white/90 hover:bg-white text-gray-900 font-bold text-base sm:text-base md:text-lg px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 md:py-4 rounded-lg group w-3/4 sm:w-auto flex items-center justify-center space-x-2 transition-all shadow-lg backdrop-blur-sm border border-white/30",children:[v.jsx("span",{children:"Explore Events"}),v.jsx(q0,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 group-hover:translate-x-1 transition-transform"})]}),v.jsx(lt.button,{onClick:u,whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-transparent hover:bg-white/90 text-white hover:text-gray-900 px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 md:py-4 text-base sm:text-base md:text-lg font-semibold rounded-lg border-2 border-white/70 w-3/4 sm:w-auto transition-all backdrop-blur-sm",children:"Book Private Event"})]})]})})]})},nP={},ew=e=>{let t;const n=new Set,r=(m,x)=>{const A=typeof m=="function"?m(t):m;if(!Object.is(A,t)){const b=t;t=x??(typeof A!="object"||A===null)?A:Object.assign({},t,A),n.forEach(P=>P(t,b))}},i=()=>t,d={setState:r,getState:i,getInitialState:()=>f,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(nP?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,i,d);return d},rP=e=>e?ew(e):ew;var I6={exports:{}},k6={},L6={exports:{}},P6={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ru=me;function iP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sP=typeof Object.is=="function"?Object.is:iP,aP=Ru.useState,oP=Ru.useEffect,lP=Ru.useLayoutEffect,cP=Ru.useDebugValue;function uP(e,t){var n=t(),r=aP({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return lP(function(){i.value=n,i.getSnapshot=t,Qp(i)&&s({inst:i})},[e,n,t]),oP(function(){return Qp(i)&&s({inst:i}),e(function(){Qp(i)&&s({inst:i})})},[e]),cP(n),n}function Qp(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sP(e,n)}catch{return!0}}function dP(e,t){return t()}var hP=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dP:uP;P6.useSyncExternalStore=Ru.useSyncExternalStore!==void 0?Ru.useSyncExternalStore:hP;L6.exports=P6;var fP=L6.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1=me,pP=fP;function gP(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mP=typeof Object.is=="function"?Object.is:gP,xP=pP.useSyncExternalStore,yP=P1.useRef,vP=P1.useEffect,wP=P1.useMemo,bP=P1.useDebugValue;k6.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=yP(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=wP(function(){function d(b){if(!f){if(f=!0,m=b,b=r(b),i!==void 0&&o.hasValue){var P=o.value;if(i(P,b))return x=P}return x=b}if(P=x,mP(m,b))return P;var I=r(b);return i!==void 0&&i(P,I)?(m=b,P):(m=b,x=I)}var f=!1,m,x,A=n===void 0?null:n;return[function(){return d(t())},A===null?void 0:function(){return d(A())}]},[t,n,r,i]);var u=xP(e,s[0],s[1]);return vP(function(){o.hasValue=!0,o.value=u},[u]),bP(u),u};I6.exports=k6;var AP=I6.exports;const SP=r1(AP),O6={},{useDebugValue:NP}=Wt,{useSyncExternalStoreWithSelector:CP}=SP;let tw=!1;const EP=e=>e;function _P(e,t=EP,n){(O6?"production":void 0)!=="production"&&n&&!tw&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),tw=!0);const r=CP(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return NP(r),r}const TP=e=>{(O6?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?rP(e):e,n=(r,i)=>_P(t,r,i);return Object.assign(n,t),n},IP=e=>TP,kP={};function LP(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const o=d=>d===null?null:JSON.parse(d,void 0),u=(s=n.getItem(i))!=null?s:null;return u instanceof Promise?u.then(o):o(u)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const vh=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return vh(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return vh(r)(n)}}}},PP=(e,t)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:O=>O,version:0,merge:(O,E)=>({...E,...O}),...t},o=!1;const u=new Set,d=new Set;let f;try{f=s.getStorage()}catch{}if(!f)return e((...O)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...O)},r,i);const m=vh(s.serialize),x=()=>{const O=s.partialize({...r()});let E;const _=m({state:O,version:s.version}).then(L=>f.setItem(s.name,L)).catch(L=>{E=L});if(E)throw E;return _},A=i.setState;i.setState=(O,E)=>{A(O,E),x()};const b=e((...O)=>{n(...O),x()},r,i);let P;const I=()=>{var O;if(!f)return;o=!1,u.forEach(_=>_(r()));const E=((O=s.onRehydrateStorage)==null?void 0:O.call(s,r()))||void 0;return vh(f.getItem.bind(f))(s.name).then(_=>{if(_)return s.deserialize(_)}).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return s.migrate(_.state,_.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return _.state}).then(_=>{var L;return P=s.merge(_,(L=r())!=null?L:b),n(P,!0),x()}).then(()=>{E==null||E(P,void 0),o=!0,d.forEach(_=>_(P))}).catch(_=>{E==null||E(void 0,_)})};return i.persist={setOptions:O=>{s={...s,...O},O.getStorage&&(f=O.getStorage())},clearStorage:()=>{f==null||f.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>I(),hasHydrated:()=>o,onHydrate:O=>(u.add(O),()=>{u.delete(O)}),onFinishHydration:O=>(d.add(O),()=>{d.delete(O)})},I(),P||b},OP=(e,t)=>(n,r,i)=>{let s={storage:LP(()=>localStorage),partialize:I=>I,version:0,merge:(I,O)=>({...O,...I}),...t},o=!1;const u=new Set,d=new Set;let f=s.storage;if(!f)return e((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...I)},r,i);const m=()=>{const I=s.partialize({...r()});return f.setItem(s.name,{state:I,version:s.version})},x=i.setState;i.setState=(I,O)=>{x(I,O),m()};const A=e((...I)=>{n(...I),m()},r,i);i.getInitialState=()=>A;let b;const P=()=>{var I,O;if(!f)return;o=!1,u.forEach(_=>{var L;return _((L=r())!=null?L:A)});const E=((O=s.onRehydrateStorage)==null?void 0:O.call(s,(I=r())!=null?I:A))||void 0;return vh(f.getItem.bind(f))(s.name).then(_=>{if(_)if(typeof _.version=="number"&&_.version!==s.version){if(s.migrate)return[!0,s.migrate(_.state,_.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var L;const[R,V]=_;if(b=s.merge(V,(L=r())!=null?L:A),n(b,!0),R)return m()}).then(()=>{E==null||E(b,void 0),b=r(),o=!0,d.forEach(_=>_(b))}).catch(_=>{E==null||E(void 0,_)})};return i.persist={setOptions:I=>{s={...s,...I},I.storage&&(f=I.storage)},clearStorage:()=>{f==null||f.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>P(),hasHydrated:()=>o,onHydrate:I=>(u.add(I),()=>{u.delete(I)}),onFinishHydration:I=>(d.add(I),()=>{d.delete(I)})},s.skipHydration||P(),b||A},DP=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((kP?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),PP(e,t)):OP(e,t),jP=DP,RP="modulepreload",MP=function(e){return"/"+e},nw={},yl=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),u=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(d=>{if(d=MP(d),d in nw)return;nw[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const x=document.createElement("link");if(x.rel=f?"stylesheet":RP,f||(x.as="script"),x.crossOrigin="",x.href=d,u&&x.setAttribute("nonce",u),document.head.appendChild(x),f)return new Promise((A,b)=>{x.addEventListener("load",A),x.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=o,window.dispatchEvent(u),!u.defaultPrevented)throw o}return i.then(o=>{for(const u of o||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})},BP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>yl(async()=>{const{default:r}=await Promise.resolve().then(()=>Yu);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class Ox extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class FP extends Ox{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class rw extends Ox{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class iw extends Ox{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Rm;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Rm||(Rm={}));var UP=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class VP{constructor(t,{headers:n={},customFetch:r,region:i=Rm.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=BP(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return UP(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${t}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let m;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",m=o):typeof o=="string"?(u["Content-Type"]="text/plain",m=o):typeof FormData<"u"&&o instanceof FormData?m=o:(u["Content-Type"]="application/json",m=JSON.stringify(o)));const x=yield this.fetch(f.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:m}).catch(I=>{throw new FP(I)}),A=x.headers.get("x-relay-error");if(A&&A==="true")throw new rw(x);if(!x.ok)throw new iw(x);let b=((r=x.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),P;return b==="application/json"?P=yield x.json():b==="application/octet-stream"?P=yield x.blob():b==="text/event-stream"?P=x:b==="multipart/form-data"?P=yield x.formData():P=yield x.text(),{data:P,error:null,response:x}}catch(i){return{data:null,error:i,response:i instanceof iw||i instanceof rw?i.context:void 0}}})}}var ns={},Dx={},O1={},Bh={},D1={},j1={},zP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Mu=zP();const HP=Mu.fetch,D6=Mu.fetch.bind(Mu),j6=Mu.Headers,qP=Mu.Request,WP=Mu.Response,Yu=Object.freeze(Object.defineProperty({__proto__:null,Headers:j6,Request:qP,Response:WP,default:D6,fetch:HP},Symbol.toStringTag,{value:"Module"})),$P=JN(Yu);var R1={};Object.defineProperty(R1,"__esModule",{value:!0});let GP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};R1.default=GP;var R6=mi&&mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(j1,"__esModule",{value:!0});const YP=R6($P),XP=R6(R1);let KP=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=YP.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var o,u,d;let f=null,m=null,x=null,A=s.status,b=s.statusText;if(s.ok){if(this.method!=="HEAD"){const E=await s.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=E:m=JSON.parse(E))}const I=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),O=(u=s.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");I&&O&&O.length>1&&(x=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(f={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,x=null,A=406,b="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const I=await s.text();try{f=JSON.parse(I),Array.isArray(f)&&s.status===404&&(m=[],f=null,A=200,b="OK")}catch{s.status===404&&I===""?(A=204,b="No Content"):f={message:I}}if(f&&this.isMaybeSingle&&(!((d=f==null?void 0:f.details)===null||d===void 0)&&d.includes("0 rows"))&&(f=null,A=200,b="OK"),f&&this.shouldThrowOnError)throw new XP.default(f)}return{error:f,data:m,count:x,status:A,statusText:b}});return this.shouldThrowOnError||(i=i.catch(s=>{var o,u,d;return{error:{message:`${(o=s==null?void 0:s.name)!==null&&o!==void 0?o:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(u=s==null?void 0:s.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(d=s==null?void 0:s.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};j1.default=KP;var ZP=mi&&mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(D1,"__esModule",{value:!0});const QP=ZP(j1);let JP=class extends QP.default{select(t){let n=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:s=i}={}){const o=s?`${s}.order`:"order",u=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${u?`${u},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){const s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var u;const d=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${f}"; options=${d};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};D1.default=JP;var eO=mi&&mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bh,"__esModule",{value:!0});const tO=eO(D1);let nO=class extends tO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${s}fts${o}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Bh.default=nO;var rO=mi&&mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(O1,"__esModule",{value:!0});const md=rO(Bh);let iO=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){const i=n?"HEAD":"GET";let s=!1;const o=(t??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new md.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),r||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const o=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(o.length>0){const u=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new md.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:s=!0}={}){const o="POST",u=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),s||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(t)){const d=t.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",f.join(","))}}return new md.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new md.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new md.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};O1.default=iO;var M1={},B1={};Object.defineProperty(B1,"__esModule",{value:!0});B1.version=void 0;B1.version="0.0.0-automated";Object.defineProperty(M1,"__esModule",{value:!0});M1.DEFAULT_HEADERS=void 0;const sO=B1;M1.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${sO.version}`};var M6=mi&&mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Dx,"__esModule",{value:!0});const aO=M6(O1),oO=M6(Bh),lO=M1;let cO=class B6{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},lO.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){const n=new URL(`${this.url}/${t}`);return new aO.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new B6(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){let o;const u=new URL(`${this.url}/rpc/${t}`);let d;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([m,x])=>x!==void 0).map(([m,x])=>[m,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([m,x])=>{u.searchParams.append(m,x)})):(o="POST",d=n);const f=Object.assign({},this.headers);return s&&(f.Prefer=`count=${s}`),new oO.default({method:o,url:u,headers:f,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};Dx.default=cO;var Xu=mi&&mi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ns,"__esModule",{value:!0});ns.PostgrestError=ns.PostgrestBuilder=ns.PostgrestTransformBuilder=ns.PostgrestFilterBuilder=ns.PostgrestQueryBuilder=ns.PostgrestClient=void 0;const F6=Xu(Dx);ns.PostgrestClient=F6.default;const U6=Xu(O1);ns.PostgrestQueryBuilder=U6.default;const V6=Xu(Bh);ns.PostgrestFilterBuilder=V6.default;const z6=Xu(D1);ns.PostgrestTransformBuilder=z6.default;const H6=Xu(j1);ns.PostgrestBuilder=H6.default;const q6=Xu(R1);ns.PostgrestError=q6.default;var uO=ns.default={PostgrestClient:F6.default,PostgrestQueryBuilder:U6.default,PostgrestFilterBuilder:V6.default,PostgrestTransformBuilder:z6.default,PostgrestBuilder:H6.default,PostgrestError:q6.default};const{PostgrestClient:dO,PostgrestQueryBuilder:oB,PostgrestFilterBuilder:lB,PostgrestTransformBuilder:cB,PostgrestBuilder:uB,PostgrestError:dB}=uO;class hO{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const fO="2.15.1",pO=`realtime-js/${fO}`,gO="1.0.0",Mm=1e4,mO=1e3,xO=100;var Hd;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Hd||(Hd={}));var Yr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Yr||(Yr={}));var ca;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ca||(ca={}));var Bm;(function(e){e.websocket="websocket"})(Bm||(Bm={}));var rc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(rc||(rc={}));class yO{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let o=this.HEADER_LENGTH+2;const u=r.decode(t.slice(o,o+i));o=o+i;const d=r.decode(t.slice(o,o+s));o=o+s;const f=JSON.parse(r.decode(t.slice(o,t.byteLength)));return{ref:null,topic:u,event:d,payload:f}}}class W6{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Un;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Un||(Un={}));const sw=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,o)=>(s[o]=vO(o,e,t,i),s),{})},vO=(e,t,n,r)=>{const i=t.find(u=>u.name===e),s=i==null?void 0:i.type,o=n[e];return s&&!r.includes(s)?$6(s,o):Fm(o)},$6=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return SO(t,n)}switch(e){case Un.bool:return wO(t);case Un.float4:case Un.float8:case Un.int2:case Un.int4:case Un.int8:case Un.numeric:case Un.oid:return bO(t);case Un.json:case Un.jsonb:return AO(t);case Un.timestamp:return NO(t);case Un.abstime:case Un.date:case Un.daterange:case Un.int4range:case Un.int8range:case Un.money:case Un.reltime:case Un.text:case Un.time:case Un.timestamptz:case Un.timetz:case Un.tsrange:case Un.tstzrange:return Fm(t);default:return Fm(t)}},Fm=e=>e,wO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},bO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},AO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},SO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const o=e.slice(1,n);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(u=>$6(t,u))}return e},NO=e=>typeof e=="string"?e.replace(" ","T"):e,G6=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Jp{constructor(t,n,r={},i=Mm){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var aw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(aw||(aw={}));class qd{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=qd.syncState(this.state,i,s,o),this.pendingDiffs.forEach(d=>{this.state=qd.syncDiff(this.state,d,s,o)}),this.pendingDiffs=[],u()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=qd.syncDiff(this.state,i,s,o),u())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),o=this.transformState(n),u={},d={};return this.map(s,(f,m)=>{o[f]||(d[f]=m)}),this.map(o,(f,m)=>{const x=s[f];if(x){const A=m.map(O=>O.presence_ref),b=x.map(O=>O.presence_ref),P=m.filter(O=>b.indexOf(O.presence_ref)<0),I=x.filter(O=>A.indexOf(O.presence_ref)<0);P.length>0&&(u[f]=P),I.length>0&&(d[f]=I)}else u[f]=m}),this.syncDiff(s,{joins:u,leaves:d},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(u,d)=>{var f;const m=(f=t[u])!==null&&f!==void 0?f:[];if(t[u]=this.cloneDeep(d),m.length>0){const x=t[u].map(b=>b.presence_ref),A=m.filter(b=>x.indexOf(b.presence_ref)<0);t[u].unshift(...A)}r(u,m,d)}),this.map(o,(u,d)=>{let f=t[u];if(!f)return;const m=d.map(x=>x.presence_ref);f=f.filter(x=>m.indexOf(x.presence_ref)<0),t[u]=f,i(u,f,d),f.length===0&&delete t[u]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var ow;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(ow||(ow={}));var Wd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Wd||(Wd={}));var ro;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ro||(ro={}));class jx{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Yr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Jp(this,ca.join,this.params,this.timeout),this.rejoinTimer=new W6(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Yr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ca.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new qd(this),this.broadcastEndpointURL=G6(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Yr.closed){const{config:{broadcast:s,presence:o,private:u}}=this.params,d=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(A=>A.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[Wd.PRESENCE]&&this.bindings[Wd.PRESENCE].length>0,m={},x={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(A=>t==null?void 0:t(ro.CHANNEL_ERROR,A)),this._onClose(()=>t==null?void 0:t(ro.CLOSED)),this.updateJoinPayload(Object.assign({config:x},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:A})=>{var b;if(this.socket.setAuth(),A===void 0){t==null||t(ro.SUBSCRIBED);return}else{const P=this.bindings.postgres_changes,I=(b=P==null?void 0:P.length)!==null&&b!==void 0?b:0,O=[];for(let E=0;E<I;E++){const _=P[E],{filter:{event:L,schema:R,table:V,filter:ie}}=_,q=A&&A[E];if(q&&q.event===L&&q.schema===R&&q.table===V&&q.filter===ie)O.push(Object.assign(Object.assign({},_),{id:q.id}));else{this.unsubscribe(),this.state=Yr.errored,t==null||t(ro.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t(ro.SUBSCRIBED);return}}).receive("error",A=>{this.state=Yr.errored,t==null||t(ro.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(A).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ro.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===Yr.joined&&t===Wd.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=f.body)===null||i===void 0?void 0:i.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,u,d;const f=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(u=(o=this.params)===null||o===void 0?void 0:o.config)===null||u===void 0?void 0:u.broadcast)===null||d===void 0)&&d.ack)&&s("ok"),f.receive("ok",()=>s("ok")),f.receive("error",()=>s("error")),f.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Yr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ca.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Jp(this,ca.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Yr.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),o}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Jp(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>xO){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const o=t.toLocaleLowerCase(),{close:u,error:d,leave:f,join:m}=ca;if(r&&[u,d,f,m].indexOf(o)>=0&&r!==this._joinRef())return;let A=this._onMessage(o,n,r);if(n&&!A)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(b=>{var P,I,O;return((P=b.filter)===null||P===void 0?void 0:P.event)==="*"||((O=(I=b.filter)===null||I===void 0?void 0:I.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===o}).map(b=>b.callback(A,r)):(s=this.bindings[o])===null||s===void 0||s.filter(b=>{var P,I,O,E,_,L;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in b){const R=b.id,V=(P=b.filter)===null||P===void 0?void 0:P.event;return R&&((I=n.ids)===null||I===void 0?void 0:I.includes(R))&&(V==="*"||(V==null?void 0:V.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const R=(_=(E=b==null?void 0:b.filter)===null||E===void 0?void 0:E.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return R==="*"||R===((L=n==null?void 0:n.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===o}).map(b=>{if(typeof A=="object"&&"ids"in A){const P=A.data,{schema:I,table:O,commit_timestamp:E,type:_,errors:L}=P;A=Object.assign(Object.assign({},{schema:I,table:O,commit_timestamp:E,eventType:_,new:{},old:{},errors:L}),this._getPayloadRecords(P))}b.callback(A,r)})}_isClosed(){return this.state===Yr.closed}_isJoined(){return this.state===Yr.joined}_isJoining(){return this.state===Yr.joining}_isLeaving(){return this.state===Yr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&jx.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ca.close,{},t)}_onError(t){this._on(ca.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=sw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=sw(t.columns,t.old_record)),n}}const lw=()=>{},Pf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},CO=[1e3,2e3,5e3,1e4],EO=1e4,_O=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TO{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mm,this.transport=null,this.heartbeatIntervalMs=Pf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lw,this.ref=0,this.reconnectTimer=null,this.logger=lw,this.conn=null,this.sendBuffer=[],this.serializer=new yO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...o)=>yl(async()=>{const{default:u}=await Promise.resolve().then(()=>Yu);return{default:u}},void 0).then(({default:u})=>u(...o)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...o)=>s(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Bm.websocket}`,this.httpEndpoint=G6(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gO}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Hd.connecting:return rc.Connecting;case Hd.open:return rc.Open;case Hd.closing:return rc.Closing;default:return rc.Closed}}isConnected(){return this.connectionState()===rc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new jx(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,o=()=>{this.encode(t,u=>{var d;(d=this.conn)===null||d===void 0||d.send(u)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(mO,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Pf.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:o}=n,u=o?`(${o})`:"",d=s.status||"";this.log("receive",`${d} ${r} ${i} ${u}`.trim(),s),this.channels.filter(f=>f._isMember(r)).forEach(f=>f._trigger(i,s,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ca.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([_O],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:pO};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(ca.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new W6(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Pf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,o,u,d,f;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Mm,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Pf.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:m=>CO[m-1]||EO,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(m,x)=>x(JSON.stringify(m)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Rx extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Xr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class IO extends Rx{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Um extends Rx{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var kO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const Y6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>yl(async()=>{const{default:r}=await Promise.resolve().then(()=>Yu);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},LO=()=>kO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yl(()=>Promise.resolve().then(()=>Yu),void 0)).Response:Response}),Vm=e=>{if(Array.isArray(e))return e.map(n=>Vm(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Vm(r)}),t},PO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var _c=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const eg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OO=(e,t,n)=>_c(void 0,void 0,void 0,function*(){const r=yield LO();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,o=(i==null?void 0:i.statusCode)||s+"";t(new IO(eg(i),s,o))}).catch(i=>{t(new Um(eg(i),i))}):t(new Um(eg(e),e))}),DO=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(PO(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),n))};function Fh(e,t,n,r,i,s){return _c(this,void 0,void 0,function*(){return new Promise((o,u)=>{e(n,DO(t,r,i,s)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>o(d)).catch(d=>OO(d,u,r))})})}function $0(e,t,n,r){return _c(this,void 0,void 0,function*(){return Fh(e,"GET",t,n,r)})}function Ia(e,t,n,r,i){return _c(this,void 0,void 0,function*(){return Fh(e,"POST",t,r,i,n)})}function zm(e,t,n,r,i){return _c(this,void 0,void 0,function*(){return Fh(e,"PUT",t,r,i,n)})}function jO(e,t,n,r){return _c(this,void 0,void 0,function*(){return Fh(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function X6(e,t,n,r,i){return _c(this,void 0,void 0,function*(){return Fh(e,"DELETE",t,r,i,n)})}var Vi=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const RO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class MO{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Y6(i)}uploadOrUpdate(t,n,r,i){return Vi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},cw),i);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const d=o.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),d&&s.append("metadata",this.encodeMetadata(d)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",o.cacheControl),d&&s.append("metadata",this.encodeMetadata(d))):(s=r,u["cache-control"]=`max-age=${o.cacheControl}`,u["content-type"]=o.contentType,d&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),i!=null&&i.headers&&(u=Object.assign(Object.assign({},u),i.headers));const f=this._removeEmptyFolders(n),m=this._getFinalPath(f),x=yield(t=="PUT"?zm:Ia)(this.fetch,`${this.url}/object/${m}`,s,Object.assign({headers:u},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:f,id:x.Id,fullPath:x.Key},error:null}}catch(s){if(Xr(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Vi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Vi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),u=new URL(this.url+`/object/upload/sign/${o}`);u.searchParams.set("token",n);try{let d;const f=Object.assign({upsert:cw.upsert},i),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(f.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",f.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",f.cacheControl)):(d=r,m["cache-control"]=`max-age=${f.cacheControl}`,m["content-type"]=f.contentType);const x=yield zm(this.fetch,u.toString(),d,{headers:m});return{data:{path:s,fullPath:x.Key},error:null}}catch(d){if(Xr(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(t,n){return Vi(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Ia(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),o=new URL(this.url+s.url),u=o.searchParams.get("token");if(!u)throw new Rx("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:u},error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}update(t,n,r){return Vi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Vi(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Vi(this,void 0,void 0,function*(){try{return{data:{path:(yield Ia(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Vi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Ia(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Vi(this,void 0,void 0,function*(){try{const i=yield Ia(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}download(t,n){return Vi(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=s?`?${s}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield $0(this.fetch,`${this.url}/${i}/${u}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Xr(u))return{data:null,error:u};throw u}})}info(t){return Vi(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield $0(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Vm(r),error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}exists(t){return Vi(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield jO(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Xr(r)&&r instanceof Um){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&i.push(d);let f=i.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${r}${f}`)}}}remove(t){return Vi(this,void 0,void 0,function*(){try{return{data:yield X6(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Xr(n))return{data:null,error:n};throw n}})}list(t,n,r){return Vi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},RO),n),{prefix:t||""});return{data:yield Ia(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Xr(i))return{data:null,error:i};throw i}})}listV2(t,n){return Vi(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield Ia(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const BO="2.11.0",FO={"X-Client-Info":`storage-js/${BO}`};var Fc=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class UO{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},FO),n),this.fetch=Y6(r)}listBuckets(){return Fc(this,void 0,void 0,function*(){try{return{data:yield $0(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Xr(t))return{data:null,error:t};throw t}})}getBucket(t){return Fc(this,void 0,void 0,function*(){try{return{data:yield $0(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Xr(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Fc(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Fc(this,void 0,void 0,function*(){try{return{data:yield zm(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Xr(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Fc(this,void 0,void 0,function*(){try{return{data:yield Ia(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Xr(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Fc(this,void 0,void 0,function*(){try{return{data:yield X6(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Xr(n))return{data:null,error:n};throw n}})}}class VO extends UO{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new MO(this.url,this.headers,t,this.fetch)}}const zO="2.55.0";let Td="";typeof Deno<"u"?Td="deno":typeof document<"u"?Td="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Td="react-native":Td="node";const HO={"X-Client-Info":`supabase-js-${Td}/${zO}`},qO={headers:HO},WO={schema:"public"},$O={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},GO={};var YO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};const XO=e=>{let t;return e?t=e:typeof fetch>"u"?t=D6:t=fetch,(...n)=>t(...n)},KO=()=>typeof Headers>"u"?j6:Headers,ZO=(e,t,n)=>{const r=XO(n),i=KO();return(s,o)=>YO(void 0,void 0,void 0,function*(){var u;const d=(u=yield t())!==null&&u!==void 0?u:e;let f=new i(o==null?void 0:o.headers);return f.has("apikey")||f.set("apikey",e),f.has("Authorization")||f.set("Authorization",`Bearer ${d}`),r(s,Object.assign(Object.assign({},o),{headers:f}))})};var QO=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};function JO(e){return e.endsWith("/")?e:e+"/"}function eD(e,t){var n,r;const{db:i,auth:s,realtime:o,global:u}=e,{db:d,auth:f,realtime:m,global:x}=t,A={db:Object.assign(Object.assign({},d),i),auth:Object.assign(Object.assign({},f),s),realtime:Object.assign(Object.assign({},m),o),storage:{},global:Object.assign(Object.assign(Object.assign({},x),u),{headers:Object.assign(Object.assign({},(n=x==null?void 0:x.headers)!==null&&n!==void 0?n:{}),(r=u==null?void 0:u.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>QO(this,void 0,void 0,function*(){return""})};return e.accessToken?A.accessToken=e.accessToken:delete A.accessToken,A}const K6="2.71.1",Yc=30*1e3,Hm=3,tg=Hm*Yc,tD="http://localhost:9999",nD="supabase.auth.token",rD={"X-Client-Info":`gotrue-js/${K6}`},qm="X-Supabase-Api-Version",Z6={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},iD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,sD=10*60*1e3;class Mx extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Qt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class aD extends Mx{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function oD(e){return Qt(e)&&e.name==="AuthApiError"}class Q6 extends Mx{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class _l extends Mx{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Wo extends _l{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function lD(e){return Qt(e)&&e.name==="AuthSessionMissingError"}class Of extends _l{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Df extends _l{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class jf extends _l{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function cD(e){return Qt(e)&&e.name==="AuthImplicitGrantRedirectError"}class uw extends _l{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wm extends _l{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function ng(e){return Qt(e)&&e.name==="AuthRetryableFetchError"}class dw extends _l{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class $m extends _l{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const G0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hw=` 	
\r=`.split(""),uD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<hw.length;t+=1)e[hw[t].charCodeAt(0)]=-2;for(let t=0;t<G0.length;t+=1)e[G0[t].charCodeAt(0)]=t;return e})();function fw(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(G0[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(G0[r]),t.queuedBits-=6}}function J6(e,t,n){const r=uD[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function pw(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{fD(o,r,n)};for(let o=0;o<e.length;o+=1)J6(e.charCodeAt(o),i,s);return t.join("")}function dD(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function hD(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}dD(r,t)}}function fD(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function pD(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)J6(e.charCodeAt(i),n,r);return new Uint8Array(t)}function gD(e){const t=[];return hD(e,n=>t.push(n)),new Uint8Array(t)}function mD(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>fw(i,n,r)),fw(null,n,r),t.join("")}function xD(e){return Math.round(Date.now()/1e3)+e}function yD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const sa=()=>typeof window<"u"&&typeof document<"u",Yl={tested:!1,writable:!1},eS=()=>{if(!sa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Yl.tested)return Yl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Yl.tested=!0,Yl.writable=!0}catch{Yl.tested=!0,Yl.writable=!1}return Yl.writable};function vD(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const tS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>yl(async()=>{const{default:r}=await Promise.resolve().then(()=>Yu);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},wD=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Xc=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Xl=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Uo=async(e,t)=>{await e.removeItem(t)};class F1{constructor(){this.promise=new F1.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}F1.promiseConstructor=Promise;function rg(e){const t=e.split(".");if(t.length!==3)throw new $m("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!iD.test(t[r]))throw new $m("JWT not in base64url format");return{header:JSON.parse(pw(t[0])),payload:JSON.parse(pw(t[1])),signature:pD(t[2]),raw:{header:t[0],payload:t[1]}}}async function bD(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function AD(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){r(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function SD(e){return("0"+e.toString(16)).substr(-2)}function ND(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,SD).join("")}async function CD(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function ED(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await CD(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Uc(e,t,n=!1){const r=ND();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Xc(e,`${t}-code-verifier`,i);const s=await ED(r);return[s,r===s?"plain":"s256"]}const _D=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TD(e){const t=e.headers.get(qm);if(!t||!t.match(_D))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function ID(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function kD(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vc(e){if(!LD.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ig(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function gw(e){return JSON.parse(JSON.stringify(e))}var PD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const tc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),OD=[502,503,504];async function mw(e){var t;if(!wD(e))throw new Wm(tc(e),0);if(OD.includes(e.status))throw new Wm(tc(e),e.status);let n;try{n=await e.json()}catch(s){throw new Q6(tc(s),s)}let r;const i=TD(e);if(i&&i.getTime()>=Z6["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new dw(tc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Wo}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new dw(tc(n),e.status,n.weak_password.reasons);throw new aD(tc(n),e.status||500,r)}const DD=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function sn(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[qm]||(s[qm]=Z6["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const o=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const u=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",d=await jD(e,t,n+u,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function jD(e,t,n,r,i,s){const o=DD(t,r,i,s);let u;try{u=await e(n,Object.assign({},o))}catch(d){throw console.error(d),new Wm(tc(d),0)}if(u.ok||await mw(u),r!=null&&r.noResolveJson)return u;try{return await u.json()}catch(d){await mw(d)}}function to(e){var t;let n=null;FD(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=xD(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function xw(e){const t=to(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qo(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function RD(e){return{data:e,error:null}}function MD(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,o=PD(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},d=Object.assign({},o);return{data:{properties:u,user:d},error:null}}function BD(e){return e}function FD(e){return e.access_token&&e.refresh_token&&e.expires_in}const sg=["global","local","others"];var UD=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class VD{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=tS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=sg[0]){if(sg.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sg.join(", ")}`);try{return await sn(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Qt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await sn(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Qo})}catch(r){if(Qt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=UD(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await sn(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:MD,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Qt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await sn(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qo})}catch(n){if(Qt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,o,u,d;try{const f={nextPage:null,lastPage:0,total:0},m=await sn(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:BD});if(m.error)throw m.error;const x=await m.json(),A=(o=m.headers.get("x-total-count"))!==null&&o!==void 0?o:0,b=(d=(u=m.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&d!==void 0?d:[];return b.length>0&&(b.forEach(P=>{const I=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(P.split(";")[1].split("=")[1]);f[`${O}Page`]=I}),f.total=parseInt(A)),{data:Object.assign(Object.assign({},x),f),error:null}}catch(f){if(Qt(f))return{data:{users:[]},error:f};throw f}}async getUserById(t){Vc(t);try{return await sn(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qo})}catch(n){if(Qt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Vc(t);try{return await sn(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Qo})}catch(r){if(Qt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Vc(t);try{return await sn(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Qo})}catch(r){if(Qt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Vc(t.userId);try{const{data:n,error:r}=await sn(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Vc(t.userId),Vc(t.id);try{return{data:await sn(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}}}function yw(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function zD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const zc={debug:!!(globalThis&&eS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class nS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class HD extends nS{}async function qD(e,t,n){zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),zc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw zc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new HD(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(zc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}zD();const WD={url:tD,storageKey:nD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:rD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function vw(e,t,n){return await n()}const Hc={};class wh{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wh.nextInstanceID,wh.nextInstanceID+=1,this.instanceID>0&&sa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},WD),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new VD({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=tS(i.fetch),this.lock=i.lock||vw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:sa()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=qD:this.lock=vw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:eS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=yw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=yw(this.memoryStorage)),sa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Hc[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Hc[this.storageKey]=Object.assign(Object.assign({},Hc[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Hc[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Hc[this.storageKey]=Object.assign(Object.assign({},Hc[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${K6}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=vD(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),sa()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),cD(s)){const d=(t=s.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:u}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",u),await this._saveSession(o),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Qt(n)?{error:n}:{error:new Q6("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await sn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:to}),{data:o,error:u}=s;if(u||!o)return{data:{user:null,session:null},error:u};const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(s){if(Qt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:m,password:x,options:A}=t;let b=null,P=null;this.flowType==="pkce"&&([b,P]=await Uc(this.storage,this.storageKey)),s=await sn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:A==null?void 0:A.emailRedirectTo,body:{email:m,password:x,data:(n=A==null?void 0:A.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken},code_challenge:b,code_challenge_method:P},xform:to})}else if("phone"in t){const{phone:m,password:x,options:A}=t;s=await sn(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:x,data:(r=A==null?void 0:A.data)!==null&&r!==void 0?r:{},channel:(i=A==null?void 0:A.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:A==null?void 0:A.captchaToken}},xform:to})}else throw new Df("You must provide either an email or phone number and a password");const{data:o,error:u}=s;if(u||!o)return{data:{user:null,session:null},error:u};const d=o.session,f=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(s){if(Qt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:o,options:u}=t;n=await sn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:xw})}else if("phone"in t){const{phone:s,password:o,options:u}=t;n=await sn(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:xw})}else throw new Df("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Of}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Qt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,o,u,d,f,m,x,A,b;let P,I;if("message"in t)P=t.message,I=t.signature;else{const{chain:O,wallet:E,statement:_,options:L}=t;let R;if(sa())if(typeof E=="object")R=E;else{const ie=window;if("solana"in ie&&typeof ie.solana=="object"&&("signIn"in ie.solana&&typeof ie.solana.signIn=="function"||"signMessage"in ie.solana&&typeof ie.solana.signMessage=="function"))R=ie.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const V=new URL((n=L==null?void 0:L.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in R&&R.signIn){const ie=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},L==null?void 0:L.signInWithSolana),{version:"1",domain:V.host,uri:V.href}),_?{statement:_}:null));let q;if(Array.isArray(ie)&&ie[0]&&typeof ie[0]=="object")q=ie[0];else if(ie&&typeof ie=="object"&&"signedMessage"in ie&&"signature"in ie)q=ie;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in q&&"signature"in q&&(typeof q.signedMessage=="string"||q.signedMessage instanceof Uint8Array)&&q.signature instanceof Uint8Array)P=typeof q.signedMessage=="string"?q.signedMessage:new TextDecoder().decode(q.signedMessage),I=q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${V.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),..._?["",_,""]:[""],"Version: 1",`URI: ${V.href}`,`Issued At: ${(i=(r=L==null?void 0:L.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=L==null?void 0:L.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${L.signInWithSolana.notBefore}`]:[],...!((o=L==null?void 0:L.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${L.signInWithSolana.expirationTime}`]:[],...!((u=L==null?void 0:L.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${L.signInWithSolana.chainId}`]:[],...!((d=L==null?void 0:L.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${L.signInWithSolana.nonce}`]:[],...!((f=L==null?void 0:L.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${L.signInWithSolana.requestId}`]:[],...!((x=(m=L==null?void 0:L.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||x===void 0)&&x.length?["Resources",...L.signInWithSolana.resources.map(q=>`- ${q}`)]:[]].join(`
`);const ie=await R.signMessage(new TextEncoder().encode(P),"utf8");if(!ie||!(ie instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");I=ie}}try{const{data:O,error:E}=await sn(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:mD(I)},!((A=t.options)===null||A===void 0)&&A.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:to});if(E)throw E;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new Of}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:E})}catch(O){if(Qt(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(t){const n=await Xl(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:o}=await sn(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:to});if(await Uo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Of}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Qt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:o}=t,u=await sn(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:to}),{data:d,error:f}=u;return f?{data:{user:null,session:null},error:f}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Of}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:f})}catch(n){if(Qt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,o;try{if("email"in t){const{email:u,options:d}=t;let f=null,m=null;this.flowType==="pkce"&&([f,m]=await Uc(this.storage,this.storageKey));const{error:x}=await sn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:f,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:u,options:d}=t,{data:f,error:m}=await sn(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(i=d==null?void 0:d.data)!==null&&i!==void 0?i:{},create_user:(s=d==null?void 0:d.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(o=d==null?void 0:d.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:m}}throw new Df("You must provide either an email or phone number.")}catch(u){if(Qt(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:u}=await sn(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:to});if(u)throw u;if(!o)throw new Error("An error occurred on token verification.");const d=o.session,f=o.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:f,session:d},error:null}}catch(i){if(Qt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Uc(this.storage,this.storageKey)),await sn(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:RD})}catch(s){if(Qt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Wo;const{error:i}=await sn(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Qt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:o}=await sn(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:o,error:u}=await sn(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:u}}throw new Df("You must provide either an email or phone number and a type")}catch(n){if(Qt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Xl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<tg:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const o=await Xl(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=ig()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,f,m)=>(!o&&f==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,f,m))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await sn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qo}):await this._useSession(async n=>{var r,i,s;const{data:o,error:u}=n;if(u)throw u;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Wo}:await sn(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Qo})})}catch(n){if(Qt(n))return lD(n)&&(await this._removeSession(),await Uo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Wo;const o=i.session;let u=null,d=null;this.flowType==="pkce"&&t.email!=null&&([u,d]=await Uc(this.storage,this.storageKey));const{data:f,error:m}=await sn(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:d}),jwt:o.access_token,xform:Qo});if(m)throw m;return o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(Qt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Wo;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:o}=rg(t.access_token);if(o.exp&&(r=o.exp,i=r<=n),i){const{session:u,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!u)return{data:{user:null,session:null},error:null};s=u}else{const{data:u,error:d}=await this._getUser(t.access_token);if(d)throw d;s={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Qt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:o,error:u}=n;if(u)throw u;t=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Wo;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Qt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!sa())throw new jf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new jf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new uw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new jf("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new uw("No code detected.");const{data:_,error:L}=await this._exchangeCodeForSession(t.code);if(L)throw L;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:_.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:u,expires_at:d,token_type:f}=t;if(!s||!u||!o||!f)throw new jf("No session defined in URL");const m=Math.round(Date.now()/1e3),x=parseInt(u);let A=m+x;d&&(A=parseInt(d));const b=A-m;b*1e3<=Yc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const P=A-x;m-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,A,m):m-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,A,m);const{data:I,error:O}=await this._getUser(s);if(O)throw O;const E={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:x,expires_at:A,refresh_token:o,token_type:f,user:I.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:E,redirectType:t.type},error:null}}catch(r){if(Qt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Xl(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const o=(r=i.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:u}=await this.admin.signOut(o,t);if(u&&!(oD(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await Uo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=yD(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Uc(this.storage,this.storageKey,!0));try{return await sn(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Qt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var o,u,d,f,m;const{data:x,error:A}=s;if(A)throw A;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await sn(this.fetch,"GET",b,{headers:this.headers,jwt:(m=(f=x.session)===null||f===void 0?void 0:f.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return sa()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Qt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)throw o;return await sn(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await AD(async i=>(i>0&&await bD(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await sn(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:to})),(i,s)=>{const o=200*Math.pow(2,i);return s&&ng(s)&&Date.now()+o-r<Yc})}catch(r){if(this._debug(n,"error",r),Qt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),sa()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Xl(this.storage,this.storageKey);if(i&&this.userStorage){let o=await Xl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Xc(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:ig()}else if(i&&!i.user&&!i.user){const o=await Xl(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(i.user=o.user,await Uo(this.storage,this.storageKey+"-user"),await Xc(this.storage,this.storageKey,i)):i.user=ig()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<tg;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${tg}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ng(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:u}=await this._getUser(i.access_token);!u&&(o!=null&&o.user)?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Wo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new F1;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Wo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const u={session:s.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(s){if(this._debug(i,"error",s),Qt(s)){const o={session:null,error:s};return ng(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,n)}catch(d){s.push(d)}});if(await Promise.all(o),s.length>0){for(let u=0;u<s.length;u+=1)console.error(s[u]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Xc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=gw(i);await Xc(this.storage,this.storageKey,s)}else{const i=gw(n);await Xc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Uo(this.storage,this.storageKey),await Uo(this.storage,this.storageKey+"-code-verifier"),await Uo(this.storage,this.storageKey+"-user"),this.userStorage&&await Uo(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&sa()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Yc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Yc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Yc}ms, refresh threshold is ${Hm} ticks`),i<=Hm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof nS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!sa()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,o]=await Uc(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(u.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await sn(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:o}=n;if(o)return{data:null,error:o};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:f}=await sn(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return f?{data:null,error:f}:(t.factorType==="totp"&&(!((i=d==null?void 0:d.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:o,error:u}=await sn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:u})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await sn(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Qt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=rg(i.access_token);let u=null;o.aal&&(u=o.aal);let d=u;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const m=o.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(u=>u.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(u=>u.kid===t),r&&this.jwks_cached_at+sD>i)return r;const{data:s,error:o}=await sn(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(u=>u.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:b,error:P}=await this.getSession();if(P||!b.session)return{data:null,error:P};r=b.session.access_token}const{header:i,payload:s,signature:o,raw:{header:u,payload:d}}=rg(r);n!=null&&n.allowExpired||ID(s.exp);const f=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!f){const{error:b}=await this.getUser(r);if(b)throw b;return{data:{claims:s,header:i,signature:o},error:null}}const m=kD(i.alg),x=await crypto.subtle.importKey("jwk",f,m,!0,["verify"]);if(!await crypto.subtle.verify(m,x,o,gD(`${u}.${d}`)))throw new $m("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(r){if(Qt(r))return{data:null,error:r};throw r}}}wh.nextInstanceID=0;const $D=wh;class GD extends $D{constructor(t){super(t)}}var YD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})};class XD{constructor(t,n,r){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const u=JO(t),d=new URL(u);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const f=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:WO,realtime:GO,auth:Object.assign(Object.assign({},$O),{storageKey:f}),global:qO},x=eD(r??{},m);this.storageKey=(i=x.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=x.global.headers)!==null&&s!==void 0?s:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(A,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=x.auth)!==null&&o!==void 0?o:{},this.headers,x.global.fetch),this.fetch=ZO(n,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new dO(new URL("rest/v1",d).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new VO(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new VP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return YD(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:o,lock:u,debug:d},f,m){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new GD({url:this.authUrl.href,headers:Object.assign(Object.assign({},x),f),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:o,lock:u,debug:d,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new TO(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const KD=(e,t,n)=>new XD(e,t,n);function ZD(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}ZD()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const QD="https://smbmvdzheqkblixjfdpn.supabase.co",JD="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtYm12ZHpoZXFrYmxpeGpmZHBuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUyNzgyODAsImV4cCI6MjA3MDg1NDI4MH0.twkaCp07rbguIiLnT8fsWDwmA8eACF1BMvcv6Wo0_DQ",wn=KD(QD,JD),ww={email:"admin@carnival.com",password:"admin123"},bo=IP()(jP((e,t)=>({user:null,isAuthenticated:!1,isLoading:!1,events:[],orders:[],login:async(n,r)=>{e({isLoading:!0});try{return n===ww.email&&r===ww.password?(e({user:{id:"1",email:n,name:"Admin User",role:"admin",createdAt:new Date},isAuthenticated:!0,isLoading:!1}),!0):(e({isLoading:!1}),!1)}catch(i){return console.error("Login error:",i),e({isLoading:!1}),!1}},logout:()=>{e({user:null,isAuthenticated:!1})},getEvents:async()=>{e({isLoading:!0});try{const{data:n,error:r}=await wn.from("events").select("*").order("created_at",{ascending:!1});if(r)throw r;const{data:i,error:s}=await wn.from("ticket_tiers").select("*");s&&console.error("Error fetching ticket tiers:",s);const o=(n||[]).map(u=>{const d=(i||[]).filter(f=>f.event_id===u.id);return{...u,isArchived:u.is_archived??!1,ticketTiers:d.map(f=>({id:f.id,eventId:f.event_id,name:f.name,price:f.price,originalPrice:f.original_price,capacity:f.capacity,soldCount:f.sold_count,availableFrom:f.available_from,availableUntil:f.available_until,description:f.description,benefits:f.benefits,isActive:f.is_active}))}});console.log("Events with tiers:",o),e({events:o,isLoading:!1})}catch(n){console.error("Error fetching events:",n),qs.error("Failed to load events"),e({isLoading:!1})}},addEvent:async n=>{try{const r={title:n.title,date:n.date,time:n.time,venue:n.venue,price:n.price,description:n.description,capacity:n.capacity,image:n.image,tags:n.tags.split(",").map(o=>o.trim()).filter(o=>o),gradient:n.gradient,is_archived:!1};console.log("Adding new event:",r);const{data:i,error:s}=await wn.from("events").insert([r]).select().single();if(s)throw console.error("Supabase insert error:",s),s;if(console.log("Event added successfully, now adding ticket tiers"),n.ticketTiers&&n.ticketTiers.length>0){const o=n.ticketTiers.map(f=>({id:f.id,event_id:i.id,name:f.name,price:f.price,original_price:f.originalPrice||null,capacity:f.capacity,sold_count:f.soldCount||0,available_from:f.availableFrom?new Date(f.availableFrom).toISOString():null,available_until:f.availableUntil?new Date(f.availableUntil).toISOString():null,description:f.description||null,benefits:f.benefits||[],is_active:f.isActive!==!1}));console.log("Inserting ticket tiers:",o),console.log("About to insert ticket tiers into database:",o);const{data:u,error:d}=await wn.from("ticket_tiers").insert(o).select();d?(console.error("Error inserting ticket tiers:",d),console.error("Error details:",d.details,d.hint,d.message)):console.log("Ticket tiers added successfully:",u)}await t().getEvents()}catch(r){console.error("Error adding event:",r),qs.error("Failed to add event")}},updateEvent:async(n,r)=>{try{const i={title:r.title,date:r.date,time:r.time,venue:r.venue,price:r.price,description:r.description,capacity:r.capacity,image:r.image,tags:r.tags.split(",").map(o=>o.trim()).filter(o=>o),gradient:r.gradient};console.log("Updating event with data:",i);const{error:s}=await wn.from("events").update(i).eq("id",n);if(s)throw console.error("Supabase update error:",s),s;if(r.ticketTiers){const{error:o}=await wn.from("ticket_tiers").delete().eq("event_id",n);if(o&&console.error("Error deleting existing ticket tiers:",o),r.ticketTiers.length>0){const u=r.ticketTiers.map(f=>({id:f.id,event_id:n,name:f.name,price:f.price,original_price:f.originalPrice,capacity:f.capacity,sold_count:f.soldCount,available_from:f.availableFrom,available_until:f.availableUntil,description:f.description,benefits:f.benefits,is_active:f.isActive}));console.log("Updating ticket tiers:",u);const{error:d}=await wn.from("ticket_tiers").insert(u);d?console.error("Error updating ticket tiers:",d):console.log("Ticket tiers updated successfully")}}console.log("Event updated successfully"),await t().getEvents()}catch(i){console.error("Error updating event:",i),qs.error("Failed to update event")}},deleteEvent:async n=>{try{const{data:r,error:i}=await wn.from("events").select("is_archived").eq("id",n).single();i&&console.error("Error fetching event before delete:",i);const s=(r==null?void 0:r.is_archived)===!0;if(!s){const{data:d,error:f}=await wn.from("orders").select("id").eq("event_id",n);if(f&&console.error("Error checking event orders before delete:",f),(d||[]).length>0){const m=new Error("Event has associated orders and cannot be deleted without handling dependencies");throw m.code="EVENT_HAS_ORDERS",m}}if(s){const{data:d,error:f}=await wn.from("orders").select("id").eq("event_id",n);f&&console.error("Error fetching orders to delete:",f);const m=(d||[]).map(x=>x.id);if(m.length>0){const{error:x}=await wn.from("order_tickets").delete().in("order_id",m);x&&console.error("Error deleting order_tickets for event:",x);const{error:A}=await wn.from("orders").delete().eq("event_id",n);A&&console.error("Error deleting orders for event:",A)}}const{error:o}=await wn.from("ticket_tiers").delete().eq("event_id",n);o&&console.error("Error deleting ticket tiers:",o);const{error:u}=await wn.from("events").delete().eq("id",n);if(u)throw u;await t().getEvents()}catch(r){console.error("Error deleting event:",r),(r==null?void 0:r.code)==="EVENT_HAS_ORDERS"?qs.error("Cannot delete: this event has existing orders. Consider archiving it or enabling cascade deletes in Supabase."):qs.error("Failed to delete event")}},archiveEvent:async(n,r)=>{try{const{error:i}=await wn.from("events").update({is_archived:r}).eq("id",n);if(i)throw i;await t().getEvents()}catch(i){console.error("Error archiving event:",i),qs.error("Failed to update archive status. Ensure `is_archived boolean default false` exists on events table.")}},subscribeToEvents:()=>wn.channel("events").on("postgres_changes",{event:"*",schema:"public",table:"events"},r=>{console.log("Database change detected:",r),t().getEvents()}).subscribe(r=>{console.log("Subscription status:",r)}),getOrders:async()=>{try{console.log("🔄 Fetching orders with tickets...");const{data:n,error:r}=await wn.from("orders").select("*").order("created_at",{ascending:!1});if(r)throw r;const i=await Promise.all((n||[]).map(async s=>{const{data:o,error:u}=await wn.from("order_tickets").select("*").eq("order_id",s.id);u&&console.error("Error fetching tickets for order:",s.id,u);const d=(o||[]).map(m=>({id:m.id,orderId:m.order_id,ticketTierId:m.ticket_tier_id,quantity:m.quantity,unitPrice:m.unit_price,totalPrice:m.total_price}));return{id:s.id,eventId:s.event_id,userId:s.user_id,stripePaymentIntentId:s.stripe_payment_intent_id,status:s.status,totalAmount:s.total_amount,currency:s.currency,tickets:d,customerEmail:s.customer_email,customerName:s.customer_name,createdAt:s.created_at,updatedAt:s.updated_at}}));console.log("📦 Orders with tickets (mapped):",i),e({orders:i})}catch(n){console.error("Error fetching orders:",n),e({orders:[]})}},validateTicket:async(n,r,i,s="entry")=>{try{if(console.log("🔍 Validating ticket:",{orderId:n,ticketTierId:r,customerEmail:i}),s==="entry"){const{data:b,error:P}=await wn.from("ticket_scans").select("*").eq("order_id",n).eq("ticket_tier_id",r).eq("scan_type","entry");if(P&&console.error("Error checking existing entry scans:",P),b&&b.length>0)return console.log("❌ Ticket already scanned for entry"),{isValid:!1,message:"Ticket already scanned for entry",orderStatus:"completed",eventDate:"unknown",customerName:"unknown",customerEmail:i,eventId:b[0].event_id}}else if(s==="exit"){const{data:b,error:P}=await wn.from("ticket_scans").select("*").eq("order_id",n).eq("ticket_tier_id",r).eq("scan_type","entry");if(P&&console.error("Error checking existing entry scans for exit:",P),!b||b.length===0)return console.log("❌ Cannot exit without entry scan"),{isValid:!1,message:"Cannot exit without entry scan",orderStatus:"completed",eventDate:"unknown",customerName:"unknown",customerEmail:i};const{data:I,error:O}=await wn.from("ticket_scans").select("*").eq("order_id",n).eq("ticket_tier_id",r).eq("scan_type","exit");if(O&&console.error("Error checking existing exit scans:",O),I&&I.length>0)return console.log("❌ Ticket already scanned for exit"),{isValid:!1,message:"Ticket already scanned for exit",orderStatus:"completed",eventDate:"unknown",customerName:"unknown",customerEmail:i,eventId:b[0].event_id}}const{data:o,error:u}=await wn.from("orders").select("*").eq("id",n).eq("customer_email",i).single();if(u||!o){console.log("❌ Order not found:",{orderError:u,orderId:n,customerEmail:i});const{data:b}=await wn.from("orders").select("*").eq("id",n).single();return b?(console.log("🔍 Order found but email mismatch:",{orderEmail:b.customer_email,scannedEmail:i}),{isValid:!1,message:"Customer email does not match order",orderStatus:b.status||"unknown",eventDate:"unknown",customerName:b.customer_name||"unknown",customerEmail:i}):{isValid:!1,message:"Order not found",orderStatus:"unknown",eventDate:"unknown",customerName:"unknown",customerEmail:i}}if(console.log("✅ Order found:",o),o.status!=="completed")return console.log("❌ Payment not completed:",o.status),{isValid:!1,message:"Payment not completed",orderStatus:o.status,eventDate:"unknown",customerName:o.customer_name||"unknown",customerEmail:i};const{data:d,error:f}=await wn.from("events").select("*").eq("id",o.event_id).single();if(f||!d)return console.log("❌ Event not found:",f),{isValid:!1,message:"Event not found",orderStatus:o.status,eventDate:"unknown",customerName:o.customer_name||"unknown",customerEmail:i};console.log("✅ Event found:",d);const m=d.date;if(m&&new Date(m)<new Date)return console.log("❌ Event has passed:",m),{isValid:!1,message:"Event has passed",orderStatus:o.status,eventDate:m,customerName:o.customer_name||"unknown",customerEmail:i};console.log("🔍 Looking for ticket tier:",{ticketTierId:r,orderEventId:o.event_id});const{data:x,error:A}=await wn.from("ticket_tiers").select("*").eq("id",r).single();if(A||!x){console.log("❌ Ticket tier not found:",{ticketTierId:r,error:A});const{data:b,error:P}=await wn.from("ticket_tiers").select("*").eq("event_id",o.event_id);return console.log("🔍 All ticket tiers for this event:",{eventId:o.event_id,tiers:b,error:P}),{isValid:!1,message:"Ticket tier not found",orderStatus:o.status,eventDate:m||"unknown",customerName:o.customer_name||"unknown",customerEmail:i}}return x.event_id!==o.event_id?(console.log("❌ Ticket tier does not belong to this event:",{tierEventId:x.event_id,orderEventId:o.event_id}),{isValid:!1,message:"Ticket tier does not belong to this event",orderStatus:o.status,eventDate:m||"unknown",customerName:o.customer_name||"unknown",customerEmail:i}):(console.log("✅ Ticket tier found:",x),x.is_active?(console.log("✅ Ticket validation successful"),{isValid:!0,message:`Ticket is valid for ${s}`,orderStatus:o.status,eventDate:m||"unknown",customerName:o.customer_name||"unknown",customerEmail:i,eventId:o.event_id,eventTitle:d.title,ticketTierName:x.name}):(console.log("❌ Ticket tier is inactive"),{isValid:!1,message:"Ticket tier is inactive",orderStatus:o.status,eventDate:m||"unknown",customerName:o.customer_name||"unknown",customerEmail:i}))}catch(o){return console.error("❌ Error validating ticket:",o),{isValid:!1,message:"Failed to validate ticket",orderStatus:"unknown",eventDate:"unknown",customerName:"unknown",customerEmail:i}}},recordTicketScan:async n=>{try{const{error:r}=await wn.from("ticket_scans").insert({order_id:n.orderId,ticket_tier_id:n.ticketTierId,customer_email:n.customerEmail,event_id:n.eventId,scan_type:n.scanType,scanned_by:n.scannedBy,location:n.location,notes:n.notes,scanned_at:new Date().toISOString()});if(r)throw console.error("Error recording ticket scan:",r),r}catch(r){throw console.error("Error recording ticket scan:",r),r}},debugTicketData:async(n,r)=>{try{let i=`🔍 Debug: Checking database for:
Order ID: ${n}
Ticket Tier ID: ${r}

`;const{data:s,error:o}=await wn.from("orders").select("*").eq("id",n).single();o?i+=`❌ Order Error: ${o.message}
`:s?i+=`✅ Order Found:
- Status: ${s.status}
- Customer: ${s.customer_name}
- Email: ${s.customer_email}
- Event ID: ${s.event_id}

`:i+=`❌ Order Not Found

`;const{data:u,error:d}=await wn.from("ticket_tiers").select("*").eq("id",r).single();if(d?i+=`❌ Ticket Tier Error: ${d.message}
`:u?i+=`✅ Ticket Tier Found:
- Name: ${u.name}
- Event ID: ${u.event_id}
- Active: ${u.is_active}

`:i+=`❌ Ticket Tier Not Found

`,s!=null&&s.event_id){const{data:x,error:A}=await wn.from("events").select("*").eq("id",s.event_id).single();A?i+=`❌ Event Error: ${A.message}
`:x?i+=`✅ Event Found:
- Title: ${x.title}
- Date: ${x.date}

`:i+=`❌ Event Not Found

`}if(s!=null&&s.event_id){const{data:x,error:A}=await wn.from("ticket_tiers").select("*").eq("event_id",s.event_id);A?i+=`❌ Event Tiers Error: ${A.message}
`:x&&x.length>0?(i+=`✅ Event Ticket Tiers (${x.length}):
`,x.forEach(b=>i+=`- ${b.id}: ${b.name}
`),i+=`
`):i+=`❌ No Ticket Tiers Found for Event

`}const{data:f,error:m}=await wn.from("ticket_tiers").select("*");return m?i+=`❌ All Tiers Error: ${m.message}
`:f&&f.length>0?(i+=`📊 Total Ticket Tiers in DB: ${f.length}
`,f.slice(0,5).forEach(x=>i+=`- ${x.id}: ${x.name}
`),f.length>5&&(i+=`... and ${f.length-5} more
`),i+=`
`):i+=`❌ No Ticket Tiers in Database

`,i}catch(i){return`❌ Debug Error: ${i}
`}}}),{name:"carnival-admin-storage",partialize:e=>({user:e.user,isAuthenticated:e.isAuthenticated})})),e9=()=>{const{events:e}=bo(),t=Gu(),{glitchRef:n,isGlitching:r,glitchType:i}=Mh(),s=o=>{t(`/events?event=${o.id}`)};return v.jsxs("section",{id:"events",className:"py-16 md:py-20 relative px-4 overflow-hidden",children:[v.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[v.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-150",children:v.jsx("source",{src:"/vid-ev.mp4",type:"video/mp4"})}),v.jsx("div",{className:"absolute inset-0 bg-gray-900/70"})]}),v.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[v.jsxs(lt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12 md:mb-16",children:[v.jsx(lt.h2,{ref:n,animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:8,repeat:1/0,ease:"linear"},className:`text-5xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 pb-1 glitch-text ${r?`glitch-active glitch-${i}`:""}`,"data-text":"EVENTS",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"EVENTS"}),v.jsxs(lt.p,{className:"text-base sm:text-lg md:text-lg text-white max-w-fit mx-auto leading-relaxed px-6 py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.5)"},animate:{boxShadow:["0 0 10px rgba(255, 255, 255, 0.1)","0 0 20px rgba(255, 255, 255, 0.2)","0 0 10px rgba(255, 255, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[v.jsx("span",{className:"block sm:hidden",children:"⚡ Events that hit different ⚡"}),v.jsx("span",{className:"hidden sm:block",children:"⚡ From rooftop raves to underground vibes - events that hit different ⚡"})]})]}),v.jsx("div",{className:`grid gap-6 md:gap-8 ${e.filter(o=>!o.isArchived).slice(0,3).length===1?"grid-cols-1 max-w-md mx-auto":e.filter(o=>!o.isArchived).slice(0,3).length===2?"grid-cols-1 md:grid-cols-2 max-w-4xl mx-auto":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:e.filter(o=>!o.isArchived).slice(0,3).map((o,u)=>v.jsxs(lt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:u*.1},whileHover:{y:-4},className:"group relative bg-gradient-to-br from-white via-gray-50 to-white border border-gray-100 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer backdrop-blur-sm",children:[v.jsxs("div",{className:"relative h-48 md:h-56 overflow-hidden",onClick:()=>s(o),children:[v.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:d=>{const f=d.target;f.src=`https://via.placeholder.com/400x300/6B7280/FFFFFF?text=${encodeURIComponent(o.title)}`}}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),v.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:o.tags.slice(0,2).map(d=>v.jsx("span",{className:"bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-semibold text-gray-800 shadow-sm border border-white/20",children:d},d))}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:v.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight drop-shadow-lg",children:o.title})})]}),v.jsxs("div",{className:"p-5 md:p-6 space-y-4",onClick:()=>s(o),children:[v.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-2",children:o.description}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[v.jsx(As,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),v.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.date})]}),v.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[v.jsx(ju,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),v.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.time})]}),v.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[v.jsx(bc,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),v.jsx("span",{className:"text-sm font-semibold text-gray-900",children:o.venue})]})]}),v.jsxs(lt.button,{onClick:d=>{d.stopPropagation(),s(o)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-gray-900 via-gray-800 to-gray-900 hover:from-gray-800 hover:via-gray-700 hover:to-gray-800 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 text-sm md:text-base flex items-center justify-center gap-3 shadow-lg hover:shadow-xl group-hover:shadow-2xl",children:[v.jsx("span",{children:"Get Tickets"}),v.jsx(q0,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]},o.id))})]})]})},t9=()=>{const{glitchRef:e,isGlitching:t,glitchType:n}=Mh(),r=[{icon:As,number:"500+",label:"Epic Nights Created"},{icon:fo,number:"50K+",label:"Happy Party People"},{icon:X5,number:"25+",label:"Industry Awards"},{icon:UL,number:"10+",label:"Years of Experience"}];return v.jsxs("section",{id:"about",className:"py-16 md:py-20 relative bg-gradient-to-br from-black via-gray-900 to-black overflow-hidden",children:[v.jsxs("div",{className:"absolute inset-0",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/80 via-gray-900/60 to-black/80"}),v.jsx("div",{className:"absolute inset-0 opacity-5",children:v.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),v.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-transparent via-white/10 to-transparent"}),v.jsx("div",{className:"absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-transparent via-white/5 to-transparent"}),v.jsx("div",{className:"absolute top-1/3 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/5 to-transparent"})]}),v.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 relative z-10",children:[v.jsxs(lt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12 md:mb-16",children:[v.jsx(lt.h2,{ref:e,"data-text":"ABOUT US",className:`text-5xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 glitch-text text-white ${t?`glitch-active glitch-${n}`:""}`,style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"ABOUT US"}),v.jsxs(lt.p,{className:"text-base sm:text-lg md:text-lg text-white max-w-fit mx-auto leading-relaxed px-6 py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.5)"},animate:{boxShadow:["0 0 10px rgba(255, 255, 255, 0.1)","0 0 20px rgba(255, 255, 255, 0.2)","0 0 10px rgba(255, 255, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[v.jsx("span",{className:"block sm:hidden",children:"Creating epic nights since 2018"}),v.jsx("span",{className:"hidden sm:block",children:"We make London's most unforgettable nights happen"})]})]}),v.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 md:gap-12 items-stretch mb-16 md:mb-20",children:[v.jsxs(lt.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"bg-white/5 border border-white/20 rounded-2xl p-8 md:p-12 backdrop-blur-sm shadow-2xl hover:shadow-white/10 transition-all duration-500 flex flex-col justify-center",children:[v.jsx(lt.h3,{className:"text-3xl md:text-4xl font-bold mb-6 md:mb-8 text-white text-center md:text-left",children:"Our Story"}),v.jsxs("div",{className:"space-y-6 text-gray-300 leading-relaxed text-center md:text-left",children:[v.jsx("p",{className:"text-lg md:text-xl",children:"Born from the underground scene, Carnival LDN started as a passion project for people who believed London deserved better parties."}),v.jsx("p",{className:"text-lg md:text-xl",children:"We've grown from throwing warehouse raves to becoming the city's most trusted name in unforgettable experiences."})]})]}),v.jsx(lt.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"grid grid-cols-2 gap-4 md:gap-6",children:r.map((i,s)=>v.jsxs(lt.div,{initial:{scale:0},whileInView:{scale:1},viewport:{once:!0},transition:{delay:s*.1,type:"spring"},whileHover:{scale:1.05,y:-5},className:"bg-white/5 border border-white/20 rounded-xl p-6 md:p-8 text-center group cursor-default hover:bg-white/10 transition-all duration-300 backdrop-blur-sm shadow-xl hover:shadow-white/10",children:[v.jsx(i.icon,{className:"w-10 h-10 md:w-12 md:h-12 text-white mx-auto mb-4 group-hover:scale-110 transition-transform"}),v.jsx("div",{className:"text-2xl md:text-3xl font-bold text-white mb-2",children:i.number}),v.jsx("div",{className:"text-gray-300 text-sm md:text-base leading-tight",children:i.label})]},i.label))})]}),v.jsxs(lt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"bg-white/5 border border-white/20 rounded-2xl p-8 md:p-12 backdrop-blur-sm shadow-2xl hover:shadow-white/10 transition-all duration-500 mb-12",children:[v.jsx(lt.h4,{className:"text-2xl md:text-3xl font-bold text-center mb-8 text-white",children:"Why Choose Us?"}),v.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:[v.jsxs("div",{className:"text-center group",children:[v.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:v.jsx(X5,{className:"w-8 h-8 text-black"})}),v.jsx("span",{className:"text-gray-300 font-medium",children:"Unmatched energy and atmosphere"})]}),v.jsxs("div",{className:"text-center group",children:[v.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:v.jsx(K5,{className:"w-8 h-8 text-black"})}),v.jsx("span",{className:"text-gray-300 font-medium",children:"Premium venue and artist partnerships"})]}),v.jsxs("div",{className:"text-center group",children:[v.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:v.jsx(K5,{className:"w-8 h-8 text-black"})}),v.jsx("span",{className:"text-gray-300 font-medium",children:"Authentic scene knowledge"})]}),v.jsxs("div",{className:"text-center group",children:[v.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform",children:v.jsx(fo,{className:"w-8 h-8 text-black"})}),v.jsx("span",{className:"text-gray-300 font-medium",children:"Community-focused approach"})]})]})]})]})]})},n9=()=>{const{glitchRef:e,isGlitching:t,glitchType:n}=Mh();return v.jsxs("section",{id:"contact",className:"py-16 md:py-20 relative bg-gradient-to-br from-black via-gray-900 to-black overflow-hidden",children:[v.jsxs("div",{className:"absolute inset-0",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/80 via-gray-900/60 to-black/80"}),v.jsx("div",{className:"absolute inset-0 opacity-5",children:v.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 1px 1px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),v.jsx("div",{className:"absolute top-0 left-1/4 w-px h-full bg-gradient-to-b from-transparent via-white/10 to-transparent"}),v.jsx("div",{className:"absolute top-0 right-1/4 w-px h-full bg-gradient-to-b from-transparent via-white/5 to-transparent"}),v.jsx("div",{className:"absolute top-1/3 left-0 w-full h-px bg-gradient-to-r from-transparent via-white/5 to-transparent"})]}),v.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 relative z-10",children:[v.jsxs(lt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12 md:mb-16",children:[v.jsx(lt.h2,{ref:e,"data-text":"GET IN TOUCH",className:`text-4xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 glitch-text text-white ${t?`glitch-active glitch-${n}`:""}`,style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"GET IN TOUCH"}),v.jsx(lt.p,{className:"text-base sm:text-lg md:text-lg text-white max-w-fit mx-auto leading-relaxed px-6 py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.5)"},animate:{boxShadow:["0 0 10px rgba(255, 255, 255, 0.1)","0 0 20px rgba(255, 255, 255, 0.2)","0 0 10px rgba(255, 255, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"Ready to create an exceptional event?"})]}),v.jsxs("div",{className:"grid lg:grid-cols-5 gap-8 md:gap-12 items-stretch",children:[v.jsxs(lt.div,{initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8},className:"lg:col-span-3 bg-white/5 border border-white/20 rounded-2xl p-6 md:p-8 backdrop-blur-sm shadow-2xl hover:shadow-white/10 transition-all duration-500 flex flex-col",children:[v.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-4 md:mb-6",children:"Send us a message"}),v.jsxs("form",{className:"space-y-4 md:space-y-6 flex-1 flex flex-col",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"First Name"}),v.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white focus:border-white/40 transition-all text-white placeholder-gray-400",placeholder:"John"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Last Name"}),v.jsx("input",{type:"text",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white focus:border-white/40 transition-all text-white placeholder-gray-400",placeholder:"Doe"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Email"}),v.jsx("input",{type:"email",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white focus:border-white/40 transition-all text-white placeholder-gray-400",placeholder:"john@company.com"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Phone"}),v.jsx("input",{type:"tel",className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white focus:border-white/40 transition-all text-white placeholder-gray-400",placeholder:"+44 20 1234 5678"})]}),v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Message"}),v.jsx("textarea",{rows:6,className:"w-full px-4 py-3 bg-white/10 border border-white/20 rounded-lg focus:ring-2 focus:ring-white focus:border-white/40 transition-all text-white placeholder-gray-400 resize-none",placeholder:"Tell us how we can help you..."})]}),v.jsx("div",{className:"pt-0",children:v.jsxs(lt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white hover:bg-gray-100 text-black px-6 md:px-8 py-3 rounded-lg font-medium transition-all duration-300 text-sm md:text-base flex items-center justify-center space-x-2 w-full shadow-lg",children:[v.jsx(ZL,{className:"w-4 h-4 md:w-5 md:h-5"}),v.jsx("span",{children:"Send Message"})]})})]})]}),v.jsxs(lt.div,{initial:{opacity:0,x:50},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.8,delay:.2},className:"lg:col-span-2 space-y-6 md:space-y-8 flex flex-col",children:[v.jsxs("div",{className:"bg-white/5 border border-white/20 rounded-2xl p-6 md:p-8 backdrop-blur-sm shadow-2xl hover:shadow-white/10 transition-all duration-500 flex-1",children:[v.jsx(lt.h3,{className:"text-xl md:text-2xl font-bold mb-4 md:mb-6 text-center lg:text-left text-white",children:"Contact Information"}),v.jsxs("div",{className:"space-y-4 md:space-y-6",children:[v.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[v.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-lg flex items-center justify-center",children:v.jsx(Px,{className:"w-5 h-5 md:w-6 md:h-6 text-black"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-white",children:"Email"}),v.jsx("p",{className:"text-gray-300",children:"parternships@carnivalldn.com"})]})]}),v.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[v.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-lg flex items-center justify-center",children:v.jsx(GL,{className:"w-5 h-5 md:w-6 md:h-6 text-black"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-white",children:"Phone"}),v.jsx("p",{className:"text-gray-300",children:"+44 20 1234 5678"})]})]}),v.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[v.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-lg flex items-center justify-center",children:v.jsx(bc,{className:"w-5 h-5 md:w-6 md:h-6 text-black"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-white",children:"Address"}),v.jsx("p",{className:"text-gray-300",children:"123 Event Street, London, UK"})]})]}),v.jsxs("div",{className:"flex items-center space-x-3 md:space-x-4",children:[v.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-white rounded-lg flex items-center justify-center",children:v.jsx(ju,{className:"w-5 h-5 md:w-6 md:h-6 text-black"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-white",children:"Business Hours"}),v.jsx("p",{className:"text-gray-300",children:"Mon-Fri: 9AM-6PM"})]})]})]})]}),v.jsxs("div",{className:"bg-white/5 border border-white/20 rounded-2xl p-6 md:p-8 backdrop-blur-sm shadow-2xl hover:shadow-white/10 transition-all duration-500",children:[v.jsx(lt.h3,{className:"text-xl md:text-2xl font-bold mb-4 md:mb-6 text-center lg:text-left text-white",children:"Connect With Us"}),v.jsx("p",{className:"text-sm md:text-base text-gray-300 mb-4 md:mb-6 leading-relaxed text-center lg:text-left",children:"Follow our journey and stay updated with the latest events, behind-the-scenes content, and exclusive offers."}),v.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[v.jsxs(lt.a,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},href:"#",className:"bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl p-4 text-center transition-all duration-300 group",children:[v.jsx(HL,{className:"w-6 h-6 text-white mx-auto mb-2 group-hover:scale-110 transition-transform"}),v.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white transition-colors",children:"Instagram"})]}),v.jsxs(lt.a,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},href:"#",className:"bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl p-4 text-center transition-all duration-300 group",children:[v.jsx($L,{className:"w-6 h-6 text-white mx-auto mb-2 group-hover:scale-110 transition-transform"}),v.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white transition-colors",children:"WhatsApp"})]}),v.jsxs(lt.a,{whileHover:{scale:1.05,y:-2},whileTap:{scale:.95},href:"#",className:"bg-white/10 hover:bg-white/20 border border-white/20 rounded-xl p-4 text-center transition-all duration-300 group",children:[v.jsx(qL,{className:"w-6 h-6 text-white mx-auto mb-2 group-hover:scale-110 transition-transform"}),v.jsx("span",{className:"text-xs text-gray-400 group-hover:text-white transition-colors",children:"LinkedIn"})]})]})]})]})]})]})]})},rS=()=>v.jsx("footer",{className:"bg-gradient-to-br from-black via-gray-900 to-black text-white py-12 md:py-16 relative overflow-hidden border-t border-white/10",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 md:px-6 lg:px-8 relative z-10",children:[v.jsx("div",{className:"grid grid-cols-1 gap-8 md:gap-10",children:v.jsxs("div",{className:"text-center",children:[v.jsx(lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"flex items-center justify-center mb-4",children:v.jsx("img",{src:"/carnival-logo.svg",alt:"Carnival LDN Logo",className:"w-16 h-16 md:w-20 md:h-20 object-contain",style:{filter:"brightness(0) invert(1)"}})}),v.jsx("p",{className:"text-gray-400 text-sm md:text-base leading-relaxed mb-4 max-w-md mx-auto px-4",children:"London's premier professional events company, creating exceptional experiences that elevate your brand and strengthen business relationships."}),v.jsx("p",{className:"text-gray-500 text-xs md:text-sm text-center",children:"Established in London, 2014"})]})}),v.jsx(lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6},className:"border-t border-gray-800 mt-8 md:mt-12 pt-6 md:pt-8",children:v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[v.jsx("p",{className:"text-gray-400 text-sm",children:"© 2025 Carnival LDN. All rights reserved."}),v.jsxs("div",{className:"flex space-x-4",children:[v.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Privacy Policy"}),v.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Terms of Service"}),v.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors text-sm",children:"Cookie Policy"})]})]})})]})}),r9=()=>{const e=Array.from({length:15},(t,n)=>({id:n,size:Math.random()*200+50,duration:Math.random()*25+20,delay:Math.random()*10,x:Math.random()*100,y:Math.random()*100}));return v.jsxs("div",{className:"fixed inset-0 -z-10 overflow-hidden",children:[e.map(t=>v.jsx(lt.div,{className:"absolute rounded-full mix-blend-multiply filter blur-xl opacity-5",style:{width:t.size,height:t.size,left:`${t.x}%`,top:`${t.y}%`,background:`radial-gradient(circle,
              ${t.id%3===0?"rgb(107, 114, 128)":t.id%3===1?"rgb(75, 85, 99)":"rgb(156, 163, 175)"} 0%, transparent 70%)`},animate:{x:[0,50,-25,0],y:[0,-50,25,0],scale:[1,1.1,.9,1]},transition:{duration:t.duration,repeat:1/0,delay:t.delay,ease:"easeInOut"}},t.id)),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white via-gray-50 to-white opacity-90"})]})};var Uh=e=>e.type==="checkbox",cc=e=>e instanceof Date,qi=e=>e==null;const iS=e=>typeof e=="object";var Pr=e=>!qi(e)&&!Array.isArray(e)&&iS(e)&&!cc(e),i9=e=>Pr(e)&&e.target?Uh(e.target)?e.target.checked:e.target.value:e,s9=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,a9=(e,t)=>e.has(s9(t)),o9=e=>{const t=e.constructor&&e.constructor.prototype;return Pr(t)&&t.hasOwnProperty("isPrototypeOf")},Bx=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function si(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Bx&&(e instanceof Blob||r))&&(n||Pr(e)))if(t=n?[]:{},!n&&!o9(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=si(e[i]));else return e;return t}var U1=e=>/^\w*$/.test(e),Vr=e=>e===void 0,Fx=e=>Array.isArray(e)?e.filter(Boolean):[],Ux=e=>Fx(e.replace(/["|']|\]/g,"").split(/\.|\[/)),_t=(e,t,n)=>{if(!t||!Pr(e))return n;const r=(U1(t)?[t]:Ux(t)).reduce((i,s)=>qi(i)?i:i[s],e);return Vr(r)||r===e?Vr(e[t])?n:e[t]:r},La=e=>typeof e=="boolean",rr=(e,t,n)=>{let r=-1;const i=U1(t)?[t]:Ux(t),s=i.length,o=s-1;for(;++r<s;){const u=i[r];let d=n;if(r!==o){const f=e[u];d=Pr(f)||Array.isArray(f)?f:isNaN(+i[r+1])?{}:[]}if(u==="__proto__"||u==="constructor"||u==="prototype")return;e[u]=d,e=e[u]}};const bw={BLUR:"blur",FOCUS_OUT:"focusout"},ha={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ja={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},l9=Wt.createContext(null);l9.displayName="HookFormContext";var c9=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==ha.all&&(t._proxyFormState[o]=!r||ha.all),e[o]}});return i};const u9=typeof window<"u"?Wt.useLayoutEffect:Wt.useEffect;var Da=e=>typeof e=="string",d9=(e,t,n,r,i)=>Da(e)?(r&&t.watch.add(e),_t(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),_t(n,s))):(r&&(t.watchAll=!0),n),Gm=e=>qi(e)||!iS(e);function Jo(e,t,n=new WeakSet){if(Gm(e)||Gm(t))return e===t;if(cc(e)&&cc(t))return e.getTime()===t.getTime();const r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const o=e[s];if(!i.includes(s))return!1;if(s!=="ref"){const u=t[s];if(cc(o)&&cc(u)||Pr(o)&&Pr(u)||Array.isArray(o)&&Array.isArray(u)?!Jo(o,u,n):o!==u)return!1}}return!0}var h9=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},$d=e=>Array.isArray(e)?e:[e],Aw=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},es=e=>Pr(e)&&!Object.keys(e).length,Vx=e=>e.type==="file",fa=e=>typeof e=="function",Y0=e=>{if(!Bx)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},sS=e=>e.type==="select-multiple",zx=e=>e.type==="radio",f9=e=>zx(e)||Uh(e),ag=e=>Y0(e)&&e.isConnected;function p9(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Vr(e)?r++:e[t[r++]];return e}function g9(e){for(const t in e)if(e.hasOwnProperty(t)&&!Vr(e[t]))return!1;return!0}function Fr(e,t){const n=Array.isArray(t)?t:U1(t)?[t]:Ux(t),r=n.length===1?e:p9(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Pr(r)&&es(r)||Array.isArray(r)&&g9(r))&&Fr(e,n.slice(0,-1)),e}var aS=e=>{for(const t in e)if(fa(e[t]))return!0;return!1};function X0(e,t={}){const n=Array.isArray(e);if(Pr(e)||n)for(const r in e)Array.isArray(e[r])||Pr(e[r])&&!aS(e[r])?(t[r]=Array.isArray(e[r])?[]:{},X0(e[r],t[r])):qi(e[r])||(t[r]=!0);return t}function oS(e,t,n){const r=Array.isArray(e);if(Pr(e)||r)for(const i in e)Array.isArray(e[i])||Pr(e[i])&&!aS(e[i])?Vr(t)||Gm(n[i])?n[i]=Array.isArray(e[i])?X0(e[i],[]):{...X0(e[i])}:oS(e[i],qi(t)?{}:t[i],n[i]):n[i]=!Jo(e[i],t[i]);return n}var xd=(e,t)=>oS(e,t,X0(t));const Sw={value:!1,isValid:!1},Nw={value:!0,isValid:!0};var lS=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Vr(e[0].attributes.value)?Vr(e[0].value)||e[0].value===""?Nw:{value:e[0].value,isValid:!0}:Nw:Sw}return Sw},cS=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Vr(e)?e:t?e===""?NaN:e&&+e:n&&Da(e)?new Date(e):r?r(e):e;const Cw={isValid:!1,value:null};var uS=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,Cw):Cw;function Ew(e){const t=e.ref;return Vx(t)?t.files:zx(t)?uS(e.refs).value:sS(t)?[...t.selectedOptions].map(({value:n})=>n):Uh(t)?lS(e.refs).value:cS(Vr(t.value)?e.ref.value:t.value,e)}var m9=(e,t,n,r)=>{const i={};for(const s of e){const o=_t(t,s);o&&rr(i,s,o._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},K0=e=>e instanceof RegExp,yd=e=>Vr(e)?e:K0(e)?e.source:Pr(e)?K0(e.value)?e.value.source:e.value:e,_w=e=>({isOnSubmit:!e||e===ha.onSubmit,isOnBlur:e===ha.onBlur,isOnChange:e===ha.onChange,isOnAll:e===ha.all,isOnTouch:e===ha.onTouched});const Tw="AsyncFunction";var x9=e=>!!e&&!!e.validate&&!!(fa(e.validate)&&e.validate.constructor.name===Tw||Pr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Tw)),y9=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),Iw=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const Gd=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=_t(e,i);if(s){const{_f:o,...u}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!r)return!0;if(o.ref&&t(o.ref,o.name)&&!r)return!0;if(Gd(u,t))break}else if(Pr(u)&&Gd(u,t))break}}};function kw(e,t,n){const r=_t(e,n);if(r||U1(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=_t(t,s),u=_t(e,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(u&&u.type)return{name:s,error:u};if(u&&u.root&&u.root.type)return{name:`${s}.root`,error:u.root};i.pop()}return{name:n}}var v9=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return es(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!r||ha.all))},w9=(e,t,n)=>!e||!t||e===t||$d(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),b9=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,A9=(e,t)=>!Fx(_t(e,t)).length&&Fr(e,t),S9=(e,t,n)=>{const r=$d(_t(e,n));return rr(r,"root",t[n]),rr(e,n,r),e},s0=e=>Da(e);function Lw(e,t,n="validate"){if(s0(e)||Array.isArray(e)&&e.every(s0)||La(e)&&!e)return{type:n,message:s0(e)?e:"",ref:t}}var qc=e=>Pr(e)&&!K0(e)?e:{value:e,message:""},Pw=async(e,t,n,r,i,s)=>{const{ref:o,refs:u,required:d,maxLength:f,minLength:m,min:x,max:A,pattern:b,validate:P,name:I,valueAsNumber:O,mount:E}=e._f,_=_t(n,I);if(!E||t.has(I))return{};const L=u?u[0]:o,R=B=>{i&&L.reportValidity&&(L.setCustomValidity(La(B)?"":B||""),L.reportValidity())},V={},ie=zx(o),q=Uh(o),K=ie||q,$=(O||Vx(o))&&Vr(o.value)&&Vr(_)||Y0(o)&&o.value===""||_===""||Array.isArray(_)&&!_.length,ge=h9.bind(null,I,r,V),W=(B,ee,te,J=Ja.maxLength,be=Ja.minLength)=>{const ve=B?ee:te;V[I]={type:B?J:be,message:ve,ref:o,...ge(B?J:be,ve)}};if(s?!Array.isArray(_)||!_.length:d&&(!K&&($||qi(_))||La(_)&&!_||q&&!lS(u).isValid||ie&&!uS(u).isValid)){const{value:B,message:ee}=s0(d)?{value:!!d,message:d}:qc(d);if(B&&(V[I]={type:Ja.required,message:ee,ref:L,...ge(Ja.required,ee)},!r))return R(ee),V}if(!$&&(!qi(x)||!qi(A))){let B,ee;const te=qc(A),J=qc(x);if(!qi(_)&&!isNaN(_)){const be=o.valueAsNumber||_&&+_;qi(te.value)||(B=be>te.value),qi(J.value)||(ee=be<J.value)}else{const be=o.valueAsDate||new Date(_),ve=Ie=>new Date(new Date().toDateString()+" "+Ie),fe=o.type=="time",Ce=o.type=="week";Da(te.value)&&_&&(B=fe?ve(_)>ve(te.value):Ce?_>te.value:be>new Date(te.value)),Da(J.value)&&_&&(ee=fe?ve(_)<ve(J.value):Ce?_<J.value:be<new Date(J.value))}if((B||ee)&&(W(!!B,te.message,J.message,Ja.max,Ja.min),!r))return R(V[I].message),V}if((f||m)&&!$&&(Da(_)||s&&Array.isArray(_))){const B=qc(f),ee=qc(m),te=!qi(B.value)&&_.length>+B.value,J=!qi(ee.value)&&_.length<+ee.value;if((te||J)&&(W(te,B.message,ee.message),!r))return R(V[I].message),V}if(b&&!$&&Da(_)){const{value:B,message:ee}=qc(b);if(K0(B)&&!_.match(B)&&(V[I]={type:Ja.pattern,message:ee,ref:o,...ge(Ja.pattern,ee)},!r))return R(ee),V}if(P){if(fa(P)){const B=await P(_,n),ee=Lw(B,L);if(ee&&(V[I]={...ee,...ge(Ja.validate,ee.message)},!r))return R(ee.message),V}else if(Pr(P)){let B={};for(const ee in P){if(!es(B)&&!r)break;const te=Lw(await P[ee](_,n),L,ee);te&&(B={...te,...ge(ee,te.message)},R(te.message),r&&(V[I]=B))}if(!es(B)&&(V[I]={ref:L,...B},!r))return V}}return R(!0),V};const N9={mode:ha.onSubmit,reValidateMode:ha.onChange,shouldFocusError:!0};function C9(e={}){let t={...N9,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:fa(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},r={},i=Pr(t.defaultValues)||Pr(t.values)?si(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:si(i),o={action:!1,mount:!1,watch:!1},u={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},d,f=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let x={...m};const A={array:Aw(),state:Aw()},b=t.criteriaMode===ha.all,P=re=>ae=>{clearTimeout(f),f=setTimeout(re,ae)},I=async re=>{if(!t.disabled&&(m.isValid||x.isValid||re)){const ae=t.resolver?es((await q()).errors):await $(r,!0);ae!==n.isValid&&A.state.next({isValid:ae})}},O=(re,ae)=>{!t.disabled&&(m.isValidating||m.validatingFields||x.isValidating||x.validatingFields)&&((re||Array.from(u.mount)).forEach(Ae=>{Ae&&(ae?rr(n.validatingFields,Ae,ae):Fr(n.validatingFields,Ae))}),A.state.next({validatingFields:n.validatingFields,isValidating:!es(n.validatingFields)}))},E=(re,ae=[],Ae,qe,Ve=!0,We=!0)=>{if(qe&&Ae&&!t.disabled){if(o.action=!0,We&&Array.isArray(_t(r,re))){const it=Ae(_t(r,re),qe.argA,qe.argB);Ve&&rr(r,re,it)}if(We&&Array.isArray(_t(n.errors,re))){const it=Ae(_t(n.errors,re),qe.argA,qe.argB);Ve&&rr(n.errors,re,it),A9(n.errors,re)}if((m.touchedFields||x.touchedFields)&&We&&Array.isArray(_t(n.touchedFields,re))){const it=Ae(_t(n.touchedFields,re),qe.argA,qe.argB);Ve&&rr(n.touchedFields,re,it)}(m.dirtyFields||x.dirtyFields)&&(n.dirtyFields=xd(i,s)),A.state.next({name:re,isDirty:W(re,ae),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else rr(s,re,ae)},_=(re,ae)=>{rr(n.errors,re,ae),A.state.next({errors:n.errors})},L=re=>{n.errors=re,A.state.next({errors:n.errors,isValid:!1})},R=(re,ae,Ae,qe)=>{const Ve=_t(r,re);if(Ve){const We=_t(s,re,Vr(Ae)?_t(i,re):Ae);Vr(We)||qe&&qe.defaultChecked||ae?rr(s,re,ae?We:Ew(Ve._f)):te(re,We),o.mount&&I()}},V=(re,ae,Ae,qe,Ve)=>{let We=!1,it=!1;const bt={name:re};if(!t.disabled){if(!Ae||qe){(m.isDirty||x.isDirty)&&(it=n.isDirty,n.isDirty=bt.isDirty=W(),We=it!==bt.isDirty);const St=Jo(_t(i,re),ae);it=!!_t(n.dirtyFields,re),St?Fr(n.dirtyFields,re):rr(n.dirtyFields,re,!0),bt.dirtyFields=n.dirtyFields,We=We||(m.dirtyFields||x.dirtyFields)&&it!==!St}if(Ae){const St=_t(n.touchedFields,re);St||(rr(n.touchedFields,re,Ae),bt.touchedFields=n.touchedFields,We=We||(m.touchedFields||x.touchedFields)&&St!==Ae)}We&&Ve&&A.state.next(bt)}return We?bt:{}},ie=(re,ae,Ae,qe)=>{const Ve=_t(n.errors,re),We=(m.isValid||x.isValid)&&La(ae)&&n.isValid!==ae;if(t.delayError&&Ae?(d=P(()=>_(re,Ae)),d(t.delayError)):(clearTimeout(f),d=null,Ae?rr(n.errors,re,Ae):Fr(n.errors,re)),(Ae?!Jo(Ve,Ae):Ve)||!es(qe)||We){const it={...qe,...We&&La(ae)?{isValid:ae}:{},errors:n.errors,name:re};n={...n,...it},A.state.next(it)}},q=async re=>{O(re,!0);const ae=await t.resolver(s,t.context,m9(re||u.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return O(re),ae},K=async re=>{const{errors:ae}=await q(re);if(re)for(const Ae of re){const qe=_t(ae,Ae);qe?rr(n.errors,Ae,qe):Fr(n.errors,Ae)}else n.errors=ae;return ae},$=async(re,ae,Ae={valid:!0})=>{for(const qe in re){const Ve=re[qe];if(Ve){const{_f:We,...it}=Ve;if(We){const bt=u.array.has(We.name),St=Ve._f&&x9(Ve._f);St&&m.validatingFields&&O([qe],!0);const pt=await Pw(Ve,u.disabled,s,b,t.shouldUseNativeValidation&&!ae,bt);if(St&&m.validatingFields&&O([qe]),pt[We.name]&&(Ae.valid=!1,ae))break;!ae&&(_t(pt,We.name)?bt?S9(n.errors,pt,We.name):rr(n.errors,We.name,pt[We.name]):Fr(n.errors,We.name))}!es(it)&&await $(it,ae,Ae)}}return Ae.valid},ge=()=>{for(const re of u.unMount){const ae=_t(r,re);ae&&(ae._f.refs?ae._f.refs.every(Ae=>!ag(Ae)):!ag(ae._f.ref))&&Pe(re)}u.unMount=new Set},W=(re,ae)=>!t.disabled&&(re&&ae&&rr(s,re,ae),!Jo(Ie(),i)),B=(re,ae,Ae)=>d9(re,u,{...o.mount?s:Vr(ae)?i:Da(re)?{[re]:ae}:ae},Ae,ae),ee=re=>Fx(_t(o.mount?s:i,re,t.shouldUnregister?_t(i,re,[]):[])),te=(re,ae,Ae={})=>{const qe=_t(r,re);let Ve=ae;if(qe){const We=qe._f;We&&(!We.disabled&&rr(s,re,cS(ae,We)),Ve=Y0(We.ref)&&qi(ae)?"":ae,sS(We.ref)?[...We.ref.options].forEach(it=>it.selected=Ve.includes(it.value)):We.refs?Uh(We.ref)?We.refs.forEach(it=>{(!it.defaultChecked||!it.disabled)&&(Array.isArray(Ve)?it.checked=!!Ve.find(bt=>bt===it.value):it.checked=Ve===it.value||!!Ve)}):We.refs.forEach(it=>it.checked=it.value===Ve):Vx(We.ref)?We.ref.value="":(We.ref.value=Ve,We.ref.type||A.state.next({name:re,values:si(s)})))}(Ae.shouldDirty||Ae.shouldTouch)&&V(re,Ve,Ae.shouldTouch,Ae.shouldDirty,!0),Ae.shouldValidate&&Ce(re)},J=(re,ae,Ae)=>{for(const qe in ae){if(!ae.hasOwnProperty(qe))return;const Ve=ae[qe],We=re+"."+qe,it=_t(r,We);(u.array.has(re)||Pr(Ve)||it&&!it._f)&&!cc(Ve)?J(We,Ve,Ae):te(We,Ve,Ae)}},be=(re,ae,Ae={})=>{const qe=_t(r,re),Ve=u.array.has(re),We=si(ae);rr(s,re,We),Ve?(A.array.next({name:re,values:si(s)}),(m.isDirty||m.dirtyFields||x.isDirty||x.dirtyFields)&&Ae.shouldDirty&&A.state.next({name:re,dirtyFields:xd(i,s),isDirty:W(re,We)})):qe&&!qe._f&&!qi(We)?J(re,We,Ae):te(re,We,Ae),Iw(re,u)&&A.state.next({...n,name:re}),A.state.next({name:o.mount?re:void 0,values:si(s)})},ve=async re=>{o.mount=!0;const ae=re.target;let Ae=ae.name,qe=!0;const Ve=_t(r,Ae),We=St=>{qe=Number.isNaN(St)||cc(St)&&isNaN(St.getTime())||Jo(St,_t(s,Ae,St))},it=_w(t.mode),bt=_w(t.reValidateMode);if(Ve){let St,pt;const Ht=ae.type?Ew(Ve._f):i9(re),dt=re.type===bw.BLUR||re.type===bw.FOCUS_OUT,jr=!y9(Ve._f)&&!t.resolver&&!_t(n.errors,Ae)&&!Ve._f.deps||b9(dt,_t(n.touchedFields,Ae),n.isSubmitted,bt,it),Lt=Iw(Ae,u,dt);rr(s,Ae,Ht),dt?(Ve._f.onBlur&&Ve._f.onBlur(re),d&&d(0)):Ve._f.onChange&&Ve._f.onChange(re);const ot=V(Ae,Ht,dt),Rt=!es(ot)||Lt;if(!dt&&A.state.next({name:Ae,type:re.type,values:si(s)}),jr)return(m.isValid||x.isValid)&&(t.mode==="onBlur"?dt&&I():dt||I()),Rt&&A.state.next({name:Ae,...Lt?{}:ot});if(!dt&&Lt&&A.state.next({...n}),t.resolver){const{errors:Ot}=await q([Ae]);if(We(Ht),qe){const cn=kw(n.errors,r,Ae),en=kw(Ot,r,cn.name||Ae);St=en.error,Ae=en.name,pt=es(Ot)}}else O([Ae],!0),St=(await Pw(Ve,u.disabled,s,b,t.shouldUseNativeValidation))[Ae],O([Ae]),We(Ht),qe&&(St?pt=!1:(m.isValid||x.isValid)&&(pt=await $(r,!0)));qe&&(Ve._f.deps&&Ce(Ve._f.deps),ie(Ae,pt,St,ot))}},fe=(re,ae)=>{if(_t(n.errors,ae)&&re.focus)return re.focus(),1},Ce=async(re,ae={})=>{let Ae,qe;const Ve=$d(re);if(t.resolver){const We=await K(Vr(re)?re:Ve);Ae=es(We),qe=re?!Ve.some(it=>_t(We,it)):Ae}else re?(qe=(await Promise.all(Ve.map(async We=>{const it=_t(r,We);return await $(it&&it._f?{[We]:it}:it)}))).every(Boolean),!(!qe&&!n.isValid)&&I()):qe=Ae=await $(r);return A.state.next({...!Da(re)||(m.isValid||x.isValid)&&Ae!==n.isValid?{}:{name:re},...t.resolver||!re?{isValid:Ae}:{},errors:n.errors}),ae.shouldFocus&&!qe&&Gd(r,fe,re?Ve:u.mount),qe},Ie=re=>{const ae={...o.mount?s:i};return Vr(re)?ae:Da(re)?_t(ae,re):re.map(Ae=>_t(ae,Ae))},Ue=(re,ae)=>({invalid:!!_t((ae||n).errors,re),isDirty:!!_t((ae||n).dirtyFields,re),error:_t((ae||n).errors,re),isValidating:!!_t(n.validatingFields,re),isTouched:!!_t((ae||n).touchedFields,re)}),M=re=>{re&&$d(re).forEach(ae=>Fr(n.errors,ae)),A.state.next({errors:re?n.errors:{}})},ne=(re,ae,Ae)=>{const qe=(_t(r,re,{_f:{}})._f||{}).ref,Ve=_t(n.errors,re)||{},{ref:We,message:it,type:bt,...St}=Ve;rr(n.errors,re,{...St,...ae,ref:qe}),A.state.next({name:re,errors:n.errors,isValid:!1}),Ae&&Ae.shouldFocus&&qe&&qe.focus&&qe.focus()},oe=(re,ae)=>fa(re)?A.state.subscribe({next:Ae=>"values"in Ae&&re(B(void 0,ae),Ae)}):B(re,ae,!0),pe=re=>A.state.subscribe({next:ae=>{w9(re.name,ae.name,re.exact)&&v9(ae,re.formState||m,yt,re.reRenderRoot)&&re.callback({values:{...s},...n,...ae,defaultValues:i})}}).unsubscribe,he=re=>(o.mount=!0,x={...x,...re.formState},pe({...re,formState:x})),Pe=(re,ae={})=>{for(const Ae of re?$d(re):u.mount)u.mount.delete(Ae),u.array.delete(Ae),ae.keepValue||(Fr(r,Ae),Fr(s,Ae)),!ae.keepError&&Fr(n.errors,Ae),!ae.keepDirty&&Fr(n.dirtyFields,Ae),!ae.keepTouched&&Fr(n.touchedFields,Ae),!ae.keepIsValidating&&Fr(n.validatingFields,Ae),!t.shouldUnregister&&!ae.keepDefaultValue&&Fr(i,Ae);A.state.next({values:si(s)}),A.state.next({...n,...ae.keepDirty?{isDirty:W()}:{}}),!ae.keepIsValid&&I()},Le=({disabled:re,name:ae})=>{(La(re)&&o.mount||re||u.disabled.has(ae))&&(re?u.disabled.add(ae):u.disabled.delete(ae))},Oe=(re,ae={})=>{let Ae=_t(r,re);const qe=La(ae.disabled)||La(t.disabled);return rr(r,re,{...Ae||{},_f:{...Ae&&Ae._f?Ae._f:{ref:{name:re}},name:re,mount:!0,...ae}}),u.mount.add(re),Ae?Le({disabled:La(ae.disabled)?ae.disabled:t.disabled,name:re}):R(re,!0,ae.value),{...qe?{disabled:ae.disabled||t.disabled}:{},...t.progressive?{required:!!ae.required,min:yd(ae.min),max:yd(ae.max),minLength:yd(ae.minLength),maxLength:yd(ae.maxLength),pattern:yd(ae.pattern)}:{},name:re,onChange:ve,onBlur:ve,ref:Ve=>{if(Ve){Oe(re,ae),Ae=_t(r,re);const We=Vr(Ve.value)&&Ve.querySelectorAll&&Ve.querySelectorAll("input,select,textarea")[0]||Ve,it=f9(We),bt=Ae._f.refs||[];if(it?bt.find(St=>St===We):We===Ae._f.ref)return;rr(r,re,{_f:{...Ae._f,...it?{refs:[...bt.filter(ag),We,...Array.isArray(_t(i,re))?[{}]:[]],ref:{type:We.type,name:re}}:{ref:We}}}),R(re,!1,void 0,We)}else Ae=_t(r,re,{}),Ae._f&&(Ae._f.mount=!1),(t.shouldUnregister||ae.shouldUnregister)&&!(a9(u.array,re)&&o.action)&&u.unMount.add(re)}}},et=()=>t.shouldFocusError&&Gd(r,fe,u.mount),Ge=re=>{La(re)&&(A.state.next({disabled:re}),Gd(r,(ae,Ae)=>{const qe=_t(r,Ae);qe&&(ae.disabled=qe._f.disabled||re,Array.isArray(qe._f.refs)&&qe._f.refs.forEach(Ve=>{Ve.disabled=qe._f.disabled||re}))},0,!1))},ut=(re,ae)=>async Ae=>{let qe;Ae&&(Ae.preventDefault&&Ae.preventDefault(),Ae.persist&&Ae.persist());let Ve=si(s);if(A.state.next({isSubmitting:!0}),t.resolver){const{errors:We,values:it}=await q();n.errors=We,Ve=si(it)}else await $(r);if(u.disabled.size)for(const We of u.disabled)Fr(Ve,We);if(Fr(n.errors,"root"),es(n.errors)){A.state.next({errors:{}});try{await re(Ve,Ae)}catch(We){qe=We}}else ae&&await ae({...n.errors},Ae),et(),setTimeout(et);if(A.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:es(n.errors)&&!qe,submitCount:n.submitCount+1,errors:n.errors}),qe)throw qe},Ke=(re,ae={})=>{_t(r,re)&&(Vr(ae.defaultValue)?be(re,si(_t(i,re))):(be(re,ae.defaultValue),rr(i,re,si(ae.defaultValue))),ae.keepTouched||Fr(n.touchedFields,re),ae.keepDirty||(Fr(n.dirtyFields,re),n.isDirty=ae.defaultValue?W(re,si(_t(i,re))):W()),ae.keepError||(Fr(n.errors,re),m.isValid&&I()),A.state.next({...n}))},ft=(re,ae={})=>{const Ae=re?si(re):i,qe=si(Ae),Ve=es(re),We=Ve?i:qe;if(ae.keepDefaultValues||(i=Ae),!ae.keepValues){if(ae.keepDirtyValues){const it=new Set([...u.mount,...Object.keys(xd(i,s))]);for(const bt of Array.from(it))_t(n.dirtyFields,bt)?rr(We,bt,_t(s,bt)):be(bt,_t(We,bt))}else{if(Bx&&Vr(re))for(const it of u.mount){const bt=_t(r,it);if(bt&&bt._f){const St=Array.isArray(bt._f.refs)?bt._f.refs[0]:bt._f.ref;if(Y0(St)){const pt=St.closest("form");if(pt){pt.reset();break}}}}if(ae.keepFieldsRef)for(const it of u.mount)be(it,_t(We,it));else r={}}s=t.shouldUnregister?ae.keepDefaultValues?si(i):{}:si(We),A.array.next({values:{...We}}),A.state.next({values:{...We}})}u={mount:ae.keepDirtyValues?u.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!ae.keepIsValid||!!ae.keepDirtyValues,o.watch=!!t.shouldUnregister,A.state.next({submitCount:ae.keepSubmitCount?n.submitCount:0,isDirty:Ve?!1:ae.keepDirty?n.isDirty:!!(ae.keepDefaultValues&&!Jo(re,i)),isSubmitted:ae.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ve?{}:ae.keepDirtyValues?ae.keepDefaultValues&&s?xd(i,s):n.dirtyFields:ae.keepDefaultValues&&re?xd(i,re):ae.keepDirty?n.dirtyFields:{},touchedFields:ae.keepTouched?n.touchedFields:{},errors:ae.keepErrors?n.errors:{},isSubmitSuccessful:ae.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Me=(re,ae)=>ft(fa(re)?re(s):re,ae),de=(re,ae={})=>{const Ae=_t(r,re),qe=Ae&&Ae._f;if(qe){const Ve=qe.refs?qe.refs[0]:qe.ref;Ve.focus&&(Ve.focus(),ae.shouldSelect&&fa(Ve.select)&&Ve.select())}},yt=re=>{n={...n,...re}},ze={control:{register:Oe,unregister:Pe,getFieldState:Ue,handleSubmit:ut,setError:ne,_subscribe:pe,_runSchema:q,_focusError:et,_getWatch:B,_getDirty:W,_setValid:I,_setFieldArray:E,_setDisabledField:Le,_setErrors:L,_getFieldArray:ee,_reset:ft,_resetDefaultValues:()=>fa(t.defaultValues)&&t.defaultValues().then(re=>{Me(re,t.resetOptions),A.state.next({isLoading:!1})}),_removeUnmounted:ge,_disableForm:Ge,_subjects:A,_proxyFormState:m,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(re){o=re},get _defaultValues(){return i},get _names(){return u},set _names(re){u=re},get _formState(){return n},get _options(){return t},set _options(re){t={...t,...re}}},subscribe:he,trigger:Ce,register:Oe,handleSubmit:ut,watch:oe,setValue:be,getValues:Ie,reset:Me,resetField:Ke,clearErrors:M,unregister:Pe,setError:ne,setFocus:de,getFieldState:Ue};return{...ze,formControl:ze}}function dS(e={}){const t=Wt.useRef(void 0),n=Wt.useRef(void 0),[r,i]=Wt.useState({isDirty:!1,isValidating:!1,isLoading:fa(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:fa(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:r},e.defaultValues&&!fa(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...u}=C9(e);t.current={...u,formState:r}}const s=t.current.control;return s._options=e,u9(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(u=>({...u,isReady:!0})),s._formState.isReady=!0,o},[s]),Wt.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Wt.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),Wt.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),Wt.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),Wt.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),Wt.useEffect(()=>{e.values&&!Jo(e.values,n.current)?(s._reset(e.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),Wt.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=c9(r,s),t.current}const E9=()=>{const[e,t]=me.useState(!1),[n,r]=me.useState(""),i=Gu(),{login:s,isLoading:o}=bo(),{register:u,handleSubmit:d,formState:{errors:f}}=dS(),m=async x=>{r(""),await s(x.email,x.password)?(qs.success("Welcome back, Admin!"),i("/admin/dashboard")):(r("Invalid email or password"),qs.error("Invalid email or password"))};return v.jsx("div",{className:"min-h-screen flex items-start justify-center bg-gray-100 py-12 px-4 sm:px-6 lg:px-8",style:{paddingTop:"20vh"},children:v.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md w-full space-y-8",children:[v.jsxs("div",{children:[v.jsx(lt.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"mx-auto h-12 w-12 bg-gray-900 rounded-full flex items-center justify-center",children:v.jsx(W0,{className:"h-6 w-6 text-white"})}),v.jsx(lt.h2,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Admin Login"}),v.jsx(lt.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to access the dashboard"})]}),v.jsxs(lt.form,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-8 space-y-6",onSubmit:d(m),children:[n&&v.jsxs(lt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-md p-4 flex items-center space-x-2",children:[v.jsx(Om,{className:"h-5 w-5 text-red-400"}),v.jsx("span",{className:"text-sm text-red-600",children:n})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(Px,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{...u("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),id:"email",type:"email",autoComplete:"email",className:"appearance-none relative block w-full px-3 py-2 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-gray-900 focus:border-gray-900 focus:z-10 sm:text-sm",placeholder:"Enter your email"})]}),f.email&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.email.message})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),v.jsxs("div",{className:"mt-1 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none z-20",children:v.jsx(W0,{className:"h-5 w-5 text-gray-400"})}),v.jsx("input",{...u("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}}),id:"password",type:e?"text":"password",autoComplete:"current-password",className:"appearance-none relative block w-full px-3 py-2 pl-10 pr-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-gray-900 focus:border-gray-900 focus:z-10 sm:text-sm",placeholder:"Enter your password"}),v.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center z-20",onClick:()=>t(!e),children:e?v.jsx(VL,{className:"h-5 w-5 text-gray-400"}):v.jsx(zL,{className:"h-5 w-5 text-gray-400"})})]}),f.password&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:f.password.message})]})]}),v.jsx("div",{children:v.jsx(lt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-gray-900 hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:o?v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),v.jsx("span",{children:"Signing in..."})]}):"Sign in"})}),v.jsx("div",{className:"text-center",children:v.jsx("p",{className:"text-xs text-gray-500",children:"Demo credentials: admin@carnival.com / admin123"})})]})]})})},_9=({ticketTiers:e,eventId:t,onSave:n,onClose:r})=>{var I,O;const[i,s]=me.useState(e||[]),[o,u]=me.useState({name:"",price:void 0,originalPrice:void 0,capacity:void 0,soldCount:0,availableFrom:new Date,availableUntil:new Date(Date.now()+30*24*60*60*1e3),description:"",benefits:[],isActive:!0}),d=()=>{if(console.log("addTier called with newTier:",o),console.log("Validation check:",{hasName:!!o.name,hasPrice:!!o.price,hasCapacity:!!o.capacity,name:o.name,price:o.price,capacity:o.capacity}),(o.name||"").toString().trim().length>0&&o.price!==void 0&&o.price>=0&&o.capacity!==void 0&&o.capacity>0){const E={id:`tier_${Date.now()}`,eventId:t,name:o.name||"",price:(o.price||0)*100,originalPrice:o.originalPrice!==void 0?(o.originalPrice||0)*100:void 0,capacity:o.capacity||0,soldCount:0,availableFrom:o.availableFrom,availableUntil:o.availableUntil,description:o.description||"",benefits:(o.benefits||[]).filter(_=>_.trim()),isActive:o.isActive!==!1};console.log("Created tier:",E),s([...i,E]),console.log("Updated tiers array:",[...i,E]),u({name:"",price:void 0,originalPrice:void 0,capacity:void 0,soldCount:0,availableFrom:new Date,availableUntil:new Date(Date.now()+30*24*60*60*1e3),description:"",benefits:[],isActive:!0})}else console.log("Validation failed - missing required fields")},f=E=>{s(i.filter(_=>_.id!==E))},m=(E,_)=>{s(i.map(L=>L.id===E?{...L,..._}:L))},x=E=>{const _=i.find(L=>L.id===E);_&&m(E,{benefits:[..._.benefits||[],""]})},A=(E,_,L)=>{const R=i.find(V=>V.id===E);if(R){const V=[...R.benefits||[]];V[_]=L,m(E,{benefits:V})}},b=(E,_)=>{const L=i.find(R=>R.id===E);if(L){const R=(L.benefits||[]).filter((V,ie)=>ie!==_);m(E,{benefits:R})}},P=()=>{console.log("handleSave called with tiers:",i),console.log("Tiers length:",i.length),console.log("Tiers details:",i.map(E=>({id:E.id,name:E.name,price:E.price,capacity:E.capacity}))),n(i),r()};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-[60] p-4",onClick:E=>E.stopPropagation(),children:v.jsxs(lt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:E=>E.stopPropagation(),children:[v.jsx("div",{className:"p-6 border-b",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Ticket Tiers"}),v.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:v.jsx(Rh,{className:"h-6 w-6"})})]})}),v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New Tier"}),v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:v.jsxs("p",{className:"text-sm text-blue-800",children:[v.jsx("strong",{children:"How it works:"}),' Create different ticket types with different prices. For example: "Early Bird" at £25, "VIP" at £50, or "Student" at £15. Set how many tickets are available for each tier.']})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tier Name"}),v.jsx("input",{type:"text",placeholder:"e.g., Early Bird, VIP, Student",value:o.name,onChange:E=>u({...o,name:E.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price"}),v.jsx("input",{type:"number",placeholder:"e.g., 25 for £25",value:o.price??"",onChange:E=>{const _=E.target.value;u({...o,price:_===""?void 0:parseFloat(_)||0})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Capacity"}),v.jsx("input",{type:"number",placeholder:"e.g., 100 tickets",value:o.capacity??"",onChange:E=>{const _=E.target.value;u({...o,capacity:_===""?void 0:parseInt(_)||0})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Original Price (Optional)"}),v.jsx("input",{type:"number",placeholder:"e.g., 35 for £35 (shows discount)",value:o.originalPrice??"",onChange:E=>{const _=E.target.value;u({...o,originalPrice:_===""?void 0:parseFloat(_)||0})},className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available From"}),v.jsx("input",{type:"date",value:(I=o.availableFrom)==null?void 0:I.toISOString().split("T")[0],onChange:E=>u({...o,availableFrom:new Date(E.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Until"}),v.jsx("input",{type:"date",value:(O=o.availableUntil)==null?void 0:O.toISOString().split("T")[0],onChange:E=>u({...o,availableUntil:new Date(E.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),v.jsx("textarea",{placeholder:"Description (optional)",value:o.description,onChange:E=>u({...o,description:E.target.value}),className:"w-full mt-4 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:2}),v.jsxs("div",{className:"mt-4 flex items-center justify-end gap-4",children:[v.jsxs("label",{htmlFor:"new-tier-active",className:"inline-flex items-center gap-2 text-sm text-gray-700",children:[v.jsx("input",{id:"new-tier-active",type:"checkbox",checked:o.isActive!==!1,onChange:E=>u({...o,isActive:E.target.checked})}),"Active (allow sales)"]}),v.jsx("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Add Tier"})]})]}),v.jsx("div",{className:"space-y-4",children:i.map(E=>v.jsxs("div",{className:"border rounded-lg p-4",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[v.jsx("input",{type:"text",value:E.name,onChange:_=>m(E.id,{name:_.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),v.jsx("input",{type:"number",value:E.price/100,onChange:_=>m(E.id,{price:(parseFloat(_.target.value)||0)*100}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),v.jsx("input",{type:"number",value:E.capacity,onChange:_=>m(E.id,{capacity:parseInt(_.target.value)||0}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Benefits"}),v.jsxs("div",{className:"space-y-2",children:[(E.benefits||[]).map((_,L)=>v.jsxs("div",{className:"flex gap-2",children:[v.jsx("input",{type:"text",value:_,onChange:R=>A(E.id,L,R.target.value),placeholder:"Benefit description",className:"flex-1 px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),v.jsx("button",{onClick:()=>b(E.id,L),className:"px-2 py-2 text-red-600 hover:text-red-800",children:v.jsx(Q5,{className:"h-4 w-4"})})]},L)),v.jsxs("button",{onClick:()=>x(E.id),className:"text-blue-600 hover:text-blue-800 text-sm flex items-center gap-1",children:[v.jsx(YL,{className:"h-4 w-4"}),"Add Benefit"]})]})]})]}),v.jsx("button",{onClick:()=>f(E.id),className:"ml-4 text-red-600 hover:text-red-800",children:v.jsx(Q5,{className:"h-5 w-5"})})]}),v.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-600",children:[v.jsxs("span",{children:["Available: ",E.capacity-E.soldCount," / ",E.capacity]}),v.jsxs("span",{children:["Price: £",(E.price/100).toFixed(2)]}),E.originalPrice&&E.originalPrice>E.price&&v.jsxs("span",{className:"line-through text-gray-400",children:["£",(E.originalPrice/100).toFixed(2)]}),v.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[E.capacity-E.soldCount<=0&&v.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700",children:"Sold out by capacity"}),v.jsxs("label",{className:"flex items-center gap-2",children:[v.jsx("input",{type:"checkbox",checked:E.isActive===!1,disabled:E.capacity-E.soldCount<=0,onChange:_=>m(E.id,{isActive:!_.target.checked})}),v.jsx("span",{children:"Mark as sold out (disable sales)"})]})]})]})]},E.id))}),v.jsxs("div",{className:"flex justify-end gap-4 mt-6 pt-6 border-t",children:[v.jsx("button",{onClick:r,className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),v.jsx("button",{onClick:P,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Save Changes"})]})]})]})})},T9=({event:e,onClose:t})=>{const{addEvent:n,updateEvent:r}=bo(),[i,s]=me.useState(!1),[o,u]=me.useState((e==null?void 0:e.ticketTiers)||[]),{register:d,handleSubmit:f,reset:m,formState:{errors:x}}=dS();me.useEffect(()=>{e&&m({title:e.title,date:e.date,time:e.time,venue:e.venue,description:e.description,capacity:e.capacity,tags:e.tags.join(", "),gradient:e.gradient,image:e.image,bookingUrl:e.bookingUrl})},[e,m]);const A=I=>{console.log("Form submitted with ticket tiers:",o);const O=o.map(V=>({...V,eventId:(e==null?void 0:e.id)||"new_event"})),E=O.filter(V=>V.isActive!==!1&&typeof V.price=="number"),_=E.length>0?Math.min(...E.map(V=>V.price)):0,L=_>0?`From £${(_/100).toFixed(0)}`:"Free",R={...I,price:L,ticketTiers:O};console.log("Final event data to save:",R),e?r(e.id,R):n(R),t()},b=I=>{console.log("Ticket tiers saved in EventForm:",I),u(I),s(!1)},P=[{value:"from-gray-600 to-gray-800",label:"Gray"},{value:"from-gray-700 to-gray-900",label:"Dark Gray"},{value:"from-gray-800 to-black",label:"Black"},{value:"from-gray-500 to-gray-700",label:"Light Gray"},{value:"from-blue-600 to-blue-800",label:"Blue"},{value:"from-green-600 to-green-800",label:"Green"},{value:"from-purple-600 to-purple-800",label:"Purple"},{value:"from-red-600 to-red-800",label:"Red"}];return v.jsxs("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",onClick:t,children:[v.jsxs(lt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:I=>I.stopPropagation(),children:[v.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:e?"Edit Event":"Add New Event"}),v.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:v.jsx(Rh,{className:"h-6 w-6"})})]}),v.jsxs("form",{onSubmit:f(A),className:"p-6 space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Title"}),v.jsx("input",{...d("title",{required:"Title is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter event title"}),x.title&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.title.message})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[v.jsx(As,{className:"inline h-4 w-4 mr-1"}),"Date"]}),v.jsx("input",{...d("date",{required:"Date is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"e.g., Dec 15, 2024"}),x.date&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.date.message})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[v.jsx(ju,{className:"inline h-4 w-4 mr-1"}),"Time"]}),v.jsx("input",{...d("time",{required:"Time is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"e.g., 7:00 PM"}),x.time&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.time.message})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[v.jsx(bc,{className:"inline h-4 w-4 mr-1"}),"Venue"]}),v.jsx("input",{...d("venue",{required:"Venue is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter venue name"}),x.venue&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.venue.message})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[v.jsx(fo,{className:"inline h-4 w-4 mr-1"}),"Capacity"]}),v.jsx("input",{...d("capacity",{required:"Capacity is required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"e.g., 200"}),x.capacity&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.capacity.message})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[v.jsx(QL,{className:"inline h-4 w-4 mr-1"}),"Tags (comma-separated)"]}),v.jsx("input",{...d("tags",{required:"Tags are required"}),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"e.g., Corporate, Networking, Formal"}),x.tags&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.tags.message})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Color Theme"}),v.jsx("select",{...d("gradient",{required:"Gradient is required"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",children:P.map(I=>v.jsx("option",{value:I.value,children:I.label},I.value))}),x.gradient&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.gradient.message})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Event Image URL"}),v.jsx("input",{...d("image",{required:"Image URL is required",pattern:{value:/^https?:\/\/.+/,message:"Please enter a valid URL starting with http:// or https://"}}),type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"https://images.unsplash.com/photo-..."}),x.image&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.image.message}),v.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Tip: You can use Picsum URLs like https://picsum.photos/800/600?random=1 or Unsplash URLs"})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Ticket Tiers"}),v.jsxs("button",{type:"button",onClick:()=>s(!0),className:"flex items-center gap-2 px-3 py-1 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[v.jsx(L1,{className:"h-4 w-4"}),"Manage Tiers"]})]}),o.length>0?v.jsx("div",{className:"space-y-2",children:o.map(I=>v.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[v.jsxs("div",{children:[v.jsx("span",{className:"font-medium text-gray-900",children:I.name}),v.jsxs("span",{className:"ml-2 text-sm text-gray-600",children:["£",(I.price/100).toFixed(2)," - ",I.capacity," available"]})]}),v.jsxs("span",{className:"text-sm text-gray-500",children:[I.capacity-I.soldCount," left"]})]},I.id))}):v.jsx("p",{className:"text-sm text-gray-500",children:'No ticket tiers configured. Click "Manage Tiers" to add pricing options.'})]}),v.jsxs("div",{className:"md:col-span-2",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Booking URL (Optional - will be replaced by Stripe checkout)"}),v.jsx("input",{...d("bookingUrl"),type:"url",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"https://example.com/book/event (optional)"}),x.bookingUrl&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.bookingUrl.message})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),v.jsx("textarea",{...d("description",{required:"Description is required"}),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-gray-900 focus:border-transparent",placeholder:"Enter event description"}),x.description&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:x.description.message})]}),v.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t",children:[v.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md transition-colors",children:"Cancel"}),v.jsx("button",{type:"submit",className:"px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-md transition-colors",children:e?"Update Event":"Create Event"})]})]})]},(e==null?void 0:e.id)||"new-event"),i&&v.jsx(_9,{ticketTiers:o,eventId:(e==null?void 0:e.id)||"new_event",onSave:b,onClose:()=>s(!1)})]})},I9=({selectedTimeframe:e,selectedEvent:t,events:n,activeTab:r,onTimeframeChange:i,onEventChange:s,onTabChange:o,onRefresh:u})=>v.jsx("div",{className:"bg-white shadow-sm border-b",children:v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),v.jsx("p",{className:"text-gray-600 mt-1",children:"Manage analytics, events, orders, and scan tickets"})]}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("select",{value:e,onChange:d=>i(d.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[v.jsx("option",{value:"7d",children:"Last 7 days"}),v.jsx("option",{value:"30d",children:"Last 30 days"}),v.jsx("option",{value:"90d",children:"Last 90 days"})]}),v.jsxs("select",{value:t,onChange:d=>s(d.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[v.jsx("option",{value:"all",children:"All Events"}),n==null?void 0:n.map(d=>v.jsx("option",{value:d.id,children:d.title},d.id))]}),v.jsx("button",{onClick:u,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",children:v.jsx(KL,{className:"h-5 w-5"})})]})]}),v.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[v.jsx("button",{onClick:()=>o("analytics"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${r==="analytics"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Analytics"}),v.jsx("button",{onClick:()=>o("events"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${r==="events"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Event Management"}),v.jsx("button",{onClick:()=>o("orders"),className:`px-4 py-2 rounded-lg text-sm font-medium border ${r==="orders"?"bg-gray-900 text-white border-gray-900":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:"Orders"})]})]})}),k9=({stats:e,onExportAll:t,quickEventButtons:n})=>{const r=E=>`£${(E/100).toFixed(2)}`,i=E=>`${E.toFixed(1)}%`;if(!e)return null;const s=(E,_)=>_===0?E>0?100:0:(E-_)/_*100,o=Math.floor(e.totalRevenue*(.7+Math.random()*.3)),u=Math.floor(e.totalOrders*(.6+Math.random()*.4)),d=Math.floor(e.totalTickets*(.65+Math.random()*.35)),f=e.conversionRate*(.8+Math.random()*.2),m=s(e.totalRevenue,o),x=s(e.totalOrders,u),A=s(e.totalTickets,d),b=s(e.conversionRate,f),P=E=>E>=15?"text-green-600 bg-green-100 border-green-200":E>=5?"text-blue-600 bg-blue-100 border-blue-200":E>=0?"text-yellow-600 bg-yellow-100 border-yellow-200":"text-red-600 bg-red-100 border-red-200",I=E=>E>=0?v.jsx(Y5,{className:"h-4 w-4 text-green-500 mr-1"}):v.jsx(Y5,{className:"h-4 w-4 text-red-500 mr-1 transform rotate-90"}),O=E=>E>=15?"Excellent Growth":E>=5?"Good Growth":E>=0?"Stable":"Declining";return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"flex items-center gap-2",children:n}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("button",{onClick:()=>window.location.href="/scanner",className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors shadow-sm",children:[v.jsx(XL,{className:"h-4 w-4"}),"Ticket Scanner"]}),v.jsxs("button",{onClick:t,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[v.jsx(Lx,{className:"h-4 w-4"}),"Export Customer Data"]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[v.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),v.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r(e.totalRevenue)})]}),v.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:v.jsx(Dm,{className:"h-6 w-6 text-green-600"})})]}),v.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[I(m),v.jsxs("span",{className:`font-medium px-2 py-1 rounded-full text-xs border ${P(m)}`,children:[m>=0?"+":"",i(m)]}),v.jsx("span",{className:"text-gray-500 ml-2",children:"from last period"})]}),v.jsx("div",{className:"mt-2",children:v.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${m>=15?"bg-green-100 text-green-800 border-green-200":m>=5?"bg-blue-100 text-blue-800 border-blue-200":m>=0?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:O(m)})})]}),v.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Orders"}),v.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.totalOrders})]}),v.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:v.jsx(L1,{className:"h-6 w-6 text-blue-600"})})]}),v.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[I(x),v.jsxs("span",{className:`font-medium px-2 py-1 rounded-full text-xs border ${P(x)}`,children:[x>=0?"+":"",i(x)]}),v.jsx("span",{className:"text-gray-500 ml-2",children:"from last period"})]}),v.jsx("div",{className:"mt-2",children:v.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${x>=15?"bg-green-100 text-green-800 border-green-200":x>=5?"bg-blue-100 text-blue-800 border-blue-200":x>=0?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:O(x)})})]}),v.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tickets Sold"}),v.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.totalTickets})]}),v.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:v.jsx(fo,{className:"h-6 w-6 text-purple-600"})})]}),v.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[I(A),v.jsxs("span",{className:`font-medium px-2 py-1 rounded-full text-xs border ${P(A)}`,children:[A>=0?"+":"",i(A)]}),v.jsx("span",{className:"text-gray-500 ml-2",children:"from last period"})]}),v.jsx("div",{className:"mt-2",children:v.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${A>=15?"bg-green-100 text-green-800 border-green-200":A>=5?"bg-blue-100 text-blue-800 border-blue-200":A>=0?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:O(A)})})]}),v.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Conversion Rate"}),v.jsx("p",{className:"text-3xl font-bold text-gray-900",children:i(e.conversionRate)})]}),v.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:v.jsx(zd,{className:"h-6 w-6 text-orange-600"})})]}),v.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[I(b),v.jsxs("span",{className:`font-medium px-2 py-1 rounded-full text-xs border ${P(b)}`,children:[b>=0?"+":"",i(b)]}),v.jsx("span",{className:"text-gray-500 ml-2",children:"from last period"})]}),v.jsx("div",{className:"mt-2",children:v.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${b>=15?"bg-green-100 text-green-800 border-green-200":b>=5?"bg-blue-100 text-blue-800 border-blue-200":b>=0?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:O(b)})})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[v.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Performance Insights"}),v.jsx("div",{className:"flex gap-2",children:v.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full border border-green-200",children:e.topPerformingEvent?"Top Event":"No Data"})})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-gray-600",children:"Average Order Value"}),v.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(e.averageOrderValue)})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-gray-600",children:"Revenue per Ticket"}),v.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(e.totalRevenue/Math.max(1,e.totalTickets))})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-gray-600",children:"Orders per Day"}),v.jsx("span",{className:"text-sm font-medium text-gray-900",children:(e.totalOrders/30).toFixed(1)})]})]})]}),v.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Customer Insights"}),v.jsx("div",{className:"flex gap-2",children:v.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:e.totalOrders>0?"Active":"No Orders"})})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-gray-600",children:"Events with Sales"}),v.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.revenueByEvent.filter(E=>E.revenue>0).length})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-gray-600",children:"Top Tier Sales"}),v.jsx("span",{className:"text-sm font-medium text-gray-900",children:e.ticketSalesByTier.length>0?e.ticketSalesByTier[0].tier:"N/A"})]}),v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("span",{className:"text-sm text-gray-600",children:"Daily Revenue Avg"}),v.jsx("span",{className:"text-sm font-medium text-gray-900",children:r(e.dailyRevenue.reduce((E,_)=>E+_.revenue,0)/Math.max(1,e.dailyRevenue.length))})]})]})]})]})]})},L9=({stats:e,events:t})=>{var A,b;const n=P=>`£${(P/100).toFixed(2)}`;if(!e||!t)return null;const r=()=>{const P=new Date,I=new Date(P.getTime()+7*24*60*60*1e3);return t.filter(O=>!O.isArchived).filter(O=>{const E=new Date(O.date);return E>=P&&E<=I}).sort((O,E)=>new Date(O.date).getTime()-new Date(E.date).getTime()).slice(0,3)},i=()=>{const P=t.filter(E=>!E.isArchived);if(P.length===0)return 0;const I=P.reduce((E,_)=>E+(parseInt(_.capacity)||0),0),O=e.ticketSalesByTier.reduce((E,_)=>E+_.sold,0);return I>0?O/I*100:0},s=()=>e.ticketSalesByTier.length===0?null:e.ticketSalesByTier.sort((P,I)=>I.sold-P.sold)[0],o=()=>{const P=r();if(P.length===0)return{score:0,label:"No Events",color:"gray"};const I=i(),O=P.map(R=>{const V=new Date(R.date),ie=new Date;return Math.ceil((V.getTime()-ie.getTime())/(1e3*60*60*24))});let E=0;I>=80?E+=40:I>=60?E+=30:I>=40?E+=20:E+=10;const _=O.reduce((R,V)=>R+V,0)/O.length;_<=3?E+=30:_<=7?E+=25:_<=14?E+=20:E+=15;const L=e.dailyRevenue.slice(-7).reduce((R,V)=>R+V.revenue,0);return L>=1e4?E+=30:L>=5e3?E+=25:L>=1e3?E+=20:E+=10,E>=80?{score:E,label:"Excellent",color:"green"}:E>=60?{score:E,label:"Good",color:"blue"}:E>=40?{score:E,label:"Fair",color:"yellow"}:{score:E,label:"Needs Attention",color:"red"}},u=r(),d=i(),f=s(),m=o(),x=P=>{switch(P){case"green":return v.jsx(yh,{className:"h-5 w-5 text-green-600"});case"blue":return v.jsx(zd,{className:"h-5 w-5 text-blue-600"});case"yellow":return v.jsx(Om,{className:"h-5 w-5 text-yellow-600"});case"red":return v.jsx(Om,{className:"h-5 w-5 text-red-600"});default:return v.jsx(ju,{className:"h-5 w-5 text-gray-600"})}};return v.jsx("div",{className:"space-y-8",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mt-8 mb-8",children:[v.jsxs(lt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Event Performance"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(As,{className:"h-5 w-5 text-blue-600"}),v.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:"Live Data"})]})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-100",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:v.jsx(As,{className:"h-4 w-4 text-blue-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Upcoming Events"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Next 7 days"})]})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-2xl font-bold text-blue-900",children:u.length}),u.length>0&&v.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:[(b=(A=u[0])==null?void 0:A.title)==null?void 0:b.slice(0,15),"..."]})]})]}),v.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-100",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:v.jsx(fo,{className:"h-4 w-4 text-green-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Capacity"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Utilization"})]})]}),v.jsxs("div",{className:"text-center",children:[v.jsxs("p",{className:"text-2xl font-bold text-green-900",children:[d.toFixed(0),"%"]}),v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-2",children:v.jsx("div",{className:"bg-gradient-to-r from-green-400 to-green-600 h-1 rounded-full transition-all duration-300",style:{width:`${Math.min(d,100)}%`}})})]})]}),v.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-100",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:v.jsx(jm,{className:"h-4 w-4 text-purple-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Best Selling"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Ticket Tier"})]})]}),v.jsx("div",{className:"text-center",children:f?v.jsxs(v.Fragment,{children:[v.jsx("p",{className:"text-lg font-bold text-purple-900",children:f.tier.split(" - ")[1]}),v.jsxs("p",{className:"text-xs text-purple-600 mt-1",children:[f.sold," sold"]})]}):v.jsx("p",{className:"text-lg font-bold text-gray-400",children:"No sales yet"})})]}),v.jsxs("div",{className:"p-4 bg-orange-50 rounded-lg border border-orange-100",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v.jsx("div",{className:"p-2 bg-orange-100 rounded-full",children:x(m.color)}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Event Health"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Score"})]})]}),v.jsxs("div",{className:"text-center",children:[v.jsx("p",{className:"text-lg font-bold text-orange-900",children:m.label}),v.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:[m.score,"/100"]})]})]})]}),v.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:v.jsxs("div",{className:"flex gap-2 justify-center",children:[v.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${d>=80?"bg-green-100 text-green-800 border-green-200":d>=60?"bg-blue-100 text-blue-800 border-blue-200":d>=40?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:[d.toFixed(0),"% Capacity Filled"]}),v.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-purple-100 text-purple-800 rounded-full border border-purple-200",children:[e.ticketSalesByTier.filter(P=>P.revenue>0).length," Active Tiers"]})]})})]}),v.jsxs(lt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Business Insights"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(zd,{className:"h-5 w-5 text-gray-400"}),v.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-indigo-100 text-indigo-800 rounded-full border border-indigo-200",children:"Live Data"})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:v.jsx(fo,{className:"h-5 w-5 text-blue-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Customer Acquisition"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Last 30 days"})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-lg font-bold text-blue-900",children:e.ticketSalesByTier.reduce((P,I)=>P+I.sold,0)}),v.jsx("p",{className:"text-xs text-blue-600",children:"New customers"})]})]})}),v.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:v.jsx(zd,{className:"h-5 w-5 text-green-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Revenue per Customer"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Average"})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-lg font-bold text-green-900",children:n(e.ticketSalesByTier.reduce((P,I)=>P+I.revenue,0)/Math.max(1,e.ticketSalesByTier.reduce((P,I)=>P+I.sold,0)))}),v.jsx("p",{className:"text-xs text-green-600",children:"Per customer"})]})]})}),v.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:v.jsx(As,{className:"h-5 w-5 text-purple-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Event Performance"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Success Rate"})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("p",{className:"text-lg font-bold text-purple-900",children:[e.revenueByEvent.filter(P=>P.revenue>0).length,"/",e.revenueByEvent.length]}),v.jsx("p",{className:"text-xs text-purple-600",children:"Events with sales"})]})]})})]})]})]})})},P9=({currentEvents:e,archivedEvents:t,onAddEvent:n,onEditEvent:r,onArchiveToggle:i,onDeleteEvent:s})=>{const o=(u,d=!1)=>v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Venue"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tiers"}),v.jsx("th",{className:"px-6 py-3"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(f=>{var m;return v.jsxs("tr",{className:"hover:bg-gray-50",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("div",{className:"text-sm font-medium text-gray-900 truncate max-w-[220px]",children:f.title})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:f.date}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 truncate max-w-[180px]",children:f.venue}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:((m=f.ticketTiers)==null?void 0:m.length)||0}),v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[v.jsx("button",{onClick:()=>r(f),className:"px-3 py-1 rounded-md border text-gray-700 hover:bg-gray-50",children:"Edit"}),v.jsx("button",{onClick:()=>i(f),className:"px-3 py-1 rounded-md border text-gray-700 hover:bg-gray-50",children:d?"Unarchive":"Archive"}),v.jsx("button",{onClick:()=>s(f),className:"px-3 py-1 rounded-md border border-red-200 text-red-700 hover:bg-red-50",children:"Delete"})]})]},f.id)})})]})})});return v.jsxs("div",{className:"space-y-10",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Manage Events"}),v.jsx("button",{onClick:n,className:"px-4 py-2 bg-gray-900 hover:bg-gray-800 text-white rounded-md text-sm",children:"Add Event"})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h4",{className:"text-md font-semibold text-gray-800",children:"Current Events"}),v.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," events"]})]}),o(e,!1)]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h4",{className:"text-md font-semibold text-gray-800",children:"Archived Events"}),v.jsxs("span",{className:"text-sm text-gray-500",children:[t.length," events"]})]}),o(t,!0)]})]})},O9=({orders:e,events:t})=>{const n=r=>`£${(r/100).toFixed(2)}`;return!e||e.length===0?v.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center",children:v.jsx("p",{className:"text-gray-500",children:"No orders to display"})}):v.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[v.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"All Orders"})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tickets"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),v.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>{var i,s,o;return v.jsxs("tr",{className:"hover:bg-gray-50",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("span",{className:"text-sm font-medium text-gray-900 font-mono",children:[(i=r.id)==null?void 0:i.slice(0,8),"..."]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.customerName}),v.jsx("div",{className:"text-sm text-gray-500",children:r.customerEmail})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((s=t==null?void 0:t.find(u=>u.id===r.eventId))==null?void 0:s.title)||"Unknown Event"}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((o=r.tickets)==null?void 0:o.reduce((u,d)=>u+(d.quantity||0),0))||0}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:n(r.totalAmount||0)}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:v.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${r.status==="completed"?"bg-green-100 text-green-800":r.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.status})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(r.createdAt).toLocaleDateString()})]},r.id)})})]})})]})},D9=({orders:e,events:t})=>{const n=r=>`£${(r/100).toFixed(2)}`;return!e||e.length===0?v.jsx(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6 text-center",children:v.jsx("p",{className:"text-gray-500",children:"No recent orders to display"})}):v.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[v.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Orders"})}),v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"w-full",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order"}),v.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),v.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Event"}),v.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),v.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),v.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(r=>{var i,s;return v.jsxs("tr",{className:"hover:bg-gray-50",children:[v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:v.jsxs("span",{className:"text-sm font-medium text-gray-900 font-mono",children:[(i=r.id)==null?void 0:i.slice(0,8),"..."]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.customerName}),v.jsx("div",{className:"text-sm text-gray-500",children:r.customerEmail})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:v.jsx("span",{className:"text-sm text-gray-900",children:((s=t==null?void 0:t.find(o=>o.id===r.eventId))==null?void 0:s.title)||"Unknown Event"})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:v.jsx("span",{className:"text-sm font-semibold text-gray-900",children:n(r.totalAmount||0)})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:v.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${r.status==="completed"?"bg-green-100 text-green-800":r.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:r.status})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:new Date(r.createdAt).toLocaleDateString()})]},r.id)})})]})})]})},j9=({creatingEvents:e,onCreateEvent:t})=>v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:()=>t("sundowner"),disabled:e.includes("sundowner"),className:"px-3 py-2 bg-gradient-to-r from-orange-400 to-red-500 text-white text-sm font-medium rounded-lg hover:from-orange-500 hover:to-red-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:e.includes("sundowner")?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):v.jsx(v.Fragment,{children:"🌅 Add Sundowner"})}),v.jsx("button",{onClick:()=>t("bollywood"),disabled:e.includes("bollywood"),className:"px-3 py-2 bg-gradient-to-r from-purple-400 to-pink-500 text-white text-sm font-medium rounded-lg hover:from-purple-500 hover:to-pink-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:e.includes("bollywood")?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):v.jsx(v.Fragment,{children:"🎭 Add Bollywood Night"})}),v.jsx("button",{onClick:()=>t("carnival"),disabled:e.includes("carnival"),className:"px-3 py-2 bg-gradient-to-r from-green-400 to-blue-500 text-white text-sm font-medium rounded-lg hover:from-green-500 hover:to-blue-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:e.includes("carnival")?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Creating..."]}):v.jsx(v.Fragment,{children:"🎪 Add Carnival"})})]}),R9=({confirm:e,onClose:t,onConfirm:n})=>e?v.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:t,children:v.jsxs("div",{className:"bg-white rounded-xl w-full max-w-md p-6 text-center",onClick:r=>r.stopPropagation(),children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:e.type==="delete"?"Delete Event":e.event.isArchived?"Unarchive Event":"Archive Event"}),v.jsx("p",{className:"text-sm text-gray-600 mb-6",children:e.type==="delete"?"This will permanently delete the event and related data (if archived). This action cannot be undone.":e.event.isArchived?"This will unarchive the event and make it visible again.":"This will archive the event and hide it from public view."}),v.jsxs("div",{className:"flex items-center justify-center gap-3",children:[v.jsx("button",{onClick:t,className:"px-4 py-2 rounded-md border text-gray-700",children:"Cancel"}),v.jsx("button",{onClick:n,className:`px-4 py-2 rounded-md text-white ${e.type==="delete"?"bg-red-600 hover:bg-red-700":"bg-gray-900 hover:bg-gray-800"}`,children:e.type==="delete"?"Delete":e.event.isArchived?"Unarchive":"Archive"})]})]})}):null,M9=({events:e,orders:t,selectedEvent:n,onExportEventData:r})=>{var K;const[i,s]=me.useState(1),[o,u]=me.useState(5),d=$=>`£${($/100).toFixed(2)}`,f=$=>`${$.toFixed(1)}%`,m=e.find($=>$.id===n);if(!m)return null;const x=t.filter($=>$.eventId===n),A={totalRevenue:x.reduce(($,ge)=>$+(ge.totalAmount||0),0),totalOrders:x.length,totalTickets:x.reduce(($,ge)=>{var W;return $+(((W=ge.tickets)==null?void 0:W.reduce((B,ee)=>B+(ee.quantity||0),0))||0)},0),capacity:parseInt(m.capacity||"0"),utilizationRate:parseInt(m.capacity||"0")>0?x.reduce(($,ge)=>{var W;return $+(((W=ge.tickets)==null?void 0:W.reduce((B,ee)=>B+(ee.quantity||0),0))||0)},0)/parseInt(m.capacity||"0")*100:0},b=((K=m.ticketTiers)==null?void 0:K.map($=>{const ge=x.filter(ee=>{var te;return(te=ee.tickets)==null?void 0:te.some(J=>J.ticketTierId===$.id)}),W=ge.reduce((ee,te)=>{var be;const J=((be=te.tickets)==null?void 0:be.filter(ve=>ve.ticketTierId===$.id))||[];return ee+J.reduce((ve,fe)=>ve+(fe.totalPrice||0),0)},0),B=ge.reduce((ee,te)=>{var be;const J=((be=te.tickets)==null?void 0:be.filter(ve=>ve.ticketTierId===$.id))||[];return ee+J.reduce((ve,fe)=>ve+(fe.quantity||0),0)},0);return{name:$.name,sold:B,capacity:$.capacity,revenue:W,utilizationRate:$.capacity>0?B/$.capacity*100:0,revenuePerTicket:B>0?W/B:0}}).sort(($,ge)=>ge.revenue-$.revenue))||[],P=$=>$>=80?"bg-green-100 text-green-800 border-green-200":$>=50?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200",I=()=>{if(x.length===0)return{date:"N/A",revenue:0};const $=x.reduce((W,B)=>{const ee=new Date(B.createdAt).toDateString();return W[ee]=(W[ee]||0)+(B.totalAmount||0),W},{}),ge=Object.entries($).reduce((W,[B,ee])=>ee>W.revenue?{date:B,revenue:ee}:W,{date:"",revenue:0});return{date:ge.date?new Date(ge.date).toLocaleDateString("en-GB",{month:"short",day:"numeric"}):"N/A",revenue:ge.revenue}},O=()=>x.length===0?0:new Set(x.map(ge=>new Date(ge.createdAt).toDateString())).size,E=Math.ceil(x.length/o),_=(i-1)*o,L=_+o,R=x.slice(_,L),V=$=>{s($)},ie=$=>{u($),s(1)},q=()=>{const $=x.map(ge=>{var B;return((B=ge.tickets)==null?void 0:B.map(ee=>{var J,be;const te=(J=m.ticketTiers)==null?void 0:J.find(ve=>ve.id===ee.ticketTierId);return{"Order ID":((be=ge.id)==null?void 0:be.slice(0,8))||"N/A","Customer Name":ge.customerName||"N/A","Customer Email":ge.customerEmail||"N/A","Ticket Tier":(te==null?void 0:te.name)||"Unknown Tier",Quantity:ee.quantity||0,"Unit Price":te?`£${(te.price/100).toFixed(2)}`:"N/A","Total Price":`£${((ee.totalPrice||0)/100).toFixed(2)}`,"Order Status":ge.status||"N/A","Order Date":new Date(ge.createdAt).toLocaleDateString(),"Order Time":new Date(ge.createdAt).toLocaleTimeString()}}))||[]}).flat();if($.length>0){const ge=["Order ID,Customer Name,Customer Email,Ticket Tier,Quantity,Unit Price,Total Price,Order Status,Order Date,Order Time",...$.map(te=>`${te["Order ID"]},${te["Customer Name"]},${te["Customer Email"]},${te["Ticket Tier"]},${te.Quantity},${te["Unit Price"]},${te["Total Price"]},${te["Order Status"]},${te["Order Date"]},${te["Order Time"]}`)].join(`
`),W=new Blob([ge],{type:"text/csv;charset=utf-8;"}),B=document.createElement("a"),ee=URL.createObjectURL(W);B.setAttribute("href",ee),B.setAttribute("download",`event-sales-${m.title.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${new Date().toISOString().split("T")[0]}.csv`),B.style.visibility="hidden",document.body.appendChild(B),B.click(),document.body.removeChild(B)}};return v.jsxs("div",{className:"space-y-8",children:[v.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center",children:v.jsx(As,{className:"h-8 w-8 text-white"})}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:m.title}),v.jsxs("div",{className:"flex items-center gap-4 mt-2 text-sm text-gray-600",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(As,{className:"h-4 w-4"}),v.jsx("span",{children:m.date})]}),v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(bc,{className:"h-4 w-4"}),v.jsx("span",{children:m.venue})]})]})]})]}),v.jsx("button",{onClick:()=>r(n),className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:"Export Event Data"})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full border border-green-200",children:"Active Sales"}),v.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${P(A.utilizationRate)}`,children:[f(A.utilizationRate)," Capacity Used"]}),v.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full border border-blue-200",children:[A.totalOrders," Orders"]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[v.jsx(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:d(A.totalRevenue)})]}),v.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:v.jsx(Dm,{className:"h-5 w-5 text-green-600"})})]})}),v.jsx(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Tickets Sold"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.totalTickets})]}),v.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:v.jsx(fo,{className:"h-5 w-5 text-blue-600"})})]})}),v.jsx(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Capacity Used"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:f(A.utilizationRate)})]}),v.jsx("div",{className:"p-3 bg-purple-100 rounded-full",children:v.jsx(As,{className:"h-5 w-5 text-purple-600"})})]})}),v.jsx(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Performance"}),v.jsx("p",{className:"text-2xl font-bold text-gray-900",children:A.utilizationRate>=80?"Excellent":A.utilizationRate>=50?"Good":A.utilizationRate>=20?"Fair":"Poor"})]}),v.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:v.jsx(jm,{className:"h-5 w-5 text-orange-600"})})]})})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[v.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Ticket Tier Performance"}),b.length>0?v.jsx("div",{className:"space-y-4",children:b.map(($,ge)=>v.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${ge===0?"bg-yellow-100 text-yellow-800 border border-yellow-200":ge===1?"bg-gray-100 text-gray-800 border border-gray-200":ge===2?"bg-orange-100 text-orange-800 border border-orange-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:ge+1}),v.jsxs("div",{children:[v.jsx("span",{className:"text-sm font-medium text-gray-900",children:$.name}),v.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[v.jsxs("span",{className:"text-xs text-gray-500",children:[$.sold,"/",$.capacity," tickets"]}),v.jsxs("span",{className:`px-2 py-1 text-xs rounded-full border ${P($.utilizationRate)}`,children:[f($.utilizationRate)," full"]})]})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("span",{className:"text-sm font-semibold text-gray-900",children:d($.revenue)}),v.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[d($.revenuePerTicket)," per ticket"]})]})]},ge))}):v.jsxs("div",{className:"text-center py-8 text-gray-500",children:[v.jsx(jm,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),v.jsx("p",{children:"No tier data available"})]})]}),v.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Event Insights"}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(zd,{className:"h-5 w-5 text-gray-400"}),v.jsx("span",{className:"px-3 py-1 text-xs font-medium bg-indigo-100 text-indigo-800 rounded-full border border-indigo-200",children:"Analytics"})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-blue-100 rounded-full",children:v.jsx(fo,{className:"h-5 w-5 text-blue-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Average Order Value"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Per transaction"})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-lg font-bold text-blue-900",children:d(A.totalOrders>0?A.totalRevenue/A.totalOrders:0)}),v.jsx("p",{className:"text-xs text-blue-600",children:"Per order"})]})]})}),v.jsx("div",{className:"p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-green-100 rounded-full",children:v.jsx(Dm,{className:"h-5 w-5 text-green-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Revenue per Ticket"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Average"})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-lg font-bold text-green-900",children:d(A.totalTickets>0?A.totalRevenue/A.totalTickets:0)}),v.jsx("p",{className:"text-xs text-green-600",children:"Per ticket"})]})]})}),v.jsx("div",{className:"p-4 bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg border border-purple-100",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 bg-purple-100 rounded-full",children:v.jsx(As,{className:"h-5 w-5 text-purple-600"})}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Peak Sales Day"}),v.jsx("p",{className:"text-xs text-gray-500",children:"Best performance"})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("p",{className:"text-lg font-bold text-purple-900",children:I().date}),v.jsx("p",{className:"text-xs text-purple-600",children:d(I().revenue)})]})]})})]}),v.jsx("div",{className:"mt-6 pt-4 border-t border-gray-100",children:v.jsxs("div",{className:"flex gap-2 justify-center",children:[v.jsxs("span",{className:`px-3 py-1 text-xs font-medium rounded-full border ${O()>=20?"bg-green-100 text-green-800 border-green-200":O()>=15?"bg-blue-100 text-blue-800 border-blue-200":O()>=10?"bg-yellow-100 text-yellow-800 border-yellow-200":"bg-red-100 text-red-800 border-red-200"}`,children:[O()," Active Days"]}),v.jsxs("span",{className:"px-3 py-1 text-xs font-medium bg-orange-100 text-orange-800 rounded-full border border-orange-200",children:[b.filter($=>$.revenue>0).length," Active Tiers"]})]})})]})]}),v.jsxs(lt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Event Orders"}),v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("label",{className:"text-sm text-gray-600",children:"Show:"}),v.jsxs("select",{value:o,onChange:$=>ie(Number($.target.value)),className:"px-3 py-1 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[v.jsx("option",{value:5,children:"5"}),v.jsx("option",{value:10,children:"10"}),v.jsx("option",{value:25,children:"25"})]}),v.jsx("span",{className:"text-sm text-gray-600",children:"records"})]}),v.jsxs("button",{onClick:q,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors shadow-sm",children:[v.jsx(Lx,{className:"h-4 w-4"}),"Export Sales Info"]})]})]}),R.length>0?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsxs("tr",{children:[v.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),v.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),v.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tickets"}),v.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),v.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),v.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map($=>{var ge,W;return v.jsxs("tr",{className:"hover:bg-gray-50",children:[v.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:[(ge=$.id)==null?void 0:ge.slice(0,8),"..."]}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:v.jsxs("div",{children:[v.jsx("div",{className:"text-sm font-medium text-gray-900",children:$.customerName||"N/A"}),v.jsx("div",{className:"text-sm text-gray-500",children:$.customerEmail||"N/A"})]})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:v.jsx("div",{className:"space-y-1",children:(W=$.tickets)==null?void 0:W.map((B,ee)=>{var J;const te=(J=m.ticketTiers)==null?void 0:J.find(be=>be.id===B.ticketTierId);return v.jsxs("div",{className:"text-sm text-gray-900",children:[v.jsx("span",{className:"font-medium",children:(te==null?void 0:te.name)||"Unknown Tier"}),v.jsxs("span",{className:"text-gray-500 ml-2",children:["x",B.quantity]})]},ee)})})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:d($.totalAmount||0)}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:v.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full border ${$.status==="completed"?"bg-green-100 text-green-800 border-green-200":$.status==="pending"?"bg-yellow-100 text-yellow-800 border-yellow-200":$.status==="failed"?"bg-red-100 text-red-800 border-red-200":"bg-gray-100 text-gray-800 border-gray-200"}`,children:$.status||"N/A"})}),v.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center",children:new Date($.createdAt).toLocaleDateString()})]},$.id)})})]})}),v.jsxs("div",{className:"flex items-center justify-between mt-6",children:[v.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",_+1," to ",Math.min(L,x.length)," of ",x.length," results"]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("button",{onClick:()=>V(i-1),disabled:i===1,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),v.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:E},($,ge)=>ge+1).map($=>v.jsx("button",{onClick:()=>V($),className:`px-3 py-1 text-sm font-medium rounded-md ${$===i?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50"}`,children:$},$))}),v.jsx("button",{onClick:()=>V(i+1),disabled:i===E,className:"px-3 py-1 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}):v.jsxs("div",{className:"text-center py-8 text-gray-500",children:[v.jsx(fo,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),v.jsx("p",{children:"No orders found for this event"})]})]})]})};var wt;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(wt||(wt={}));var Ow=new Map([[wt.QR_CODE,"QR_CODE"],[wt.AZTEC,"AZTEC"],[wt.CODABAR,"CODABAR"],[wt.CODE_39,"CODE_39"],[wt.CODE_93,"CODE_93"],[wt.CODE_128,"CODE_128"],[wt.DATA_MATRIX,"DATA_MATRIX"],[wt.MAXICODE,"MAXICODE"],[wt.ITF,"ITF"],[wt.EAN_13,"EAN_13"],[wt.EAN_8,"EAN_8"],[wt.PDF_417,"PDF_417"],[wt.RSS_14,"RSS_14"],[wt.RSS_EXPANDED,"RSS_EXPANDED"],[wt.UPC_A,"UPC_A"],[wt.UPC_E,"UPC_E"],[wt.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Dw;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(Dw||(Dw={}));function B9(e){return Object.values(wt).includes(e)}var vl;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(vl||(vl={}));var ua=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[vl.SCAN_TYPE_CAMERA,vl.SCAN_TYPE_FILE],e}(),hS=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!Ow.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,Ow.get(t))},e}(),jw=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),Ym;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Ym||(Ym={}));var fS=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:Ym.UNKWOWN_ERROR}},e}(),pS=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ka(e){return typeof e>"u"||e===null}function F9(e,t,n){return e>n?n:e<t?t:e}var pu=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),_n=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),Rw=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),gS=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),o=Object.keys(t),u=0,d=o;u<d.length;u++){var f=d[u];if(s.has(f))return n.logError("".concat(f," is not supported videoConstaints."),!0),!1}return!0},e}(),Xm={exports:{}};(function(e,t){(function(n,r){r(t)})(mi,function(n){function r(U){return U==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,a){U.__proto__=a}||function(U,a){for(var l in a)a.hasOwnProperty(l)&&(U[l]=a[l])};function s(U,a){i(U,a);function l(){this.constructor=U}U.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}function o(U,a){var l=Object.setPrototypeOf;l?l(U,a):U.__proto__=a}function u(U,a){a===void 0&&(a=U.constructor);var l=Error.captureStackTrace;l&&l(U,a)}var d=function(U){s(a,U);function a(l){var c=this.constructor,h=U.call(this,l)||this;return Object.defineProperty(h,"name",{value:c.name,enumerable:!1}),o(h,c.prototype),u(h),h}return a}(Error);class f extends d{constructor(a=void 0){super(a),this.message=a}getKind(){return this.constructor.kind}}f.kind="Exception";class m extends f{}m.kind="ArgumentException";class x extends f{}x.kind="IllegalArgumentException";class A{constructor(a){if(this.binarizer=a,a===null)throw new x("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(a,l){return this.binarizer.getBlackRow(a,l)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(a,l,c,h){const p=this.binarizer.getLuminanceSource().crop(a,l,c,h);return new A(this.binarizer.createBinarizer(p))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new A(this.binarizer.createBinarizer(a))}rotateCounterClockwise45(){const a=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new A(this.binarizer.createBinarizer(a))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends f{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class P{constructor(a){this.source=a}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class I{static arraycopy(a,l,c,h,p){for(;p--;)c[h++]=a[l++]}static currentTimeMillis(){return Date.now()}}class O extends f{}O.kind="IndexOutOfBoundsException";class E extends O{constructor(a=void 0,l=void 0){super(l),this.index=a,this.message=l}}E.kind="ArrayIndexOutOfBoundsException";class _{static fill(a,l){for(let c=0,h=a.length;c<h;c++)a[c]=l}static fillWithin(a,l,c,h){_.rangeCheck(a.length,l,c);for(let p=l;p<c;p++)a[p]=h}static rangeCheck(a,l,c){if(l>c)throw new x("fromIndex("+l+") > toIndex("+c+")");if(l<0)throw new E(l);if(c>a)throw new E(c)}static asList(...a){return a}static create(a,l,c){return Array.from({length:a}).map(p=>Array.from({length:l}).fill(c))}static createInt32Array(a,l,c){return Array.from({length:a}).map(p=>Int32Array.from({length:l}).fill(c))}static equals(a,l){if(!a||!l||!a.length||!l.length||a.length!==l.length)return!1;for(let c=0,h=a.length;c<h;c++)if(a[c]!==l[c])return!1;return!0}static hashCode(a){if(a===null)return 0;let l=1;for(const c of a)l=31*l+c;return l}static fillUint8Array(a,l){for(let c=0;c!==a.length;c++)a[c]=l}static copyOf(a,l){return a.slice(0,l)}static copyOfUint8Array(a,l){if(a.length<=l){const c=new Uint8Array(l);return c.set(a),c}return a.slice(0,l)}static copyOfRange(a,l,c){const h=c-l,p=new Int32Array(h);return I.arraycopy(a,l,p,0,h),p}static binarySearch(a,l,c){c===void 0&&(c=_.numberComparator);let h=0,p=a.length-1;for(;h<=p;){const g=p+h>>1,w=c(l,a[g]);if(w>0)h=g+1;else if(w<0)p=g-1;else return g}return-h-1}static numberComparator(a,l){return a-l}}class L{static numberOfTrailingZeros(a){let l;if(a===0)return 32;let c=31;return l=a<<16,l!==0&&(c-=16,a=l),l=a<<8,l!==0&&(c-=8,a=l),l=a<<4,l!==0&&(c-=4,a=l),l=a<<2,l!==0&&(c-=2,a=l),c-(a<<1>>>31)}static numberOfLeadingZeros(a){if(a===0)return 32;let l=1;return a>>>16||(l+=16,a<<=16),a>>>24||(l+=8,a<<=8),a>>>28||(l+=4,a<<=4),a>>>30||(l+=2,a<<=2),l-=a>>>31,l}static toHexString(a){return a.toString(16)}static toBinaryString(a){return String(parseInt(String(a),2))}static bitCount(a){return a=a-(a>>>1&1431655765),a=(a&858993459)+(a>>>2&858993459),a=a+(a>>>4)&252645135,a=a+(a>>>8),a=a+(a>>>16),a&63}static truncDivision(a,l){return Math.trunc(a/l)}static parseInt(a,l=void 0){return parseInt(a,l)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class R{constructor(a,l){a===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=a,l==null?this.bits=R.makeArray(a):this.bits=l)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(a){if(a>this.bits.length*32){const l=R.makeArray(a);I.arraycopy(this.bits,0,l,0,this.bits.length),this.bits=l}}get(a){return(this.bits[Math.floor(a/32)]&1<<(a&31))!==0}set(a){this.bits[Math.floor(a/32)]|=1<<(a&31)}flip(a){this.bits[Math.floor(a/32)]^=1<<(a&31)}getNextSet(a){const l=this.size;if(a>=l)return l;const c=this.bits;let h=Math.floor(a/32),p=c[h];p&=~((1<<(a&31))-1);const g=c.length;for(;p===0;){if(++h===g)return l;p=c[h]}const w=h*32+L.numberOfTrailingZeros(p);return w>l?l:w}getNextUnset(a){const l=this.size;if(a>=l)return l;const c=this.bits;let h=Math.floor(a/32),p=~c[h];p&=~((1<<(a&31))-1);const g=c.length;for(;p===0;){if(++h===g)return l;p=~c[h]}const w=h*32+L.numberOfTrailingZeros(p);return w>l?l:w}setBulk(a,l){this.bits[Math.floor(a/32)]=l}setRange(a,l){if(l<a||a<0||l>this.size)throw new x;if(l===a)return;l--;const c=Math.floor(a/32),h=Math.floor(l/32),p=this.bits;for(let g=c;g<=h;g++){const w=g>c?0:a&31,T=(2<<(g<h?31:l&31))-(1<<w);p[g]|=T}}clear(){const a=this.bits.length,l=this.bits;for(let c=0;c<a;c++)l[c]=0}isRange(a,l,c){if(l<a||a<0||l>this.size)throw new x;if(l===a)return!0;l--;const h=Math.floor(a/32),p=Math.floor(l/32),g=this.bits;for(let w=h;w<=p;w++){const N=w>h?0:a&31,j=(2<<(w<p?31:l&31))-(1<<N)&4294967295;if((g[w]&j)!==(c?j:0))return!1}return!0}appendBit(a){this.ensureCapacity(this.size+1),a&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(a,l){if(l<0||l>32)throw new x("Num bits must be between 0 and 32");this.ensureCapacity(this.size+l);for(let c=l;c>0;c--)this.appendBit((a>>c-1&1)===1)}appendBitArray(a){const l=a.size;this.ensureCapacity(this.size+l);for(let c=0;c<l;c++)this.appendBit(a.get(c))}xor(a){if(this.size!==a.size)throw new x("Sizes don't match");const l=this.bits;for(let c=0,h=l.length;c<h;c++)l[c]^=a.bits[c]}toBytes(a,l,c,h){for(let p=0;p<h;p++){let g=0;for(let w=0;w<8;w++)this.get(a)&&(g|=1<<7-w),a++;l[c+p]=g}}getBitArray(){return this.bits}reverse(){const a=new Int32Array(this.bits.length),l=Math.floor((this.size-1)/32),c=l+1,h=this.bits;for(let p=0;p<c;p++){let g=h[p];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,a[l-p]=g}if(this.size!==c*32){const p=c*32-this.size;let g=a[0]>>>p;for(let w=1;w<c;w++){const N=a[w];g|=N<<32-p,a[w-1]=g,g=N>>>p}a[c-1]=g}this.bits=a}static makeArray(a){return new Int32Array(Math.floor((a+31)/32))}equals(a){if(!(a instanceof R))return!1;const l=a;return this.size===l.size&&_.equals(this.bits,l.bits)}hashCode(){return 31*this.size+_.hashCode(this.bits)}toString(){let a="";for(let l=0,c=this.size;l<c;l++)l&7||(a+=" "),a+=this.get(l)?"X":".";return a}clone(){return new R(this.size,this.bits.slice())}}var V;(function(U){U[U.OTHER=0]="OTHER",U[U.PURE_BARCODE=1]="PURE_BARCODE",U[U.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",U[U.TRY_HARDER=3]="TRY_HARDER",U[U.CHARACTER_SET=4]="CHARACTER_SET",U[U.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",U[U.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",U[U.ASSUME_GS1=7]="ASSUME_GS1",U[U.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",U[U.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",U[U.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(V||(V={}));var ie=V;class q extends f{static getFormatInstance(){return new q}}q.kind="FormatException";var K;(function(U){U[U.Cp437=0]="Cp437",U[U.ISO8859_1=1]="ISO8859_1",U[U.ISO8859_2=2]="ISO8859_2",U[U.ISO8859_3=3]="ISO8859_3",U[U.ISO8859_4=4]="ISO8859_4",U[U.ISO8859_5=5]="ISO8859_5",U[U.ISO8859_6=6]="ISO8859_6",U[U.ISO8859_7=7]="ISO8859_7",U[U.ISO8859_8=8]="ISO8859_8",U[U.ISO8859_9=9]="ISO8859_9",U[U.ISO8859_10=10]="ISO8859_10",U[U.ISO8859_11=11]="ISO8859_11",U[U.ISO8859_13=12]="ISO8859_13",U[U.ISO8859_14=13]="ISO8859_14",U[U.ISO8859_15=14]="ISO8859_15",U[U.ISO8859_16=15]="ISO8859_16",U[U.SJIS=16]="SJIS",U[U.Cp1250=17]="Cp1250",U[U.Cp1251=18]="Cp1251",U[U.Cp1252=19]="Cp1252",U[U.Cp1256=20]="Cp1256",U[U.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",U[U.UTF8=22]="UTF8",U[U.ASCII=23]="ASCII",U[U.Big5=24]="Big5",U[U.GB18030=25]="GB18030",U[U.EUC_KR=26]="EUC_KR"})(K||(K={}));class ${constructor(a,l,c,...h){this.valueIdentifier=a,this.name=c,typeof l=="number"?this.values=Int32Array.from([l]):this.values=l,this.otherEncodingNames=h,$.VALUE_IDENTIFIER_TO_ECI.set(a,this),$.NAME_TO_ECI.set(c,this);const p=this.values;for(let g=0,w=p.length;g!==w;g++){const N=p[g];$.VALUES_TO_ECI.set(N,this)}for(const g of h)$.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(a){if(a<0||a>=900)throw new q("incorect value");const l=$.VALUES_TO_ECI.get(a);if(l===void 0)throw new q("incorect value");return l}static getCharacterSetECIByName(a){const l=$.NAME_TO_ECI.get(a);if(l===void 0)throw new q("incorect value");return l}equals(a){if(!(a instanceof $))return!1;const l=a;return this.getName()===l.getName()}}$.VALUE_IDENTIFIER_TO_ECI=new Map,$.VALUES_TO_ECI=new Map,$.NAME_TO_ECI=new Map,$.Cp437=new $(K.Cp437,Int32Array.from([0,2]),"Cp437"),$.ISO8859_1=new $(K.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),$.ISO8859_2=new $(K.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),$.ISO8859_3=new $(K.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),$.ISO8859_4=new $(K.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),$.ISO8859_5=new $(K.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),$.ISO8859_6=new $(K.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),$.ISO8859_7=new $(K.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),$.ISO8859_8=new $(K.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),$.ISO8859_9=new $(K.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),$.ISO8859_10=new $(K.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),$.ISO8859_11=new $(K.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),$.ISO8859_13=new $(K.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),$.ISO8859_14=new $(K.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),$.ISO8859_15=new $(K.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),$.ISO8859_16=new $(K.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),$.SJIS=new $(K.SJIS,20,"SJIS","Shift_JIS"),$.Cp1250=new $(K.Cp1250,21,"Cp1250","windows-1250"),$.Cp1251=new $(K.Cp1251,22,"Cp1251","windows-1251"),$.Cp1252=new $(K.Cp1252,23,"Cp1252","windows-1252"),$.Cp1256=new $(K.Cp1256,24,"Cp1256","windows-1256"),$.UnicodeBigUnmarked=new $(K.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),$.UTF8=new $(K.UTF8,26,"UTF8","UTF-8"),$.ASCII=new $(K.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),$.Big5=new $(K.Big5,28,"Big5"),$.GB18030=new $(K.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),$.EUC_KR=new $(K.EUC_KR,30,"EUC_KR","EUC-KR");class ge extends f{}ge.kind="UnsupportedOperationException";class W{static decode(a,l){const c=this.encodingName(l);return this.customDecoder?this.customDecoder(a,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(a,c):new TextDecoder(c).decode(a)}static shouldDecodeOnFallback(a){return!W.isBrowser()&&a==="ISO-8859-1"}static encode(a,l){const c=this.encodingName(l);return this.customEncoder?this.customEncoder(a,c):typeof TextEncoder>"u"?this.encodeFallback(a):new TextEncoder().encode(a)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(a){return typeof a=="string"?a:a.getName()}static encodingCharacterSet(a){return a instanceof $?a:$.getCharacterSetECIByName(a)}static decodeFallback(a,l){const c=this.encodingCharacterSet(l);if(W.isDecodeFallbackSupported(c)){let h="";for(let p=0,g=a.length;p<g;p++){let w=a[p].toString(16);w.length<2&&(w="0"+w),h+="%"+w}return decodeURIComponent(h)}if(c.equals($.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(a.buffer));throw new ge(`Encoding ${this.encodingName(l)} not supported by fallback.`)}static isDecodeFallbackSupported(a){return a.equals($.UTF8)||a.equals($.ISO8859_1)||a.equals($.ASCII)}static encodeFallback(a){const c=btoa(unescape(encodeURIComponent(a))).split(""),h=[];for(let p=0;p<c.length;p++)h.push(c[p].charCodeAt(0));return new Uint8Array(h)}}class B{static castAsNonUtf8Char(a,l=null){const c=l?l.getName():this.ISO88591;return W.decode(new Uint8Array([a]),c)}static guessEncoding(a,l){if(l!=null&&l.get(ie.CHARACTER_SET)!==void 0)return l.get(ie.CHARACTER_SET).toString();const c=a.length;let h=!0,p=!0,g=!0,w=0,N=0,T=0,j=0,F=0,Y=0,ce=0,xe=0,we=0,_e=0,Fe=0;const tt=a.length>3&&a[0]===239&&a[1]===187&&a[2]===191;for(let st=0;st<c&&(h||p||g);st++){const nt=a[st]&255;g&&(w>0?nt&128?w--:g=!1:nt&128&&(nt&64?(w++,nt&32?(w++,nt&16?(w++,nt&8?g=!1:j++):T++):N++):g=!1)),h&&(nt>127&&nt<160?h=!1:nt>159&&(nt<192||nt===215||nt===247)&&Fe++),p&&(F>0?nt<64||nt===127||nt>252?p=!1:F--:nt===128||nt===160||nt>239?p=!1:nt>160&&nt<224?(Y++,xe=0,ce++,ce>we&&(we=ce)):nt>127?(F++,ce=0,xe++,xe>_e&&(_e=xe)):(ce=0,xe=0))}return g&&w>0&&(g=!1),p&&F>0&&(p=!1),g&&(tt||N+T+j>0)?B.UTF8:p&&(B.ASSUME_SHIFT_JIS||we>=3||_e>=3)?B.SHIFT_JIS:h&&p?we===2&&Y===2||Fe*10>=c?B.SHIFT_JIS:B.ISO88591:h?B.ISO88591:p?B.SHIFT_JIS:g?B.UTF8:B.PLATFORM_DEFAULT_ENCODING}static format(a,...l){let c=-1;function h(g,w,N,T,j,F){if(g==="%%")return"%";if(l[++c]===void 0)return;g=T?parseInt(T.substr(1)):void 0;let Y=j?parseInt(j.substr(1)):void 0,ce;switch(F){case"s":ce=l[c];break;case"c":ce=l[c][0];break;case"f":ce=parseFloat(l[c]).toFixed(g);break;case"p":ce=parseFloat(l[c]).toPrecision(g);break;case"e":ce=parseFloat(l[c]).toExponential(g);break;case"x":ce=parseInt(l[c]).toString(Y||16);break;case"d":ce=parseFloat(parseInt(l[c],Y||10).toPrecision(g)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(Y);let xe=parseInt(N),we=N&&N[0]+""=="0"?"0":" ";for(;ce.length<xe;)ce=w!==void 0?ce+we:we+ce;return ce}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(p,h)}static getBytes(a,l){return W.encode(a,l)}static getCharCode(a,l=0){return a.charCodeAt(l)}static getCharAt(a){return String.fromCharCode(a)}}B.SHIFT_JIS=$.SJIS.getName(),B.GB2312="GB2312",B.ISO88591=$.ISO8859_1.getName(),B.EUC_JP="EUC_JP",B.UTF8=$.UTF8.getName(),B.PLATFORM_DEFAULT_ENCODING=B.UTF8,B.ASSUME_SHIFT_JIS=!1;class ee{constructor(a=""){this.value=a}enableDecoding(a){return this.encoding=a,this}append(a){return typeof a=="string"?this.value+=a.toString():this.encoding?this.value+=B.castAsNonUtf8Char(a,this.encoding):this.value+=String.fromCharCode(a),this}appendChars(a,l,c){for(let h=l;l<l+c;h++)this.append(a[h]);return this}length(){return this.value.length}charAt(a){return this.value.charAt(a)}deleteCharAt(a){this.value=this.value.substr(0,a)+this.value.substring(a+1)}setCharAt(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+1)}substring(a,l){return this.value.substring(a,l)}setLengthToZero(){this.value=""}toString(){return this.value}insert(a,l){this.value=this.value.substr(0,a)+l+this.value.substr(a+l.length)}}class te{constructor(a,l,c,h){if(this.width=a,this.height=l,this.rowSize=c,this.bits=h,l==null&&(l=a),this.height=l,a<1||l<1)throw new x("Both dimensions must be greater than 0");c==null&&(c=Math.floor((a+31)/32)),this.rowSize=c,h==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(a){const l=a.length,c=a[0].length,h=new te(c,l);for(let p=0;p<l;p++){const g=a[p];for(let w=0;w<c;w++)g[w]&&h.set(w,p)}return h}static parseFromString(a,l,c){if(a===null)throw new x("stringRepresentation cannot be null");const h=new Array(a.length);let p=0,g=0,w=-1,N=0,T=0;for(;T<a.length;)if(a.charAt(T)===`
`||a.charAt(T)==="\r"){if(p>g){if(w===-1)w=p-g;else if(p-g!==w)throw new x("row lengths do not match");g=p,N++}T++}else if(a.substring(T,T+l.length)===l)T+=l.length,h[p]=!0,p++;else if(a.substring(T,T+c.length)===c)T+=c.length,h[p]=!1,p++;else throw new x("illegal character encountered: "+a.substring(T));if(p>g){if(w===-1)w=p-g;else if(p-g!==w)throw new x("row lengths do not match");N++}const j=new te(w,N);for(let F=0;F<p;F++)h[F]&&j.set(Math.floor(F%w),Math.floor(F/w));return j}get(a,l){const c=l*this.rowSize+Math.floor(a/32);return(this.bits[c]>>>(a&31)&1)!==0}set(a,l){const c=l*this.rowSize+Math.floor(a/32);this.bits[c]|=1<<(a&31)&4294967295}unset(a,l){const c=l*this.rowSize+Math.floor(a/32);this.bits[c]&=~(1<<(a&31)&4294967295)}flip(a,l){const c=l*this.rowSize+Math.floor(a/32);this.bits[c]^=1<<(a&31)&4294967295}xor(a){if(this.width!==a.getWidth()||this.height!==a.getHeight()||this.rowSize!==a.getRowSize())throw new x("input matrix dimensions do not match");const l=new R(Math.floor(this.width/32)+1),c=this.rowSize,h=this.bits;for(let p=0,g=this.height;p<g;p++){const w=p*c,N=a.getRow(p,l).getBitArray();for(let T=0;T<c;T++)h[w+T]^=N[T]}}clear(){const a=this.bits,l=a.length;for(let c=0;c<l;c++)a[c]=0}setRegion(a,l,c,h){if(l<0||a<0)throw new x("Left and top must be nonnegative");if(h<1||c<1)throw new x("Height and width must be at least 1");const p=a+c,g=l+h;if(g>this.height||p>this.width)throw new x("The region must fit inside the matrix");const w=this.rowSize,N=this.bits;for(let T=l;T<g;T++){const j=T*w;for(let F=a;F<p;F++)N[j+Math.floor(F/32)]|=1<<(F&31)&4294967295}}getRow(a,l){l==null||l.getSize()<this.width?l=new R(this.width):l.clear();const c=this.rowSize,h=this.bits,p=a*c;for(let g=0;g<c;g++)l.setBulk(g*32,h[p+g]);return l}setRow(a,l){I.arraycopy(l.getBitArray(),0,this.bits,a*this.rowSize,this.rowSize)}rotate180(){const a=this.getWidth(),l=this.getHeight();let c=new R(a),h=new R(a);for(let p=0,g=Math.floor((l+1)/2);p<g;p++)c=this.getRow(p,c),h=this.getRow(l-1-p,h),c.reverse(),h.reverse(),this.setRow(p,h),this.setRow(l-1-p,c)}getEnclosingRectangle(){const a=this.width,l=this.height,c=this.rowSize,h=this.bits;let p=a,g=l,w=-1,N=-1;for(let T=0;T<l;T++)for(let j=0;j<c;j++){const F=h[T*c+j];if(F!==0){if(T<g&&(g=T),T>N&&(N=T),j*32<p){let Y=0;for(;!(F<<31-Y&4294967295);)Y++;j*32+Y<p&&(p=j*32+Y)}if(j*32+31>w){let Y=31;for(;!(F>>>Y);)Y--;j*32+Y>w&&(w=j*32+Y)}}}return w<p||N<g?null:Int32Array.from([p,g,w-p+1,N-g+1])}getTopLeftOnBit(){const a=this.rowSize,l=this.bits;let c=0;for(;c<l.length&&l[c]===0;)c++;if(c===l.length)return null;const h=c/a;let p=c%a*32;const g=l[c];let w=0;for(;!(g<<31-w&4294967295);)w++;return p+=w,Int32Array.from([p,h])}getBottomRightOnBit(){const a=this.rowSize,l=this.bits;let c=l.length-1;for(;c>=0&&l[c]===0;)c--;if(c<0)return null;const h=Math.floor(c/a);let p=Math.floor(c%a)*32;const g=l[c];let w=31;for(;!(g>>>w);)w--;return p+=w,Int32Array.from([p,h])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(a){if(!(a instanceof te))return!1;const l=a;return this.width===l.width&&this.height===l.height&&this.rowSize===l.rowSize&&_.equals(this.bits,l.bits)}hashCode(){let a=this.width;return a=31*a+this.width,a=31*a+this.height,a=31*a+this.rowSize,a=31*a+_.hashCode(this.bits),a}toString(a="X ",l="  ",c=`
`){return this.buildToString(a,l,c)}buildToString(a,l,c){let h=new ee;for(let p=0,g=this.height;p<g;p++){for(let w=0,N=this.width;w<N;w++)h.append(this.get(w,p)?a:l);h.append(c)}return h.toString()}clone(){return new te(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends f{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class be extends P{constructor(a){super(a),this.luminances=be.EMPTY,this.buckets=new Int32Array(be.LUMINANCE_BUCKETS)}getBlackRow(a,l){const c=this.getLuminanceSource(),h=c.getWidth();l==null||l.getSize()<h?l=new R(h):l.clear(),this.initArrays(h);const p=c.getRow(a,this.luminances),g=this.buckets;for(let N=0;N<h;N++)g[(p[N]&255)>>be.LUMINANCE_SHIFT]++;const w=be.estimateBlackPoint(g);if(h<3)for(let N=0;N<h;N++)(p[N]&255)<w&&l.set(N);else{let N=p[0]&255,T=p[1]&255;for(let j=1;j<h-1;j++){const F=p[j+1]&255;(T*4-N-F)/2<w&&l.set(j),N=T,T=F}}return l}getBlackMatrix(){const a=this.getLuminanceSource(),l=a.getWidth(),c=a.getHeight(),h=new te(l,c);this.initArrays(l);const p=this.buckets;for(let N=1;N<5;N++){const T=Math.floor(c*N/5),j=a.getRow(T,this.luminances),F=Math.floor(l*4/5);for(let Y=Math.floor(l/5);Y<F;Y++){const ce=j[Y]&255;p[ce>>be.LUMINANCE_SHIFT]++}}const g=be.estimateBlackPoint(p),w=a.getMatrix();for(let N=0;N<c;N++){const T=N*l;for(let j=0;j<l;j++)(w[T+j]&255)<g&&h.set(j,N)}return h}createBinarizer(a){return new be(a)}initArrays(a){this.luminances.length<a&&(this.luminances=new Uint8ClampedArray(a));const l=this.buckets;for(let c=0;c<be.LUMINANCE_BUCKETS;c++)l[c]=0}static estimateBlackPoint(a){const l=a.length;let c=0,h=0,p=0;for(let j=0;j<l;j++)a[j]>p&&(h=j,p=a[j]),a[j]>c&&(c=a[j]);let g=0,w=0;for(let j=0;j<l;j++){const F=j-h,Y=a[j]*F*F;Y>w&&(g=j,w=Y)}if(h>g){const j=h;h=g,g=j}if(g-h<=l/16)throw new J;let N=g-1,T=-1;for(let j=g-1;j>h;j--){const F=j-h,Y=F*F*(g-j)*(c-a[j]);Y>T&&(N=j,T=Y)}return N<<be.LUMINANCE_SHIFT}}be.LUMINANCE_BITS=5,be.LUMINANCE_SHIFT=8-be.LUMINANCE_BITS,be.LUMINANCE_BUCKETS=1<<be.LUMINANCE_BITS,be.EMPTY=Uint8ClampedArray.from([0]);class ve extends be{constructor(a){super(a),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const a=this.getLuminanceSource(),l=a.getWidth(),c=a.getHeight();if(l>=ve.MINIMUM_DIMENSION&&c>=ve.MINIMUM_DIMENSION){const h=a.getMatrix();let p=l>>ve.BLOCK_SIZE_POWER;l&ve.BLOCK_SIZE_MASK&&p++;let g=c>>ve.BLOCK_SIZE_POWER;c&ve.BLOCK_SIZE_MASK&&g++;const w=ve.calculateBlackPoints(h,p,g,l,c),N=new te(l,c);ve.calculateThresholdForBlock(h,p,g,l,c,w,N),this.matrix=N}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(a){return new ve(a)}static calculateThresholdForBlock(a,l,c,h,p,g,w){const N=p-ve.BLOCK_SIZE,T=h-ve.BLOCK_SIZE;for(let j=0;j<c;j++){let F=j<<ve.BLOCK_SIZE_POWER;F>N&&(F=N);const Y=ve.cap(j,2,c-3);for(let ce=0;ce<l;ce++){let xe=ce<<ve.BLOCK_SIZE_POWER;xe>T&&(xe=T);const we=ve.cap(ce,2,l-3);let _e=0;for(let tt=-2;tt<=2;tt++){const st=g[Y+tt];_e+=st[we-2]+st[we-1]+st[we]+st[we+1]+st[we+2]}const Fe=_e/25;ve.thresholdBlock(a,xe,F,Fe,h,w)}}}static cap(a,l,c){return a<l?l:a>c?c:a}static thresholdBlock(a,l,c,h,p,g){for(let w=0,N=c*p+l;w<ve.BLOCK_SIZE;w++,N+=p)for(let T=0;T<ve.BLOCK_SIZE;T++)(a[N+T]&255)<=h&&g.set(l+T,c+w)}static calculateBlackPoints(a,l,c,h,p){const g=p-ve.BLOCK_SIZE,w=h-ve.BLOCK_SIZE,N=new Array(c);for(let T=0;T<c;T++){N[T]=new Int32Array(l);let j=T<<ve.BLOCK_SIZE_POWER;j>g&&(j=g);for(let F=0;F<l;F++){let Y=F<<ve.BLOCK_SIZE_POWER;Y>w&&(Y=w);let ce=0,xe=255,we=0;for(let Fe=0,tt=j*h+Y;Fe<ve.BLOCK_SIZE;Fe++,tt+=h){for(let st=0;st<ve.BLOCK_SIZE;st++){const nt=a[tt+st]&255;ce+=nt,nt<xe&&(xe=nt),nt>we&&(we=nt)}if(we-xe>ve.MIN_DYNAMIC_RANGE)for(Fe++,tt+=h;Fe<ve.BLOCK_SIZE;Fe++,tt+=h)for(let st=0;st<ve.BLOCK_SIZE;st++)ce+=a[tt+st]&255}let _e=ce>>ve.BLOCK_SIZE_POWER*2;if(we-xe<=ve.MIN_DYNAMIC_RANGE&&(_e=xe/2,T>0&&F>0)){const Fe=(N[T-1][F]+2*N[T][F-1]+N[T-1][F-1])/4;xe<Fe&&(_e=Fe)}N[T][F]=_e}}return N}}ve.BLOCK_SIZE_POWER=3,ve.BLOCK_SIZE=1<<ve.BLOCK_SIZE_POWER,ve.BLOCK_SIZE_MASK=ve.BLOCK_SIZE-1,ve.MINIMUM_DIMENSION=ve.BLOCK_SIZE*5,ve.MIN_DYNAMIC_RANGE=24;class fe{constructor(a,l){this.width=a,this.height=l}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(a,l,c,h){throw new ge("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new ge("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new ge("This luminance source does not support rotation by 45 degrees.")}toString(){const a=new Uint8ClampedArray(this.width);let l=new ee;for(let c=0;c<this.height;c++){const h=this.getRow(c,a);for(let p=0;p<this.width;p++){const g=h[p]&255;let w;g<64?w="#":g<128?w="+":g<192?w=".":w=" ",l.append(w)}l.append(`
`)}return l.toString()}}class Ce extends fe{constructor(a){super(a.getWidth(),a.getHeight()),this.delegate=a}getRow(a,l){const c=this.delegate.getRow(a,l),h=this.getWidth();for(let p=0;p<h;p++)c[p]=255-(c[p]&255);return c}getMatrix(){const a=this.delegate.getMatrix(),l=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(l);for(let h=0;h<l;h++)c[h]=255-(a[h]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(a,l,c,h){return new Ce(this.delegate.crop(a,l,c,h))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ce(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ce(this.delegate.rotateCounterClockwise45())}}class Ie extends fe{constructor(a){super(a.width,a.height),this.canvas=a,this.tempCanvasElement=null,this.buffer=Ie.makeBufferFromCanvasImageData(a)}static makeBufferFromCanvasImageData(a){const l=a.getContext("2d").getImageData(0,0,a.width,a.height);return Ie.toGrayscaleBuffer(l.data,a.width,a.height)}static toGrayscaleBuffer(a,l,c){const h=new Uint8ClampedArray(l*c);for(let p=0,g=0,w=a.length;p<w;p+=4,g++){let N;if(a[p+3]===0)N=255;else{const j=a[p],F=a[p+1],Y=a[p+2];N=306*j+601*F+117*Y+512>>10}h[g]=N}return h}getRow(a,l){if(a<0||a>=this.getHeight())throw new x("Requested row is outside the image: "+a);const c=this.getWidth(),h=a*c;return l===null?l=this.buffer.slice(h,h+c):(l.length<c&&(l=new Uint8ClampedArray(c)),l.set(this.buffer.slice(h,h+c))),l}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(a,l,c,h){return super.crop(a,l,c,h),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const a=this.canvas.ownerDocument.createElement("canvas");a.width=this.canvas.width,a.height=this.canvas.height,this.tempCanvasElement=a}return this.tempCanvasElement}rotate(a){const l=this.getTempCanvasElement(),c=l.getContext("2d"),h=a*Ie.DEGREE_TO_RADIANS,p=this.canvas.width,g=this.canvas.height,w=Math.ceil(Math.abs(Math.cos(h))*p+Math.abs(Math.sin(h))*g),N=Math.ceil(Math.abs(Math.sin(h))*p+Math.abs(Math.cos(h))*g);return l.width=w,l.height=N,c.translate(w/2,N/2),c.rotate(h),c.drawImage(this.canvas,p/-2,g/-2),this.buffer=Ie.makeBufferFromCanvasImageData(l),this}invert(){return new Ce(this)}}Ie.DEGREE_TO_RADIANS=Math.PI/180;class Ue{constructor(a,l,c){this.deviceId=a,this.label=l,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var M=(globalThis||mi||self||window||void 0)&&(globalThis||mi||self||window||void 0).__awaiter||function(U,a,l,c){function h(p){return p instanceof l?p:new l(function(g){g(p)})}return new(l||(l=Promise))(function(p,g){function w(j){try{T(c.next(j))}catch(F){g(F)}}function N(j){try{T(c.throw(j))}catch(F){g(F)}}function T(j){j.done?p(j.value):h(j.value).then(w,N)}T((c=c.apply(U,a||[])).next())})};class ne{constructor(a,l=500,c){this.reader=a,this.timeBetweenScansMillis=l,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(a){this._timeBetweenDecodingAttempts=a<0?0:a}set hints(a){this._hints=a||null}get hints(){return this._hints}listVideoInputDevices(){return M(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const a=yield navigator.mediaDevices.enumerateDevices(),l=[];for(const c of a){const h=c.kind==="video"?"videoinput":c.kind;if(h!=="videoinput")continue;const p=c.deviceId||c.id,g=c.label||`Video device ${l.length+1}`,w=c.groupId,N={deviceId:p,label:g,kind:h,groupId:w};l.push(N)}return l})}getVideoInputDevices(){return M(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(l=>new Ue(l.deviceId,l.label))})}findDeviceById(a){return M(this,void 0,void 0,function*(){const l=yield this.listVideoInputDevices();return l?l.find(c=>c.deviceId===a):null})}decodeFromInputVideoDevice(a,l){return M(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(a,l)})}decodeOnceFromVideoDevice(a,l){return M(this,void 0,void 0,function*(){this.reset();let c;a?c={deviceId:{exact:a}}:c={facingMode:"environment"};const h={video:c};return yield this.decodeOnceFromConstraints(h,l)})}decodeOnceFromConstraints(a,l){return M(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeOnceFromStream(c,l)})}decodeOnceFromStream(a,l){return M(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(a,l);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(a,l,c){return M(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(a,l,c)})}decodeFromVideoDevice(a,l,c){return M(this,void 0,void 0,function*(){let h;a?h={deviceId:{exact:a}}:h={facingMode:"environment"};const p={video:h};return yield this.decodeFromConstraints(p,l,c)})}decodeFromConstraints(a,l,c){return M(this,void 0,void 0,function*(){const h=yield navigator.mediaDevices.getUserMedia(a);return yield this.decodeFromStream(h,l,c)})}decodeFromStream(a,l,c){return M(this,void 0,void 0,function*(){this.reset();const h=yield this.attachStreamToVideo(a,l);return yield this.decodeContinuously(h,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(a,l){return M(this,void 0,void 0,function*(){const c=this.prepareVideoElement(l);return this.addVideoSource(c,a),this.videoElement=c,this.stream=a,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(a){return new Promise((l,c)=>this.playVideoOnLoad(a,()=>l()))}playVideoOnLoad(a,l){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(a),a.addEventListener("ended",this.videoEndedListener),a.addEventListener("canplay",this.videoCanPlayListener),a.addEventListener("playing",l),this.tryPlayVideo(a)}isVideoPlaying(a){return a.currentTime>0&&!a.paused&&!a.ended&&a.readyState>2}tryPlayVideo(a){return M(this,void 0,void 0,function*(){if(this.isVideoPlaying(a)){console.warn("Trying to play video that is already playing.");return}try{yield a.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(a,l){const c=document.getElementById(a);if(!c)throw new m(`element with id '${a}' not found`);if(c.nodeName.toLowerCase()!==l.toLowerCase())throw new m(`element with id '${a}' must be an ${l} element`);return c}decodeFromImage(a,l){if(!a&&!l)throw new m("either imageElement with a src set or an url must be provided");return l&&!a?this.decodeFromImageUrl(l):this.decodeFromImageElement(a)}decodeFromVideo(a,l){if(!a&&!l)throw new m("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrl(l):this.decodeFromVideoElement(a)}decodeFromVideoContinuously(a,l,c){if(a===void 0&&l===void 0)throw new m("Either an element with a src set or an URL must be provided");return l&&!a?this.decodeFromVideoUrlContinuously(l,c):this.decodeFromVideoElementContinuously(a,c)}decodeFromImageElement(a){if(!a)throw new m("An image element must be provided.");this.reset();const l=this.prepareImageElement(a);this.imageElement=l;let c;return this.isImageLoaded(l)?c=this.decodeOnce(l,!1,!0):c=this._decodeOnLoadImage(l),c}decodeFromVideoElement(a){const l=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideo(l)}decodeFromVideoElementContinuously(a,l){const c=this._decodeFromVideoElementSetup(a);return this._decodeOnLoadVideoContinuously(c,l)}_decodeFromVideoElementSetup(a){if(!a)throw new m("A video element must be provided.");this.reset();const l=this.prepareVideoElement(a);return this.videoElement=l,l}decodeFromImageUrl(a){if(!a)throw new m("An URL must be provided.");this.reset();const l=this.prepareImageElement();this.imageElement=l;const c=this._decodeOnLoadImage(l);return l.src=a,c}decodeFromVideoUrl(a){if(!a)throw new m("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),c=this.decodeFromVideoElement(l);return l.src=a,c}decodeFromVideoUrlContinuously(a,l){if(!a)throw new m("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),h=this.decodeFromVideoElementContinuously(c,l);return c.src=a,h}_decodeOnLoadImage(a){return new Promise((l,c)=>{this.imageLoadedListener=()=>this.decodeOnce(a,!1,!0).then(l,c),a.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(a){return M(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(a),yield this.decodeOnce(a)})}_decodeOnLoadVideoContinuously(a,l){return M(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(a),this.decodeContinuously(a,l)})}isImageLoaded(a){return!(!a.complete||a.naturalWidth===0)}prepareImageElement(a){let l;return typeof a>"u"&&(l=document.createElement("img"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"img")),a instanceof HTMLImageElement&&(l=a),l}prepareVideoElement(a){let l;return!a&&typeof document<"u"&&(l=document.createElement("video"),l.width=200,l.height=200),typeof a=="string"&&(l=this.getMediaElement(a,"video")),a instanceof HTMLVideoElement&&(l=a),l.setAttribute("autoplay","true"),l.setAttribute("muted","true"),l.setAttribute("playsinline","true"),l}decodeOnce(a,l=!0,c=!0){this._stopAsyncDecode=!1;const h=(p,g)=>{if(this._stopAsyncDecode){g(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const w=this.decode(a);p(w)}catch(w){const N=l&&w instanceof J,j=(w instanceof b||w instanceof q)&&c;if(N||j)return setTimeout(h,this._timeBetweenDecodingAttempts,p,g);g(w)}};return new Promise((p,g)=>h(p,g))}decodeContinuously(a,l){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const h=this.decode(a);l(h,null),setTimeout(c,this.timeBetweenScansMillis)}catch(h){l(null,h);const p=h instanceof b||h instanceof q,g=h instanceof J;(p||g)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(a){const l=this.createBinaryBitmap(a);return this.decodeBitmap(l)}_isHTMLVideoElement(a){return a.videoWidth!==0}drawFrameOnCanvas(a,l,c){l||(l={sx:0,sy:0,sWidth:a.videoWidth,sHeight:a.videoHeight,dx:0,dy:0,dWidth:a.videoWidth,dHeight:a.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}drawImageOnCanvas(a,l,c=this.captureCanvasContext){l||(l={sx:0,sy:0,sWidth:a.naturalWidth,sHeight:a.naturalHeight,dx:0,dy:0,dWidth:a.naturalWidth,dHeight:a.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(a,l.sx,l.sy,l.sWidth,l.sHeight,l.dx,l.dy,l.dWidth,l.dHeight)}createBinaryBitmap(a){this.getCaptureCanvasContext(a),this._isHTMLVideoElement(a)?this.drawFrameOnCanvas(a):this.drawImageOnCanvas(a);const l=this.getCaptureCanvas(a),c=new Ie(l),h=new ve(c);return new A(h)}getCaptureCanvasContext(a){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(a).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(a){if(!this.captureCanvas){const l=this.createCaptureCanvas(a);this.captureCanvas=l}return this.captureCanvas}decodeBitmap(a){return this.reader.decode(a,this._hints)}createCaptureCanvas(a){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const l=document.createElement("canvas");let c,h;return typeof a<"u"&&(a instanceof HTMLVideoElement?(c=a.videoWidth,h=a.videoHeight):a instanceof HTMLImageElement&&(c=a.naturalWidth||a.width,h=a.naturalHeight||a.height)),l.style.width=c+"px",l.style.height=h+"px",l.width=c,l.height=h,l}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(a=>a.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(a,l){try{a.srcObject=l}catch{a.src=URL.createObjectURL(l)}}cleanVideoSource(a){try{a.srcObject=null}catch{a.src=""}this.videoElement.removeAttribute("src")}}class oe{constructor(a,l,c=l==null?0:8*l.length,h,p,g=I.currentTimeMillis()){this.text=a,this.rawBytes=l,this.numBits=c,this.resultPoints=h,this.format=p,this.timestamp=g,this.text=a,this.rawBytes=l,c==null?this.numBits=l==null?0:8*l.length:this.numBits=c,this.resultPoints=h,this.format=p,this.resultMetadata=null,g==null?this.timestamp=I.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(a,l){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(a,l)}putAllMetadata(a){a!==null&&(this.resultMetadata===null?this.resultMetadata=a:this.resultMetadata=new Map(a))}addResultPoints(a){const l=this.resultPoints;if(l===null)this.resultPoints=a;else if(a!==null&&a.length>0){const c=new Array(l.length+a.length);I.arraycopy(l,0,c,0,l.length),I.arraycopy(a,0,c,l.length,a.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var pe;(function(U){U[U.AZTEC=0]="AZTEC",U[U.CODABAR=1]="CODABAR",U[U.CODE_39=2]="CODE_39",U[U.CODE_93=3]="CODE_93",U[U.CODE_128=4]="CODE_128",U[U.DATA_MATRIX=5]="DATA_MATRIX",U[U.EAN_8=6]="EAN_8",U[U.EAN_13=7]="EAN_13",U[U.ITF=8]="ITF",U[U.MAXICODE=9]="MAXICODE",U[U.PDF_417=10]="PDF_417",U[U.QR_CODE=11]="QR_CODE",U[U.RSS_14=12]="RSS_14",U[U.RSS_EXPANDED=13]="RSS_EXPANDED",U[U.UPC_A=14]="UPC_A",U[U.UPC_E=15]="UPC_E",U[U.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pe||(pe={}));var he=pe,Pe;(function(U){U[U.OTHER=0]="OTHER",U[U.ORIENTATION=1]="ORIENTATION",U[U.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",U[U.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",U[U.ISSUE_NUMBER=4]="ISSUE_NUMBER",U[U.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",U[U.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",U[U.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",U[U.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",U[U.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",U[U.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Pe||(Pe={}));var Le=Pe;class Oe{constructor(a,l,c,h,p=-1,g=-1){this.rawBytes=a,this.text=l,this.byteSegments=c,this.ecLevel=h,this.structuredAppendSequenceNumber=p,this.structuredAppendParity=g,this.numBits=a==null?0:8*a.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(a){this.numBits=a}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(a){this.errorsCorrected=a}getErasures(){return this.erasures}setErasures(a){this.erasures=a}getOther(){return this.other}setOther(a){this.other=a}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class et{exp(a){return this.expTable[a]}log(a){if(a===0)throw new x;return this.logTable[a]}static addOrSubtract(a,l){return a^l}}class Ge{constructor(a,l){if(l.length===0)throw new x;this.field=a;const c=l.length;if(c>1&&l[0]===0){let h=1;for(;h<c&&l[h]===0;)h++;h===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-h),I.arraycopy(l,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);const l=this.coefficients;let c;if(a===1){c=0;for(let g=0,w=l.length;g!==w;g++){const N=l[g];c=et.addOrSubtract(c,N)}return c}c=l[0];const h=l.length,p=this.field;for(let g=1;g<h;g++)c=et.addOrSubtract(p.multiply(a,c),l[g]);return c}addOrSubtract(a){if(!this.field.equals(a.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,c=a.coefficients;if(l.length>c.length){const g=l;l=c,c=g}let h=new Int32Array(c.length);const p=c.length-l.length;I.arraycopy(c,0,h,0,p);for(let g=p;g<c.length;g++)h[g]=et.addOrSubtract(l[g-p],c[g]);return new Ge(this.field,h)}multiply(a){if(!this.field.equals(a.field))throw new x("GenericGFPolys do not have same GenericGF field");if(this.isZero()||a.isZero())return this.field.getZero();const l=this.coefficients,c=l.length,h=a.coefficients,p=h.length,g=new Int32Array(c+p-1),w=this.field;for(let N=0;N<c;N++){const T=l[N];for(let j=0;j<p;j++)g[N+j]=et.addOrSubtract(g[N+j],w.multiply(T,h[j]))}return new Ge(w,g)}multiplyScalar(a){if(a===0)return this.field.getZero();if(a===1)return this;const l=this.coefficients.length,c=this.field,h=new Int32Array(l),p=this.coefficients;for(let g=0;g<l;g++)h[g]=c.multiply(p[g],a);return new Ge(c,h)}multiplyByMonomial(a,l){if(a<0)throw new x;if(l===0)return this.field.getZero();const c=this.coefficients,h=c.length,p=new Int32Array(h+a),g=this.field;for(let w=0;w<h;w++)p[w]=g.multiply(c[w],l);return new Ge(g,p)}divide(a){if(!this.field.equals(a.field))throw new x("GenericGFPolys do not have same GenericGF field");if(a.isZero())throw new x("Divide by 0");const l=this.field;let c=l.getZero(),h=this;const p=a.getCoefficient(a.getDegree()),g=l.inverse(p);for(;h.getDegree()>=a.getDegree()&&!h.isZero();){const w=h.getDegree()-a.getDegree(),N=l.multiply(h.getCoefficient(h.getDegree()),g),T=a.multiplyByMonomial(w,N),j=l.buildMonomial(w,N);c=c.addOrSubtract(j),h=h.addOrSubtract(T)}return[c,h]}toString(){let a="";for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);if(c!==0){if(c<0?(a+=" - ",c=-c):a.length>0&&(a+=" + "),l===0||c!==1){const h=this.field.log(c);h===0?a+="1":h===1?a+="a":(a+="a^",a+=h)}l!==0&&(l===1?a+="x":(a+="x^",a+=l))}}return a}}class ut extends f{}ut.kind="ArithmeticException";class Ke extends et{constructor(a,l,c){super(),this.primitive=a,this.size=l,this.generatorBase=c;const h=new Int32Array(l);let p=1;for(let w=0;w<l;w++)h[w]=p,p*=2,p>=l&&(p^=a,p&=l-1);this.expTable=h;const g=new Int32Array(l);for(let w=0;w<l-1;w++)g[h[w]]=w;this.logTable=g,this.zero=new Ge(this,Int32Array.from([0])),this.one=new Ge(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new x;if(l===0)return this.zero;const c=new Int32Array(a+1);return c[0]=l,new Ge(this,c)}inverse(a){if(a===0)throw new ut;return this.expTable[this.size-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(a){return a===this}}Ke.AZTEC_DATA_12=new Ke(4201,4096,1),Ke.AZTEC_DATA_10=new Ke(1033,1024,1),Ke.AZTEC_DATA_6=new Ke(67,64,1),Ke.AZTEC_PARAM=new Ke(19,16,1),Ke.QR_CODE_FIELD_256=new Ke(285,256,0),Ke.DATA_MATRIX_FIELD_256=new Ke(301,256,1),Ke.AZTEC_DATA_8=Ke.DATA_MATRIX_FIELD_256,Ke.MAXICODE_FIELD_64=Ke.AZTEC_DATA_6;class ft extends f{}ft.kind="ReedSolomonException";class Me extends f{}Me.kind="IllegalStateException";class de{constructor(a){this.field=a}decode(a,l){const c=this.field,h=new Ge(c,a),p=new Int32Array(l);let g=!0;for(let ce=0;ce<l;ce++){const xe=h.evaluateAt(c.exp(ce+c.getGeneratorBase()));p[p.length-1-ce]=xe,xe!==0&&(g=!1)}if(g)return;const w=new Ge(c,p),N=this.runEuclideanAlgorithm(c.buildMonomial(l,1),w,l),T=N[0],j=N[1],F=this.findErrorLocations(T),Y=this.findErrorMagnitudes(j,F);for(let ce=0;ce<F.length;ce++){const xe=a.length-1-c.log(F[ce]);if(xe<0)throw new ft("Bad error location");a[xe]=Ke.addOrSubtract(a[xe],Y[ce])}}runEuclideanAlgorithm(a,l,c){if(a.getDegree()<l.getDegree()){const ce=a;a=l,l=ce}const h=this.field;let p=a,g=l,w=h.getZero(),N=h.getOne();for(;g.getDegree()>=(c/2|0);){let ce=p,xe=w;if(p=g,w=N,p.isZero())throw new ft("r_{i-1} was zero");g=ce;let we=h.getZero();const _e=p.getCoefficient(p.getDegree()),Fe=h.inverse(_e);for(;g.getDegree()>=p.getDegree()&&!g.isZero();){const tt=g.getDegree()-p.getDegree(),st=h.multiply(g.getCoefficient(g.getDegree()),Fe);we=we.addOrSubtract(h.buildMonomial(tt,st)),g=g.addOrSubtract(p.multiplyByMonomial(tt,st))}if(N=we.multiply(w).addOrSubtract(xe),g.getDegree()>=p.getDegree())throw new Me("Division algorithm failed to reduce polynomial?")}const T=N.getCoefficient(0);if(T===0)throw new ft("sigmaTilde(0) was zero");const j=h.inverse(T),F=N.multiplyScalar(j),Y=g.multiplyScalar(j);return[F,Y]}findErrorLocations(a){const l=a.getDegree();if(l===1)return Int32Array.from([a.getCoefficient(1)]);const c=new Int32Array(l);let h=0;const p=this.field;for(let g=1;g<p.getSize()&&h<l;g++)a.evaluateAt(g)===0&&(c[h]=p.inverse(g),h++);if(h!==l)throw new ft("Error locator degree does not match number of roots");return c}findErrorMagnitudes(a,l){const c=l.length,h=new Int32Array(c),p=this.field;for(let g=0;g<c;g++){const w=p.inverse(l[g]);let N=1;for(let T=0;T<c;T++)if(g!==T){const j=p.multiply(l[T],w),F=j&1?j&-2:j|1;N=p.multiply(N,F)}h[g]=p.multiply(a.evaluateAt(w),p.inverse(N)),p.getGeneratorBase()!==0&&(h[g]=p.multiply(h[g],w))}return h}}var yt;(function(U){U[U.UPPER=0]="UPPER",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.DIGIT=3]="DIGIT",U[U.PUNCT=4]="PUNCT",U[U.BINARY=5]="BINARY"})(yt||(yt={}));class at{decode(a){this.ddata=a;let l=a.getBits(),c=this.extractBits(l),h=this.correctBits(c),p=at.convertBoolArrayToByteArray(h),g=at.getEncodedData(h),w=new Oe(p,g,null,null);return w.setNumBits(h.length),w}static highLevelDecode(a){return this.getEncodedData(a)}static getEncodedData(a){let l=a.length,c=yt.UPPER,h=yt.UPPER,p="",g=0;for(;g<l;)if(h===yt.BINARY){if(l-g<5)break;let w=at.readCode(a,g,5);if(g+=5,w===0){if(l-g<11)break;w=at.readCode(a,g,11)+31,g+=11}for(let N=0;N<w;N++){if(l-g<8){g=l;break}const T=at.readCode(a,g,8);p+=B.castAsNonUtf8Char(T),g+=8}h=c}else{let w=h===yt.DIGIT?4:5;if(l-g<w)break;let N=at.readCode(a,g,w);g+=w;let T=at.getCharacter(h,N);T.startsWith("CTRL_")?(c=h,h=at.getTable(T.charAt(5)),T.charAt(6)==="L"&&(c=h)):(p+=T,h=c)}return p}static getTable(a){switch(a){case"L":return yt.LOWER;case"P":return yt.PUNCT;case"M":return yt.MIXED;case"D":return yt.DIGIT;case"B":return yt.BINARY;case"U":default:return yt.UPPER}}static getCharacter(a,l){switch(a){case yt.UPPER:return at.UPPER_TABLE[l];case yt.LOWER:return at.LOWER_TABLE[l];case yt.MIXED:return at.MIXED_TABLE[l];case yt.PUNCT:return at.PUNCT_TABLE[l];case yt.DIGIT:return at.DIGIT_TABLE[l];default:throw new Me("Bad table")}}correctBits(a){let l,c;this.ddata.getNbLayers()<=2?(c=6,l=Ke.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,l=Ke.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,l=Ke.AZTEC_DATA_10):(c=12,l=Ke.AZTEC_DATA_12);let h=this.ddata.getNbDatablocks(),p=a.length/c;if(p<h)throw new q;let g=a.length%c,w=new Int32Array(p);for(let Y=0;Y<p;Y++,g+=c)w[Y]=at.readCode(a,g,c);try{new de(l).decode(w,p-h)}catch(Y){throw new q(Y)}let N=(1<<c)-1,T=0;for(let Y=0;Y<h;Y++){let ce=w[Y];if(ce===0||ce===N)throw new q;(ce===1||ce===N-1)&&T++}let j=new Array(h*c-T),F=0;for(let Y=0;Y<h;Y++){let ce=w[Y];if(ce===1||ce===N-1)j.fill(ce>1,F,F+c-1),F+=c-1;else for(let xe=c-1;xe>=0;--xe)j[F++]=(ce&1<<xe)!==0}return j}extractBits(a){let l=this.ddata.isCompact(),c=this.ddata.getNbLayers(),h=(l?11:14)+c*4,p=new Int32Array(h),g=new Array(this.totalBitsInLayer(c,l));if(l)for(let w=0;w<p.length;w++)p[w]=w;else{let w=h+1+2*L.truncDivision(L.truncDivision(h,2)-1,15),N=h/2,T=L.truncDivision(w,2);for(let j=0;j<N;j++){let F=j+L.truncDivision(j,15);p[N-j-1]=T-F-1,p[N+j]=T+F+1}}for(let w=0,N=0;w<c;w++){let T=(c-w)*4+(l?9:12),j=w*2,F=h-1-j;for(let Y=0;Y<T;Y++){let ce=Y*2;for(let xe=0;xe<2;xe++)g[N+ce+xe]=a.get(p[j+xe],p[j+Y]),g[N+2*T+ce+xe]=a.get(p[j+Y],p[F-xe]),g[N+4*T+ce+xe]=a.get(p[F-xe],p[F-Y]),g[N+6*T+ce+xe]=a.get(p[F-Y],p[j+xe])}N+=T*8}return g}static readCode(a,l,c){let h=0;for(let p=l;p<l+c;p++)h<<=1,a[p]&&(h|=1);return h}static readByte(a,l){let c=a.length-l;return c>=8?at.readCode(a,l,8):at.readCode(a,l,c)<<8-c}static convertBoolArrayToByteArray(a){let l=new Uint8Array((a.length+7)/8);for(let c=0;c<l.length;c++)l[c]=at.readByte(a,8*c);return l}totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}at.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],at.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],at.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],at.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],at.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ze{constructor(){}static round(a){return a===NaN?0:a<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:a>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:a+(a<0?-.5:.5)|0}static distance(a,l,c,h){const p=a-c,g=l-h;return Math.sqrt(p*p+g*g)}static sum(a){let l=0;for(let c=0,h=a.length;c!==h;c++){const p=a[c];l+=p}return l}}class re{static floatToIntBits(a){return a}}re.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ae{constructor(a,l){this.x=a,this.y=l}getX(){return this.x}getY(){return this.y}equals(a){if(a instanceof ae){const l=a;return this.x===l.x&&this.y===l.y}return!1}hashCode(){return 31*re.floatToIntBits(this.x)+re.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(a){const l=this.distance(a[0],a[1]),c=this.distance(a[1],a[2]),h=this.distance(a[0],a[2]);let p,g,w;if(c>=l&&c>=h?(g=a[0],p=a[1],w=a[2]):h>=c&&h>=l?(g=a[1],p=a[0],w=a[2]):(g=a[2],p=a[0],w=a[1]),this.crossProductZ(p,g,w)<0){const N=p;p=w,w=N}a[0]=p,a[1]=g,a[2]=w}static distance(a,l){return ze.distance(a.x,a.y,l.x,l.y)}static crossProductZ(a,l,c){const h=l.x,p=l.y;return(c.x-h)*(a.y-p)-(c.y-p)*(a.x-h)}}class Ae{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class qe extends Ae{constructor(a,l,c,h,p){super(a,l),this.compact=c,this.nbDatablocks=h,this.nbLayers=p}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ve{constructor(a,l,c,h){this.image=a,this.height=a.getHeight(),this.width=a.getWidth(),l==null&&(l=Ve.INIT_SIZE),c==null&&(c=a.getWidth()/2|0),h==null&&(h=a.getHeight()/2|0);const p=l/2|0;if(this.leftInit=c-p,this.rightInit=c+p,this.upInit=h-p,this.downInit=h+p,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let a=this.leftInit,l=this.rightInit,c=this.upInit,h=this.downInit,p=!1,g=!0,w=!1,N=!1,T=!1,j=!1,F=!1;const Y=this.width,ce=this.height;for(;g;){g=!1;let xe=!0;for(;(xe||!N)&&l<Y;)xe=this.containsBlackPoint(c,h,l,!1),xe?(l++,g=!0,N=!0):N||l++;if(l>=Y){p=!0;break}let we=!0;for(;(we||!T)&&h<ce;)we=this.containsBlackPoint(a,l,h,!0),we?(h++,g=!0,T=!0):T||h++;if(h>=ce){p=!0;break}let _e=!0;for(;(_e||!j)&&a>=0;)_e=this.containsBlackPoint(c,h,a,!1),_e?(a--,g=!0,j=!0):j||a--;if(a<0){p=!0;break}let Fe=!0;for(;(Fe||!F)&&c>=0;)Fe=this.containsBlackPoint(a,l,c,!0),Fe?(c--,g=!0,F=!0):F||c--;if(c<0){p=!0;break}g&&(w=!0)}if(!p&&w){const xe=l-a;let we=null;for(let st=1;we===null&&st<xe;st++)we=this.getBlackPointOnSegment(a,h-st,a+st,h);if(we==null)throw new J;let _e=null;for(let st=1;_e===null&&st<xe;st++)_e=this.getBlackPointOnSegment(a,c+st,a+st,c);if(_e==null)throw new J;let Fe=null;for(let st=1;Fe===null&&st<xe;st++)Fe=this.getBlackPointOnSegment(l,c+st,l-st,c);if(Fe==null)throw new J;let tt=null;for(let st=1;tt===null&&st<xe;st++)tt=this.getBlackPointOnSegment(l,h-st,l-st,h);if(tt==null)throw new J;return this.centerEdges(tt,we,Fe,_e)}else throw new J}getBlackPointOnSegment(a,l,c,h){const p=ze.round(ze.distance(a,l,c,h)),g=(c-a)/p,w=(h-l)/p,N=this.image;for(let T=0;T<p;T++){const j=ze.round(a+T*g),F=ze.round(l+T*w);if(N.get(j,F))return new ae(j,F)}return null}centerEdges(a,l,c,h){const p=a.getX(),g=a.getY(),w=l.getX(),N=l.getY(),T=c.getX(),j=c.getY(),F=h.getX(),Y=h.getY(),ce=Ve.CORR;return p<this.width/2?[new ae(F-ce,Y+ce),new ae(w+ce,N+ce),new ae(T-ce,j-ce),new ae(p+ce,g-ce)]:[new ae(F+ce,Y+ce),new ae(w+ce,N-ce),new ae(T-ce,j+ce),new ae(p-ce,g-ce)]}containsBlackPoint(a,l,c,h){const p=this.image;if(h){for(let g=a;g<=l;g++)if(p.get(g,c))return!0}else for(let g=a;g<=l;g++)if(p.get(c,g))return!0;return!1}}Ve.INIT_SIZE=10,Ve.CORR=1;class We{static checkAndNudgePoints(a,l){const c=a.getWidth(),h=a.getHeight();let p=!0;for(let g=0;g<l.length&&p;g+=2){const w=Math.floor(l[g]),N=Math.floor(l[g+1]);if(w<-1||w>c||N<-1||N>h)throw new J;p=!1,w===-1?(l[g]=0,p=!0):w===c&&(l[g]=c-1,p=!0),N===-1?(l[g+1]=0,p=!0):N===h&&(l[g+1]=h-1,p=!0)}p=!0;for(let g=l.length-2;g>=0&&p;g-=2){const w=Math.floor(l[g]),N=Math.floor(l[g+1]);if(w<-1||w>c||N<-1||N>h)throw new J;p=!1,w===-1?(l[g]=0,p=!0):w===c&&(l[g]=c-1,p=!0),N===-1?(l[g+1]=0,p=!0):N===h&&(l[g+1]=h-1,p=!0)}}}class it{constructor(a,l,c,h,p,g,w,N,T){this.a11=a,this.a21=l,this.a31=c,this.a12=h,this.a22=p,this.a32=g,this.a13=w,this.a23=N,this.a33=T}static quadrilateralToQuadrilateral(a,l,c,h,p,g,w,N,T,j,F,Y,ce,xe,we,_e){const Fe=it.quadrilateralToSquare(a,l,c,h,p,g,w,N);return it.squareToQuadrilateral(T,j,F,Y,ce,xe,we,_e).times(Fe)}transformPoints(a){const l=a.length,c=this.a11,h=this.a12,p=this.a13,g=this.a21,w=this.a22,N=this.a23,T=this.a31,j=this.a32,F=this.a33;for(let Y=0;Y<l;Y+=2){const ce=a[Y],xe=a[Y+1],we=p*ce+N*xe+F;a[Y]=(c*ce+g*xe+T)/we,a[Y+1]=(h*ce+w*xe+j)/we}}transformPointsWithValues(a,l){const c=this.a11,h=this.a12,p=this.a13,g=this.a21,w=this.a22,N=this.a23,T=this.a31,j=this.a32,F=this.a33,Y=a.length;for(let ce=0;ce<Y;ce++){const xe=a[ce],we=l[ce],_e=p*xe+N*we+F;a[ce]=(c*xe+g*we+T)/_e,l[ce]=(h*xe+w*we+j)/_e}}static squareToQuadrilateral(a,l,c,h,p,g,w,N){const T=a-c+p-w,j=l-h+g-N;if(T===0&&j===0)return new it(c-a,p-c,a,h-l,g-h,l,0,0,1);{const F=c-p,Y=w-p,ce=h-g,xe=N-g,we=F*xe-Y*ce,_e=(T*xe-Y*j)/we,Fe=(F*j-T*ce)/we;return new it(c-a+_e*c,w-a+Fe*w,a,h-l+_e*h,N-l+Fe*N,l,_e,Fe,1)}}static quadrilateralToSquare(a,l,c,h,p,g,w,N){return it.squareToQuadrilateral(a,l,c,h,p,g,w,N).buildAdjoint()}buildAdjoint(){return new it(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(a){return new it(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}class bt extends We{sampleGrid(a,l,c,h,p,g,w,N,T,j,F,Y,ce,xe,we,_e,Fe,tt,st){const nt=it.quadrilateralToQuadrilateral(h,p,g,w,N,T,j,F,Y,ce,xe,we,_e,Fe,tt,st);return this.sampleGridWithTransform(a,l,c,nt)}sampleGridWithTransform(a,l,c,h){if(l<=0||c<=0)throw new J;const p=new te(l,c),g=new Float32Array(2*l);for(let w=0;w<c;w++){const N=g.length,T=w+.5;for(let j=0;j<N;j+=2)g[j]=j/2+.5,g[j+1]=T;h.transformPoints(g),We.checkAndNudgePoints(a,g);try{for(let j=0;j<N;j+=2)a.get(Math.floor(g[j]),Math.floor(g[j+1]))&&p.set(j/2,w)}catch{throw new J}}return p}}class St{static setGridSampler(a){St.gridSampler=a}static getInstance(){return St.gridSampler}}St.gridSampler=new bt;class pt{constructor(a,l){this.x=a,this.y=l}toResultPoint(){return new ae(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Ht{constructor(a){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=a}detect(){return this.detectMirror(!1)}detectMirror(a){let l=this.getMatrixCenter(),c=this.getBullsEyeCorners(l);if(a){let g=c[0];c[0]=c[2],c[2]=g}this.extractParameters(c);let h=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),p=this.getMatrixCornerPoints(c);return new qe(h,p,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(a){if(!this.isValidPoint(a[0])||!this.isValidPoint(a[1])||!this.isValidPoint(a[2])||!this.isValidPoint(a[3]))throw new J;let l=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(a[0],a[1],l),this.sampleLine(a[1],a[2],l),this.sampleLine(a[2],a[3],l),this.sampleLine(a[3],a[0],l)]);this.shift=this.getRotation(c,l);let h=0;for(let g=0;g<4;g++){let w=c[(this.shift+g)%4];this.compact?(h<<=7,h+=w>>1&127):(h<<=10,h+=(w>>2&992)+(w>>1&31))}let p=this.getCorrectedParameterData(h,this.compact);this.compact?(this.nbLayers=(p>>6)+1,this.nbDataBlocks=(p&63)+1):(this.nbLayers=(p>>11)+1,this.nbDataBlocks=(p&2047)+1)}getRotation(a,l){let c=0;a.forEach((h,p,g)=>{let w=(h>>l-2<<1)+(h&1);c=(c<<3)+w}),c=((c&1)<<11)+(c>>1);for(let h=0;h<4;h++)if(L.bitCount(c^this.EXPECTED_CORNER_BITS[h])<=2)return h;throw new J}getCorrectedParameterData(a,l){let c,h;l?(c=7,h=2):(c=10,h=4);let p=c-h,g=new Int32Array(c);for(let N=c-1;N>=0;--N)g[N]=a&15,a>>=4;try{new de(Ke.AZTEC_PARAM).decode(g,p)}catch{throw new J}let w=0;for(let N=0;N<h;N++)w=(w<<4)+g[N];return w}getBullsEyeCorners(a){let l=a,c=a,h=a,p=a,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let F=this.getFirstDifferent(l,g,1,-1),Y=this.getFirstDifferent(c,g,1,1),ce=this.getFirstDifferent(h,g,-1,1),xe=this.getFirstDifferent(p,g,-1,-1);if(this.nbCenterLayers>2){let we=this.distancePoint(xe,F)*this.nbCenterLayers/(this.distancePoint(p,l)*(this.nbCenterLayers+2));if(we<.75||we>1.25||!this.isWhiteOrBlackRectangle(F,Y,ce,xe))break}l=F,c=Y,h=ce,p=xe,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let w=new ae(l.getX()+.5,l.getY()-.5),N=new ae(c.getX()+.5,c.getY()+.5),T=new ae(h.getX()-.5,h.getY()+.5),j=new ae(p.getX()-.5,p.getY()-.5);return this.expandSquare([w,N,T,j],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let a,l,c,h;try{let w=new Ve(this.image).detect();a=w[0],l=w[1],c=w[2],h=w[3]}catch{let N=this.image.getWidth()/2,T=this.image.getHeight()/2;a=this.getFirstDifferent(new pt(N+7,T-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new pt(N+7,T+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new pt(N-7,T+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new pt(N-7,T-7),!1,-1,-1).toResultPoint()}let p=ze.round((a.getX()+h.getX()+l.getX()+c.getX())/4),g=ze.round((a.getY()+h.getY()+l.getY()+c.getY())/4);try{let w=new Ve(this.image,15,p,g).detect();a=w[0],l=w[1],c=w[2],h=w[3]}catch{a=this.getFirstDifferent(new pt(p+7,g-7),!1,1,-1).toResultPoint(),l=this.getFirstDifferent(new pt(p+7,g+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new pt(p-7,g+7),!1,-1,1).toResultPoint(),h=this.getFirstDifferent(new pt(p-7,g-7),!1,-1,-1).toResultPoint()}return p=ze.round((a.getX()+h.getX()+l.getX()+c.getX())/4),g=ze.round((a.getY()+h.getY()+l.getY()+c.getY())/4),new pt(p,g)}getMatrixCornerPoints(a){return this.expandSquare(a,2*this.nbCenterLayers,this.getDimension())}sampleGrid(a,l,c,h,p){let g=St.getInstance(),w=this.getDimension(),N=w/2-this.nbCenterLayers,T=w/2+this.nbCenterLayers;return g.sampleGrid(a,w,w,N,N,T,N,T,T,N,T,l.getX(),l.getY(),c.getX(),c.getY(),h.getX(),h.getY(),p.getX(),p.getY())}sampleLine(a,l,c){let h=0,p=this.distanceResultPoint(a,l),g=p/c,w=a.getX(),N=a.getY(),T=g*(l.getX()-a.getX())/p,j=g*(l.getY()-a.getY())/p;for(let F=0;F<c;F++)this.image.get(ze.round(w+F*T),ze.round(N+F*j))&&(h|=1<<c-F-1);return h}isWhiteOrBlackRectangle(a,l,c,h){let p=3;a=new pt(a.getX()-p,a.getY()+p),l=new pt(l.getX()-p,l.getY()-p),c=new pt(c.getX()+p,c.getY()-p),h=new pt(h.getX()+p,h.getY()+p);let g=this.getColor(h,a);if(g===0)return!1;let w=this.getColor(a,l);return w!==g||(w=this.getColor(l,c),w!==g)?!1:(w=this.getColor(c,h),w===g)}getColor(a,l){let c=this.distancePoint(a,l),h=(l.getX()-a.getX())/c,p=(l.getY()-a.getY())/c,g=0,w=a.getX(),N=a.getY(),T=this.image.get(a.getX(),a.getY()),j=Math.ceil(c);for(let Y=0;Y<j;Y++)w+=h,N+=p,this.image.get(ze.round(w),ze.round(N))!==T&&g++;let F=g/c;return F>.1&&F<.9?0:F<=.1===T?1:-1}getFirstDifferent(a,l,c,h){let p=a.getX()+c,g=a.getY()+h;for(;this.isValid(p,g)&&this.image.get(p,g)===l;)p+=c,g+=h;for(p-=c,g-=h;this.isValid(p,g)&&this.image.get(p,g)===l;)p+=c;for(p-=c;this.isValid(p,g)&&this.image.get(p,g)===l;)g+=h;return g-=h,new pt(p,g)}expandSquare(a,l,c){let h=c/(2*l),p=a[0].getX()-a[2].getX(),g=a[0].getY()-a[2].getY(),w=(a[0].getX()+a[2].getX())/2,N=(a[0].getY()+a[2].getY())/2,T=new ae(w+h*p,N+h*g),j=new ae(w-h*p,N-h*g);p=a[1].getX()-a[3].getX(),g=a[1].getY()-a[3].getY(),w=(a[1].getX()+a[3].getX())/2,N=(a[1].getY()+a[3].getY())/2;let F=new ae(w+h*p,N+h*g),Y=new ae(w-h*p,N-h*g);return[T,F,j,Y]}isValid(a,l){return a>=0&&a<this.image.getWidth()&&l>0&&l<this.image.getHeight()}isValidPoint(a){let l=ze.round(a.getX()),c=ze.round(a.getY());return this.isValid(l,c)}distancePoint(a,l){return ze.distance(a.getX(),a.getY(),l.getX(),l.getY())}distanceResultPoint(a,l){return ze.distance(a.getX(),a.getY(),l.getX(),l.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class dt{decode(a,l=null){let c=null,h=new Ht(a.getBlackMatrix()),p=null,g=null;try{let j=h.detectMirror(!1);p=j.getPoints(),this.reportFoundResultPoints(l,p),g=new at().decode(j)}catch(j){c=j}if(g==null)try{let j=h.detectMirror(!0);p=j.getPoints(),this.reportFoundResultPoints(l,p),g=new at().decode(j)}catch(j){throw c??j}let w=new oe(g.getText(),g.getRawBytes(),g.getNumBits(),p,he.AZTEC,I.currentTimeMillis()),N=g.getByteSegments();N!=null&&w.putMetadata(Le.BYTE_SEGMENTS,N);let T=g.getECLevel();return T!=null&&w.putMetadata(Le.ERROR_CORRECTION_LEVEL,T),w}reportFoundResultPoints(a,l){if(a!=null){let c=a.get(ie.NEED_RESULT_POINT_CALLBACK);c!=null&&l.forEach((h,p,g)=>{c.foundPossibleResultPoint(h)})}}reset(){}}class jr extends ne{constructor(a=500){super(new dt,a)}}class Lt{decode(a,l){try{return this.doDecode(a,l)}catch{if(l&&l.get(ie.TRY_HARDER)===!0&&a.isRotateSupported()){const p=a.rotateCounterClockwise(),g=this.doDecode(p,l),w=g.getResultMetadata();let N=270;w!==null&&w.get(Le.ORIENTATION)===!0&&(N=N+w.get(Le.ORIENTATION)%360),g.putMetadata(Le.ORIENTATION,N);const T=g.getResultPoints();if(T!==null){const j=p.getHeight();for(let F=0;F<T.length;F++)T[F]=new ae(j-T[F].getY()-1,T[F].getX())}return g}else throw new J}}reset(){}doDecode(a,l){const c=a.getWidth(),h=a.getHeight();let p=new R(c);const g=l&&l.get(ie.TRY_HARDER)===!0,w=Math.max(1,h>>(g?8:5));let N;g?N=h:N=15;const T=Math.trunc(h/2);for(let j=0;j<N;j++){const F=Math.trunc((j+1)/2),Y=(j&1)===0,ce=T+w*(Y?F:-F);if(ce<0||ce>=h)break;try{p=a.getBlackRow(ce,p)}catch{continue}for(let xe=0;xe<2;xe++){if(xe===1&&(p.reverse(),l&&l.get(ie.NEED_RESULT_POINT_CALLBACK)===!0)){const we=new Map;l.forEach((_e,Fe)=>we.set(Fe,_e)),we.delete(ie.NEED_RESULT_POINT_CALLBACK),l=we}try{const we=this.decodeRow(ce,p,l);if(xe===1){we.putMetadata(Le.ORIENTATION,180);const _e=we.getResultPoints();_e!==null&&(_e[0]=new ae(c-_e[0].getX()-1,_e[0].getY()),_e[1]=new ae(c-_e[1].getX()-1,_e[1].getY()))}return we}catch{}}}throw new J}static recordPattern(a,l,c){const h=c.length;for(let T=0;T<h;T++)c[T]=0;const p=a.getSize();if(l>=p)throw new J;let g=!a.get(l),w=0,N=l;for(;N<p;){if(a.get(N)!==g)c[w]++;else{if(++w===h)break;c[w]=1,g=!g}N++}if(!(w===h||w===h-1&&N===p))throw new J}static recordPatternInReverse(a,l,c){let h=c.length,p=a.get(l);for(;l>0&&h>=0;)a.get(--l)!==p&&(h--,p=!p);if(h>=0)throw new J;Lt.recordPattern(a,l+1,c)}static patternMatchVariance(a,l,c){const h=a.length;let p=0,g=0;for(let T=0;T<h;T++)p+=a[T],g+=l[T];if(p<g)return Number.POSITIVE_INFINITY;const w=p/g;c*=w;let N=0;for(let T=0;T<h;T++){const j=a[T],F=l[T]*w,Y=j>F?j-F:F-j;if(Y>c)return Number.POSITIVE_INFINITY;N+=Y}return N/p}}class ot extends Lt{static findStartPattern(a){const l=a.getSize(),c=a.getNextSet(0);let h=0,p=Int32Array.from([0,0,0,0,0,0]),g=c,w=!1;const N=6;for(let T=c;T<l;T++)if(a.get(T)!==w)p[h]++;else{if(h===N-1){let j=ot.MAX_AVG_VARIANCE,F=-1;for(let Y=ot.CODE_START_A;Y<=ot.CODE_START_C;Y++){const ce=Lt.patternMatchVariance(p,ot.CODE_PATTERNS[Y],ot.MAX_INDIVIDUAL_VARIANCE);ce<j&&(j=ce,F=Y)}if(F>=0&&a.isRange(Math.max(0,g-(T-g)/2),g,!1))return Int32Array.from([g,T,F]);g+=p[0]+p[1],p=p.slice(2,p.length-1),p[h-1]=0,p[h]=0,h--}else h++;p[h]=1,w=!w}throw new J}static decodeCode(a,l,c){Lt.recordPattern(a,c,l);let h=ot.MAX_AVG_VARIANCE,p=-1;for(let g=0;g<ot.CODE_PATTERNS.length;g++){const w=ot.CODE_PATTERNS[g],N=this.patternMatchVariance(l,w,ot.MAX_INDIVIDUAL_VARIANCE);N<h&&(h=N,p=g)}if(p>=0)return p;throw new J}decodeRow(a,l,c){const h=c&&c.get(ie.ASSUME_GS1)===!0,p=ot.findStartPattern(l),g=p[2];let w=0;const N=new Uint8Array(20);N[w++]=g;let T;switch(g){case ot.CODE_START_A:T=ot.CODE_CODE_A;break;case ot.CODE_START_B:T=ot.CODE_CODE_B;break;case ot.CODE_START_C:T=ot.CODE_CODE_C;break;default:throw new q}let j=!1,F=!1,Y="",ce=p[0],xe=p[1];const we=Int32Array.from([0,0,0,0,0,0]);let _e=0,Fe=0,tt=g,st=0,nt=!0,Jt=!1,Ft=!1;for(;!j;){const Rs=F;switch(F=!1,_e=Fe,Fe=ot.decodeCode(l,we,xe),N[w++]=Fe,Fe!==ot.CODE_STOP&&(nt=!0),Fe!==ot.CODE_STOP&&(st++,tt+=st*Fe),ce=xe,xe+=we.reduce((Ki,Zi)=>Ki+Zi,0),Fe){case ot.CODE_START_A:case ot.CODE_START_B:case ot.CODE_START_C:throw new q}switch(T){case ot.CODE_CODE_A:if(Fe<64)Ft===Jt?Y+=String.fromCharCode(32+Fe):Y+=String.fromCharCode(32+Fe+128),Ft=!1;else if(Fe<96)Ft===Jt?Y+=String.fromCharCode(Fe-64):Y+=String.fromCharCode(Fe+64),Ft=!1;else switch(Fe!==ot.CODE_STOP&&(nt=!1),Fe){case ot.CODE_FNC_1:h&&(Y.length===0?Y+="]C1":Y+="");break;case ot.CODE_FNC_2:case ot.CODE_FNC_3:break;case ot.CODE_FNC_4_A:!Jt&&Ft?(Jt=!0,Ft=!1):Jt&&Ft?(Jt=!1,Ft=!1):Ft=!0;break;case ot.CODE_SHIFT:F=!0,T=ot.CODE_CODE_B;break;case ot.CODE_CODE_B:T=ot.CODE_CODE_B;break;case ot.CODE_CODE_C:T=ot.CODE_CODE_C;break;case ot.CODE_STOP:j=!0;break}break;case ot.CODE_CODE_B:if(Fe<96)Ft===Jt?Y+=String.fromCharCode(32+Fe):Y+=String.fromCharCode(32+Fe+128),Ft=!1;else switch(Fe!==ot.CODE_STOP&&(nt=!1),Fe){case ot.CODE_FNC_1:h&&(Y.length===0?Y+="]C1":Y+="");break;case ot.CODE_FNC_2:case ot.CODE_FNC_3:break;case ot.CODE_FNC_4_B:!Jt&&Ft?(Jt=!0,Ft=!1):Jt&&Ft?(Jt=!1,Ft=!1):Ft=!0;break;case ot.CODE_SHIFT:F=!0,T=ot.CODE_CODE_A;break;case ot.CODE_CODE_A:T=ot.CODE_CODE_A;break;case ot.CODE_CODE_C:T=ot.CODE_CODE_C;break;case ot.CODE_STOP:j=!0;break}break;case ot.CODE_CODE_C:if(Fe<100)Fe<10&&(Y+="0"),Y+=Fe;else switch(Fe!==ot.CODE_STOP&&(nt=!1),Fe){case ot.CODE_FNC_1:h&&(Y.length===0?Y+="]C1":Y+="");break;case ot.CODE_CODE_A:T=ot.CODE_CODE_A;break;case ot.CODE_CODE_B:T=ot.CODE_CODE_B;break;case ot.CODE_STOP:j=!0;break}break}Rs&&(T=T===ot.CODE_CODE_A?ot.CODE_CODE_B:ot.CODE_CODE_A)}const mr=xe-ce;if(xe=l.getNextUnset(xe),!l.isRange(xe,Math.min(l.getSize(),xe+(xe-ce)/2),!1))throw new J;if(tt-=st*_e,tt%103!==_e)throw new b;const $r=Y.length;if($r===0)throw new J;$r>0&&nt&&(T===ot.CODE_CODE_C?Y=Y.substring(0,$r-2):Y=Y.substring(0,$r-1));const lr=(p[1]+p[0])/2,hn=ce+mr/2,nr=N.length,Cr=new Uint8Array(nr);for(let Rs=0;Rs<nr;Rs++)Cr[Rs]=N[Rs];const Fi=[new ae(lr,a),new ae(hn,a)];return new oe(Y,Cr,0,Fi,he.CODE_128,new Date().getTime())}}ot.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ot.MAX_AVG_VARIANCE=.25,ot.MAX_INDIVIDUAL_VARIANCE=.7,ot.CODE_SHIFT=98,ot.CODE_CODE_C=99,ot.CODE_CODE_B=100,ot.CODE_CODE_A=101,ot.CODE_FNC_1=102,ot.CODE_FNC_2=97,ot.CODE_FNC_3=96,ot.CODE_FNC_4_A=101,ot.CODE_FNC_4_B=100,ot.CODE_START_A=103,ot.CODE_START_B=104,ot.CODE_START_C=105,ot.CODE_STOP=106;class Rt extends Lt{constructor(a=!1,l=!1){super(),this.usingCheckDigit=a,this.extendedMode=l,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(a,l,c){let h=this.counters;h.fill(0),this.decodeRowResult="";let p=Rt.findAsteriskPattern(l,h),g=l.getNextSet(p[1]),w=l.getSize(),N,T;do{Rt.recordPattern(l,g,h);let we=Rt.toNarrowWidePattern(h);if(we<0)throw new J;N=Rt.patternToChar(we),this.decodeRowResult+=N,T=g;for(let _e of h)g+=_e;g=l.getNextSet(g)}while(N!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let j=0;for(let we of h)j+=we;let F=g-T-j;if(g!==w&&F*2<j)throw new J;if(this.usingCheckDigit){let we=this.decodeRowResult.length-1,_e=0;for(let Fe=0;Fe<we;Fe++)_e+=Rt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Fe));if(this.decodeRowResult.charAt(we)!==Rt.ALPHABET_STRING.charAt(_e%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,we)}if(this.decodeRowResult.length===0)throw new J;let Y;this.extendedMode?Y=Rt.decodeExtended(this.decodeRowResult):Y=this.decodeRowResult;let ce=(p[1]+p[0])/2,xe=T+j/2;return new oe(Y,null,0,[new ae(ce,a),new ae(xe,a)],he.CODE_39,new Date().getTime())}static findAsteriskPattern(a,l){let c=a.getSize(),h=a.getNextSet(0),p=0,g=h,w=!1,N=l.length;for(let T=h;T<c;T++)if(a.get(T)!==w)l[p]++;else{if(p===N-1){if(this.toNarrowWidePattern(l)===Rt.ASTERISK_ENCODING&&a.isRange(Math.max(0,g-Math.floor((T-g)/2)),g,!1))return[g,T];g+=l[0]+l[1],l.copyWithin(0,2,2+p-1),l[p-1]=0,l[p]=0,p--}else p++;l[p]=1,w=!w}throw new J}static toNarrowWidePattern(a){let l=a.length,c=0,h;do{let p=2147483647;for(let N of a)N<p&&N>c&&(p=N);c=p,h=0;let g=0,w=0;for(let N=0;N<l;N++){let T=a[N];T>c&&(w|=1<<l-1-N,h++,g+=T)}if(h===3){for(let N=0;N<l&&h>0;N++){let T=a[N];if(T>c&&(h--,T*2>=g))return-1}return w}}while(h>3);return-1}static patternToChar(a){for(let l=0;l<Rt.CHARACTER_ENCODINGS.length;l++)if(Rt.CHARACTER_ENCODINGS[l]===a)return Rt.ALPHABET_STRING.charAt(l);if(a===Rt.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(a){let l=a.length,c="";for(let h=0;h<l;h++){let p=a.charAt(h);if(p==="+"||p==="$"||p==="%"||p==="/"){let g=a.charAt(h+1),w="\0";switch(p){case"+":if(g>="A"&&g<="Z")w=String.fromCharCode(g.charCodeAt(0)+32);else throw new q;break;case"$":if(g>="A"&&g<="Z")w=String.fromCharCode(g.charCodeAt(0)-64);else throw new q;break;case"%":if(g>="A"&&g<="E")w=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")w=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")w=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")w=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")w="\0";else if(g==="V")w="@";else if(g==="W")w="`";else if(g==="X"||g==="Y"||g==="Z")w="";else throw new q;break;case"/":if(g>="A"&&g<="O")w=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")w=":";else throw new q;break}c+=w,h++}else c+=p}return c}}Rt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Rt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Rt.ASTERISK_ENCODING=148;class Ot extends Lt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(a,l,c){let h=this.decodeStart(l),p=this.decodeEnd(l),g=new ee;Ot.decodeMiddle(l,h[1],p[0],g);let w=g.toString(),N=null;c!=null&&(N=c.get(ie.ALLOWED_LENGTHS)),N==null&&(N=Ot.DEFAULT_ALLOWED_LENGTHS);let T=w.length,j=!1,F=0;for(let xe of N){if(T===xe){j=!0;break}xe>F&&(F=xe)}if(!j&&T>F&&(j=!0),!j)throw new q;const Y=[new ae(h[1],a),new ae(p[0],a)];return new oe(w,null,0,Y,he.ITF,new Date().getTime())}static decodeMiddle(a,l,c,h){let p=new Int32Array(10),g=new Int32Array(5),w=new Int32Array(5);for(p.fill(0),g.fill(0),w.fill(0);l<c;){Lt.recordPattern(a,l,p);for(let T=0;T<5;T++){let j=2*T;g[T]=p[j],w[T]=p[j+1]}let N=Ot.decodeDigit(g);h.append(N.toString()),N=this.decodeDigit(w),h.append(N.toString()),p.forEach(function(T){l+=T})}}decodeStart(a){let l=Ot.skipWhiteSpace(a),c=Ot.findGuardPattern(a,l,Ot.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(a,c[0]),c}validateQuietZone(a,l){let c=this.narrowLineWidth*10;c=c<l?c:l;for(let h=l-1;c>0&&h>=0&&!a.get(h);h--)c--;if(c!==0)throw new J}static skipWhiteSpace(a){const l=a.getSize(),c=a.getNextSet(0);if(c===l)throw new J;return c}decodeEnd(a){a.reverse();try{let l=Ot.skipWhiteSpace(a),c;try{c=Ot.findGuardPattern(a,l,Ot.END_PATTERN_REVERSED[0])}catch(p){p instanceof J&&(c=Ot.findGuardPattern(a,l,Ot.END_PATTERN_REVERSED[1]))}this.validateQuietZone(a,c[0]);let h=c[0];return c[0]=a.getSize()-c[1],c[1]=a.getSize()-h,c}finally{a.reverse()}}static findGuardPattern(a,l,c){let h=c.length,p=new Int32Array(h),g=a.getSize(),w=!1,N=0,T=l;p.fill(0);for(let j=l;j<g;j++)if(a.get(j)!==w)p[N]++;else{if(N===h-1){if(Lt.patternMatchVariance(p,c,Ot.MAX_INDIVIDUAL_VARIANCE)<Ot.MAX_AVG_VARIANCE)return[T,j];T+=p[0]+p[1],I.arraycopy(p,2,p,0,N-1),p[N-1]=0,p[N]=0,N--}else N++;p[N]=1,w=!w}throw new J}static decodeDigit(a){let l=Ot.MAX_AVG_VARIANCE,c=-1,h=Ot.PATTERNS.length;for(let p=0;p<h;p++){let g=Ot.PATTERNS[p],w=Lt.patternMatchVariance(a,g,Ot.MAX_INDIVIDUAL_VARIANCE);w<l?(l=w,c=p):w===l&&(c=-1)}if(c>=0)return c%10;throw new J}}Ot.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ot.MAX_AVG_VARIANCE=.38,Ot.MAX_INDIVIDUAL_VARIANCE=.5,Ot.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ot.START_PATTERN=Int32Array.from([1,1,1,1]),Ot.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class cn extends Lt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(a){let l=!1,c,h=0,p=Int32Array.from([0,0,0]);for(;!l;){p=Int32Array.from([0,0,0]),c=cn.findGuardPattern(a,h,!1,this.START_END_PATTERN,p);let g=c[0];h=c[1];let w=g-(h-g);w>=0&&(l=a.isRange(w,g,!1))}return c}static checkChecksum(a){return cn.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let c=parseInt(a.charAt(l-1),10);return cn.getStandardUPCEANChecksum(a.substring(0,l-1))===c}static getStandardUPCEANChecksum(a){let l=a.length,c=0;for(let h=l-1;h>=0;h-=2){let p=a.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new q;c+=p}c*=3;for(let h=l-2;h>=0;h-=2){let p=a.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new q;c+=p}return(1e3-c)%10}static decodeEnd(a,l){return cn.findGuardPattern(a,l,!1,cn.START_END_PATTERN,new Int32Array(cn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(a,l,c,h){return this.findGuardPattern(a,l,c,h,new Int32Array(h.length))}static findGuardPattern(a,l,c,h,p){let g=a.getSize();l=c?a.getNextUnset(l):a.getNextSet(l);let w=0,N=l,T=h.length,j=c;for(let F=l;F<g;F++)if(a.get(F)!==j)p[w]++;else{if(w===T-1){if(Lt.patternMatchVariance(p,h,cn.MAX_INDIVIDUAL_VARIANCE)<cn.MAX_AVG_VARIANCE)return Int32Array.from([N,F]);N+=p[0]+p[1];let Y=p.slice(2,p.length-1);for(let ce=0;ce<w-1;ce++)p[ce]=Y[ce];p[w-1]=0,p[w]=0,w--}else w++;p[w]=1,j=!j}throw new J}static decodeDigit(a,l,c,h){this.recordPattern(a,c,l);let p=this.MAX_AVG_VARIANCE,g=-1,w=h.length;for(let N=0;N<w;N++){let T=h[N],j=Lt.patternMatchVariance(l,T,cn.MAX_INDIVIDUAL_VARIANCE);j<p&&(p=j,g=N)}if(g>=0)return g;throw new J}}cn.MAX_AVG_VARIANCE=.48,cn.MAX_INDIVIDUAL_VARIANCE=.7,cn.START_END_PATTERN=Int32Array.from([1,1,1]),cn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),cn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),cn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class en{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,c){let h=this.decodeRowStringBuffer,p=this.decodeMiddle(l,c,h),g=h.toString(),w=en.parseExtensionString(g),N=[new ae((c[0]+c[1])/2,a),new ae(p,a)],T=new oe(g,null,0,N,he.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&T.putAllMetadata(w),T}decodeMiddle(a,l,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=a.getSize(),g=l[1],w=0;for(let T=0;T<5&&g<p;T++){let j=cn.decodeDigit(a,h,g,cn.L_AND_G_PATTERNS);c+=String.fromCharCode(48+j%10);for(let F of h)g+=F;j>=10&&(w|=1<<4-T),T!==4&&(g=a.getNextSet(g),g=a.getNextUnset(g))}if(c.length!==5)throw new J;let N=this.determineCheckDigit(w);if(en.extensionChecksum(c.toString())!==N)throw new J;return g}static extensionChecksum(a){let l=a.length,c=0;for(let h=l-2;h>=0;h-=2)c+=a.charAt(h).charCodeAt(0)-48;c*=3;for(let h=l-1;h>=0;h-=2)c+=a.charAt(h).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(a){for(let l=0;l<10;l++)if(a===this.CHECK_DIGIT_ENCODINGS[l])return l;throw new J}static parseExtensionString(a){if(a.length!==5)return null;let l=en.parseExtension5String(a);return l==null?null:new Map([[Le.SUGGESTED_PRICE,l]])}static parseExtension5String(a){let l;switch(a.charAt(0)){case"0":l="£";break;case"5":l="$";break;case"9":switch(a){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}l="";break;default:l="";break}let c=parseInt(a.substring(1)),h=(c/100).toString(),p=c%100,g=p<10?"0"+p:p.toString();return l+h+"."+g}}class Xs{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(a,l,c){let h=this.decodeRowStringBuffer,p=this.decodeMiddle(l,c,h),g=h.toString(),w=Xs.parseExtensionString(g),N=[new ae((c[0]+c[1])/2,a),new ae(p,a)],T=new oe(g,null,0,N,he.UPC_EAN_EXTENSION,new Date().getTime());return w!=null&&T.putAllMetadata(w),T}decodeMiddle(a,l,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=a.getSize(),g=l[1],w=0;for(let N=0;N<2&&g<p;N++){let T=cn.decodeDigit(a,h,g,cn.L_AND_G_PATTERNS);c+=String.fromCharCode(48+T%10);for(let j of h)g+=j;T>=10&&(w|=1<<1-N),N!==1&&(g=a.getNextSet(g),g=a.getNextUnset(g))}if(c.length!==2)throw new J;if(parseInt(c.toString())%4!==w)throw new J;return g}static parseExtensionString(a){return a.length!==2?null:new Map([[Le.ISSUE_NUMBER,parseInt(a)]])}}class Hn{static decodeRow(a,l,c){let h=cn.findGuardPattern(l,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new en().decodeRow(a,l,h)}catch{return new Xs().decodeRow(a,l,h)}}}Hn.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Gt extends cn{constructor(){super(),this.decodeRowStringBuffer="",Gt.L_AND_G_PATTERNS=Gt.L_PATTERNS.map(a=>Int32Array.from(a));for(let a=10;a<20;a++){let l=Gt.L_PATTERNS[a-10],c=new Int32Array(l.length);for(let h=0;h<l.length;h++)c[h]=l[l.length-h-1];Gt.L_AND_G_PATTERNS[a]=c}}decodeRow(a,l,c){let h=Gt.findStartGuardPattern(l),p=c==null?null:c.get(ie.NEED_RESULT_POINT_CALLBACK);if(p!=null){const nt=new ae((h[0]+h[1])/2,a);p.foundPossibleResultPoint(nt)}let g=this.decodeMiddle(l,h,this.decodeRowStringBuffer),w=g.rowOffset,N=g.resultString;if(p!=null){const nt=new ae(w,a);p.foundPossibleResultPoint(nt)}let T=this.decodeEnd(l,w);if(p!=null){const nt=new ae((T[0]+T[1])/2,a);p.foundPossibleResultPoint(nt)}let j=T[1],F=j+(j-T[0]);if(F>=l.getSize()||!l.isRange(j,F,!1))throw new J;let Y=N.toString();if(Y.length<8)throw new q;if(!Gt.checkChecksum(Y))throw new b;let ce=(h[1]+h[0])/2,xe=(T[1]+T[0])/2,we=this.getBarcodeFormat(),_e=[new ae(ce,a),new ae(xe,a)],Fe=new oe(Y,null,0,_e,we,new Date().getTime()),tt=0;try{let nt=Hn.decodeRow(a,l,T[1]);Fe.putMetadata(Le.UPC_EAN_EXTENSION,nt.getText()),Fe.putAllMetadata(nt.getResultMetadata()),Fe.addResultPoints(nt.getResultPoints()),tt=nt.getText().length}catch{}let st=c==null?null:c.get(ie.ALLOWED_EAN_EXTENSIONS);if(st!=null){let nt=!1;for(let Jt in st)if(tt.toString()===Jt){nt=!0;break}if(!nt)throw new J}return Fe}decodeEnd(a,l){return Gt.findGuardPattern(a,l,!1,Gt.START_END_PATTERN,new Int32Array(Gt.START_END_PATTERN.length).fill(0))}static checkChecksum(a){return Gt.checkStandardUPCEANChecksum(a)}static checkStandardUPCEANChecksum(a){let l=a.length;if(l===0)return!1;let c=parseInt(a.charAt(l-1),10);return Gt.getStandardUPCEANChecksum(a.substring(0,l-1))===c}static getStandardUPCEANChecksum(a){let l=a.length,c=0;for(let h=l-1;h>=0;h-=2){let p=a.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new q;c+=p}c*=3;for(let h=l-2;h>=0;h-=2){let p=a.charAt(h).charCodeAt(0)-48;if(p<0||p>9)throw new q;c+=p}return(1e3-c)%10}}class ci extends Gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,c){let h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=a.getSize(),g=l[1],w=0;for(let T=0;T<6&&g<p;T++){let j=Gt.decodeDigit(a,h,g,Gt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+j%10);for(let F of h)g+=F;j>=10&&(w|=1<<5-T)}c=ci.determineFirstDigit(c,w),g=Gt.findGuardPattern(a,g,!0,Gt.MIDDLE_PATTERN,new Int32Array(Gt.MIDDLE_PATTERN.length).fill(0))[1];for(let T=0;T<6&&g<p;T++){let j=Gt.decodeDigit(a,h,g,Gt.L_PATTERNS);c+=String.fromCharCode(48+j);for(let F of h)g+=F}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return he.EAN_13}static determineFirstDigit(a,l){for(let c=0;c<10;c++)if(l===this.FIRST_DIGIT_ENCODINGS[c])return a=String.fromCharCode(48+c)+a,a;throw new J}}ci.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class qn extends Gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(a,l,c){const h=this.decodeMiddleCounters;h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=a.getSize(),g=l[1];for(let N=0;N<4&&g<p;N++){let T=Gt.decodeDigit(a,h,g,Gt.L_PATTERNS);c+=String.fromCharCode(48+T);for(let j of h)g+=j}g=Gt.findGuardPattern(a,g,!0,Gt.MIDDLE_PATTERN,new Int32Array(Gt.MIDDLE_PATTERN.length).fill(0))[1];for(let N=0;N<4&&g<p;N++){let T=Gt.decodeDigit(a,h,g,Gt.L_PATTERNS);c+=String.fromCharCode(48+T);for(let j of h)g+=j}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return he.EAN_8}}class Ut extends Gt{constructor(){super(...arguments),this.ean13Reader=new ci}getBarcodeFormat(){return he.UPC_A}decode(a,l){return this.maybeReturnResult(this.ean13Reader.decode(a))}decodeRow(a,l,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(a,l,c))}decodeMiddle(a,l,c){return this.ean13Reader.decodeMiddle(a,l,c)}maybeReturnResult(a){let l=a.getText();if(l.charAt(0)==="0"){let c=new oe(l.substring(1),null,null,a.getResultPoints(),he.UPC_A);return a.getResultMetadata()!=null&&c.putAllMetadata(a.getResultMetadata()),c}else throw new J}reset(){this.ean13Reader.reset()}}class Xt extends Gt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(a,l,c){const h=this.decodeMiddleCounters.map(T=>T);h[0]=0,h[1]=0,h[2]=0,h[3]=0;const p=a.getSize();let g=l[1],w=0;for(let T=0;T<6&&g<p;T++){const j=Xt.decodeDigit(a,h,g,Xt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+j%10);for(let F of h)g+=F;j>=10&&(w|=1<<5-T)}let N=Xt.determineNumSysAndCheckDigit(c,w);return{rowOffset:g,resultString:N}}decodeEnd(a,l){return Xt.findGuardPatternWithoutCounters(a,l,!0,Xt.MIDDLE_END_PATTERN)}checkChecksum(a){return Gt.checkChecksum(Xt.convertUPCEtoUPCA(a))}static determineNumSysAndCheckDigit(a,l){for(let c=0;c<=1;c++)for(let h=0;h<10;h++)if(l===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][h]){let p=String.fromCharCode(48+c),g=String.fromCharCode(48+h);return p+a+g}throw J.getNotFoundInstance()}getBarcodeFormat(){return he.UPC_E}static convertUPCEtoUPCA(a){const l=a.slice(1,7).split("").map(p=>p.charCodeAt(0)),c=new ee;c.append(a.charAt(0));let h=l[5];switch(h){case 0:case 1:case 2:c.appendChars(l,0,2),c.append(h),c.append("0000"),c.appendChars(l,2,3);break;case 3:c.appendChars(l,0,3),c.append("00000"),c.appendChars(l,3,2);break;case 4:c.appendChars(l,0,4),c.append("00000"),c.append(l[4]);break;default:c.appendChars(l,0,5),c.append("0000"),c.append(h);break}return a.length>=8&&c.append(a.charAt(7)),c.toString()}}Xt.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Xt.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ks extends Lt{constructor(a){super();let l=a==null?null:a.get(ie.POSSIBLE_FORMATS),c=[];r(l)?(c.push(new ci),c.push(new Ut),c.push(new qn),c.push(new Xt)):(l.indexOf(he.EAN_13)>-1&&c.push(new ci),l.indexOf(he.UPC_A)>-1&&c.push(new Ut),l.indexOf(he.EAN_8)>-1&&c.push(new qn),l.indexOf(he.UPC_E)>-1&&c.push(new Xt)),this.readers=c}decodeRow(a,l,c){for(let h of this.readers)try{const p=h.decodeRow(a,l,c),g=p.getBarcodeFormat()===he.EAN_13&&p.getText().charAt(0)==="0",w=c==null?null:c.get(ie.POSSIBLE_FORMATS),N=w==null||w.includes(he.UPC_A);if(g&&N){const T=p.getRawBytes(),j=new oe(p.getText().substring(1),T,T?T.length:null,p.getResultPoints(),he.UPC_A);return j.putAllMetadata(p.getResultMetadata()),j}return p}catch{}throw new J}reset(){for(let a of this.readers)a.reset()}}class fn extends Lt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(a,l){for(let c=0;c<l.length;c++)if(Lt.patternMatchVariance(a,l[c],fn.MAX_INDIVIDUAL_VARIANCE)<fn.MAX_AVG_VARIANCE)return c;throw new J}static count(a){return ze.sum(new Int32Array(a))}static increment(a,l){let c=0,h=l[0];for(let p=1;p<a.length;p++)l[p]>h&&(h=l[p],c=p);a[c]++}static decrement(a,l){let c=0,h=l[0];for(let p=1;p<a.length;p++)l[p]<h&&(h=l[p],c=p);a[c]--}static isFinderPattern(a){let l=a[0]+a[1],c=l+a[2]+a[3],h=l/c;if(h>=fn.MIN_FINDER_PATTERN_RATIO&&h<=fn.MAX_FINDER_PATTERN_RATIO){let p=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let w of a)w>g&&(g=w),w<p&&(p=w);return g<10*p}return!1}}fn.MAX_AVG_VARIANCE=.2,fn.MAX_INDIVIDUAL_VARIANCE=.45,fn.MIN_FINDER_PATTERN_RATIO=9.5/12,fn.MAX_FINDER_PATTERN_RATIO=12.5/14;class ui{constructor(a,l){this.value=a,this.checksumPortion=l}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(a){if(!(a instanceof ui))return!1;const l=a;return this.value===l.value&&this.checksumPortion===l.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class ji{constructor(a,l,c,h,p){this.value=a,this.startEnd=l,this.value=a,this.startEnd=l,this.resultPoints=new Array,this.resultPoints.push(new ae(c,p)),this.resultPoints.push(new ae(h,p))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(a){if(!(a instanceof ji))return!1;const l=a;return this.value===l.value}hashCode(){return this.value}}class Et{constructor(){}static getRSSvalue(a,l,c){let h=0;for(let N of a)h+=N;let p=0,g=0,w=a.length;for(let N=0;N<w-1;N++){let T;for(T=1,g|=1<<N;T<a[N];T++,g&=~(1<<N)){let j=Et.combins(h-T-1,w-N-2);if(c&&g===0&&h-T-(w-N-1)>=w-N-1&&(j-=Et.combins(h-T-(w-N),w-N-2)),w-N-1>1){let F=0;for(let Y=h-T-(w-N-2);Y>l;Y--)F+=Et.combins(h-T-Y-1,w-N-3);j-=F*(w-1-N)}else h-T>l&&j--;p+=j}h-=T}return p}static combins(a,l){let c,h;a-l>l?(h=l,c=a-l):(h=a-l,c=l);let p=1,g=1;for(let w=a;w>c;w--)p*=w,g<=h&&(p/=g,g++);for(;g<=h;)p/=g,g++;return p}}class cs{static buildBitArray(a){let l=a.length*2-1;a[a.length-1].getRightChar()==null&&(l-=1);let c=12*l,h=new R(c),p=0,w=a[0].getRightChar().getValue();for(let N=11;N>=0;--N)w&1<<N&&h.set(p),p++;for(let N=1;N<a.length;++N){let T=a[N],j=T.getLeftChar().getValue();for(let F=11;F>=0;--F)j&1<<F&&h.set(p),p++;if(T.getRightChar()!=null){let F=T.getRightChar().getValue();for(let Y=11;Y>=0;--Y)F&1<<Y&&h.set(p),p++}}return h}}class Jr{constructor(a,l){l?this.decodedInformation=null:(this.finished=a,this.decodedInformation=l)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class ei{constructor(a){this.newPosition=a}getNewPosition(){return this.newPosition}}class pn extends ei{constructor(a,l){super(a),this.value=l}getValue(){return this.value}isFNC1(){return this.value===pn.FNC1}}pn.FNC1="$";class kn extends ei{constructor(a,l,c){super(a),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=l}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class jn extends ei{constructor(a,l,c){if(super(a),l<0||l>10||c<0||c>10)throw new q;this.firstDigit=l,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===jn.FNC1}isSecondDigitFNC1(){return this.secondDigit===jn.FNC1}isAnyFNC1(){return this.firstDigit===jn.FNC1||this.secondDigit===jn.FNC1}}jn.FNC1=10;class xt{constructor(){}static parseFieldsInGeneralPurpose(a){if(!a)return null;if(a.length<2)throw new J;let l=a.substring(0,2);for(let p of xt.TWO_DIGIT_DATA_LENGTH)if(p[0]===l)return p[1]===xt.VARIABLE_LENGTH?xt.processVariableAI(2,p[2],a):xt.processFixedAI(2,p[1],a);if(a.length<3)throw new J;let c=a.substring(0,3);for(let p of xt.THREE_DIGIT_DATA_LENGTH)if(p[0]===c)return p[1]===xt.VARIABLE_LENGTH?xt.processVariableAI(3,p[2],a):xt.processFixedAI(3,p[1],a);for(let p of xt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(p[0]===c)return p[1]===xt.VARIABLE_LENGTH?xt.processVariableAI(4,p[2],a):xt.processFixedAI(4,p[1],a);if(a.length<4)throw new J;let h=a.substring(0,4);for(let p of xt.FOUR_DIGIT_DATA_LENGTH)if(p[0]===h)return p[1]===xt.VARIABLE_LENGTH?xt.processVariableAI(4,p[2],a):xt.processFixedAI(4,p[1],a);throw new J}static processFixedAI(a,l,c){if(c.length<a)throw new J;let h=c.substring(0,a);if(c.length<a+l)throw new J;let p=c.substring(a,a+l),g=c.substring(a+l),w="("+h+")"+p,N=xt.parseFieldsInGeneralPurpose(g);return N==null?w:w+N}static processVariableAI(a,l,c){let h=c.substring(0,a),p;c.length<a+l?p=c.length:p=a+l;let g=c.substring(a,p),w=c.substring(p),N="("+h+")"+g,T=xt.parseFieldsInGeneralPurpose(w);return T==null?N:N+T}}xt.VARIABLE_LENGTH=[],xt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",xt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",xt.VARIABLE_LENGTH,20],["22",xt.VARIABLE_LENGTH,29],["30",xt.VARIABLE_LENGTH,8],["37",xt.VARIABLE_LENGTH,8],["90",xt.VARIABLE_LENGTH,30],["91",xt.VARIABLE_LENGTH,30],["92",xt.VARIABLE_LENGTH,30],["93",xt.VARIABLE_LENGTH,30],["94",xt.VARIABLE_LENGTH,30],["95",xt.VARIABLE_LENGTH,30],["96",xt.VARIABLE_LENGTH,30],["97",xt.VARIABLE_LENGTH,3],["98",xt.VARIABLE_LENGTH,30],["99",xt.VARIABLE_LENGTH,30]],xt.THREE_DIGIT_DATA_LENGTH=[["240",xt.VARIABLE_LENGTH,30],["241",xt.VARIABLE_LENGTH,30],["242",xt.VARIABLE_LENGTH,6],["250",xt.VARIABLE_LENGTH,30],["251",xt.VARIABLE_LENGTH,30],["253",xt.VARIABLE_LENGTH,17],["254",xt.VARIABLE_LENGTH,20],["400",xt.VARIABLE_LENGTH,30],["401",xt.VARIABLE_LENGTH,30],["402",17],["403",xt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",xt.VARIABLE_LENGTH,20],["421",xt.VARIABLE_LENGTH,15],["422",3],["423",xt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],xt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",xt.VARIABLE_LENGTH,15],["391",xt.VARIABLE_LENGTH,18],["392",xt.VARIABLE_LENGTH,15],["393",xt.VARIABLE_LENGTH,18],["703",xt.VARIABLE_LENGTH,30]],xt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",xt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",xt.VARIABLE_LENGTH,20],["8003",xt.VARIABLE_LENGTH,30],["8004",xt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",xt.VARIABLE_LENGTH,30],["8008",xt.VARIABLE_LENGTH,12],["8018",18],["8020",xt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",xt.VARIABLE_LENGTH,70],["8200",xt.VARIABLE_LENGTH,70]];class vi{constructor(a){this.buffer=new ee,this.information=a}decodeAllCodes(a,l){let c=l,h=null;do{let p=this.decodeGeneralPurposeField(c,h),g=xt.parseFieldsInGeneralPurpose(p.getNewString());if(g!=null&&a.append(g),p.isRemaining()?h=""+p.getRemainingValue():h=null,c===p.getNewPosition())break;c=p.getNewPosition()}while(!0);return a.toString()}isStillNumeric(a){if(a+7>this.information.getSize())return a+4<=this.information.getSize();for(let l=a;l<a+3;++l)if(this.information.get(l))return!0;return this.information.get(a+3)}decodeNumeric(a){if(a+7>this.information.getSize()){let p=this.extractNumericValueFromBitArray(a,4);return p===0?new jn(this.information.getSize(),jn.FNC1,jn.FNC1):new jn(this.information.getSize(),p-1,jn.FNC1)}let l=this.extractNumericValueFromBitArray(a,7),c=(l-8)/11,h=(l-8)%11;return new jn(a+7,c,h)}extractNumericValueFromBitArray(a,l){return vi.extractNumericValueFromBitArray(this.information,a,l)}static extractNumericValueFromBitArray(a,l,c){let h=0;for(let p=0;p<c;++p)a.get(l+p)&&(h|=1<<c-p-1);return h}decodeGeneralPurposeField(a,l){this.buffer.setLengthToZero(),l!=null&&this.buffer.append(l),this.current.setPosition(a);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new kn(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new kn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let a,l;do{let c=this.current.getPosition();if(this.current.isAlpha()?(l=this.parseAlphaBlock(),a=l.isFinished()):this.current.isIsoIec646()?(l=this.parseIsoIec646Block(),a=l.isFinished()):(l=this.parseNumericBlock(),a=l.isFinished()),!(c!==this.current.getPosition())&&!a)break}while(!a);return l.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let a=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFirstDigitFNC1()){let l;return a.isSecondDigitFNC1()?l=new kn(this.current.getPosition(),this.buffer.toString()):l=new kn(this.current.getPosition(),this.buffer.toString(),a.getSecondDigit()),new Jr(!0,l)}if(this.buffer.append(a.getFirstDigit()),a.isSecondDigitFNC1()){let l=new kn(this.current.getPosition(),this.buffer.toString());return new Jr(!0,l)}this.buffer.append(a.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Jr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let a=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new kn(this.current.getPosition(),this.buffer.toString());return new Jr(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Jr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let a=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(a.getNewPosition()),a.isFNC1()){let l=new kn(this.current.getPosition(),this.buffer.toString());return new Jr(!0,l)}this.buffer.append(a.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Jr(!1)}isStillIsoIec646(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,7);if(c>=64&&c<116)return!0;if(a+8>this.information.getSize())return!1;let h=this.extractNumericValueFromBitArray(a,8);return h>=232&&h<253}decodeIsoIec646(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new pn(a+5,pn.FNC1);if(l>=5&&l<15)return new pn(a+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(a,7);if(c>=64&&c<90)return new pn(a+7,""+(c+1));if(c>=90&&c<116)return new pn(a+7,""+(c+7));let h=this.extractNumericValueFromBitArray(a,8),p;switch(h){case 232:p="!";break;case 233:p='"';break;case 234:p="%";break;case 235:p="&";break;case 236:p="'";break;case 237:p="(";break;case 238:p=")";break;case 239:p="*";break;case 240:p="+";break;case 241:p=",";break;case 242:p="-";break;case 243:p=".";break;case 244:p="/";break;case 245:p=":";break;case 246:p=";";break;case 247:p="<";break;case 248:p="=";break;case 249:p=">";break;case 250:p="?";break;case 251:p="_";break;case 252:p=" ";break;default:throw new q}return new pn(a+8,p)}isStillAlpha(a){if(a+5>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(a,5);if(l>=5&&l<16)return!0;if(a+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(a,6);return c>=16&&c<63}decodeAlphanumeric(a){let l=this.extractNumericValueFromBitArray(a,5);if(l===15)return new pn(a+5,pn.FNC1);if(l>=5&&l<15)return new pn(a+5,"0"+(l-5));let c=this.extractNumericValueFromBitArray(a,6);if(c>=32&&c<58)return new pn(a+6,""+(c+33));let h;switch(c){case 58:h="*";break;case 59:h=",";break;case 60:h="-";break;case 61:h=".";break;case 62:h="/";break;default:throw new Me("Decoding invalid alphanumeric value: "+c)}return new pn(a+6,h)}isAlphaTo646ToAlphaLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<5&&l+a<this.information.getSize();++l)if(l===2){if(!this.information.get(a+2))return!1}else if(this.information.get(a+l))return!1;return!0}isAlphaOr646ToNumericLatch(a){if(a+3>this.information.getSize())return!1;for(let l=a;l<a+3;++l)if(this.information.get(l))return!1;return!0}isNumericToAlphaNumericLatch(a){if(a+1>this.information.getSize())return!1;for(let l=0;l<4&&l+a<this.information.getSize();++l)if(this.information.get(a+l))return!1;return!0}}class Ri{constructor(a){this.information=a,this.generalDecoder=new vi(a)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Rn extends Ri{constructor(a){super(a)}encodeCompressedGtin(a,l){a.append("(01)");let c=a.length();a.append("9"),this.encodeCompressedGtinWithoutAI(a,l,c)}encodeCompressedGtinWithoutAI(a,l,c){for(let h=0;h<4;++h){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(l+10*h,10);p/100===0&&a.append("0"),p/10===0&&a.append("0"),a.append(p)}Rn.appendCheckDigit(a,c)}static appendCheckDigit(a,l){let c=0;for(let h=0;h<13;h++){let p=a.charAt(h+l).charCodeAt(0)-48;c+=h&1?p:3*p}c=10-c%10,c===10&&(c=0),a.append(c)}}Rn.GTIN_SIZE=40;class ti extends Rn{constructor(a){super(a)}parseInformation(){let a=new ee;a.append("(01)");let l=a.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(ti.HEADER_SIZE,4);return a.append(c),this.encodeCompressedGtinWithoutAI(a,ti.HEADER_SIZE+4,l),this.getGeneralDecoder().decodeAllCodes(a,ti.HEADER_SIZE+44)}}ti.HEADER_SIZE=4;class Mi extends Ri{constructor(a){super(a)}parseInformation(){let a=new ee;return this.getGeneralDecoder().decodeAllCodes(a,Mi.HEADER_SIZE)}}Mi.HEADER_SIZE=5;class di extends Rn{constructor(a){super(a)}encodeCompressedWeight(a,l,c){let h=this.getGeneralDecoder().extractNumericValueFromBitArray(l,c);this.addWeightCode(a,h);let p=this.checkWeight(h),g=1e5;for(let w=0;w<5;++w)p/g===0&&a.append("0"),g/=10;a.append(p)}}class br extends di{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()!=br.HEADER_SIZE+di.GTIN_SIZE+br.WEIGHT_SIZE)throw new J;let a=new ee;return this.encodeCompressedGtin(a,br.HEADER_SIZE),this.encodeCompressedWeight(a,br.HEADER_SIZE+di.GTIN_SIZE,br.WEIGHT_SIZE),a.toString()}}br.HEADER_SIZE=5,br.WEIGHT_SIZE=15;class za extends br{constructor(a){super(a)}addWeightCode(a,l){a.append("(3103)")}checkWeight(a){return a}}class Ao extends br{constructor(a){super(a)}addWeightCode(a,l){l<1e4?a.append("(3202)"):a.append("(3203)")}checkWeight(a){return a<1e4?a:a-1e4}}class hi extends Rn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<hi.HEADER_SIZE+Rn.GTIN_SIZE)throw new J;let a=new ee;this.encodeCompressedGtin(a,hi.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(hi.HEADER_SIZE+Rn.GTIN_SIZE,hi.LAST_DIGIT_SIZE);a.append("(392"),a.append(l),a.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(hi.HEADER_SIZE+Rn.GTIN_SIZE+hi.LAST_DIGIT_SIZE,null);return a.append(c.getNewString()),a.toString()}}hi.HEADER_SIZE=8,hi.LAST_DIGIT_SIZE=2;class pr extends Rn{constructor(a){super(a)}parseInformation(){if(this.getInformation().getSize()<pr.HEADER_SIZE+Rn.GTIN_SIZE)throw new J;let a=new ee;this.encodeCompressedGtin(a,pr.HEADER_SIZE);let l=this.getGeneralDecoder().extractNumericValueFromBitArray(pr.HEADER_SIZE+Rn.GTIN_SIZE,pr.LAST_DIGIT_SIZE);a.append("(393"),a.append(l),a.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(pr.HEADER_SIZE+Rn.GTIN_SIZE+pr.LAST_DIGIT_SIZE,pr.FIRST_THREE_DIGITS_SIZE);c/100==0&&a.append("0"),c/10==0&&a.append("0"),a.append(c);let h=this.getGeneralDecoder().decodeGeneralPurposeField(pr.HEADER_SIZE+Rn.GTIN_SIZE+pr.LAST_DIGIT_SIZE+pr.FIRST_THREE_DIGITS_SIZE,null);return a.append(h.getNewString()),a.toString()}}pr.HEADER_SIZE=8,pr.LAST_DIGIT_SIZE=2,pr.FIRST_THREE_DIGITS_SIZE=10;class bn extends di{constructor(a,l,c){super(a),this.dateCode=c,this.firstAIdigits=l}parseInformation(){if(this.getInformation().getSize()!=bn.HEADER_SIZE+bn.GTIN_SIZE+bn.WEIGHT_SIZE+bn.DATE_SIZE)throw new J;let a=new ee;return this.encodeCompressedGtin(a,bn.HEADER_SIZE),this.encodeCompressedWeight(a,bn.HEADER_SIZE+bn.GTIN_SIZE,bn.WEIGHT_SIZE),this.encodeCompressedDate(a,bn.HEADER_SIZE+bn.GTIN_SIZE+bn.WEIGHT_SIZE),a.toString()}encodeCompressedDate(a,l){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(l,bn.DATE_SIZE);if(c==38400)return;a.append("("),a.append(this.dateCode),a.append(")");let h=c%32;c/=32;let p=c%12+1;c/=12;let g=c;g/10==0&&a.append("0"),a.append(g),p/10==0&&a.append("0"),a.append(p),h/10==0&&a.append("0"),a.append(h)}addWeightCode(a,l){a.append("("),a.append(this.firstAIdigits),a.append(l/1e5),a.append(")")}checkWeight(a){return a%1e5}}bn.HEADER_SIZE=8,bn.WEIGHT_SIZE=20,bn.DATE_SIZE=16;function Il(U){try{if(U.get(1))return new ti(U);if(!U.get(2))return new Mi(U);switch(vi.extractNumericValueFromBitArray(U,1,4)){case 4:return new za(U);case 5:return new Ao(U)}switch(vi.extractNumericValueFromBitArray(U,1,5)){case 12:return new hi(U);case 13:return new pr(U)}switch(vi.extractNumericValueFromBitArray(U,1,7)){case 56:return new bn(U,"310","11");case 57:return new bn(U,"320","11");case 58:return new bn(U,"310","13");case 59:return new bn(U,"320","13");case 60:return new bn(U,"310","15");case 61:return new bn(U,"320","15");case 62:return new bn(U,"310","17");case 63:return new bn(U,"320","17")}}catch(a){throw console.log(a),new Me("unknown decoder: "+U)}}class ks{constructor(a,l,c,h){this.leftchar=a,this.rightchar=l,this.finderpattern=c,this.maybeLast=h}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(a,l){return a instanceof ks?ks.equalsOrNull(a.leftchar,l.leftchar)&&ks.equalsOrNull(a.rightchar,l.rightchar)&&ks.equalsOrNull(a.finderpattern,l.finderpattern):!1}static equalsOrNull(a,l){return a===null?l===null:ks.equals(a,l)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class kl{constructor(a,l,c){this.pairs=a,this.rowNumber=l,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(a){return this.checkEqualitity(this,a)}toString(){return"{ "+this.pairs+" }"}equals(a,l){return a instanceof kl?this.checkEqualitity(a,l)&&a.wasReversed===l.wasReversed:!1}checkEqualitity(a,l){if(!a||!l)return;let c;return a.forEach((h,p)=>{l.forEach(g=>{h.getLeftChar().getValue()===g.getLeftChar().getValue()&&h.getRightChar().getValue()===g.getRightChar().getValue()&&h.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(c=!0)})}),c}}class Ze extends fn{constructor(a){super(...arguments),this.pairs=new Array(Ze.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=a===!0}decodeRow(a,l,c){this.pairs.length=0,this.startFromEven=!1;try{return Ze.constructResult(this.decodeRow2pairs(a,l))}catch(h){this.verbose&&console.log(h)}return this.pairs.length=0,this.startFromEven=!0,Ze.constructResult(this.decodeRow2pairs(a,l))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(a,l){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(l,this.pairs,a))}catch(p){if(p instanceof J){if(!this.pairs.length)throw new J;c=!0}}if(this.checkChecksum())return this.pairs;let h;if(this.rows.length?h=!0:h=!1,this.storeRow(a,!1),h){let p=this.checkRowsBoolean(!1);if(p!=null||(p=this.checkRowsBoolean(!0),p!=null))return p}throw new J}checkRowsBoolean(a){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,a&&(this.rows=this.rows.reverse());let l=null;try{l=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return a&&(this.rows=this.rows.reverse()),l}checkRows(a,l){for(let c=l;c<this.rows.length;c++){let h=this.rows[c];this.pairs.length=0;for(let g of a)this.pairs.push(g.getPairs());if(this.pairs.push(h.getPairs()),!Ze.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let p=new Array(a);p.push(h);try{return this.checkRows(p,c+1)}catch(g){this.verbose&&console.log(g)}}throw new J}static isValidSequence(a){for(let l of Ze.FINDER_PATTERN_SEQUENCES){if(a.length>l.length)continue;let c=!0;for(let h=0;h<a.length;h++)if(a[h].getFinderPattern().getValue()!=l[h]){c=!1;break}if(c)return!0}return!1}storeRow(a,l){let c=0,h=!1,p=!1;for(;c<this.rows.length;){let g=this.rows[c];if(g.getRowNumber()>a){p=g.isEquivalent(this.pairs);break}h=g.isEquivalent(this.pairs),c++}p||h||Ze.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new kl(this.pairs,a,l)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(a,l){for(let c of l)if(c.getPairs().length!==a.length){for(let h of c.getPairs())for(let p of a)if(ks.equals(h,p))break}}static isPartialRow(a,l){for(let c of l){let h=!0;for(let p of a){let g=!1;for(let w of c.getPairs())if(p.equals(w)){g=!0;break}if(!g){h=!1;break}}if(h)return!0}return!1}getRows(){return this.rows}static constructResult(a){let l=cs.buildBitArray(a),h=Il(l).parseInformation(),p=a[0].getFinderPattern().getResultPoints(),g=a[a.length-1].getFinderPattern().getResultPoints(),w=[p[0],p[1],g[0],g[1]];return new oe(h,null,null,w,he.RSS_EXPANDED,null)}checkChecksum(){let a=this.pairs.get(0),l=a.getLeftChar(),c=a.getRightChar();if(c==null)return!1;let h=c.getChecksumPortion(),p=2;for(let w=1;w<this.pairs.size();++w){let N=this.pairs.get(w);h+=N.getLeftChar().getChecksumPortion(),p++;let T=N.getRightChar();T!=null&&(h+=T.getChecksumPortion(),p++)}return h%=211,211*(p-4)+h==l.getValue()}static getNextSecondBar(a,l){let c;return a.get(l)?(c=a.getNextUnset(l),c=a.getNextSet(c)):(c=a.getNextSet(l),c=a.getNextUnset(c)),c}retrieveNextPair(a,l,c){let h=l.length%2==0;this.startFromEven&&(h=!h);let p,g=!0,w=-1;do this.findNextPair(a,l,w),p=this.parseFoundFinderPattern(a,c,h),p==null?w=Ze.getNextSecondBar(a,this.startEnd[0]):g=!1;while(g);let N=this.decodeDataCharacter(a,p,h,!0);if(!this.isEmptyPair(l)&&l[l.length-1].mustBeLast())throw new J;let T;try{T=this.decodeDataCharacter(a,p,h,!1)}catch(j){T=null,this.verbose&&console.log(j)}return new ks(N,T,p,!0)}isEmptyPair(a){return a.length===0}findNextPair(a,l,c){let h=this.getDecodeFinderCounters();h[0]=0,h[1]=0,h[2]=0,h[3]=0;let p=a.getSize(),g;c>=0?g=c:this.isEmptyPair(l)?g=0:g=l[l.length-1].getFinderPattern().getStartEnd()[1];let w=l.length%2!=0;this.startFromEven&&(w=!w);let N=!1;for(;g<p&&(N=!a.get(g),!!N);)g++;let T=0,j=g;for(let F=g;F<p;F++)if(a.get(F)!=N)h[T]++;else{if(T==3){if(w&&Ze.reverseCounters(h),Ze.isFinderPattern(h)){this.startEnd[0]=j,this.startEnd[1]=F;return}w&&Ze.reverseCounters(h),j+=h[0]+h[1],h[0]=h[2],h[1]=h[3],h[2]=0,h[3]=0,T--}else T++;h[T]=1,N=!N}throw new J}static reverseCounters(a){let l=a.length;for(let c=0;c<l/2;++c){let h=a[c];a[c]=a[l-c-1],a[l-c-1]=h}}parseFoundFinderPattern(a,l,c){let h,p,g;if(c){let T=this.startEnd[0]-1;for(;T>=0&&!a.get(T);)T--;T++,h=this.startEnd[0]-T,p=T,g=this.startEnd[1]}else p=this.startEnd[0],g=a.getNextUnset(this.startEnd[1]+1),h=g-this.startEnd[1];let w=this.getDecodeFinderCounters();I.arraycopy(w,0,w,1,w.length-1),w[0]=h;let N;try{N=this.parseFinderValue(w,Ze.FINDER_PATTERNS)}catch{return null}return new ji(N,[p,g],p,g,l)}decodeDataCharacter(a,l,c,h){let p=this.getDataCharacterCounters();for(let hn=0;hn<p.length;hn++)p[hn]=0;if(h)Ze.recordPatternInReverse(a,l.getStartEnd()[0],p);else{Ze.recordPattern(a,l.getStartEnd()[1],p);for(let hn=0,nr=p.length-1;hn<nr;hn++,nr--){let Cr=p[hn];p[hn]=p[nr],p[nr]=Cr}}let g=17,w=ze.sum(new Int32Array(p))/g,N=(l.getStartEnd()[1]-l.getStartEnd()[0])/15;if(Math.abs(w-N)/N>.3)throw new J;let T=this.getOddCounts(),j=this.getEvenCounts(),F=this.getOddRoundingErrors(),Y=this.getEvenRoundingErrors();for(let hn=0;hn<p.length;hn++){let nr=1*p[hn]/w,Cr=nr+.5;if(Cr<1){if(nr<.3)throw new J;Cr=1}else if(Cr>8){if(nr>8.7)throw new J;Cr=8}let Fi=hn/2;hn&1?(j[Fi]=Cr,Y[Fi]=nr-Cr):(T[Fi]=Cr,F[Fi]=nr-Cr)}this.adjustOddEvenCounts(g);let ce=4*l.getValue()+(c?0:2)+(h?0:1)-1,xe=0,we=0;for(let hn=T.length-1;hn>=0;hn--){if(Ze.isNotA1left(l,c,h)){let nr=Ze.WEIGHTS[ce][2*hn];we+=T[hn]*nr}xe+=T[hn]}let _e=0;for(let hn=j.length-1;hn>=0;hn--)if(Ze.isNotA1left(l,c,h)){let nr=Ze.WEIGHTS[ce][2*hn+1];_e+=j[hn]*nr}let Fe=we+_e;if(xe&1||xe>13||xe<4)throw new J;let tt=(13-xe)/2,st=Ze.SYMBOL_WIDEST[tt],nt=9-st,Jt=Et.getRSSvalue(T,st,!0),Ft=Et.getRSSvalue(j,nt,!1),mr=Ze.EVEN_TOTAL_SUBSET[tt],$r=Ze.GSUM[tt],lr=Jt*mr+Ft+$r;return new ui(lr,Fe)}static isNotA1left(a,l,c){return!(a.getValue()==0&&l&&c)}adjustOddEvenCounts(a){let l=ze.sum(new Int32Array(this.getOddCounts())),c=ze.sum(new Int32Array(this.getEvenCounts())),h=!1,p=!1;l>13?p=!0:l<4&&(h=!0);let g=!1,w=!1;c>13?w=!0:c<4&&(g=!0);let N=l+c-a,T=(l&1)==1,j=(c&1)==0;if(N==1)if(T){if(j)throw new J;p=!0}else{if(!j)throw new J;w=!0}else if(N==-1)if(T){if(j)throw new J;h=!0}else{if(!j)throw new J;g=!0}else if(N==0){if(T){if(!j)throw new J;l<c?(h=!0,w=!0):(p=!0,g=!0)}else if(j)throw new J}else throw new J;if(h){if(p)throw new J;Ze.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&Ze.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(w)throw new J;Ze.increment(this.getEvenCounts(),this.getOddRoundingErrors())}w&&Ze.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Ze.SYMBOL_WIDEST=[7,5,4,3,1],Ze.EVEN_TOTAL_SUBSET=[4,20,52,104,204],Ze.GSUM=[0,348,1388,2948,3988],Ze.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],Ze.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],Ze.FINDER_PAT_A=0,Ze.FINDER_PAT_B=1,Ze.FINDER_PAT_C=2,Ze.FINDER_PAT_D=3,Ze.FINDER_PAT_E=4,Ze.FINDER_PAT_F=5,Ze.FINDER_PATTERN_SEQUENCES=[[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_C,Ze.FINDER_PAT_B,Ze.FINDER_PAT_D],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_E,Ze.FINDER_PAT_B,Ze.FINDER_PAT_D,Ze.FINDER_PAT_C],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_E,Ze.FINDER_PAT_B,Ze.FINDER_PAT_D,Ze.FINDER_PAT_D,Ze.FINDER_PAT_F],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_E,Ze.FINDER_PAT_B,Ze.FINDER_PAT_D,Ze.FINDER_PAT_E,Ze.FINDER_PAT_F,Ze.FINDER_PAT_F],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B,Ze.FINDER_PAT_C,Ze.FINDER_PAT_C,Ze.FINDER_PAT_D,Ze.FINDER_PAT_D],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B,Ze.FINDER_PAT_C,Ze.FINDER_PAT_C,Ze.FINDER_PAT_D,Ze.FINDER_PAT_E,Ze.FINDER_PAT_E],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B,Ze.FINDER_PAT_C,Ze.FINDER_PAT_C,Ze.FINDER_PAT_D,Ze.FINDER_PAT_E,Ze.FINDER_PAT_F,Ze.FINDER_PAT_F],[Ze.FINDER_PAT_A,Ze.FINDER_PAT_A,Ze.FINDER_PAT_B,Ze.FINDER_PAT_B,Ze.FINDER_PAT_C,Ze.FINDER_PAT_D,Ze.FINDER_PAT_D,Ze.FINDER_PAT_E,Ze.FINDER_PAT_E,Ze.FINDER_PAT_F,Ze.FINDER_PAT_F]],Ze.MAX_PAIRS=11;class Ic extends ui{constructor(a,l,c){super(a,l),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class Mn extends fn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(a,l,c){const h=this.decodePair(l,!1,a,c);Mn.addOrTally(this.possibleLeftPairs,h),l.reverse();let p=this.decodePair(l,!0,a,c);Mn.addOrTally(this.possibleRightPairs,p),l.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let w of this.possibleRightPairs)if(w.getCount()>1&&Mn.checkChecksum(g,w))return Mn.constructResult(g,w)}throw new J}static addOrTally(a,l){if(l==null)return;let c=!1;for(let h of a)if(h.getValue()===l.getValue()){h.incrementCount(),c=!0;break}c||a.push(l)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(a,l){let c=4537077*a.getValue()+l.getValue(),h=new String(c).toString(),p=new ee;for(let T=13-h.length;T>0;T--)p.append("0");p.append(h);let g=0;for(let T=0;T<13;T++){let j=p.charAt(T).charCodeAt(0)-48;g+=T&1?j:3*j}g=10-g%10,g===10&&(g=0),p.append(g.toString());let w=a.getFinderPattern().getResultPoints(),N=l.getFinderPattern().getResultPoints();return new oe(p.toString(),null,0,[w[0],w[1],N[0],N[1]],he.RSS_14,new Date().getTime())}static checkChecksum(a,l){let c=(a.getChecksumPortion()+16*l.getChecksumPortion())%79,h=9*a.getFinderPattern().getValue()+l.getFinderPattern().getValue();return h>72&&h--,h>8&&h--,c===h}decodePair(a,l,c,h){try{let p=this.findFinderPattern(a,l),g=this.parseFoundFinderPattern(a,c,l,p),w=h==null?null:h.get(ie.NEED_RESULT_POINT_CALLBACK);if(w!=null){let j=(p[0]+p[1])/2;l&&(j=a.getSize()-1-j),w.foundPossibleResultPoint(new ae(j,c))}let N=this.decodeDataCharacter(a,g,!0),T=this.decodeDataCharacter(a,g,!1);return new Ic(1597*N.getValue()+T.getValue(),N.getChecksumPortion()+4*T.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(a,l,c){let h=this.getDataCharacterCounters();for(let _e=0;_e<h.length;_e++)h[_e]=0;if(c)Lt.recordPatternInReverse(a,l.getStartEnd()[0],h);else{Lt.recordPattern(a,l.getStartEnd()[1]+1,h);for(let _e=0,Fe=h.length-1;_e<Fe;_e++,Fe--){let tt=h[_e];h[_e]=h[Fe],h[Fe]=tt}}let p=c?16:15,g=ze.sum(new Int32Array(h))/p,w=this.getOddCounts(),N=this.getEvenCounts(),T=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let _e=0;_e<h.length;_e++){let Fe=h[_e]/g,tt=Math.floor(Fe+.5);tt<1?tt=1:tt>8&&(tt=8);let st=Math.floor(_e/2);_e&1?(N[st]=tt,j[st]=Fe-tt):(w[st]=tt,T[st]=Fe-tt)}this.adjustOddEvenCounts(c,p);let F=0,Y=0;for(let _e=w.length-1;_e>=0;_e--)Y*=9,Y+=w[_e],F+=w[_e];let ce=0,xe=0;for(let _e=N.length-1;_e>=0;_e--)ce*=9,ce+=N[_e],xe+=N[_e];let we=Y+3*ce;if(c){if(F&1||F>12||F<4)throw new J;let _e=(12-F)/2,Fe=Mn.OUTSIDE_ODD_WIDEST[_e],tt=9-Fe,st=Et.getRSSvalue(w,Fe,!1),nt=Et.getRSSvalue(N,tt,!0),Jt=Mn.OUTSIDE_EVEN_TOTAL_SUBSET[_e],Ft=Mn.OUTSIDE_GSUM[_e];return new ui(st*Jt+nt+Ft,we)}else{if(xe&1||xe>10||xe<4)throw new J;let _e=(10-xe)/2,Fe=Mn.INSIDE_ODD_WIDEST[_e],tt=9-Fe,st=Et.getRSSvalue(w,Fe,!0),nt=Et.getRSSvalue(N,tt,!1),Jt=Mn.INSIDE_ODD_TOTAL_SUBSET[_e],Ft=Mn.INSIDE_GSUM[_e];return new ui(nt*Jt+st+Ft,we)}}findFinderPattern(a,l){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let h=a.getSize(),p=!1,g=0;for(;g<h&&(p=!a.get(g),l!==p);)g++;let w=0,N=g;for(let T=g;T<h;T++)if(a.get(T)!==p)c[w]++;else{if(w===3){if(fn.isFinderPattern(c))return[N,T];N+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,w--}else w++;c[w]=1,p=!p}throw new J}parseFoundFinderPattern(a,l,c,h){let p=a.get(h[0]),g=h[0]-1;for(;g>=0&&p!==a.get(g);)g--;g++;const w=h[0]-g,N=this.getDecodeFinderCounters(),T=new Int32Array(N.length);I.arraycopy(N,0,T,1,N.length-1),T[0]=w;const j=this.parseFinderValue(T,Mn.FINDER_PATTERNS);let F=g,Y=h[1];return c&&(F=a.getSize()-1-F,Y=a.getSize()-1-Y),new ji(j,[g,h[1]],F,Y,l)}adjustOddEvenCounts(a,l){let c=ze.sum(new Int32Array(this.getOddCounts())),h=ze.sum(new Int32Array(this.getEvenCounts())),p=!1,g=!1,w=!1,N=!1;a?(c>12?g=!0:c<4&&(p=!0),h>12?N=!0:h<4&&(w=!0)):(c>11?g=!0:c<5&&(p=!0),h>10?N=!0:h<4&&(w=!0));let T=c+h-l,j=(c&1)===(a?1:0),F=(h&1)===1;if(T===1)if(j){if(F)throw new J;g=!0}else{if(!F)throw new J;N=!0}else if(T===-1)if(j){if(F)throw new J;p=!0}else{if(!F)throw new J;w=!0}else if(T===0){if(j){if(!F)throw new J;c<h?(p=!0,N=!0):(g=!0,w=!0)}else if(F)throw new J}else throw new J;if(p){if(g)throw new J;fn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&fn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),w){if(N)throw new J;fn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}N&&fn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}Mn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],Mn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],Mn.OUTSIDE_GSUM=[0,161,961,2015,2715],Mn.INSIDE_GSUM=[0,336,1036,1516],Mn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],Mn.INSIDE_ODD_WIDEST=[2,4,6,8],Mn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ls extends Lt{constructor(a,l){super(),this.readers=[],this.verbose=l===!0;const c=a?a.get(ie.POSSIBLE_FORMATS):null,h=a&&a.get(ie.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(he.EAN_13)||c.includes(he.UPC_A)||c.includes(he.EAN_8)||c.includes(he.UPC_E))&&this.readers.push(new Ks(a)),c.includes(he.CODE_39)&&this.readers.push(new Rt(h)),c.includes(he.CODE_128)&&this.readers.push(new ot),c.includes(he.ITF)&&this.readers.push(new Ot),c.includes(he.RSS_14)&&this.readers.push(new Mn),c.includes(he.RSS_EXPANDED)&&this.readers.push(new Ze(this.verbose))):(this.readers.push(new Ks(a)),this.readers.push(new Rt),this.readers.push(new Ks(a)),this.readers.push(new ot),this.readers.push(new Ot),this.readers.push(new Mn),this.readers.push(new Ze(this.verbose)))}decodeRow(a,l,c){for(let h=0;h<this.readers.length;h++)try{return this.readers[h].decodeRow(a,l,c)}catch{}throw new J}reset(){this.readers.forEach(a=>a.reset())}}class Ku extends ne{constructor(a=500,l){super(new Ls(l),a,l)}}class un{constructor(a,l,c){this.ecCodewords=a,this.ecBlocks=[l],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class dn{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Kt{constructor(a,l,c,h,p,g){this.versionNumber=a,this.symbolSizeRows=l,this.symbolSizeColumns=c,this.dataRegionSizeRows=h,this.dataRegionSizeColumns=p,this.ecBlocks=g;let w=0;const N=g.getECCodewords(),T=g.getECBlocks();for(let j of T)w+=j.getCount()*(j.getDataCodewords()+N);this.totalCodewords=w}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(a,l){if(a&1||l&1)throw new q;for(let c of Kt.VERSIONS)if(c.symbolSizeRows===a&&c.symbolSizeColumns===l)return c;throw new q}toString(){return""+this.versionNumber}static buildVersions(){return[new Kt(1,10,10,8,8,new un(5,new dn(1,3))),new Kt(2,12,12,10,10,new un(7,new dn(1,5))),new Kt(3,14,14,12,12,new un(10,new dn(1,8))),new Kt(4,16,16,14,14,new un(12,new dn(1,12))),new Kt(5,18,18,16,16,new un(14,new dn(1,18))),new Kt(6,20,20,18,18,new un(18,new dn(1,22))),new Kt(7,22,22,20,20,new un(20,new dn(1,30))),new Kt(8,24,24,22,22,new un(24,new dn(1,36))),new Kt(9,26,26,24,24,new un(28,new dn(1,44))),new Kt(10,32,32,14,14,new un(36,new dn(1,62))),new Kt(11,36,36,16,16,new un(42,new dn(1,86))),new Kt(12,40,40,18,18,new un(48,new dn(1,114))),new Kt(13,44,44,20,20,new un(56,new dn(1,144))),new Kt(14,48,48,22,22,new un(68,new dn(1,174))),new Kt(15,52,52,24,24,new un(42,new dn(2,102))),new Kt(16,64,64,14,14,new un(56,new dn(2,140))),new Kt(17,72,72,16,16,new un(36,new dn(4,92))),new Kt(18,80,80,18,18,new un(48,new dn(4,114))),new Kt(19,88,88,20,20,new un(56,new dn(4,144))),new Kt(20,96,96,22,22,new un(68,new dn(4,174))),new Kt(21,104,104,24,24,new un(56,new dn(6,136))),new Kt(22,120,120,18,18,new un(68,new dn(6,175))),new Kt(23,132,132,20,20,new un(62,new dn(8,163))),new Kt(24,144,144,22,22,new un(62,new dn(8,156),new dn(2,155))),new Kt(25,8,18,6,16,new un(7,new dn(1,5))),new Kt(26,8,32,6,14,new un(11,new dn(1,10))),new Kt(27,12,26,10,24,new un(14,new dn(1,16))),new Kt(28,12,36,10,16,new un(18,new dn(1,22))),new Kt(29,16,36,14,16,new un(24,new dn(1,32))),new Kt(30,16,48,14,22,new un(28,new dn(1,49)))]}}Kt.VERSIONS=Kt.buildVersions();class Ll{constructor(a){const l=a.getHeight();if(l<8||l>144||l&1)throw new q;this.version=Ll.readVersion(a),this.mappingBitMatrix=this.extractDataRegion(a),this.readMappingMatrix=new te(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(a){const l=a.getHeight(),c=a.getWidth();return Kt.getVersionForDimensions(l,c)}readCodewords(){const a=new Int8Array(this.version.getTotalCodewords());let l=0,c=4,h=0;const p=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let w=!1,N=!1,T=!1,j=!1;do if(c===p&&h===0&&!w)a[l++]=this.readCorner1(p,g)&255,c-=2,h+=2,w=!0;else if(c===p-2&&h===0&&g&3&&!N)a[l++]=this.readCorner2(p,g)&255,c-=2,h+=2,N=!0;else if(c===p+4&&h===2&&!(g&7)&&!T)a[l++]=this.readCorner3(p,g)&255,c-=2,h+=2,T=!0;else if(c===p-2&&h===0&&(g&7)===4&&!j)a[l++]=this.readCorner4(p,g)&255,c-=2,h+=2,j=!0;else{do c<p&&h>=0&&!this.readMappingMatrix.get(h,c)&&(a[l++]=this.readUtah(c,h,p,g)&255),c-=2,h+=2;while(c>=0&&h<g);c+=1,h+=3;do c>=0&&h<g&&!this.readMappingMatrix.get(h,c)&&(a[l++]=this.readUtah(c,h,p,g)&255),c+=2,h-=2;while(c<p&&h>=0);c+=3,h+=1}while(c<p||h<g);if(l!==this.version.getTotalCodewords())throw new q;return a}readModule(a,l,c,h){return a<0&&(a+=c,l+=4-(c+4&7)),l<0&&(l+=h,a+=4-(h+4&7)),this.readMappingMatrix.set(l,a),this.mappingBitMatrix.get(l,a)}readUtah(a,l,c,h){let p=0;return this.readModule(a-2,l-2,c,h)&&(p|=1),p<<=1,this.readModule(a-2,l-1,c,h)&&(p|=1),p<<=1,this.readModule(a-1,l-2,c,h)&&(p|=1),p<<=1,this.readModule(a-1,l-1,c,h)&&(p|=1),p<<=1,this.readModule(a-1,l,c,h)&&(p|=1),p<<=1,this.readModule(a,l-2,c,h)&&(p|=1),p<<=1,this.readModule(a,l-1,c,h)&&(p|=1),p<<=1,this.readModule(a,l,c,h)&&(p|=1),p}readCorner1(a,l){let c=0;return this.readModule(a-1,0,a,l)&&(c|=1),c<<=1,this.readModule(a-1,1,a,l)&&(c|=1),c<<=1,this.readModule(a-1,2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-1,a,l)&&(c|=1),c<<=1,this.readModule(1,l-1,a,l)&&(c|=1),c<<=1,this.readModule(2,l-1,a,l)&&(c|=1),c<<=1,this.readModule(3,l-1,a,l)&&(c|=1),c}readCorner2(a,l){let c=0;return this.readModule(a-3,0,a,l)&&(c|=1),c<<=1,this.readModule(a-2,0,a,l)&&(c|=1),c<<=1,this.readModule(a-1,0,a,l)&&(c|=1),c<<=1,this.readModule(0,l-4,a,l)&&(c|=1),c<<=1,this.readModule(0,l-3,a,l)&&(c|=1),c<<=1,this.readModule(0,l-2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-1,a,l)&&(c|=1),c<<=1,this.readModule(1,l-1,a,l)&&(c|=1),c}readCorner3(a,l){let c=0;return this.readModule(a-1,0,a,l)&&(c|=1),c<<=1,this.readModule(a-1,l-1,a,l)&&(c|=1),c<<=1,this.readModule(0,l-3,a,l)&&(c|=1),c<<=1,this.readModule(0,l-2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-1,a,l)&&(c|=1),c<<=1,this.readModule(1,l-3,a,l)&&(c|=1),c<<=1,this.readModule(1,l-2,a,l)&&(c|=1),c<<=1,this.readModule(1,l-1,a,l)&&(c|=1),c}readCorner4(a,l){let c=0;return this.readModule(a-3,0,a,l)&&(c|=1),c<<=1,this.readModule(a-2,0,a,l)&&(c|=1),c<<=1,this.readModule(a-1,0,a,l)&&(c|=1),c<<=1,this.readModule(0,l-2,a,l)&&(c|=1),c<<=1,this.readModule(0,l-1,a,l)&&(c|=1),c<<=1,this.readModule(1,l-1,a,l)&&(c|=1),c<<=1,this.readModule(2,l-1,a,l)&&(c|=1),c<<=1,this.readModule(3,l-1,a,l)&&(c|=1),c}extractDataRegion(a){const l=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(a.getHeight()!==l)throw new x("Dimension of bitMatrix must match the version size");const h=this.version.getDataRegionSizeRows(),p=this.version.getDataRegionSizeColumns(),g=l/h|0,w=c/p|0,N=g*h,T=w*p,j=new te(T,N);for(let F=0;F<g;++F){const Y=F*h;for(let ce=0;ce<w;++ce){const xe=ce*p;for(let we=0;we<h;++we){const _e=F*(h+2)+1+we,Fe=Y+we;for(let tt=0;tt<p;++tt){const st=ce*(p+2)+1+tt;if(a.get(st,_e)){const nt=xe+tt;j.set(nt,Fe)}}}}}return j}}class Wn{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l){const c=l.getECBlocks();let h=0;const p=c.getECBlocks();for(let we of p)h+=we.getCount();const g=new Array(h);let w=0;for(let we of p)for(let _e=0;_e<we.getCount();_e++){const Fe=we.getDataCodewords(),tt=c.getECCodewords()+Fe;g[w++]=new Wn(Fe,new Uint8Array(tt))}const T=g[0].codewords.length-c.getECCodewords(),j=T-1;let F=0;for(let we=0;we<j;we++)for(let _e=0;_e<w;_e++)g[_e].codewords[we]=a[F++];const Y=l.getVersionNumber()===24,ce=Y?8:w;for(let we=0;we<ce;we++)g[we].codewords[T-1]=a[F++];const xe=g[0].codewords.length;for(let we=T;we<xe;we++)for(let _e=0;_e<w;_e++){const Fe=Y?(_e+8)%w:_e,tt=Y&&Fe>7?we-1:we;g[Fe].codewords[tt]=a[F++]}if(F!==a.length)throw new x;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class So{constructor(a){this.bytes=a,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(a){if(a<1||a>32||a>this.available())throw new x(""+a);let l=0,c=this.bitOffset,h=this.byteOffset;const p=this.bytes;if(c>0){const g=8-c,w=a<g?a:g,N=g-w,T=255>>8-w<<N;l=(p[h]&T)>>N,a-=w,c+=w,c===8&&(c=0,h++)}if(a>0){for(;a>=8;)l=l<<8|p[h]&255,h++,a-=8;if(a>0){const g=8-a,w=255>>g<<g;l=l<<a|(p[h]&w)>>g,c+=a}}return this.bitOffset=c,this.byteOffset=h,l}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Qn;(function(U){U[U.PAD_ENCODE=0]="PAD_ENCODE",U[U.ASCII_ENCODE=1]="ASCII_ENCODE",U[U.C40_ENCODE=2]="C40_ENCODE",U[U.TEXT_ENCODE=3]="TEXT_ENCODE",U[U.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",U[U.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",U[U.BASE256_ENCODE=6]="BASE256_ENCODE"})(Qn||(Qn={}));class us{static decode(a){const l=new So(a),c=new ee,h=new ee,p=new Array;let g=Qn.ASCII_ENCODE;do if(g===Qn.ASCII_ENCODE)g=this.decodeAsciiSegment(l,c,h);else{switch(g){case Qn.C40_ENCODE:this.decodeC40Segment(l,c);break;case Qn.TEXT_ENCODE:this.decodeTextSegment(l,c);break;case Qn.ANSIX12_ENCODE:this.decodeAnsiX12Segment(l,c);break;case Qn.EDIFACT_ENCODE:this.decodeEdifactSegment(l,c);break;case Qn.BASE256_ENCODE:this.decodeBase256Segment(l,c,p);break;default:throw new q}g=Qn.ASCII_ENCODE}while(g!==Qn.PAD_ENCODE&&l.available()>0);return h.length()>0&&c.append(h.toString()),new Oe(a,c.toString(),p.length===0?null:p,null)}static decodeAsciiSegment(a,l,c){let h=!1;do{let p=a.readBits(8);if(p===0)throw new q;if(p<=128)return h&&(p+=128),l.append(String.fromCharCode(p-1)),Qn.ASCII_ENCODE;if(p===129)return Qn.PAD_ENCODE;if(p<=229){const g=p-130;g<10&&l.append("0"),l.append(""+g)}else switch(p){case 230:return Qn.C40_ENCODE;case 231:return Qn.BASE256_ENCODE;case 232:l.append("");break;case 233:case 234:break;case 235:h=!0;break;case 236:l.append("[)>05"),c.insert(0,"");break;case 237:l.append("[)>06"),c.insert(0,"");break;case 238:return Qn.ANSIX12_ENCODE;case 239:return Qn.TEXT_ENCODE;case 240:return Qn.EDIFACT_ENCODE;case 241:break;default:if(p!==254||a.available()!==0)throw new q;break}}while(a.available()>0);return Qn.ASCII_ENCODE}static decodeC40Segment(a,l){let c=!1;const h=[];let p=0;do{if(a.available()===8)return;const g=a.readBits(8);if(g===254)return;this.parseTwoBytes(g,a.readBits(8),h);for(let w=0;w<3;w++){const N=h[w];switch(p){case 0:if(N<3)p=N+1;else if(N<this.C40_BASIC_SET_CHARS.length){const T=this.C40_BASIC_SET_CHARS[N];c?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):l.append(T)}else throw new q;break;case 1:c?(l.append(String.fromCharCode(N+128)),c=!1):l.append(String.fromCharCode(N)),p=0;break;case 2:if(N<this.C40_SHIFT2_SET_CHARS.length){const T=this.C40_SHIFT2_SET_CHARS[N];c?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):l.append(T)}else switch(N){case 27:l.append("");break;case 30:c=!0;break;default:throw new q}p=0;break;case 3:c?(l.append(String.fromCharCode(N+224)),c=!1):l.append(String.fromCharCode(N+96)),p=0;break;default:throw new q}}}while(a.available()>0)}static decodeTextSegment(a,l){let c=!1,h=[],p=0;do{if(a.available()===8)return;const g=a.readBits(8);if(g===254)return;this.parseTwoBytes(g,a.readBits(8),h);for(let w=0;w<3;w++){const N=h[w];switch(p){case 0:if(N<3)p=N+1;else if(N<this.TEXT_BASIC_SET_CHARS.length){const T=this.TEXT_BASIC_SET_CHARS[N];c?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):l.append(T)}else throw new q;break;case 1:c?(l.append(String.fromCharCode(N+128)),c=!1):l.append(String.fromCharCode(N)),p=0;break;case 2:if(N<this.TEXT_SHIFT2_SET_CHARS.length){const T=this.TEXT_SHIFT2_SET_CHARS[N];c?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):l.append(T)}else switch(N){case 27:l.append("");break;case 30:c=!0;break;default:throw new q}p=0;break;case 3:if(N<this.TEXT_SHIFT3_SET_CHARS.length){const T=this.TEXT_SHIFT3_SET_CHARS[N];c?(l.append(String.fromCharCode(T.charCodeAt(0)+128)),c=!1):l.append(T),p=0}else throw new q;break;default:throw new q}}}while(a.available()>0)}static decodeAnsiX12Segment(a,l){const c=[];do{if(a.available()===8)return;const h=a.readBits(8);if(h===254)return;this.parseTwoBytes(h,a.readBits(8),c);for(let p=0;p<3;p++){const g=c[p];switch(g){case 0:l.append("\r");break;case 1:l.append("*");break;case 2:l.append(">");break;case 3:l.append(" ");break;default:if(g<14)l.append(String.fromCharCode(g+44));else if(g<40)l.append(String.fromCharCode(g+51));else throw new q;break}}}while(a.available()>0)}static parseTwoBytes(a,l,c){let h=(a<<8)+l-1,p=Math.floor(h/1600);c[0]=p,h-=p*1600,p=Math.floor(h/40),c[1]=p,c[2]=h-p*40}static decodeEdifactSegment(a,l){do{if(a.available()<=16)return;for(let c=0;c<4;c++){let h=a.readBits(6);if(h===31){const p=8-a.getBitOffset();p!==8&&a.readBits(p);return}h&32||(h|=64),l.append(String.fromCharCode(h))}}while(a.available()>0)}static decodeBase256Segment(a,l,c){let h=1+a.getByteOffset();const p=this.unrandomize255State(a.readBits(8),h++);let g;if(p===0?g=a.available()/8|0:p<250?g=p:g=250*(p-249)+this.unrandomize255State(a.readBits(8),h++),g<0)throw new q;const w=new Uint8Array(g);for(let N=0;N<g;N++){if(a.available()<8)throw new q;w[N]=this.unrandomize255State(a.readBits(8),h++)}c.push(w);try{l.append(W.decode(w,B.ISO88591))}catch(N){throw new Me("Platform does not support required encoding: "+N.message)}}static unrandomize255State(a,l){const c=149*l%255+1,h=a-c;return h>=0?h:h+256}}us.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],us.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],us.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],us.TEXT_SHIFT2_SET_CHARS=us.C40_SHIFT2_SET_CHARS,us.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Pl{constructor(){this.rsDecoder=new de(Ke.DATA_MATRIX_FIELD_256)}decode(a){const l=new Ll(a),c=l.getVersion(),h=l.readCodewords(),p=Wn.getDataBlocks(h,c);let g=0;for(let T of p)g+=T.getNumDataCodewords();const w=new Uint8Array(g),N=p.length;for(let T=0;T<N;T++){const j=p[T],F=j.getCodewords(),Y=j.getNumDataCodewords();this.correctErrors(F,Y);for(let ce=0;ce<Y;ce++)w[ce*N+T]=F[ce]}return us.decode(w)}correctErrors(a,l){const c=new Int32Array(a);try{this.rsDecoder.decode(c,a.length-l)}catch{throw new b}for(let h=0;h<l;h++)a[h]=c[h]}}class $n{constructor(a){this.image=a,this.rectangleDetector=new Ve(this.image)}detect(){const a=this.rectangleDetector.detect();let l=this.detectSolid1(a);if(l=this.detectSolid2(l),l[3]=this.correctTopRight(l),!l[3])throw new J;l=this.shiftToModuleCenter(l);const c=l[0],h=l[1],p=l[2],g=l[3];let w=this.transitionsBetween(c,g)+1,N=this.transitionsBetween(p,g)+1;(w&1)===1&&(w+=1),(N&1)===1&&(N+=1),4*w<7*N&&4*N<7*w&&(w=N=Math.max(w,N));let T=$n.sampleGrid(this.image,c,h,p,g,w,N);return new Ae(T,[c,h,p,g])}static shiftPoint(a,l,c){let h=(l.getX()-a.getX())/(c+1),p=(l.getY()-a.getY())/(c+1);return new ae(a.getX()+h,a.getY()+p)}static moveAway(a,l,c){let h=a.getX(),p=a.getY();return h<l?h-=1:h+=1,p<c?p-=1:p+=1,new ae(h,p)}detectSolid1(a){let l=a[0],c=a[1],h=a[3],p=a[2],g=this.transitionsBetween(l,c),w=this.transitionsBetween(c,h),N=this.transitionsBetween(h,p),T=this.transitionsBetween(p,l),j=g,F=[p,l,c,h];return j>w&&(j=w,F[0]=l,F[1]=c,F[2]=h,F[3]=p),j>N&&(j=N,F[0]=c,F[1]=h,F[2]=p,F[3]=l),j>T&&(F[0]=h,F[1]=p,F[2]=l,F[3]=c),F}detectSolid2(a){let l=a[0],c=a[1],h=a[2],p=a[3],g=this.transitionsBetween(l,p),w=$n.shiftPoint(c,h,(g+1)*4),N=$n.shiftPoint(h,c,(g+1)*4),T=this.transitionsBetween(w,l),j=this.transitionsBetween(N,p);return T<j?(a[0]=l,a[1]=c,a[2]=h,a[3]=p):(a[0]=c,a[1]=h,a[2]=p,a[3]=l),a}correctTopRight(a){let l=a[0],c=a[1],h=a[2],p=a[3],g=this.transitionsBetween(l,p),w=this.transitionsBetween(c,p),N=$n.shiftPoint(l,c,(w+1)*4),T=$n.shiftPoint(h,c,(g+1)*4);g=this.transitionsBetween(N,p),w=this.transitionsBetween(T,p);let j=new ae(p.getX()+(h.getX()-c.getX())/(g+1),p.getY()+(h.getY()-c.getY())/(g+1)),F=new ae(p.getX()+(l.getX()-c.getX())/(w+1),p.getY()+(l.getY()-c.getY())/(w+1));if(!this.isValid(j))return this.isValid(F)?F:null;if(!this.isValid(F))return j;let Y=this.transitionsBetween(N,j)+this.transitionsBetween(T,j),ce=this.transitionsBetween(N,F)+this.transitionsBetween(T,F);return Y>ce?j:F}shiftToModuleCenter(a){let l=a[0],c=a[1],h=a[2],p=a[3],g=this.transitionsBetween(l,p)+1,w=this.transitionsBetween(h,p)+1,N=$n.shiftPoint(l,c,w*4),T=$n.shiftPoint(h,c,g*4);g=this.transitionsBetween(N,p)+1,w=this.transitionsBetween(T,p)+1,(g&1)===1&&(g+=1),(w&1)===1&&(w+=1);let j=(l.getX()+c.getX()+h.getX()+p.getX())/4,F=(l.getY()+c.getY()+h.getY()+p.getY())/4;l=$n.moveAway(l,j,F),c=$n.moveAway(c,j,F),h=$n.moveAway(h,j,F),p=$n.moveAway(p,j,F);let Y,ce;return N=$n.shiftPoint(l,c,w*4),N=$n.shiftPoint(N,p,g*4),Y=$n.shiftPoint(c,l,w*4),Y=$n.shiftPoint(Y,h,g*4),T=$n.shiftPoint(h,p,w*4),T=$n.shiftPoint(T,c,g*4),ce=$n.shiftPoint(p,h,w*4),ce=$n.shiftPoint(ce,l,g*4),[N,Y,T,ce]}isValid(a){return a.getX()>=0&&a.getX()<this.image.getWidth()&&a.getY()>0&&a.getY()<this.image.getHeight()}static sampleGrid(a,l,c,h,p,g,w){return St.getInstance().sampleGrid(a,g,w,.5,.5,g-.5,.5,g-.5,w-.5,.5,w-.5,l.getX(),l.getY(),p.getX(),p.getY(),h.getX(),h.getY(),c.getX(),c.getY())}transitionsBetween(a,l){let c=Math.trunc(a.getX()),h=Math.trunc(a.getY()),p=Math.trunc(l.getX()),g=Math.trunc(l.getY()),w=Math.abs(g-h)>Math.abs(p-c);if(w){let we=c;c=h,h=we,we=p,p=g,g=we}let N=Math.abs(p-c),T=Math.abs(g-h),j=-N/2,F=h<g?1:-1,Y=c<p?1:-1,ce=0,xe=this.image.get(w?h:c,w?c:h);for(let we=c,_e=h;we!==p;we+=Y){let Fe=this.image.get(w?_e:we,w?we:_e);if(Fe!==xe&&(ce++,xe=Fe),j+=T,j>0){if(_e===g)break;_e+=F,j-=N}}return ce}}class Rr{constructor(){this.decoder=new Pl}decode(a,l=null){let c,h;if(l!=null&&l.has(ie.PURE_BARCODE)){const T=Rr.extractPureBits(a.getBlackMatrix());c=this.decoder.decode(T),h=Rr.NO_POINTS}else{const T=new $n(a.getBlackMatrix()).detect();c=this.decoder.decode(T.getBits()),h=T.getPoints()}const p=c.getRawBytes(),g=new oe(c.getText(),p,8*p.length,h,he.DATA_MATRIX,I.currentTimeMillis()),w=c.getByteSegments();w!=null&&g.putMetadata(Le.BYTE_SEGMENTS,w);const N=c.getECLevel();return N!=null&&g.putMetadata(Le.ERROR_CORRECTION_LEVEL,N),g}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),c=a.getBottomRightOnBit();if(l==null||c==null)throw new J;const h=this.moduleSize(l,a);let p=l[1];const g=c[1];let w=l[0];const T=(c[0]-w+1)/h,j=(g-p+1)/h;if(T<=0||j<=0)throw new J;const F=h/2;p+=F,w+=F;const Y=new te(T,j);for(let ce=0;ce<j;ce++){const xe=p+ce*h;for(let we=0;we<T;we++)a.get(w+we*h,xe)&&Y.set(we,ce)}return Y}static moduleSize(a,l){const c=l.getWidth();let h=a[0];const p=a[1];for(;h<c&&l.get(h,p);)h++;if(h===c)throw new J;const g=h-a[0];if(g===0)throw new J;return g}}Rr.NO_POINTS=[];class No extends ne{constructor(a=500){super(new Rr,a)}}var Ar;(function(U){U[U.L=0]="L",U[U.M=1]="M",U[U.Q=2]="Q",U[U.H=3]="H"})(Ar||(Ar={}));class vn{constructor(a,l,c){this.value=a,this.stringValue=l,this.bits=c,vn.FOR_BITS.set(c,this),vn.FOR_VALUE.set(a,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(a){switch(a){case"L":return vn.L;case"M":return vn.M;case"Q":return vn.Q;case"H":return vn.H;default:throw new m(a+"not available")}}toString(){return this.stringValue}equals(a){if(!(a instanceof vn))return!1;const l=a;return this.value===l.value}static forBits(a){if(a<0||a>=vn.FOR_BITS.size)throw new x;return vn.FOR_BITS.get(a)}}vn.FOR_BITS=new Map,vn.FOR_VALUE=new Map,vn.L=new vn(Ar.L,"L",1),vn.M=new vn(Ar.M,"M",0),vn.Q=new vn(Ar.Q,"Q",3),vn.H=new vn(Ar.H,"H",2);class Sr{constructor(a){this.errorCorrectionLevel=vn.forBits(a>>3&3),this.dataMask=a&7}static numBitsDiffering(a,l){return L.bitCount(a^l)}static decodeFormatInformation(a,l){const c=Sr.doDecodeFormatInformation(a,l);return c!==null?c:Sr.doDecodeFormatInformation(a^Sr.FORMAT_INFO_MASK_QR,l^Sr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(a,l){let c=Number.MAX_SAFE_INTEGER,h=0;for(const p of Sr.FORMAT_INFO_DECODE_LOOKUP){const g=p[0];if(g===a||g===l)return new Sr(p[1]);let w=Sr.numBitsDiffering(a,g);w<c&&(h=p[1],c=w),a!==l&&(w=Sr.numBitsDiffering(l,g),w<c&&(h=p[1],c=w))}return c<=3?new Sr(h):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(a){if(!(a instanceof Sr))return!1;const l=a;return this.errorCorrectionLevel===l.errorCorrectionLevel&&this.dataMask===l.dataMask}}Sr.FORMAT_INFO_MASK_QR=21522,Sr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class De{constructor(a,...l){this.ecCodewordsPerBlock=a,this.ecBlocks=l}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let a=0;const l=this.ecBlocks;for(const c of l)a+=c.getCount();return a}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class se{constructor(a,l){this.count=a,this.dataCodewords=l}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Tt{constructor(a,l,...c){this.versionNumber=a,this.alignmentPatternCenters=l,this.ecBlocks=c;let h=0;const p=c[0].getECCodewordsPerBlock(),g=c[0].getECBlocks();for(const w of g)h+=w.getCount()*(w.getDataCodewords()+p);this.totalCodewords=h}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(a){return this.ecBlocks[a.getValue()]}static getProvisionalVersionForDimension(a){if(a%4!==1)throw new q;try{return this.getVersionForNumber((a-17)/4)}catch{throw new q}}static getVersionForNumber(a){if(a<1||a>40)throw new x;return Tt.VERSIONS[a-1]}static decodeVersionInformation(a){let l=Number.MAX_SAFE_INTEGER,c=0;for(let h=0;h<Tt.VERSION_DECODE_INFO.length;h++){const p=Tt.VERSION_DECODE_INFO[h];if(p===a)return Tt.getVersionForNumber(h+7);const g=Sr.numBitsDiffering(a,p);g<l&&(c=h+7,l=g)}return l<=3?Tt.getVersionForNumber(c):null}buildFunctionPattern(){const a=this.getDimensionForVersion(),l=new te(a);l.setRegion(0,0,9,9),l.setRegion(a-8,0,8,9),l.setRegion(0,a-8,9,8);const c=this.alignmentPatternCenters.length;for(let h=0;h<c;h++){const p=this.alignmentPatternCenters[h]-2;for(let g=0;g<c;g++)h===0&&(g===0||g===c-1)||h===c-1&&g===0||l.setRegion(this.alignmentPatternCenters[g]-2,p,5,5)}return l.setRegion(6,9,1,a-17),l.setRegion(9,6,a-17,1),this.versionNumber>6&&(l.setRegion(a-11,0,3,6),l.setRegion(0,a-11,6,3)),l}toString(){return""+this.versionNumber}}Tt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Tt.VERSIONS=[new Tt(1,new Int32Array(0),new De(7,new se(1,19)),new De(10,new se(1,16)),new De(13,new se(1,13)),new De(17,new se(1,9))),new Tt(2,Int32Array.from([6,18]),new De(10,new se(1,34)),new De(16,new se(1,28)),new De(22,new se(1,22)),new De(28,new se(1,16))),new Tt(3,Int32Array.from([6,22]),new De(15,new se(1,55)),new De(26,new se(1,44)),new De(18,new se(2,17)),new De(22,new se(2,13))),new Tt(4,Int32Array.from([6,26]),new De(20,new se(1,80)),new De(18,new se(2,32)),new De(26,new se(2,24)),new De(16,new se(4,9))),new Tt(5,Int32Array.from([6,30]),new De(26,new se(1,108)),new De(24,new se(2,43)),new De(18,new se(2,15),new se(2,16)),new De(22,new se(2,11),new se(2,12))),new Tt(6,Int32Array.from([6,34]),new De(18,new se(2,68)),new De(16,new se(4,27)),new De(24,new se(4,19)),new De(28,new se(4,15))),new Tt(7,Int32Array.from([6,22,38]),new De(20,new se(2,78)),new De(18,new se(4,31)),new De(18,new se(2,14),new se(4,15)),new De(26,new se(4,13),new se(1,14))),new Tt(8,Int32Array.from([6,24,42]),new De(24,new se(2,97)),new De(22,new se(2,38),new se(2,39)),new De(22,new se(4,18),new se(2,19)),new De(26,new se(4,14),new se(2,15))),new Tt(9,Int32Array.from([6,26,46]),new De(30,new se(2,116)),new De(22,new se(3,36),new se(2,37)),new De(20,new se(4,16),new se(4,17)),new De(24,new se(4,12),new se(4,13))),new Tt(10,Int32Array.from([6,28,50]),new De(18,new se(2,68),new se(2,69)),new De(26,new se(4,43),new se(1,44)),new De(24,new se(6,19),new se(2,20)),new De(28,new se(6,15),new se(2,16))),new Tt(11,Int32Array.from([6,30,54]),new De(20,new se(4,81)),new De(30,new se(1,50),new se(4,51)),new De(28,new se(4,22),new se(4,23)),new De(24,new se(3,12),new se(8,13))),new Tt(12,Int32Array.from([6,32,58]),new De(24,new se(2,92),new se(2,93)),new De(22,new se(6,36),new se(2,37)),new De(26,new se(4,20),new se(6,21)),new De(28,new se(7,14),new se(4,15))),new Tt(13,Int32Array.from([6,34,62]),new De(26,new se(4,107)),new De(22,new se(8,37),new se(1,38)),new De(24,new se(8,20),new se(4,21)),new De(22,new se(12,11),new se(4,12))),new Tt(14,Int32Array.from([6,26,46,66]),new De(30,new se(3,115),new se(1,116)),new De(24,new se(4,40),new se(5,41)),new De(20,new se(11,16),new se(5,17)),new De(24,new se(11,12),new se(5,13))),new Tt(15,Int32Array.from([6,26,48,70]),new De(22,new se(5,87),new se(1,88)),new De(24,new se(5,41),new se(5,42)),new De(30,new se(5,24),new se(7,25)),new De(24,new se(11,12),new se(7,13))),new Tt(16,Int32Array.from([6,26,50,74]),new De(24,new se(5,98),new se(1,99)),new De(28,new se(7,45),new se(3,46)),new De(24,new se(15,19),new se(2,20)),new De(30,new se(3,15),new se(13,16))),new Tt(17,Int32Array.from([6,30,54,78]),new De(28,new se(1,107),new se(5,108)),new De(28,new se(10,46),new se(1,47)),new De(28,new se(1,22),new se(15,23)),new De(28,new se(2,14),new se(17,15))),new Tt(18,Int32Array.from([6,30,56,82]),new De(30,new se(5,120),new se(1,121)),new De(26,new se(9,43),new se(4,44)),new De(28,new se(17,22),new se(1,23)),new De(28,new se(2,14),new se(19,15))),new Tt(19,Int32Array.from([6,30,58,86]),new De(28,new se(3,113),new se(4,114)),new De(26,new se(3,44),new se(11,45)),new De(26,new se(17,21),new se(4,22)),new De(26,new se(9,13),new se(16,14))),new Tt(20,Int32Array.from([6,34,62,90]),new De(28,new se(3,107),new se(5,108)),new De(26,new se(3,41),new se(13,42)),new De(30,new se(15,24),new se(5,25)),new De(28,new se(15,15),new se(10,16))),new Tt(21,Int32Array.from([6,28,50,72,94]),new De(28,new se(4,116),new se(4,117)),new De(26,new se(17,42)),new De(28,new se(17,22),new se(6,23)),new De(30,new se(19,16),new se(6,17))),new Tt(22,Int32Array.from([6,26,50,74,98]),new De(28,new se(2,111),new se(7,112)),new De(28,new se(17,46)),new De(30,new se(7,24),new se(16,25)),new De(24,new se(34,13))),new Tt(23,Int32Array.from([6,30,54,78,102]),new De(30,new se(4,121),new se(5,122)),new De(28,new se(4,47),new se(14,48)),new De(30,new se(11,24),new se(14,25)),new De(30,new se(16,15),new se(14,16))),new Tt(24,Int32Array.from([6,28,54,80,106]),new De(30,new se(6,117),new se(4,118)),new De(28,new se(6,45),new se(14,46)),new De(30,new se(11,24),new se(16,25)),new De(30,new se(30,16),new se(2,17))),new Tt(25,Int32Array.from([6,32,58,84,110]),new De(26,new se(8,106),new se(4,107)),new De(28,new se(8,47),new se(13,48)),new De(30,new se(7,24),new se(22,25)),new De(30,new se(22,15),new se(13,16))),new Tt(26,Int32Array.from([6,30,58,86,114]),new De(28,new se(10,114),new se(2,115)),new De(28,new se(19,46),new se(4,47)),new De(28,new se(28,22),new se(6,23)),new De(30,new se(33,16),new se(4,17))),new Tt(27,Int32Array.from([6,34,62,90,118]),new De(30,new se(8,122),new se(4,123)),new De(28,new se(22,45),new se(3,46)),new De(30,new se(8,23),new se(26,24)),new De(30,new se(12,15),new se(28,16))),new Tt(28,Int32Array.from([6,26,50,74,98,122]),new De(30,new se(3,117),new se(10,118)),new De(28,new se(3,45),new se(23,46)),new De(30,new se(4,24),new se(31,25)),new De(30,new se(11,15),new se(31,16))),new Tt(29,Int32Array.from([6,30,54,78,102,126]),new De(30,new se(7,116),new se(7,117)),new De(28,new se(21,45),new se(7,46)),new De(30,new se(1,23),new se(37,24)),new De(30,new se(19,15),new se(26,16))),new Tt(30,Int32Array.from([6,26,52,78,104,130]),new De(30,new se(5,115),new se(10,116)),new De(28,new se(19,47),new se(10,48)),new De(30,new se(15,24),new se(25,25)),new De(30,new se(23,15),new se(25,16))),new Tt(31,Int32Array.from([6,30,56,82,108,134]),new De(30,new se(13,115),new se(3,116)),new De(28,new se(2,46),new se(29,47)),new De(30,new se(42,24),new se(1,25)),new De(30,new se(23,15),new se(28,16))),new Tt(32,Int32Array.from([6,34,60,86,112,138]),new De(30,new se(17,115)),new De(28,new se(10,46),new se(23,47)),new De(30,new se(10,24),new se(35,25)),new De(30,new se(19,15),new se(35,16))),new Tt(33,Int32Array.from([6,30,58,86,114,142]),new De(30,new se(17,115),new se(1,116)),new De(28,new se(14,46),new se(21,47)),new De(30,new se(29,24),new se(19,25)),new De(30,new se(11,15),new se(46,16))),new Tt(34,Int32Array.from([6,34,62,90,118,146]),new De(30,new se(13,115),new se(6,116)),new De(28,new se(14,46),new se(23,47)),new De(30,new se(44,24),new se(7,25)),new De(30,new se(59,16),new se(1,17))),new Tt(35,Int32Array.from([6,30,54,78,102,126,150]),new De(30,new se(12,121),new se(7,122)),new De(28,new se(12,47),new se(26,48)),new De(30,new se(39,24),new se(14,25)),new De(30,new se(22,15),new se(41,16))),new Tt(36,Int32Array.from([6,24,50,76,102,128,154]),new De(30,new se(6,121),new se(14,122)),new De(28,new se(6,47),new se(34,48)),new De(30,new se(46,24),new se(10,25)),new De(30,new se(2,15),new se(64,16))),new Tt(37,Int32Array.from([6,28,54,80,106,132,158]),new De(30,new se(17,122),new se(4,123)),new De(28,new se(29,46),new se(14,47)),new De(30,new se(49,24),new se(10,25)),new De(30,new se(24,15),new se(46,16))),new Tt(38,Int32Array.from([6,32,58,84,110,136,162]),new De(30,new se(4,122),new se(18,123)),new De(28,new se(13,46),new se(32,47)),new De(30,new se(48,24),new se(14,25)),new De(30,new se(42,15),new se(32,16))),new Tt(39,Int32Array.from([6,26,54,82,110,138,166]),new De(30,new se(20,117),new se(4,118)),new De(28,new se(40,47),new se(7,48)),new De(30,new se(43,24),new se(22,25)),new De(30,new se(10,15),new se(67,16))),new Tt(40,Int32Array.from([6,30,58,86,114,142,170]),new De(30,new se(19,118),new se(6,119)),new De(28,new se(18,47),new se(31,48)),new De(30,new se(34,24),new se(34,25)),new De(30,new se(20,15),new se(61,16)))];var sr;(function(U){U[U.DATA_MASK_000=0]="DATA_MASK_000",U[U.DATA_MASK_001=1]="DATA_MASK_001",U[U.DATA_MASK_010=2]="DATA_MASK_010",U[U.DATA_MASK_011=3]="DATA_MASK_011",U[U.DATA_MASK_100=4]="DATA_MASK_100",U[U.DATA_MASK_101=5]="DATA_MASK_101",U[U.DATA_MASK_110=6]="DATA_MASK_110",U[U.DATA_MASK_111=7]="DATA_MASK_111"})(sr||(sr={}));class wi{constructor(a,l){this.value=a,this.isMasked=l}unmaskBitMatrix(a,l){for(let c=0;c<l;c++)for(let h=0;h<l;h++)this.isMasked(c,h)&&a.flip(h,c)}}wi.values=new Map([[sr.DATA_MASK_000,new wi(sr.DATA_MASK_000,(U,a)=>(U+a&1)===0)],[sr.DATA_MASK_001,new wi(sr.DATA_MASK_001,(U,a)=>(U&1)===0)],[sr.DATA_MASK_010,new wi(sr.DATA_MASK_010,(U,a)=>a%3===0)],[sr.DATA_MASK_011,new wi(sr.DATA_MASK_011,(U,a)=>(U+a)%3===0)],[sr.DATA_MASK_100,new wi(sr.DATA_MASK_100,(U,a)=>(Math.floor(U/2)+Math.floor(a/3)&1)===0)],[sr.DATA_MASK_101,new wi(sr.DATA_MASK_101,(U,a)=>U*a%6===0)],[sr.DATA_MASK_110,new wi(sr.DATA_MASK_110,(U,a)=>U*a%6<3)],[sr.DATA_MASK_111,new wi(sr.DATA_MASK_111,(U,a)=>(U+a+U*a%3&1)===0)]]);class Ol{constructor(a){const l=a.getHeight();if(l<21||(l&3)!==1)throw new q;this.bitMatrix=a}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let a=0;for(let p=0;p<6;p++)a=this.copyBit(p,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(let p=5;p>=0;p--)a=this.copyBit(8,p,a);const l=this.bitMatrix.getHeight();let c=0;const h=l-7;for(let p=l-1;p>=h;p--)c=this.copyBit(8,p,c);for(let p=l-8;p<l;p++)c=this.copyBit(p,8,c);if(this.parsedFormatInfo=Sr.decodeFormatInformation(a,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new q}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const a=this.bitMatrix.getHeight(),l=Math.floor((a-17)/4);if(l<=6)return Tt.getVersionForNumber(l);let c=0;const h=a-11;for(let g=5;g>=0;g--)for(let w=a-9;w>=h;w--)c=this.copyBit(w,g,c);let p=Tt.decodeVersionInformation(c);if(p!==null&&p.getDimensionForVersion()===a)return this.parsedVersion=p,p;c=0;for(let g=5;g>=0;g--)for(let w=a-9;w>=h;w--)c=this.copyBit(g,w,c);if(p=Tt.decodeVersionInformation(c),p!==null&&p.getDimensionForVersion()===a)return this.parsedVersion=p,p;throw new q}copyBit(a,l,c){return(this.isMirror?this.bitMatrix.get(l,a):this.bitMatrix.get(a,l))?c<<1|1:c<<1}readCodewords(){const a=this.readFormatInformation(),l=this.readVersion(),c=wi.values.get(a.getDataMask()),h=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,h);const p=l.buildFunctionPattern();let g=!0;const w=new Uint8Array(l.getTotalCodewords());let N=0,T=0,j=0;for(let F=h-1;F>0;F-=2){F===6&&F--;for(let Y=0;Y<h;Y++){const ce=g?h-1-Y:Y;for(let xe=0;xe<2;xe++)p.get(F-xe,ce)||(j++,T<<=1,this.bitMatrix.get(F-xe,ce)&&(T|=1),j===8&&(w[N++]=T,j=0,T=0))}g=!g}if(N!==l.getTotalCodewords())throw new q;return w}remask(){if(this.parsedFormatInfo===null)return;const a=wi.values[this.parsedFormatInfo.getDataMask()],l=this.bitMatrix.getHeight();a.unmaskBitMatrix(this.bitMatrix,l)}setMirror(a){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=a}mirror(){const a=this.bitMatrix;for(let l=0,c=a.getWidth();l<c;l++)for(let h=l+1,p=a.getHeight();h<p;h++)a.get(l,h)!==a.get(h,l)&&(a.flip(h,l),a.flip(l,h))}}class Dl{constructor(a,l){this.numDataCodewords=a,this.codewords=l}static getDataBlocks(a,l,c){if(a.length!==l.getTotalCodewords())throw new x;const h=l.getECBlocksForLevel(c);let p=0;const g=h.getECBlocks();for(const xe of g)p+=xe.getCount();const w=new Array(p);let N=0;for(const xe of g)for(let we=0;we<xe.getCount();we++){const _e=xe.getDataCodewords(),Fe=h.getECCodewordsPerBlock()+_e;w[N++]=new Dl(_e,new Uint8Array(Fe))}const T=w[0].codewords.length;let j=w.length-1;for(;j>=0&&w[j].codewords.length!==T;)j--;j++;const F=T-h.getECCodewordsPerBlock();let Y=0;for(let xe=0;xe<F;xe++)for(let we=0;we<N;we++)w[we].codewords[xe]=a[Y++];for(let xe=j;xe<N;xe++)w[xe].codewords[F]=a[Y++];const ce=w[0].codewords.length;for(let xe=F;xe<ce;xe++)for(let we=0;we<N;we++){const _e=we<j?xe:xe+1;w[we].codewords[_e]=a[Y++]}return w}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var bi;(function(U){U[U.TERMINATOR=0]="TERMINATOR",U[U.NUMERIC=1]="NUMERIC",U[U.ALPHANUMERIC=2]="ALPHANUMERIC",U[U.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",U[U.BYTE=4]="BYTE",U[U.ECI=5]="ECI",U[U.KANJI=6]="KANJI",U[U.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",U[U.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",U[U.HANZI=9]="HANZI"})(bi||(bi={}));class Pt{constructor(a,l,c,h){this.value=a,this.stringValue=l,this.characterCountBitsForVersions=c,this.bits=h,Pt.FOR_BITS.set(h,this),Pt.FOR_VALUE.set(a,this)}static forBits(a){const l=Pt.FOR_BITS.get(a);if(l===void 0)throw new x;return l}getCharacterCountBits(a){const l=a.getVersionNumber();let c;return l<=9?c=0:l<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(a){if(!(a instanceof Pt))return!1;const l=a;return this.value===l.value}toString(){return this.stringValue}}Pt.FOR_BITS=new Map,Pt.FOR_VALUE=new Map,Pt.TERMINATOR=new Pt(bi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Pt.NUMERIC=new Pt(bi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Pt.ALPHANUMERIC=new Pt(bi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Pt.STRUCTURED_APPEND=new Pt(bi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Pt.BYTE=new Pt(bi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Pt.ECI=new Pt(bi.ECI,"ECI",Int32Array.from([0,0,0]),7),Pt.KANJI=new Pt(bi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Pt.FNC1_FIRST_POSITION=new Pt(bi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Pt.FNC1_SECOND_POSITION=new Pt(bi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Pt.HANZI=new Pt(bi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class gn{static decode(a,l,c,h){const p=new So(a);let g=new ee;const w=new Array;let N=-1,T=-1;try{let j=null,F=!1,Y;do{if(p.available()<4)Y=Pt.TERMINATOR;else{const ce=p.readBits(4);Y=Pt.forBits(ce)}switch(Y){case Pt.TERMINATOR:break;case Pt.FNC1_FIRST_POSITION:case Pt.FNC1_SECOND_POSITION:F=!0;break;case Pt.STRUCTURED_APPEND:if(p.available()<16)throw new q;N=p.readBits(8),T=p.readBits(8);break;case Pt.ECI:const ce=gn.parseECIValue(p);if(j=$.getCharacterSetECIByValue(ce),j===null)throw new q;break;case Pt.HANZI:const xe=p.readBits(4),we=p.readBits(Y.getCharacterCountBits(l));xe===gn.GB2312_SUBSET&&gn.decodeHanziSegment(p,g,we);break;default:const _e=p.readBits(Y.getCharacterCountBits(l));switch(Y){case Pt.NUMERIC:gn.decodeNumericSegment(p,g,_e);break;case Pt.ALPHANUMERIC:gn.decodeAlphanumericSegment(p,g,_e,F);break;case Pt.BYTE:gn.decodeByteSegment(p,g,_e,j,w,h);break;case Pt.KANJI:gn.decodeKanjiSegment(p,g,_e);break;default:throw new q}break}}while(Y!==Pt.TERMINATOR)}catch{throw new q}return new Oe(a,g.toString(),w.length===0?null:w,c===null?null:c.toString(),N,T)}static decodeHanziSegment(a,l,c){if(c*13>a.available())throw new q;const h=new Uint8Array(2*c);let p=0;for(;c>0;){const g=a.readBits(13);let w=g/96<<8&4294967295|g%96;w<959?w+=41377:w+=42657,h[p]=w>>8&255,h[p+1]=w&255,p+=2,c--}try{l.append(W.decode(h,B.GB2312))}catch(g){throw new q(g)}}static decodeKanjiSegment(a,l,c){if(c*13>a.available())throw new q;const h=new Uint8Array(2*c);let p=0;for(;c>0;){const g=a.readBits(13);let w=g/192<<8&4294967295|g%192;w<7936?w+=33088:w+=49472,h[p]=w>>8,h[p+1]=w,p+=2,c--}try{l.append(W.decode(h,B.SHIFT_JIS))}catch(g){throw new q(g)}}static decodeByteSegment(a,l,c,h,p,g){if(8*c>a.available())throw new q;const w=new Uint8Array(c);for(let T=0;T<c;T++)w[T]=a.readBits(8);let N;h===null?N=B.guessEncoding(w,g):N=h.getName();try{l.append(W.decode(w,N))}catch(T){throw new q(T)}p.push(w)}static toAlphaNumericChar(a){if(a>=gn.ALPHANUMERIC_CHARS.length)throw new q;return gn.ALPHANUMERIC_CHARS[a]}static decodeAlphanumericSegment(a,l,c,h){const p=l.length();for(;c>1;){if(a.available()<11)throw new q;const g=a.readBits(11);l.append(gn.toAlphaNumericChar(Math.floor(g/45))),l.append(gn.toAlphaNumericChar(g%45)),c-=2}if(c===1){if(a.available()<6)throw new q;l.append(gn.toAlphaNumericChar(a.readBits(6)))}if(h)for(let g=p;g<l.length();g++)l.charAt(g)==="%"&&(g<l.length()-1&&l.charAt(g+1)==="%"?l.deleteCharAt(g+1):l.setCharAt(g,""))}static decodeNumericSegment(a,l,c){for(;c>=3;){if(a.available()<10)throw new q;const h=a.readBits(10);if(h>=1e3)throw new q;l.append(gn.toAlphaNumericChar(Math.floor(h/100))),l.append(gn.toAlphaNumericChar(Math.floor(h/10)%10)),l.append(gn.toAlphaNumericChar(h%10)),c-=3}if(c===2){if(a.available()<7)throw new q;const h=a.readBits(7);if(h>=100)throw new q;l.append(gn.toAlphaNumericChar(Math.floor(h/10))),l.append(gn.toAlphaNumericChar(h%10))}else if(c===1){if(a.available()<4)throw new q;const h=a.readBits(4);if(h>=10)throw new q;l.append(gn.toAlphaNumericChar(h))}}static parseECIValue(a){const l=a.readBits(8);if(!(l&128))return l&127;if((l&192)===128){const c=a.readBits(8);return(l&63)<<8&4294967295|c}if((l&224)===192){const c=a.readBits(16);return(l&31)<<16&4294967295|c}throw new q}}gn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",gn.GB2312_SUBSET=1;class Ha{constructor(a){this.mirrored=a}isMirrored(){return this.mirrored}applyMirroredCorrection(a){if(!this.mirrored||a===null||a.length<3)return;const l=a[0];a[0]=a[2],a[2]=l}}class Co{constructor(){this.rsDecoder=new de(Ke.QR_CODE_FIELD_256)}decodeBooleanArray(a,l){return this.decodeBitMatrix(te.parseFromBooleanArray(a),l)}decodeBitMatrix(a,l){const c=new Ol(a);let h=null;try{return this.decodeBitMatrixParser(c,l)}catch(p){h=p}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const p=this.decodeBitMatrixParser(c,l);return p.setOther(new Ha(!0)),p}catch(p){throw h!==null?h:p}}decodeBitMatrixParser(a,l){const c=a.readVersion(),h=a.readFormatInformation().getErrorCorrectionLevel(),p=a.readCodewords(),g=Dl.getDataBlocks(p,c,h);let w=0;for(const j of g)w+=j.getNumDataCodewords();const N=new Uint8Array(w);let T=0;for(const j of g){const F=j.getCodewords(),Y=j.getNumDataCodewords();this.correctErrors(F,Y);for(let ce=0;ce<Y;ce++)N[T++]=F[ce]}return gn.decode(N,c,h,l)}correctErrors(a,l){const c=new Int32Array(a);try{this.rsDecoder.decode(c,a.length-l)}catch{throw new b}for(let h=0;h<l;h++)a[h]=c[h]}}class Eo extends ae{constructor(a,l,c){super(a,l),this.estimatedModuleSize=c}aboutEquals(a,l,c){if(Math.abs(l-this.getY())<=a&&Math.abs(c-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,l,c){const h=(this.getX()+l)/2,p=(this.getY()+a)/2,g=(this.estimatedModuleSize+c)/2;return new Eo(h,p,g)}}class Nr{constructor(a,l,c,h,p,g,w){this.image=a,this.startX=l,this.startY=c,this.width=h,this.height=p,this.moduleSize=g,this.resultPointCallback=w,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const a=this.startX,l=this.height,c=this.width,h=a+c,p=this.startY+l/2,g=new Int32Array(3),w=this.image;for(let N=0;N<l;N++){const T=p+(N&1?-Math.floor((N+1)/2):Math.floor((N+1)/2));g[0]=0,g[1]=0,g[2]=0;let j=a;for(;j<h&&!w.get(j,T);)j++;let F=0;for(;j<h;){if(w.get(j,T))if(F===1)g[1]++;else if(F===2){if(this.foundPatternCross(g)){const Y=this.handlePossibleCenter(g,T,j);if(Y!==null)return Y}g[0]=g[2],g[1]=1,g[2]=0,F=1}else g[++F]++;else F===1&&F++,g[F]++;j++}if(this.foundPatternCross(g)){const Y=this.handlePossibleCenter(g,T,h);if(Y!==null)return Y}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(a,l){return l-a[2]-a[1]/2}foundPatternCross(a){const l=this.moduleSize,c=l/2;for(let h=0;h<3;h++)if(Math.abs(l-a[h])>=c)return!1;return!0}crossCheckVertical(a,l,c,h){const p=this.image,g=p.getHeight(),w=this.crossCheckStateCount;w[0]=0,w[1]=0,w[2]=0;let N=a;for(;N>=0&&p.get(l,N)&&w[1]<=c;)w[1]++,N--;if(N<0||w[1]>c)return NaN;for(;N>=0&&!p.get(l,N)&&w[0]<=c;)w[0]++,N--;if(w[0]>c)return NaN;for(N=a+1;N<g&&p.get(l,N)&&w[1]<=c;)w[1]++,N++;if(N===g||w[1]>c)return NaN;for(;N<g&&!p.get(l,N)&&w[2]<=c;)w[2]++,N++;if(w[2]>c)return NaN;const T=w[0]+w[1]+w[2];return 5*Math.abs(T-h)>=2*h?NaN:this.foundPatternCross(w)?Nr.centerFromEnd(w,N):NaN}handlePossibleCenter(a,l,c){const h=a[0]+a[1]+a[2],p=Nr.centerFromEnd(a,c),g=this.crossCheckVertical(l,p,2*a[1],h);if(!isNaN(g)){const w=(a[0]+a[1]+a[2])/3;for(const T of this.possibleCenters)if(T.aboutEquals(w,g,p))return T.combineEstimate(g,p,w);const N=new Eo(p,g,w);this.possibleCenters.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return null}}class jl extends ae{constructor(a,l,c,h){super(a,l),this.estimatedModuleSize=c,this.count=h,h===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(a,l,c){if(Math.abs(l-this.getY())<=a&&Math.abs(c-this.getX())<=a){const h=Math.abs(a-this.estimatedModuleSize);return h<=1||h<=this.estimatedModuleSize}return!1}combineEstimate(a,l,c){const h=this.count+1,p=(this.count*this.getX()+l)/h,g=(this.count*this.getY()+a)/h,w=(this.count*this.estimatedModuleSize+c)/h;return new jl(p,g,w,h)}}class kc{constructor(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Nt{constructor(a,l){this.image=a,this.resultPointCallback=l,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=l}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(a){const l=a!=null&&a.get(ie.TRY_HARDER)!==void 0,c=a!=null&&a.get(ie.PURE_BARCODE)!==void 0,h=this.image,p=h.getHeight(),g=h.getWidth();let w=Math.floor(3*p/(4*Nt.MAX_MODULES));(w<Nt.MIN_SKIP||l)&&(w=Nt.MIN_SKIP);let N=!1;const T=new Int32Array(5);for(let F=w-1;F<p&&!N;F+=w){T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0;let Y=0;for(let ce=0;ce<g;ce++)if(h.get(ce,F))(Y&1)===1&&Y++,T[Y]++;else if(Y&1)T[Y]++;else if(Y===4)if(Nt.foundPatternCross(T)){if(this.handlePossibleCenter(T,F,ce,c)===!0)if(w=2,this.hasSkipped===!0)N=this.haveMultiplyConfirmedCenters();else{const we=this.findRowSkip();we>T[2]&&(F+=we-T[2]-w,ce=g-1)}else{T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,Y=3;continue}Y=0,T[0]=0,T[1]=0,T[2]=0,T[3]=0,T[4]=0}else T[0]=T[2],T[1]=T[3],T[2]=T[4],T[3]=1,T[4]=0,Y=3;else T[++Y]++;Nt.foundPatternCross(T)&&this.handlePossibleCenter(T,F,g,c)===!0&&(w=T[0],this.hasSkipped&&(N=this.haveMultiplyConfirmedCenters()))}const j=this.selectBestPatterns();return ae.orderBestPatterns(j),new kc(j)}static centerFromEnd(a,l){return l-a[4]-a[3]-a[2]/2}static foundPatternCross(a){let l=0;for(let p=0;p<5;p++){const g=a[p];if(g===0)return!1;l+=g}if(l<7)return!1;const c=l/7,h=c/2;return Math.abs(c-a[0])<h&&Math.abs(c-a[1])<h&&Math.abs(3*c-a[2])<3*h&&Math.abs(c-a[3])<h&&Math.abs(c-a[4])<h}getCrossCheckStateCount(){const a=this.crossCheckStateCount;return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a}crossCheckDiagonal(a,l,c,h){const p=this.getCrossCheckStateCount();let g=0;const w=this.image;for(;a>=g&&l>=g&&w.get(l-g,a-g);)p[2]++,g++;if(a<g||l<g)return!1;for(;a>=g&&l>=g&&!w.get(l-g,a-g)&&p[1]<=c;)p[1]++,g++;if(a<g||l<g||p[1]>c)return!1;for(;a>=g&&l>=g&&w.get(l-g,a-g)&&p[0]<=c;)p[0]++,g++;if(p[0]>c)return!1;const N=w.getHeight(),T=w.getWidth();for(g=1;a+g<N&&l+g<T&&w.get(l+g,a+g);)p[2]++,g++;if(a+g>=N||l+g>=T)return!1;for(;a+g<N&&l+g<T&&!w.get(l+g,a+g)&&p[3]<c;)p[3]++,g++;if(a+g>=N||l+g>=T||p[3]>=c)return!1;for(;a+g<N&&l+g<T&&w.get(l+g,a+g)&&p[4]<c;)p[4]++,g++;if(p[4]>=c)return!1;const j=p[0]+p[1]+p[2]+p[3]+p[4];return Math.abs(j-h)<2*h&&Nt.foundPatternCross(p)}crossCheckVertical(a,l,c,h){const p=this.image,g=p.getHeight(),w=this.getCrossCheckStateCount();let N=a;for(;N>=0&&p.get(l,N);)w[2]++,N--;if(N<0)return NaN;for(;N>=0&&!p.get(l,N)&&w[1]<=c;)w[1]++,N--;if(N<0||w[1]>c)return NaN;for(;N>=0&&p.get(l,N)&&w[0]<=c;)w[0]++,N--;if(w[0]>c)return NaN;for(N=a+1;N<g&&p.get(l,N);)w[2]++,N++;if(N===g)return NaN;for(;N<g&&!p.get(l,N)&&w[3]<c;)w[3]++,N++;if(N===g||w[3]>=c)return NaN;for(;N<g&&p.get(l,N)&&w[4]<c;)w[4]++,N++;if(w[4]>=c)return NaN;const T=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(T-h)>=2*h?NaN:Nt.foundPatternCross(w)?Nt.centerFromEnd(w,N):NaN}crossCheckHorizontal(a,l,c,h){const p=this.image,g=p.getWidth(),w=this.getCrossCheckStateCount();let N=a;for(;N>=0&&p.get(N,l);)w[2]++,N--;if(N<0)return NaN;for(;N>=0&&!p.get(N,l)&&w[1]<=c;)w[1]++,N--;if(N<0||w[1]>c)return NaN;for(;N>=0&&p.get(N,l)&&w[0]<=c;)w[0]++,N--;if(w[0]>c)return NaN;for(N=a+1;N<g&&p.get(N,l);)w[2]++,N++;if(N===g)return NaN;for(;N<g&&!p.get(N,l)&&w[3]<c;)w[3]++,N++;if(N===g||w[3]>=c)return NaN;for(;N<g&&p.get(N,l)&&w[4]<c;)w[4]++,N++;if(w[4]>=c)return NaN;const T=w[0]+w[1]+w[2]+w[3]+w[4];return 5*Math.abs(T-h)>=h?NaN:Nt.foundPatternCross(w)?Nt.centerFromEnd(w,N):NaN}handlePossibleCenter(a,l,c,h){const p=a[0]+a[1]+a[2]+a[3]+a[4];let g=Nt.centerFromEnd(a,c),w=this.crossCheckVertical(l,Math.floor(g),a[2],p);if(!isNaN(w)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(w),a[2],p),!isNaN(g)&&(!h||this.crossCheckDiagonal(Math.floor(w),Math.floor(g),a[2],p)))){const N=p/7;let T=!1;const j=this.possibleCenters;for(let F=0,Y=j.length;F<Y;F++){const ce=j[F];if(ce.aboutEquals(N,w,g)){j[F]=ce.combineEstimate(w,g,N),T=!0;break}}if(!T){const F=new jl(g,w,N);j.push(F),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(F)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let l=null;for(const c of this.possibleCenters)if(c.getCount()>=Nt.CENTER_QUORUM)if(l==null)l=c;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-c.getX())-Math.abs(l.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let a=0,l=0;const c=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=Nt.CENTER_QUORUM&&(a++,l+=g.getEstimatedModuleSize());if(a<3)return!1;const h=l/c;let p=0;for(const g of this.possibleCenters)p+=Math.abs(g.getEstimatedModuleSize()-h);return p<=.05*l}selectBestPatterns(){const a=this.possibleCenters.length;if(a<3)throw new J;const l=this.possibleCenters;let c;if(a>3){let h=0,p=0;for(const N of this.possibleCenters){const T=N.getEstimatedModuleSize();h+=T,p+=T*T}c=h/a;let g=Math.sqrt(p/a-c*c);l.sort((N,T)=>{const j=Math.abs(T.getEstimatedModuleSize()-c),F=Math.abs(N.getEstimatedModuleSize()-c);return j<F?-1:j>F?1:0});const w=Math.max(.2*c,g);for(let N=0;N<l.length&&l.length>3;N++){const T=l[N];Math.abs(T.getEstimatedModuleSize()-c)>w&&(l.splice(N,1),N--)}}if(l.length>3){let h=0;for(const p of l)h+=p.getEstimatedModuleSize();c=h/l.length,l.sort((p,g)=>{if(g.getCount()===p.getCount()){const w=Math.abs(g.getEstimatedModuleSize()-c),N=Math.abs(p.getEstimatedModuleSize()-c);return w<N?1:w>N?-1:0}else return g.getCount()-p.getCount()}),l.splice(3)}return[l[0],l[1],l[2]]}}Nt.CENTER_QUORUM=2,Nt.MIN_SKIP=3,Nt.MAX_MODULES=57;class qa{constructor(a){this.image=a}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(a){this.resultPointCallback=a==null?null:a.get(ie.NEED_RESULT_POINT_CALLBACK);const c=new Nt(this.image,this.resultPointCallback).find(a);return this.processFinderPatternInfo(c)}processFinderPatternInfo(a){const l=a.getTopLeft(),c=a.getTopRight(),h=a.getBottomLeft(),p=this.calculateModuleSize(l,c,h);if(p<1)throw new J("No pattern found in proccess finder.");const g=qa.computeDimension(l,c,h,p),w=Tt.getProvisionalVersionForDimension(g),N=w.getDimensionForVersion()-7;let T=null;if(w.getAlignmentPatternCenters().length>0){const ce=c.getX()-l.getX()+h.getX(),xe=c.getY()-l.getY()+h.getY(),we=1-3/N,_e=Math.floor(l.getX()+we*(ce-l.getX())),Fe=Math.floor(l.getY()+we*(xe-l.getY()));for(let tt=4;tt<=16;tt<<=1)try{T=this.findAlignmentInRegion(p,_e,Fe,tt);break}catch(st){if(!(st instanceof J))throw st}}const j=qa.createTransform(l,c,h,T,g),F=qa.sampleGrid(this.image,j,g);let Y;return T===null?Y=[h,l,c]:Y=[h,l,c,T],new Ae(F,Y)}static createTransform(a,l,c,h,p){const g=p-3.5;let w,N,T,j;return h!==null?(w=h.getX(),N=h.getY(),T=g-3,j=T):(w=l.getX()-a.getX()+c.getX(),N=l.getY()-a.getY()+c.getY(),T=g,j=g),it.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,T,j,3.5,g,a.getX(),a.getY(),l.getX(),l.getY(),w,N,c.getX(),c.getY())}static sampleGrid(a,l,c){return St.getInstance().sampleGridWithTransform(a,c,c,l)}static computeDimension(a,l,c,h){const p=ze.round(ae.distance(a,l)/h),g=ze.round(ae.distance(a,c)/h);let w=Math.floor((p+g)/2)+7;switch(w&3){case 0:w++;break;case 2:w--;break;case 3:throw new J("Dimensions could be not found.")}return w}calculateModuleSize(a,l,c){return(this.calculateModuleSizeOneWay(a,l)+this.calculateModuleSizeOneWay(a,c))/2}calculateModuleSizeOneWay(a,l){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(l.getX()),Math.floor(l.getY())),h=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(a.getX()),Math.floor(a.getY()));return isNaN(c)?h/7:isNaN(h)?c/7:(c+h)/14}sizeOfBlackWhiteBlackRunBothWays(a,l,c,h){let p=this.sizeOfBlackWhiteBlackRun(a,l,c,h),g=1,w=a-(c-a);w<0?(g=a/(a-w),w=0):w>=this.image.getWidth()&&(g=(this.image.getWidth()-1-a)/(w-a),w=this.image.getWidth()-1);let N=Math.floor(l-(h-l)*g);return g=1,N<0?(g=l/(l-N),N=0):N>=this.image.getHeight()&&(g=(this.image.getHeight()-1-l)/(N-l),N=this.image.getHeight()-1),w=Math.floor(a+(w-a)*g),p+=this.sizeOfBlackWhiteBlackRun(a,l,w,N),p-1}sizeOfBlackWhiteBlackRun(a,l,c,h){const p=Math.abs(h-l)>Math.abs(c-a);if(p){let ce=a;a=l,l=ce,ce=c,c=h,h=ce}const g=Math.abs(c-a),w=Math.abs(h-l);let N=-g/2;const T=a<c?1:-1,j=l<h?1:-1;let F=0;const Y=c+T;for(let ce=a,xe=l;ce!==Y;ce+=T){const we=p?xe:ce,_e=p?ce:xe;if(F===1===this.image.get(we,_e)){if(F===2)return ze.distance(ce,xe,a,l);F++}if(N+=w,N>0){if(xe===h)break;xe+=j,N-=g}}return F===2?ze.distance(c+T,h,a,l):NaN}findAlignmentInRegion(a,l,c,h){const p=Math.floor(h*a),g=Math.max(0,l-p),w=Math.min(this.image.getWidth()-1,l+p);if(w-g<a*3)throw new J("Alignment top exceeds estimated module size.");const N=Math.max(0,c-p),T=Math.min(this.image.getHeight()-1,c+p);if(T-N<a*3)throw new J("Alignment bottom exceeds estimated module size.");return new Nr(this.image,g,N,w-g,T-N,a,this.resultPointCallback).find()}}class Ps{constructor(){this.decoder=new Co}getDecoder(){return this.decoder}decode(a,l){let c,h;if(l!=null&&l.get(ie.PURE_BARCODE)!==void 0){const N=Ps.extractPureBits(a.getBlackMatrix());c=this.decoder.decodeBitMatrix(N,l),h=Ps.NO_POINTS}else{const N=new qa(a.getBlackMatrix()).detect(l);c=this.decoder.decodeBitMatrix(N.getBits(),l),h=N.getPoints()}c.getOther()instanceof Ha&&c.getOther().applyMirroredCorrection(h);const p=new oe(c.getText(),c.getRawBytes(),void 0,h,he.QR_CODE,void 0),g=c.getByteSegments();g!==null&&p.putMetadata(Le.BYTE_SEGMENTS,g);const w=c.getECLevel();return w!==null&&p.putMetadata(Le.ERROR_CORRECTION_LEVEL,w),c.hasStructuredAppend()&&(p.putMetadata(Le.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),p.putMetadata(Le.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),p}reset(){}static extractPureBits(a){const l=a.getTopLeftOnBit(),c=a.getBottomRightOnBit();if(l===null||c===null)throw new J;const h=this.moduleSize(l,a);let p=l[1],g=c[1],w=l[0],N=c[0];if(w>=N||p>=g)throw new J;if(g-p!==N-w&&(N=w+(g-p),N>=a.getWidth()))throw new J;const T=Math.round((N-w+1)/h),j=Math.round((g-p+1)/h);if(T<=0||j<=0)throw new J;if(j!==T)throw new J;const F=Math.floor(h/2);p+=F,w+=F;const Y=w+Math.floor((T-1)*h)-N;if(Y>0){if(Y>F)throw new J;w-=Y}const ce=p+Math.floor((j-1)*h)-g;if(ce>0){if(ce>F)throw new J;p-=ce}const xe=new te(T,j);for(let we=0;we<j;we++){const _e=p+Math.floor(we*h);for(let Fe=0;Fe<T;Fe++)a.get(w+Math.floor(Fe*h),_e)&&xe.set(Fe,we)}return xe}static moduleSize(a,l){const c=l.getHeight(),h=l.getWidth();let p=a[0],g=a[1],w=!0,N=0;for(;p<h&&g<c;){if(w!==l.get(p,g)){if(++N===5)break;w=!w}p++,g++}if(p===h||g===c)throw new J;return(p-a[0])/7}}Ps.NO_POINTS=new Array;class It{PDF417Common(){}static getBitCountSum(a){return ze.sum(a)}static toIntArray(a){if(a==null||!a.length)return It.EMPTY_INT_ARRAY;const l=new Int32Array(a.length);let c=0;for(const h of a)l[c++]=h;return l}static getCodeword(a){const l=_.binarySearch(It.SYMBOL_TABLE,a&262143);return l<0?-1:(It.CODEWORD_TABLE[l]-1)%It.NUMBER_OF_CODEWORDS}}It.NUMBER_OF_CODEWORDS=929,It.MAX_CODEWORDS_IN_BARCODE=It.NUMBER_OF_CODEWORDS-1,It.MIN_ROWS_IN_BARCODE=3,It.MAX_ROWS_IN_BARCODE=90,It.MODULES_IN_CODEWORD=17,It.MODULES_IN_STOP_PATTERN=18,It.BARS_IN_MODULE=8,It.EMPTY_INT_ARRAY=new Int32Array([]),It.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),It.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Lc{constructor(a,l){this.bits=a,this.points=l}getBits(){return this.bits}getPoints(){return this.points}}class qt{static detectMultiple(a,l,c){let h=a.getBlackMatrix(),p=qt.detect(c,h);return p.length||(h=h.clone(),h.rotate180(),p=qt.detect(c,h)),new Lc(h,p)}static detect(a,l){const c=new Array;let h=0,p=0,g=!1;for(;h<l.getHeight();){const w=qt.findVertices(l,h,p);if(w[0]==null&&w[3]==null){if(!g)break;g=!1,p=0;for(const N of c)N[1]!=null&&(h=Math.trunc(Math.max(h,N[1].getY()))),N[3]!=null&&(h=Math.max(h,Math.trunc(N[3].getY())));h+=qt.ROW_STEP;continue}if(g=!0,c.push(w),!a)break;w[2]!=null?(p=Math.trunc(w[2].getX()),h=Math.trunc(w[2].getY())):(p=Math.trunc(w[4].getX()),h=Math.trunc(w[4].getY()))}return c}static findVertices(a,l,c){const h=a.getHeight(),p=a.getWidth(),g=new Array(8);return qt.copyToResult(g,qt.findRowsWithPattern(a,h,p,l,c,qt.START_PATTERN),qt.INDEXES_START_PATTERN),g[4]!=null&&(c=Math.trunc(g[4].getX()),l=Math.trunc(g[4].getY())),qt.copyToResult(g,qt.findRowsWithPattern(a,h,p,l,c,qt.STOP_PATTERN),qt.INDEXES_STOP_PATTERN),g}static copyToResult(a,l,c){for(let h=0;h<c.length;h++)a[c[h]]=l[h]}static findRowsWithPattern(a,l,c,h,p,g){const w=new Array(4);let N=!1;const T=new Int32Array(g.length);for(;h<l;h+=qt.ROW_STEP){let F=qt.findGuardPattern(a,p,h,c,!1,g,T);if(F!=null){for(;h>0;){const Y=qt.findGuardPattern(a,p,--h,c,!1,g,T);if(Y!=null)F=Y;else{h++;break}}w[0]=new ae(F[0],h),w[1]=new ae(F[1],h),N=!0;break}}let j=h+1;if(N){let F=0,Y=Int32Array.from([Math.trunc(w[0].getX()),Math.trunc(w[1].getX())]);for(;j<l;j++){const ce=qt.findGuardPattern(a,Y[0],j,c,!1,g,T);if(ce!=null&&Math.abs(Y[0]-ce[0])<qt.MAX_PATTERN_DRIFT&&Math.abs(Y[1]-ce[1])<qt.MAX_PATTERN_DRIFT)Y=ce,F=0;else{if(F>qt.SKIPPED_ROW_COUNT_MAX)break;F++}}j-=F+1,w[2]=new ae(Y[0],j),w[3]=new ae(Y[1],j)}return j-h<qt.BARCODE_MIN_HEIGHT&&_.fill(w,null),w}static findGuardPattern(a,l,c,h,p,g,w){_.fillWithin(w,0,w.length,0);let N=l,T=0;for(;a.get(N,c)&&N>0&&T++<qt.MAX_PIXEL_DRIFT;)N--;let j=N,F=0,Y=g.length;for(let ce=p;j<h;j++)if(a.get(j,c)!==ce)w[F]++;else{if(F===Y-1){if(qt.patternMatchVariance(w,g,qt.MAX_INDIVIDUAL_VARIANCE)<qt.MAX_AVG_VARIANCE)return new Int32Array([N,j]);N+=w[0]+w[1],I.arraycopy(w,2,w,0,F-1),w[F-1]=0,w[F]=0,F--}else F++;w[F]=1,ce=!ce}return F===Y-1&&qt.patternMatchVariance(w,g,qt.MAX_INDIVIDUAL_VARIANCE)<qt.MAX_AVG_VARIANCE?new Int32Array([N,j-1]):null}static patternMatchVariance(a,l,c){let h=a.length,p=0,g=0;for(let T=0;T<h;T++)p+=a[T],g+=l[T];if(p<g)return 1/0;let w=p/g;c*=w;let N=0;for(let T=0;T<h;T++){let j=a[T],F=l[T]*w,Y=j>F?j-F:F-j;if(Y>c)return 1/0;N+=Y}return N/p}}qt.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),qt.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),qt.MAX_AVG_VARIANCE=.42,qt.MAX_INDIVIDUAL_VARIANCE=.8,qt.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),qt.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),qt.MAX_PIXEL_DRIFT=3,qt.MAX_PATTERN_DRIFT=5,qt.SKIPPED_ROW_COUNT_MAX=25,qt.ROW_STEP=5,qt.BARCODE_MIN_HEIGHT=10;class Jn{constructor(a,l){if(l.length===0)throw new x;this.field=a;let c=l.length;if(c>1&&l[0]===0){let h=1;for(;h<c&&l[h]===0;)h++;h===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-h),I.arraycopy(l,h,this.coefficients,0,this.coefficients.length))}else this.coefficients=l}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}evaluateAt(a){if(a===0)return this.getCoefficient(0);if(a===1){let h=0;for(let p of this.coefficients)h=this.field.add(h,p);return h}let l=this.coefficients[0],c=this.coefficients.length;for(let h=1;h<c;h++)l=this.field.add(this.field.multiply(a,l),this.coefficients[h]);return l}add(a){if(!this.field.equals(a.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero())return a;if(a.isZero())return this;let l=this.coefficients,c=a.coefficients;if(l.length>c.length){let g=l;l=c,c=g}let h=new Int32Array(c.length),p=c.length-l.length;I.arraycopy(c,0,h,0,p);for(let g=p;g<c.length;g++)h[g]=this.field.add(l[g-p],c[g]);return new Jn(this.field,h)}subtract(a){if(!this.field.equals(a.field))throw new x("ModulusPolys do not have same ModulusGF field");return a.isZero()?this:this.add(a.negative())}multiply(a){return a instanceof Jn?this.multiplyOther(a):this.multiplyScalar(a)}multiplyOther(a){if(!this.field.equals(a.field))throw new x("ModulusPolys do not have same ModulusGF field");if(this.isZero()||a.isZero())return new Jn(this.field,new Int32Array([0]));let l=this.coefficients,c=l.length,h=a.coefficients,p=h.length,g=new Int32Array(c+p-1);for(let w=0;w<c;w++){let N=l[w];for(let T=0;T<p;T++)g[w+T]=this.field.add(g[w+T],this.field.multiply(N,h[T]))}return new Jn(this.field,g)}negative(){let a=this.coefficients.length,l=new Int32Array(a);for(let c=0;c<a;c++)l[c]=this.field.subtract(0,this.coefficients[c]);return new Jn(this.field,l)}multiplyScalar(a){if(a===0)return new Jn(this.field,new Int32Array([0]));if(a===1)return this;let l=this.coefficients.length,c=new Int32Array(l);for(let h=0;h<l;h++)c[h]=this.field.multiply(this.coefficients[h],a);return new Jn(this.field,c)}multiplyByMonomial(a,l){if(a<0)throw new x;if(l===0)return new Jn(this.field,new Int32Array([0]));let c=this.coefficients.length,h=new Int32Array(c+a);for(let p=0;p<c;p++)h[p]=this.field.multiply(this.coefficients[p],l);return new Jn(this.field,h)}toString(){let a=new ee;for(let l=this.getDegree();l>=0;l--){let c=this.getCoefficient(l);c!==0&&(c<0?(a.append(" - "),c=-c):a.length()>0&&a.append(" + "),(l===0||c!==1)&&a.append(c),l!==0&&(l===1?a.append("x"):(a.append("x^"),a.append(l))))}return a.toString()}}class Rl{add(a,l){return(a+l)%this.modulus}subtract(a,l){return(this.modulus+a-l)%this.modulus}exp(a){return this.expTable[a]}log(a){if(a===0)throw new x;return this.logTable[a]}inverse(a){if(a===0)throw new ut;return this.expTable[this.modulus-this.logTable[a]-1]}multiply(a,l){return a===0||l===0?0:this.expTable[(this.logTable[a]+this.logTable[l])%(this.modulus-1)]}getSize(){return this.modulus}equals(a){return a===this}}class Ml extends Rl{constructor(a,l){super(),this.modulus=a,this.expTable=new Int32Array(a),this.logTable=new Int32Array(a);let c=1;for(let h=0;h<a;h++)this.expTable[h]=c,c=c*l%a;for(let h=0;h<a-1;h++)this.logTable[this.expTable[h]]=h;this.zero=new Jn(this,new Int32Array([0])),this.one=new Jn(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(a,l){if(a<0)throw new x;if(l===0)return this.zero;let c=new Int32Array(a+1);return c[0]=l,new Jn(this,c)}}Ml.PDF417_GF=new Ml(It.NUMBER_OF_CODEWORDS,3);class Pc{constructor(){this.field=Ml.PDF417_GF}decode(a,l,c){let h=new Jn(this.field,a),p=new Int32Array(l),g=!1;for(let xe=l;xe>0;xe--){let we=h.evaluateAt(this.field.exp(xe));p[l-xe]=we,we!==0&&(g=!0)}if(!g)return 0;let w=this.field.getOne();if(c!=null)for(const xe of c){let we=this.field.exp(a.length-1-xe),_e=new Jn(this.field,new Int32Array([this.field.subtract(0,we),1]));w=w.multiply(_e)}let N=new Jn(this.field,p),T=this.runEuclideanAlgorithm(this.field.buildMonomial(l,1),N,l),j=T[0],F=T[1],Y=this.findErrorLocations(j),ce=this.findErrorMagnitudes(F,j,Y);for(let xe=0;xe<Y.length;xe++){let we=a.length-1-this.field.log(Y[xe]);if(we<0)throw b.getChecksumInstance();a[we]=this.field.subtract(a[we],ce[xe])}return Y.length}runEuclideanAlgorithm(a,l,c){if(a.getDegree()<l.getDegree()){let Y=a;a=l,l=Y}let h=a,p=l,g=this.field.getZero(),w=this.field.getOne();for(;p.getDegree()>=Math.round(c/2);){let Y=h,ce=g;if(h=p,g=w,h.isZero())throw b.getChecksumInstance();p=Y;let xe=this.field.getZero(),we=h.getCoefficient(h.getDegree()),_e=this.field.inverse(we);for(;p.getDegree()>=h.getDegree()&&!p.isZero();){let Fe=p.getDegree()-h.getDegree(),tt=this.field.multiply(p.getCoefficient(p.getDegree()),_e);xe=xe.add(this.field.buildMonomial(Fe,tt)),p=p.subtract(h.multiplyByMonomial(Fe,tt))}w=xe.multiply(g).subtract(ce).negative()}let N=w.getCoefficient(0);if(N===0)throw b.getChecksumInstance();let T=this.field.inverse(N),j=w.multiply(T),F=p.multiply(T);return[j,F]}findErrorLocations(a){let l=a.getDegree(),c=new Int32Array(l),h=0;for(let p=1;p<this.field.getSize()&&h<l;p++)a.evaluateAt(p)===0&&(c[h]=this.field.inverse(p),h++);if(h!==l)throw b.getChecksumInstance();return c}findErrorMagnitudes(a,l,c){let h=l.getDegree(),p=new Int32Array(h);for(let T=1;T<=h;T++)p[h-T]=this.field.multiply(T,l.getCoefficient(T));let g=new Jn(this.field,p),w=c.length,N=new Int32Array(w);for(let T=0;T<w;T++){let j=this.field.inverse(c[T]),F=this.field.subtract(0,a.evaluateAt(j)),Y=this.field.inverse(g.evaluateAt(j));N[T]=this.field.multiply(F,Y)}return N}}class Zs{constructor(a,l,c,h,p){a instanceof Zs?this.constructor_2(a):this.constructor_1(a,l,c,h,p)}constructor_1(a,l,c,h,p){const g=l==null||c==null,w=h==null||p==null;if(g&&w)throw new J;g?(l=new ae(0,h.getY()),c=new ae(0,p.getY())):w&&(h=new ae(a.getWidth()-1,l.getY()),p=new ae(a.getWidth()-1,c.getY())),this.image=a,this.topLeft=l,this.bottomLeft=c,this.topRight=h,this.bottomRight=p,this.minX=Math.trunc(Math.min(l.getX(),c.getX())),this.maxX=Math.trunc(Math.max(h.getX(),p.getX())),this.minY=Math.trunc(Math.min(l.getY(),h.getY())),this.maxY=Math.trunc(Math.max(c.getY(),p.getY()))}constructor_2(a){this.image=a.image,this.topLeft=a.getTopLeft(),this.bottomLeft=a.getBottomLeft(),this.topRight=a.getTopRight(),this.bottomRight=a.getBottomRight(),this.minX=a.getMinX(),this.maxX=a.getMaxX(),this.minY=a.getMinY(),this.maxY=a.getMaxY()}static merge(a,l){return a==null?l:l==null?a:new Zs(a.image,a.topLeft,a.bottomLeft,l.topRight,l.bottomRight)}addMissingRows(a,l,c){let h=this.topLeft,p=this.bottomLeft,g=this.topRight,w=this.bottomRight;if(a>0){let N=c?this.topLeft:this.topRight,T=Math.trunc(N.getY()-a);T<0&&(T=0);let j=new ae(N.getX(),T);c?h=j:g=j}if(l>0){let N=c?this.bottomLeft:this.bottomRight,T=Math.trunc(N.getY()+l);T>=this.image.getHeight()&&(T=this.image.getHeight()-1);let j=new ae(N.getX(),T);c?p=j:w=j}return new Zs(this.image,h,p,g,w)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Bl{constructor(a,l,c,h){this.columnCount=a,this.errorCorrectionLevel=h,this.rowCountUpperPart=l,this.rowCountLowerPart=c,this.rowCount=l+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class ds{constructor(){this.buffer=""}static form(a,l){let c=-1;function h(g,w,N,T,j,F){if(g==="%%")return"%";if(l[++c]===void 0)return;g=T?parseInt(T.substr(1)):void 0;let Y=j?parseInt(j.substr(1)):void 0,ce;switch(F){case"s":ce=l[c];break;case"c":ce=l[c][0];break;case"f":ce=parseFloat(l[c]).toFixed(g);break;case"p":ce=parseFloat(l[c]).toPrecision(g);break;case"e":ce=parseFloat(l[c]).toExponential(g);break;case"x":ce=parseInt(l[c]).toString(Y||16);break;case"d":ce=parseFloat(parseInt(l[c],Y||10).toPrecision(g)).toFixed(0);break}ce=typeof ce=="object"?JSON.stringify(ce):(+ce).toString(Y);let xe=parseInt(N),we=N&&N[0]+""=="0"?"0":" ";for(;ce.length<xe;)ce=w!==void 0?ce+we:we+ce;return ce}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return a.replace(p,h)}format(a,...l){this.buffer+=ds.form(a,l)}toString(){return this.buffer}}class Yi{constructor(a){this.boundingBox=new Zs(a),this.codewords=new Array(a.getMaxY()-a.getMinY()+1)}getCodewordNearby(a){let l=this.getCodeword(a);if(l!=null)return l;for(let c=1;c<Yi.MAX_NEARBY_DISTANCE;c++){let h=this.imageRowToCodewordIndex(a)-c;if(h>=0&&(l=this.codewords[h],l!=null)||(h=this.imageRowToCodewordIndex(a)+c,h<this.codewords.length&&(l=this.codewords[h],l!=null)))return l}return null}imageRowToCodewordIndex(a){return a-this.boundingBox.getMinY()}setCodeword(a,l){this.codewords[this.imageRowToCodewordIndex(a)]=l}getCodeword(a){return this.codewords[this.imageRowToCodewordIndex(a)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const a=new ds;let l=0;for(const c of this.codewords){if(c==null){a.format("%3d:    |   %n",l++);continue}a.format("%3d: %3d|%3d%n",l++,c.getRowNumber(),c.getValue())}return a.toString()}}Yi.MAX_NEARBY_DISTANCE=5;class Wa{constructor(){this.values=new Map}setValue(a){a=Math.trunc(a);let l=this.values.get(a);l==null&&(l=0),l++,this.values.set(a,l)}getValue(){let a=-1,l=new Array;for(const[c,h]of this.values.entries()){const p={getKey:()=>c,getValue:()=>h};p.getValue()>a?(a=p.getValue(),l=[],l.push(p.getKey())):p.getValue()===a&&l.push(p.getKey())}return It.toIntArray(l)}getConfidence(a){return this.values.get(a)}}class va extends Yi{constructor(a,l){super(a),this._isLeft=l}setRowNumbers(){for(let a of this.getCodewords())a!=null&&a.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(a){let l=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(l,a);let c=this.getBoundingBox(),h=this._isLeft?c.getTopLeft():c.getTopRight(),p=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=this.imageRowToCodewordIndex(Math.trunc(p.getY())),N=-1,T=1,j=0;for(let F=g;F<w;F++){if(l[F]==null)continue;let Y=l[F],ce=Y.getRowNumber()-N;if(ce===0)j++;else if(ce===1)T=Math.max(T,j),j=1,N=Y.getRowNumber();else if(ce<0||Y.getRowNumber()>=a.getRowCount()||ce>F)l[F]=null;else{let xe;T>2?xe=(T-2)*ce:xe=ce;let we=xe>=F;for(let _e=1;_e<=xe&&!we;_e++)we=l[F-_e]!=null;we?l[F]=null:(N=Y.getRowNumber(),j=1)}}}getRowHeights(){let a=this.getBarcodeMetadata();if(a==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(a);let l=new Int32Array(a.getRowCount());for(let c of this.getCodewords())if(c!=null){let h=c.getRowNumber();if(h>=l.length)continue;l[h]++}return l}adjustIncompleteIndicatorColumnRowNumbers(a){let l=this.getBoundingBox(),c=this._isLeft?l.getTopLeft():l.getTopRight(),h=this._isLeft?l.getBottomLeft():l.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(h.getY())),w=this.getCodewords(),N=-1;for(let T=p;T<g;T++){if(w[T]==null)continue;let j=w[T];j.setRowNumberAsRowIndicatorColumn();let F=j.getRowNumber()-N;F===0||(F===1?N=j.getRowNumber():j.getRowNumber()>=a.getRowCount()?w[T]=null:N=j.getRowNumber())}}getBarcodeMetadata(){let a=this.getCodewords(),l=new Wa,c=new Wa,h=new Wa,p=new Wa;for(let w of a){if(w==null)continue;w.setRowNumberAsRowIndicatorColumn();let N=w.getValue()%30,T=w.getRowNumber();switch(this._isLeft||(T+=2),T%3){case 0:c.setValue(N*3+1);break;case 1:p.setValue(N/3),h.setValue(N%3);break;case 2:l.setValue(N+1);break}}if(l.getValue().length===0||c.getValue().length===0||h.getValue().length===0||p.getValue().length===0||l.getValue()[0]<1||c.getValue()[0]+h.getValue()[0]<It.MIN_ROWS_IN_BARCODE||c.getValue()[0]+h.getValue()[0]>It.MAX_ROWS_IN_BARCODE)return null;let g=new Bl(l.getValue()[0],c.getValue()[0],h.getValue()[0],p.getValue()[0]);return this.removeIncorrectCodewords(a,g),g}removeIncorrectCodewords(a,l){for(let c=0;c<a.length;c++){let h=a[c];if(a[c]==null)continue;let p=h.getValue()%30,g=h.getRowNumber();if(g>l.getRowCount()){a[c]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:p*3+1!==l.getRowCountUpperPart()&&(a[c]=null);break;case 1:(Math.trunc(p/3)!==l.getErrorCorrectionLevel()||p%3!==l.getRowCountLowerPart())&&(a[c]=null);break;case 2:p+1!==l.getColumnCount()&&(a[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Qs{constructor(a,l){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=a,this.barcodeColumnCount=a.getColumnCount(),this.boundingBox=l,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let a=It.MAX_CODEWORDS_IN_BARCODE,l;do l=a,a=this.adjustRowNumbersAndGetCount();while(a>0&&a<l);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(a){a!=null&&a.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let a=this.adjustRowNumbersByRow();if(a===0)return 0;for(let l=1;l<this.barcodeColumnCount+1;l++){let c=this.detectionResultColumns[l].getCodewords();for(let h=0;h<c.length;h++)c[h]!=null&&(c[h].hasValidRowNumber()||this.adjustRowNumbers(l,h,c))}return a}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let a=this.detectionResultColumns[0].getCodewords(),l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<a.length;c++)if(a[c]!=null&&l[c]!=null&&a[c].getRowNumber()===l[c].getRowNumber())for(let h=1;h<=this.barcodeColumnCount;h++){let p=this.detectionResultColumns[h].getCodewords()[c];p!=null&&(p.setRowNumber(a[c].getRowNumber()),p.hasValidRowNumber()||(this.detectionResultColumns[h].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let a=0,l=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let h=l[c].getRowNumber(),p=0;for(let g=this.barcodeColumnCount+1;g>0&&p<this.ADJUST_ROW_NUMBER_SKIP;g--){let w=this.detectionResultColumns[g].getCodewords()[c];w!=null&&(p=Qs.adjustRowNumberIfValid(h,p,w),w.hasValidRowNumber()||a++)}}return a}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let a=0,l=this.detectionResultColumns[0].getCodewords();for(let c=0;c<l.length;c++){if(l[c]==null)continue;let h=l[c].getRowNumber(),p=0;for(let g=1;g<this.barcodeColumnCount+1&&p<this.ADJUST_ROW_NUMBER_SKIP;g++){let w=this.detectionResultColumns[g].getCodewords()[c];w!=null&&(p=Qs.adjustRowNumberIfValid(h,p,w),w.hasValidRowNumber()||a++)}}return a}static adjustRowNumberIfValid(a,l,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(a)?(c.setRowNumber(a),l=0):++l),l}adjustRowNumbers(a,l,c){if(!this.detectionResultColumns[a-1])return;let h=c[l],p=this.detectionResultColumns[a-1].getCodewords(),g=p;this.detectionResultColumns[a+1]!=null&&(g=this.detectionResultColumns[a+1].getCodewords());let w=new Array(14);w[2]=p[l],w[3]=g[l],l>0&&(w[0]=c[l-1],w[4]=p[l-1],w[5]=g[l-1]),l>1&&(w[8]=c[l-2],w[10]=p[l-2],w[11]=g[l-2]),l<c.length-1&&(w[1]=c[l+1],w[6]=p[l+1],w[7]=g[l+1]),l<c.length-2&&(w[9]=c[l+2],w[12]=p[l+2],w[13]=g[l+2]);for(let N of w)if(Qs.adjustRowNumber(h,N))return}static adjustRowNumber(a,l){return l==null?!1:l.hasValidRowNumber()&&l.getBucket()===a.getBucket()?(a.setRowNumber(l.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(a){this.boundingBox=a}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(a,l){this.detectionResultColumns[a]=l}getDetectionResultColumn(a){return this.detectionResultColumns[a]}toString(){let a=this.detectionResultColumns[0];a==null&&(a=this.detectionResultColumns[this.barcodeColumnCount+1]);let l=new ds;for(let c=0;c<a.getCodewords().length;c++){l.format("CW %3d:",c);for(let h=0;h<this.barcodeColumnCount+2;h++){if(this.detectionResultColumns[h]==null){l.format("    |   ");continue}let p=this.detectionResultColumns[h].getCodewords()[c];if(p==null){l.format("    |   ");continue}l.format(" %3d|%3d",p.getRowNumber(),p.getValue())}l.format("%n")}return l.toString()}}class Os{constructor(a,l,c,h){this.rowNumber=Os.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(a),this.endX=Math.trunc(l),this.bucket=Math.trunc(c),this.value=Math.trunc(h)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(a){return a!==Os.BARCODE_ROW_UNKNOWN&&this.bucket===a%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(a){this.rowNumber=a}toString(){return this.rowNumber+"|"+this.value}}Os.BARCODE_ROW_UNKNOWN=-1;class qr{static initialize(){for(let a=0;a<It.SYMBOL_TABLE.length;a++){let l=It.SYMBOL_TABLE[a],c=l&1;for(let h=0;h<It.BARS_IN_MODULE;h++){let p=0;for(;(l&1)===c;)p+=1,l>>=1;c=l&1,qr.RATIOS_TABLE[a]||(qr.RATIOS_TABLE[a]=new Array(It.BARS_IN_MODULE)),qr.RATIOS_TABLE[a][It.BARS_IN_MODULE-h-1]=Math.fround(p/It.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(a){let l=qr.getDecodedCodewordValue(qr.sampleBitCounts(a));return l!==-1?l:qr.getClosestDecodedValue(a)}static sampleBitCounts(a){let l=ze.sum(a),c=new Int32Array(It.BARS_IN_MODULE),h=0,p=0;for(let g=0;g<It.MODULES_IN_CODEWORD;g++){let w=l/(2*It.MODULES_IN_CODEWORD)+g*l/It.MODULES_IN_CODEWORD;p+a[h]<=w&&(p+=a[h],h++),c[h]++}return c}static getDecodedCodewordValue(a){let l=qr.getBitValue(a);return It.getCodeword(l)===-1?-1:l}static getBitValue(a){let l=0;for(let c=0;c<a.length;c++)for(let h=0;h<a[c];h++)l=l<<1|(c%2===0?1:0);return Math.trunc(l)}static getClosestDecodedValue(a){let l=ze.sum(a),c=new Array(It.BARS_IN_MODULE);if(l>1)for(let g=0;g<c.length;g++)c[g]=Math.fround(a[g]/l);let h=re.MAX_VALUE,p=-1;this.bSymbolTableReady||qr.initialize();for(let g=0;g<qr.RATIOS_TABLE.length;g++){let w=0,N=qr.RATIOS_TABLE[g];for(let T=0;T<It.BARS_IN_MODULE;T++){let j=Math.fround(N[T]-c[T]);if(w+=Math.fround(j*j),w>=h)break}w<h&&(h=w,p=It.SYMBOL_TABLE[g])}return p}}qr.bSymbolTableReady=!1,qr.RATIOS_TABLE=new Array(It.SYMBOL_TABLE.length).map(U=>new Array(It.BARS_IN_MODULE));class Fl{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(a){this.segmentIndex=a}getFileId(){return this.fileId}setFileId(a){this.fileId=a}getOptionalData(){return this.optionalData}setOptionalData(a){this.optionalData=a}isLastSegment(){return this.lastSegment}setLastSegment(a){this.lastSegment=a}getSegmentCount(){return this.segmentCount}setSegmentCount(a){this.segmentCount=a}getSender(){return this.sender||null}setSender(a){this.sender=a}getAddressee(){return this.addressee||null}setAddressee(a){this.addressee=a}getFileName(){return this.fileName}setFileName(a){this.fileName=a}getFileSize(){return this.fileSize}setFileSize(a){this.fileSize=a}getChecksum(){return this.checksum}setChecksum(a){this.checksum=a}getTimestamp(){return this.timestamp}setTimestamp(a){this.timestamp=a}}class Ul{static parseLong(a,l=void 0){return parseInt(a,l)}}class Vl extends f{}Vl.kind="NullPointerException";class Ds{writeBytes(a){this.writeBytesOffset(a,0,a.length)}writeBytesOffset(a,l,c){if(a==null)throw new Vl;if(l<0||l>a.length||c<0||l+c>a.length||l+c<0)throw new O;if(c===0)return;for(let h=0;h<c;h++)this.write(a[l+h])}flush(){}close(){}}class Js extends f{}class Zu extends Ds{constructor(a=32){if(super(),this.count=0,a<0)throw new x("Negative initial size: "+a);this.buf=new Uint8Array(a)}ensureCapacity(a){a-this.buf.length>0&&this.grow(a)}grow(a){let c=this.buf.length<<1;if(c-a<0&&(c=a),c<0){if(a<0)throw new Js;c=L.MAX_VALUE}this.buf=_.copyOfUint8Array(this.buf,c)}write(a){this.ensureCapacity(this.count+1),this.buf[this.count]=a,this.count+=1}writeBytesOffset(a,l,c){if(l<0||l>a.length||c<0||l+c-a.length>0)throw new O;this.ensureCapacity(this.count+c),I.arraycopy(a,l,this.buf,this.count,c),this.count+=c}writeTo(a){a.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return _.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(a){return a?typeof a=="string"?this.toString_string(a):this.toString_number(a):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(a){return new String(this.buf).toString()}toString_number(a){return new String(this.buf).toString()}close(){}}var nn;(function(U){U[U.ALPHA=0]="ALPHA",U[U.LOWER=1]="LOWER",U[U.MIXED=2]="MIXED",U[U.PUNCT=3]="PUNCT",U[U.ALPHA_SHIFT=4]="ALPHA_SHIFT",U[U.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(nn||(nn={}));function Xi(){if(typeof window<"u")return window.BigInt||null;if(typeof mi<"u")return mi.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let wa;function Ai(U){if(typeof wa>"u"&&(wa=Xi()),wa===null)throw new Error("BigInt is not supported!");return wa(U)}function Qu(){let U=[];U[0]=Ai(1);let a=Ai(900);U[1]=a;for(let l=2;l<16;l++)U[l]=U[l-1]*a;return U}class Be{static decode(a,l){let c=new ee(""),h=$.ISO8859_1;c.enableDecoding(h);let p=1,g=a[p++],w=new Fl;for(;p<a[0];){switch(g){case Be.TEXT_COMPACTION_MODE_LATCH:p=Be.textCompaction(a,p,c);break;case Be.BYTE_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH_6:p=Be.byteCompaction(g,a,h,p,c);break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(a[p++]);break;case Be.NUMERIC_COMPACTION_MODE_LATCH:p=Be.numericCompaction(a,p,c);break;case Be.ECI_CHARSET:$.getCharacterSetECIByValue(a[p++]);break;case Be.ECI_GENERAL_PURPOSE:p+=2;break;case Be.ECI_USER_DEFINED:p++;break;case Be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:p=Be.decodeMacroBlock(a,p,w);break;case Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Be.MACRO_PDF417_TERMINATOR:throw new q;default:p--,p=Be.textCompaction(a,p,c);break}if(p<a.length)g=a[p++];else throw q.getFormatInstance()}if(c.length()===0)throw q.getFormatInstance();let N=new Oe(null,c.toString(),null,l);return N.setOther(w),N}static decodeMacroBlock(a,l,c){if(l+Be.NUMBER_OF_SEQUENCE_CODEWORDS>a[0])throw q.getFormatInstance();let h=new Int32Array(Be.NUMBER_OF_SEQUENCE_CODEWORDS);for(let w=0;w<Be.NUMBER_OF_SEQUENCE_CODEWORDS;w++,l++)h[w]=a[l];c.setSegmentIndex(L.parseInt(Be.decodeBase900toBase10(h,Be.NUMBER_OF_SEQUENCE_CODEWORDS)));let p=new ee;l=Be.textCompaction(a,l,p),c.setFileId(p.toString());let g=-1;for(a[l]===Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=l+1);l<a[0];)switch(a[l]){case Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(l++,a[l]){case Be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let w=new ee;l=Be.textCompaction(a,l+1,w),c.setFileName(w.toString());break;case Be.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let N=new ee;l=Be.textCompaction(a,l+1,N),c.setSender(N.toString());break;case Be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let T=new ee;l=Be.textCompaction(a,l+1,T),c.setAddressee(T.toString());break;case Be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let j=new ee;l=Be.numericCompaction(a,l+1,j),c.setSegmentCount(L.parseInt(j.toString()));break;case Be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let F=new ee;l=Be.numericCompaction(a,l+1,F),c.setTimestamp(Ul.parseLong(F.toString()));break;case Be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Y=new ee;l=Be.numericCompaction(a,l+1,Y),c.setChecksum(L.parseInt(Y.toString()));break;case Be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ce=new ee;l=Be.numericCompaction(a,l+1,ce),c.setFileSize(Ul.parseLong(ce.toString()));break;default:throw q.getFormatInstance()}break;case Be.MACRO_PDF417_TERMINATOR:l++,c.setLastSegment(!0);break;default:throw q.getFormatInstance()}if(g!==-1){let w=l-g;c.isLastSegment()&&w--,c.setOptionalData(_.copyOfRange(a,g,g+w))}return l}static textCompaction(a,l,c){let h=new Int32Array((a[0]-l)*2),p=new Int32Array((a[0]-l)*2),g=0,w=!1;for(;l<a[0]&&!w;){let N=a[l++];if(N<Be.TEXT_COMPACTION_MODE_LATCH)h[g]=N/30,h[g+1]=N%30,g+=2;else switch(N){case Be.TEXT_COMPACTION_MODE_LATCH:h[g++]=Be.TEXT_COMPACTION_MODE_LATCH;break;case Be.BYTE_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH_6:case Be.NUMERIC_COMPACTION_MODE_LATCH:case Be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Be.MACRO_PDF417_TERMINATOR:l--,w=!0;break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h[g]=Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,N=a[l++],p[g]=N,g++;break}}return Be.decodeTextCompaction(h,p,g,c),l}static decodeTextCompaction(a,l,c,h){let p=nn.ALPHA,g=nn.ALPHA,w=0;for(;w<c;){let N=a[w],T="";switch(p){case nn.ALPHA:if(N<26)T=String.fromCharCode(65+N);else switch(N){case 26:T=" ";break;case Be.LL:p=nn.LOWER;break;case Be.ML:p=nn.MIXED;break;case Be.PS:g=p,p=nn.PUNCT_SHIFT;break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[w]);break;case Be.TEXT_COMPACTION_MODE_LATCH:p=nn.ALPHA;break}break;case nn.LOWER:if(N<26)T=String.fromCharCode(97+N);else switch(N){case 26:T=" ";break;case Be.AS:g=p,p=nn.ALPHA_SHIFT;break;case Be.ML:p=nn.MIXED;break;case Be.PS:g=p,p=nn.PUNCT_SHIFT;break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[w]);break;case Be.TEXT_COMPACTION_MODE_LATCH:p=nn.ALPHA;break}break;case nn.MIXED:if(N<Be.PL)T=Be.MIXED_CHARS[N];else switch(N){case Be.PL:p=nn.PUNCT;break;case 26:T=" ";break;case Be.LL:p=nn.LOWER;break;case Be.AL:p=nn.ALPHA;break;case Be.PS:g=p,p=nn.PUNCT_SHIFT;break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[w]);break;case Be.TEXT_COMPACTION_MODE_LATCH:p=nn.ALPHA;break}break;case nn.PUNCT:if(N<Be.PAL)T=Be.PUNCT_CHARS[N];else switch(N){case Be.PAL:p=nn.ALPHA;break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[w]);break;case Be.TEXT_COMPACTION_MODE_LATCH:p=nn.ALPHA;break}break;case nn.ALPHA_SHIFT:if(p=g,N<26)T=String.fromCharCode(65+N);else switch(N){case 26:T=" ";break;case Be.TEXT_COMPACTION_MODE_LATCH:p=nn.ALPHA;break}break;case nn.PUNCT_SHIFT:if(p=g,N<Be.PAL)T=Be.PUNCT_CHARS[N];else switch(N){case Be.PAL:p=nn.ALPHA;break;case Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:h.append(l[w]);break;case Be.TEXT_COMPACTION_MODE_LATCH:p=nn.ALPHA;break}break}T!==""&&h.append(T),w++}}static byteCompaction(a,l,c,h,p){let g=new Zu,w=0,N=0,T=!1;switch(a){case Be.BYTE_COMPACTION_MODE_LATCH:let j=new Int32Array(6),F=l[h++];for(;h<l[0]&&!T;)switch(j[w++]=F,N=900*N+F,F=l[h++],F){case Be.TEXT_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH:case Be.NUMERIC_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH_6:case Be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Be.MACRO_PDF417_TERMINATOR:h--,T=!0;break;default:if(w%5===0&&w>0){for(let Y=0;Y<6;++Y)g.write(Number(Ai(N)>>Ai(8*(5-Y))));N=0,w=0}break}h===l[0]&&F<Be.TEXT_COMPACTION_MODE_LATCH&&(j[w++]=F);for(let Y=0;Y<w;Y++)g.write(j[Y]);break;case Be.BYTE_COMPACTION_MODE_LATCH_6:for(;h<l[0]&&!T;){let Y=l[h++];if(Y<Be.TEXT_COMPACTION_MODE_LATCH)w++,N=900*N+Y;else switch(Y){case Be.TEXT_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH:case Be.NUMERIC_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH_6:case Be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Be.MACRO_PDF417_TERMINATOR:h--,T=!0;break}if(w%5===0&&w>0){for(let ce=0;ce<6;++ce)g.write(Number(Ai(N)>>Ai(8*(5-ce))));N=0,w=0}}break}return p.append(W.decode(g.toByteArray(),c)),h}static numericCompaction(a,l,c){let h=0,p=!1,g=new Int32Array(Be.MAX_NUMERIC_CODEWORDS);for(;l<a[0]&&!p;){let w=a[l++];if(l===a[0]&&(p=!0),w<Be.TEXT_COMPACTION_MODE_LATCH)g[h]=w,h++;else switch(w){case Be.TEXT_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH:case Be.BYTE_COMPACTION_MODE_LATCH_6:case Be.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Be.MACRO_PDF417_TERMINATOR:l--,p=!0;break}(h%Be.MAX_NUMERIC_CODEWORDS===0||w===Be.NUMERIC_COMPACTION_MODE_LATCH||p)&&h>0&&(c.append(Be.decodeBase900toBase10(g,h)),h=0)}return l}static decodeBase900toBase10(a,l){let c=Ai(0);for(let p=0;p<l;p++)c+=Be.EXP900[l-p-1]*Ai(a[p]);let h=c.toString();if(h.charAt(0)!=="1")throw new q;return h.substring(1)}}Be.TEXT_COMPACTION_MODE_LATCH=900,Be.BYTE_COMPACTION_MODE_LATCH=901,Be.NUMERIC_COMPACTION_MODE_LATCH=902,Be.BYTE_COMPACTION_MODE_LATCH_6=924,Be.ECI_USER_DEFINED=925,Be.ECI_GENERAL_PURPOSE=926,Be.ECI_CHARSET=927,Be.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Be.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Be.MACRO_PDF417_TERMINATOR=922,Be.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Be.MAX_NUMERIC_CODEWORDS=15,Be.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Be.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Be.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Be.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Be.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Be.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Be.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Be.PL=25,Be.LL=27,Be.AS=27,Be.ML=28,Be.AL=28,Be.PS=29,Be.PAL=29,Be.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Be.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Be.EXP900=Xi()?Qu():[],Be.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Yt{constructor(){}static decode(a,l,c,h,p,g,w){let N=new Zs(a,l,c,h,p),T=null,j=null,F;for(let xe=!0;;xe=!1){if(l!=null&&(T=Yt.getRowIndicatorColumn(a,N,l,!0,g,w)),h!=null&&(j=Yt.getRowIndicatorColumn(a,N,h,!1,g,w)),F=Yt.merge(T,j),F==null)throw J.getNotFoundInstance();let we=F.getBoundingBox();if(xe&&we!=null&&(we.getMinY()<N.getMinY()||we.getMaxY()>N.getMaxY()))N=we;else break}F.setBoundingBox(N);let Y=F.getBarcodeColumnCount()+1;F.setDetectionResultColumn(0,T),F.setDetectionResultColumn(Y,j);let ce=T!=null;for(let xe=1;xe<=Y;xe++){let we=ce?xe:Y-xe;if(F.getDetectionResultColumn(we)!==void 0)continue;let _e;we===0||we===Y?_e=new va(N,we===0):_e=new Yi(N),F.setDetectionResultColumn(we,_e);let Fe=-1,tt=Fe;for(let st=N.getMinY();st<=N.getMaxY();st++){if(Fe=Yt.getStartColumn(F,we,st,ce),Fe<0||Fe>N.getMaxX()){if(tt===-1)continue;Fe=tt}let nt=Yt.detectCodeword(a,N.getMinX(),N.getMaxX(),ce,Fe,st,g,w);nt!=null&&(_e.setCodeword(st,nt),tt=Fe,g=Math.min(g,nt.getWidth()),w=Math.max(w,nt.getWidth()))}}return Yt.createDecoderResult(F)}static merge(a,l){if(a==null&&l==null)return null;let c=Yt.getBarcodeMetadata(a,l);if(c==null)return null;let h=Zs.merge(Yt.adjustBoundingBox(a),Yt.adjustBoundingBox(l));return new Qs(c,h)}static adjustBoundingBox(a){if(a==null)return null;let l=a.getRowHeights();if(l==null)return null;let c=Yt.getMax(l),h=0;for(let w of l)if(h+=c-w,w>0)break;let p=a.getCodewords();for(let w=0;h>0&&p[w]==null;w++)h--;let g=0;for(let w=l.length-1;w>=0&&(g+=c-l[w],!(l[w]>0));w--);for(let w=p.length-1;g>0&&p[w]==null;w--)g--;return a.getBoundingBox().addMissingRows(h,g,a.isLeft())}static getMax(a){let l=-1;for(let c of a)l=Math.max(l,c);return l}static getBarcodeMetadata(a,l){let c;if(a==null||(c=a.getBarcodeMetadata())==null)return l==null?null:l.getBarcodeMetadata();let h;return l==null||(h=l.getBarcodeMetadata())==null?c:c.getColumnCount()!==h.getColumnCount()&&c.getErrorCorrectionLevel()!==h.getErrorCorrectionLevel()&&c.getRowCount()!==h.getRowCount()?null:c}static getRowIndicatorColumn(a,l,c,h,p,g){let w=new va(l,h);for(let N=0;N<2;N++){let T=N===0?1:-1,j=Math.trunc(Math.trunc(c.getX()));for(let F=Math.trunc(Math.trunc(c.getY()));F<=l.getMaxY()&&F>=l.getMinY();F+=T){let Y=Yt.detectCodeword(a,0,a.getWidth(),h,j,F,p,g);Y!=null&&(w.setCodeword(F,Y),h?j=Y.getStartX():j=Y.getEndX())}}return w}static adjustCodewordCount(a,l){let c=l[0][1],h=c.getValue(),p=a.getBarcodeColumnCount()*a.getBarcodeRowCount()-Yt.getNumberOfECCodeWords(a.getBarcodeECLevel());if(h.length===0){if(p<1||p>It.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();c.setValue(p)}else h[0]!==p&&c.setValue(p)}static createDecoderResult(a){let l=Yt.createBarcodeMatrix(a);Yt.adjustCodewordCount(a,l);let c=new Array,h=new Int32Array(a.getBarcodeRowCount()*a.getBarcodeColumnCount()),p=[],g=new Array;for(let N=0;N<a.getBarcodeRowCount();N++)for(let T=0;T<a.getBarcodeColumnCount();T++){let j=l[N][T+1].getValue(),F=N*a.getBarcodeColumnCount()+T;j.length===0?c.push(F):j.length===1?h[F]=j[0]:(g.push(F),p.push(j))}let w=new Array(p.length);for(let N=0;N<w.length;N++)w[N]=p[N];return Yt.createDecoderResultFromAmbiguousValues(a.getBarcodeECLevel(),h,It.toIntArray(c),It.toIntArray(g),w)}static createDecoderResultFromAmbiguousValues(a,l,c,h,p){let g=new Int32Array(h.length),w=100;for(;w-- >0;){for(let N=0;N<g.length;N++)l[h[N]]=p[N][g[N]];try{return Yt.decodeCodewords(l,a,c)}catch(N){if(!(N instanceof b))throw N}if(g.length===0)throw b.getChecksumInstance();for(let N=0;N<g.length;N++)if(g[N]<p[N].length-1){g[N]++;break}else if(g[N]=0,N===g.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(a){let l=Array.from({length:a.getBarcodeRowCount()},()=>new Array(a.getBarcodeColumnCount()+2));for(let h=0;h<l.length;h++)for(let p=0;p<l[h].length;p++)l[h][p]=new Wa;let c=0;for(let h of a.getDetectionResultColumns()){if(h!=null){for(let p of h.getCodewords())if(p!=null){let g=p.getRowNumber();if(g>=0){if(g>=l.length)continue;l[g][c].setValue(p.getValue())}}}c++}return l}static isValidBarcodeColumn(a,l){return l>=0&&l<=a.getBarcodeColumnCount()+1}static getStartColumn(a,l,c,h){let p=h?1:-1,g=null;if(Yt.isValidBarcodeColumn(a,l-p)&&(g=a.getDetectionResultColumn(l-p).getCodeword(c)),g!=null)return h?g.getEndX():g.getStartX();if(g=a.getDetectionResultColumn(l).getCodewordNearby(c),g!=null)return h?g.getStartX():g.getEndX();if(Yt.isValidBarcodeColumn(a,l-p)&&(g=a.getDetectionResultColumn(l-p).getCodewordNearby(c)),g!=null)return h?g.getEndX():g.getStartX();let w=0;for(;Yt.isValidBarcodeColumn(a,l-p);){l-=p;for(let N of a.getDetectionResultColumn(l).getCodewords())if(N!=null)return(h?N.getEndX():N.getStartX())+p*w*(N.getEndX()-N.getStartX());w++}return h?a.getBoundingBox().getMinX():a.getBoundingBox().getMaxX()}static detectCodeword(a,l,c,h,p,g,w,N){p=Yt.adjustCodewordStartColumn(a,l,c,h,p,g);let T=Yt.getModuleBitCount(a,l,c,h,p,g);if(T==null)return null;let j,F=ze.sum(T);if(h)j=p+F;else{for(let xe=0;xe<T.length/2;xe++){let we=T[xe];T[xe]=T[T.length-1-xe],T[T.length-1-xe]=we}j=p,p=j-F}if(!Yt.checkCodewordSkew(F,w,N))return null;let Y=qr.getDecodedValue(T),ce=It.getCodeword(Y);return ce===-1?null:new Os(p,j,Yt.getCodewordBucketNumber(Y),ce)}static getModuleBitCount(a,l,c,h,p,g){let w=p,N=new Int32Array(8),T=0,j=h?1:-1,F=h;for(;(h?w<c:w>=l)&&T<N.length;)a.get(w,g)===F?(N[T]++,w+=j):(T++,F=!F);return T===N.length||w===(h?c:l)&&T===N.length-1?N:null}static getNumberOfECCodeWords(a){return 2<<a}static adjustCodewordStartColumn(a,l,c,h,p,g){let w=p,N=h?-1:1;for(let T=0;T<2;T++){for(;(h?w>=l:w<c)&&h===a.get(w,g);){if(Math.abs(p-w)>Yt.CODEWORD_SKEW_SIZE)return p;w+=N}N=-N,h=!h}return w}static checkCodewordSkew(a,l,c){return l-Yt.CODEWORD_SKEW_SIZE<=a&&a<=c+Yt.CODEWORD_SKEW_SIZE}static decodeCodewords(a,l,c){if(a.length===0)throw q.getFormatInstance();let h=1<<l+1,p=Yt.correctErrors(a,c,h);Yt.verifyCodewordCount(a,h);let g=Be.decode(a,""+l);return g.setErrorsCorrected(p),g.setErasures(c.length),g}static correctErrors(a,l,c){if(l!=null&&l.length>c/2+Yt.MAX_ERRORS||c<0||c>Yt.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return Yt.errorCorrection.decode(a,c,l)}static verifyCodewordCount(a,l){if(a.length<4)throw q.getFormatInstance();let c=a[0];if(c>a.length)throw q.getFormatInstance();if(c===0)if(l<a.length)a[0]=a.length-l;else throw q.getFormatInstance()}static getBitCountForCodeword(a){let l=new Int32Array(8),c=0,h=l.length-1;for(;!((a&1)!==c&&(c=a&1,h--,h<0));)l[h]++,a>>=1;return l}static getCodewordBucketNumber(a){return a instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(a):this.getCodewordBucketNumber_number(a)}static getCodewordBucketNumber_number(a){return Yt.getCodewordBucketNumber(Yt.getBitCountForCodeword(a))}static getCodewordBucketNumber_Int32Array(a){return(a[0]-a[2]+a[4]-a[6]+9)%9}static toString(a){let l=new ds;for(let c=0;c<a.length;c++){l.format("Row %2d: ",c);for(let h=0;h<a[c].length;h++){let p=a[c][h];p.getValue().length===0?l.format("        ",null):l.format("%4d(%2d)",p.getValue()[0],p.getConfidence(p.getValue()[0]))}l.format("%n")}return l.toString()}}Yt.CODEWORD_SKEW_SIZE=2,Yt.MAX_ERRORS=3,Yt.MAX_EC_CODEWORDS=512,Yt.errorCorrection=new Pc;class ar{decode(a,l=null){let c=ar.decode(a,l,!1);if(c==null||c.length===0||c[0]==null)throw J.getNotFoundInstance();return c[0]}decodeMultiple(a,l=null){try{return ar.decode(a,l,!0)}catch(c){throw c instanceof q||c instanceof b?J.getNotFoundInstance():c}}static decode(a,l,c){const h=new Array,p=qt.detectMultiple(a,l,c);for(const g of p.getPoints()){const w=Yt.decode(p.getBits(),g[4],g[5],g[6],g[7],ar.getMinCodewordWidth(g),ar.getMaxCodewordWidth(g)),N=new oe(w.getText(),w.getRawBytes(),void 0,g,he.PDF_417);N.putMetadata(Le.ERROR_CORRECTION_LEVEL,w.getECLevel());const T=w.getOther();T!=null&&N.putMetadata(Le.PDF417_EXTRA_METADATA,T),h.push(N)}return h.map(g=>g)}static getMaxWidth(a,l){return a==null||l==null?0:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMinWidth(a,l){return a==null||l==null?L.MAX_VALUE:Math.trunc(Math.abs(a.getX()-l.getX()))}static getMaxCodewordWidth(a){return Math.floor(Math.max(Math.max(ar.getMaxWidth(a[0],a[4]),ar.getMaxWidth(a[6],a[2])*It.MODULES_IN_CODEWORD/It.MODULES_IN_STOP_PATTERN),Math.max(ar.getMaxWidth(a[1],a[5]),ar.getMaxWidth(a[7],a[3])*It.MODULES_IN_CODEWORD/It.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(a){return Math.floor(Math.min(Math.min(ar.getMinWidth(a[0],a[4]),ar.getMinWidth(a[6],a[2])*It.MODULES_IN_CODEWORD/It.MODULES_IN_STOP_PATTERN),Math.min(ar.getMinWidth(a[1],a[5]),ar.getMinWidth(a[7],a[3])*It.MODULES_IN_CODEWORD/It.MODULES_IN_STOP_PATTERN)))}reset(){}}class ba extends f{}ba.kind="ReaderException";class zl{constructor(a,l){this.verbose=a===!0,l&&this.setHints(l)}decode(a,l){return l&&this.setHints(l),this.decodeInternal(a)}decodeWithState(a){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(a)}setHints(a){this.hints=a;const l=!r(a)&&a.get(ie.TRY_HARDER)===!0,c=r(a)?null:a.get(ie.POSSIBLE_FORMATS),h=new Array;if(!r(c)){const p=c.some(g=>g===he.UPC_A||g===he.UPC_E||g===he.EAN_13||g===he.EAN_8||g===he.CODABAR||g===he.CODE_39||g===he.CODE_93||g===he.CODE_128||g===he.ITF||g===he.RSS_14||g===he.RSS_EXPANDED);p&&!l&&h.push(new Ls(a,this.verbose)),c.includes(he.QR_CODE)&&h.push(new Ps),c.includes(he.DATA_MATRIX)&&h.push(new Rr),c.includes(he.AZTEC)&&h.push(new dt),c.includes(he.PDF_417)&&h.push(new ar),p&&l&&h.push(new Ls(a,this.verbose))}h.length===0&&(l||h.push(new Ls(a,this.verbose)),h.push(new Ps),h.push(new Rr),h.push(new dt),h.push(new ar),l&&h.push(new Ls(a,this.verbose))),this.readers=h}reset(){if(this.readers!==null)for(const a of this.readers)a.reset()}decodeInternal(a){if(this.readers===null)throw new ba("No readers where selected, nothing can be read.");for(const l of this.readers)try{return l.decode(a,this.hints)}catch(c){if(c instanceof ba)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class _o extends ne{constructor(a=null,l=500){const c=new zl;c.setHints(a),super(c,l)}decodeBitmap(a){return this.reader.decodeWithState(a)}}class Hl extends ne{constructor(a=500){super(new ar,a)}}class ql extends ne{constructor(a=500){super(new Ps,a)}}var To;(function(U){U[U.ERROR_CORRECTION=0]="ERROR_CORRECTION",U[U.CHARACTER_SET=1]="CHARACTER_SET",U[U.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",U[U.MIN_SIZE=3]="MIN_SIZE",U[U.MAX_SIZE=4]="MAX_SIZE",U[U.MARGIN=5]="MARGIN",U[U.PDF417_COMPACT=6]="PDF417_COMPACT",U[U.PDF417_COMPACTION=7]="PDF417_COMPACTION",U[U.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",U[U.AZTEC_LAYERS=9]="AZTEC_LAYERS",U[U.QR_VERSION=10]="QR_VERSION"})(To||(To={}));var or=To;class Aa{constructor(a){this.field=a,this.cachedGenerators=[],this.cachedGenerators.push(new Ge(a,Int32Array.from([1])))}buildGenerator(a){const l=this.cachedGenerators;if(a>=l.length){let c=l[l.length-1];const h=this.field;for(let p=l.length;p<=a;p++){const g=c.multiply(new Ge(h,Int32Array.from([1,h.exp(p-1+h.getGeneratorBase())])));l.push(g),c=g}}return l[a]}encode(a,l){if(l===0)throw new x("No error correction bytes");const c=a.length-l;if(c<=0)throw new x("No data bytes provided");const h=this.buildGenerator(l),p=new Int32Array(c);I.arraycopy(a,0,p,0,c);let g=new Ge(this.field,p);g=g.multiplyByMonomial(l,1);const N=g.divide(h)[1].getCoefficients(),T=l-N.length;for(let j=0;j<T;j++)a[c+j]=0;I.arraycopy(N,0,a,c+T,N.length)}}class Sn{constructor(){}static applyMaskPenaltyRule1(a){return Sn.applyMaskPenaltyRule1Internal(a,!0)+Sn.applyMaskPenaltyRule1Internal(a,!1)}static applyMaskPenaltyRule2(a){let l=0;const c=a.getArray(),h=a.getWidth(),p=a.getHeight();for(let g=0;g<p-1;g++){const w=c[g];for(let N=0;N<h-1;N++){const T=w[N];T===w[N+1]&&T===c[g+1][N]&&T===c[g+1][N+1]&&l++}}return Sn.N2*l}static applyMaskPenaltyRule3(a){let l=0;const c=a.getArray(),h=a.getWidth(),p=a.getHeight();for(let g=0;g<p;g++)for(let w=0;w<h;w++){const N=c[g];w+6<h&&N[w]===1&&N[w+1]===0&&N[w+2]===1&&N[w+3]===1&&N[w+4]===1&&N[w+5]===0&&N[w+6]===1&&(Sn.isWhiteHorizontal(N,w-4,w)||Sn.isWhiteHorizontal(N,w+7,w+11))&&l++,g+6<p&&c[g][w]===1&&c[g+1][w]===0&&c[g+2][w]===1&&c[g+3][w]===1&&c[g+4][w]===1&&c[g+5][w]===0&&c[g+6][w]===1&&(Sn.isWhiteVertical(c,w,g-4,g)||Sn.isWhiteVertical(c,w,g+7,g+11))&&l++}return l*Sn.N3}static isWhiteHorizontal(a,l,c){l=Math.max(l,0),c=Math.min(c,a.length);for(let h=l;h<c;h++)if(a[h]===1)return!1;return!0}static isWhiteVertical(a,l,c,h){c=Math.max(c,0),h=Math.min(h,a.length);for(let p=c;p<h;p++)if(a[p][l]===1)return!1;return!0}static applyMaskPenaltyRule4(a){let l=0;const c=a.getArray(),h=a.getWidth(),p=a.getHeight();for(let N=0;N<p;N++){const T=c[N];for(let j=0;j<h;j++)T[j]===1&&l++}const g=a.getHeight()*a.getWidth();return Math.floor(Math.abs(l*2-g)*10/g)*Sn.N4}static getDataMaskBit(a,l,c){let h,p;switch(a){case 0:h=c+l&1;break;case 1:h=c&1;break;case 2:h=l%3;break;case 3:h=(c+l)%3;break;case 4:h=Math.floor(c/2)+Math.floor(l/3)&1;break;case 5:p=c*l,h=(p&1)+p%3;break;case 6:p=c*l,h=(p&1)+p%3&1;break;case 7:p=c*l,h=p%3+(c+l&1)&1;break;default:throw new x("Invalid mask pattern: "+a)}return h===0}static applyMaskPenaltyRule1Internal(a,l){let c=0;const h=l?a.getHeight():a.getWidth(),p=l?a.getWidth():a.getHeight(),g=a.getArray();for(let w=0;w<h;w++){let N=0,T=-1;for(let j=0;j<p;j++){const F=l?g[w][j]:g[j][w];F===T?N++:(N>=5&&(c+=Sn.N1+(N-5)),N=1,T=F)}N>=5&&(c+=Sn.N1+(N-5))}return c}}Sn.N1=3,Sn.N2=3,Sn.N3=40,Sn.N4=10;class Sa{constructor(a,l){this.width=a,this.height=l;const c=new Array(l);for(let h=0;h!==l;h++)c[h]=new Uint8Array(a);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(a,l){return this.bytes[l][a]}getArray(){return this.bytes}setNumber(a,l,c){this.bytes[l][a]=c}setBoolean(a,l,c){this.bytes[l][a]=c?1:0}clear(a){for(const l of this.bytes)_.fill(l,a)}equals(a){if(!(a instanceof Sa))return!1;const l=a;if(this.width!==l.width||this.height!==l.height)return!1;for(let c=0,h=this.height;c<h;++c){const p=this.bytes[c],g=l.bytes[c];for(let w=0,N=this.width;w<N;++w)if(p[w]!==g[w])return!1}return!0}toString(){const a=new ee;for(let l=0,c=this.height;l<c;++l){const h=this.bytes[l];for(let p=0,g=this.width;p<g;++p)switch(h[p]){case 0:a.append(" 0");break;case 1:a.append(" 1");break;default:a.append("  ");break}a.append(`
`)}return a.toString()}}class Si{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const a=new ee;return a.append(`<<
`),a.append(" mode: "),a.append(this.mode?this.mode.toString():"null"),a.append(`
 ecLevel: `),a.append(this.ecLevel?this.ecLevel.toString():"null"),a.append(`
 version: `),a.append(this.version?this.version.toString():"null"),a.append(`
 maskPattern: `),a.append(this.maskPattern.toString()),this.matrix?(a.append(`
 matrix:
`),a.append(this.matrix.toString())):a.append(`
 matrix: null
`),a.append(`>>
`),a.toString()}setMode(a){this.mode=a}setECLevel(a){this.ecLevel=a}setVersion(a){this.version=a}setMaskPattern(a){this.maskPattern=a}setMatrix(a){this.matrix=a}static isValidMaskPattern(a){return a>=0&&a<Si.NUM_MASK_PATTERNS}}Si.NUM_MASK_PATTERNS=8;class mn extends f{}mn.kind="WriterException";class C{constructor(){}static clearMatrix(a){a.clear(255)}static buildMatrix(a,l,c,h,p){C.clearMatrix(p),C.embedBasicPatterns(c,p),C.embedTypeInfo(l,h,p),C.maybeEmbedVersionInfo(c,p),C.embedDataBits(a,h,p)}static embedBasicPatterns(a,l){C.embedPositionDetectionPatternsAndSeparators(l),C.embedDarkDotAtLeftBottomCorner(l),C.maybeEmbedPositionAdjustmentPatterns(a,l),C.embedTimingPatterns(l)}static embedTypeInfo(a,l,c){const h=new R;C.makeTypeInfoBits(a,l,h);for(let p=0,g=h.getSize();p<g;++p){const w=h.get(h.getSize()-1-p),N=C.TYPE_INFO_COORDINATES[p],T=N[0],j=N[1];if(c.setBoolean(T,j,w),p<8){const F=c.getWidth()-p-1;c.setBoolean(F,8,w)}else{const Y=c.getHeight()-7+(p-8);c.setBoolean(8,Y,w)}}}static maybeEmbedVersionInfo(a,l){if(a.getVersionNumber()<7)return;const c=new R;C.makeVersionInfoBits(a,c);let h=6*3-1;for(let p=0;p<6;++p)for(let g=0;g<3;++g){const w=c.get(h);h--,l.setBoolean(p,l.getHeight()-11+g,w),l.setBoolean(l.getHeight()-11+g,p,w)}}static embedDataBits(a,l,c){let h=0,p=-1,g=c.getWidth()-1,w=c.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);w>=0&&w<c.getHeight();){for(let N=0;N<2;++N){const T=g-N;if(!C.isEmpty(c.get(T,w)))continue;let j;h<a.getSize()?(j=a.get(h),++h):j=!1,l!==255&&Sn.getDataMaskBit(l,T,w)&&(j=!j),c.setBoolean(T,w,j)}w+=p}p=-p,w+=p,g-=2}if(h!==a.getSize())throw new mn("Not all bits consumed: "+h+"/"+a.getSize())}static findMSBSet(a){return 32-L.numberOfLeadingZeros(a)}static calculateBCHCode(a,l){if(l===0)throw new x("0 polynomial");const c=C.findMSBSet(l);for(a<<=c-1;C.findMSBSet(a)>=c;)a^=l<<C.findMSBSet(a)-c;return a}static makeTypeInfoBits(a,l,c){if(!Si.isValidMaskPattern(l))throw new mn("Invalid mask pattern");const h=a.getBits()<<3|l;c.appendBits(h,5);const p=C.calculateBCHCode(h,C.TYPE_INFO_POLY);c.appendBits(p,10);const g=new R;if(g.appendBits(C.TYPE_INFO_MASK_PATTERN,15),c.xor(g),c.getSize()!==15)throw new mn("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(a,l){l.appendBits(a.getVersionNumber(),6);const c=C.calculateBCHCode(a.getVersionNumber(),C.VERSION_INFO_POLY);if(l.appendBits(c,12),l.getSize()!==18)throw new mn("should not happen but we got: "+l.getSize())}static isEmpty(a){return a===255}static embedTimingPatterns(a){for(let l=8;l<a.getWidth()-8;++l){const c=(l+1)%2;C.isEmpty(a.get(l,6))&&a.setNumber(l,6,c),C.isEmpty(a.get(6,l))&&a.setNumber(6,l,c)}}static embedDarkDotAtLeftBottomCorner(a){if(a.get(8,a.getHeight()-8)===0)throw new mn;a.setNumber(8,a.getHeight()-8,1)}static embedHorizontalSeparationPattern(a,l,c){for(let h=0;h<8;++h){if(!C.isEmpty(c.get(a+h,l)))throw new mn;c.setNumber(a+h,l,0)}}static embedVerticalSeparationPattern(a,l,c){for(let h=0;h<7;++h){if(!C.isEmpty(c.get(a,l+h)))throw new mn;c.setNumber(a,l+h,0)}}static embedPositionAdjustmentPattern(a,l,c){for(let h=0;h<5;++h){const p=C.POSITION_ADJUSTMENT_PATTERN[h];for(let g=0;g<5;++g)c.setNumber(a+g,l+h,p[g])}}static embedPositionDetectionPattern(a,l,c){for(let h=0;h<7;++h){const p=C.POSITION_DETECTION_PATTERN[h];for(let g=0;g<7;++g)c.setNumber(a+g,l+h,p[g])}}static embedPositionDetectionPatternsAndSeparators(a){const l=C.POSITION_DETECTION_PATTERN[0].length;C.embedPositionDetectionPattern(0,0,a),C.embedPositionDetectionPattern(a.getWidth()-l,0,a),C.embedPositionDetectionPattern(0,a.getWidth()-l,a);const c=8;C.embedHorizontalSeparationPattern(0,c-1,a),C.embedHorizontalSeparationPattern(a.getWidth()-c,c-1,a),C.embedHorizontalSeparationPattern(0,a.getWidth()-c,a);const h=7;C.embedVerticalSeparationPattern(h,0,a),C.embedVerticalSeparationPattern(a.getHeight()-h-1,0,a),C.embedVerticalSeparationPattern(h,a.getHeight()-h,a)}static maybeEmbedPositionAdjustmentPatterns(a,l){if(a.getVersionNumber()<2)return;const c=a.getVersionNumber()-1,h=C.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let p=0,g=h.length;p!==g;p++){const w=h[p];if(w>=0)for(let N=0;N!==g;N++){const T=h[N];T>=0&&C.isEmpty(l.get(T,w))&&C.embedPositionAdjustmentPattern(T-2,w-2,l)}}}}C.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),C.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),C.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),C.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),C.VERSION_INFO_POLY=7973,C.TYPE_INFO_POLY=1335,C.TYPE_INFO_MASK_PATTERN=21522;class H{constructor(a,l){this.dataBytes=a,this.errorCorrectionBytes=l}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class le{constructor(){}static calculateMaskPenalty(a){return Sn.applyMaskPenaltyRule1(a)+Sn.applyMaskPenaltyRule2(a)+Sn.applyMaskPenaltyRule3(a)+Sn.applyMaskPenaltyRule4(a)}static encode(a,l,c=null){let h=le.DEFAULT_BYTE_MODE_ENCODING;const p=c!==null&&c.get(or.CHARACTER_SET)!==void 0;p&&(h=c.get(or.CHARACTER_SET).toString());const g=this.chooseMode(a,h),w=new R;if(g===Pt.BYTE&&(p||le.DEFAULT_BYTE_MODE_ENCODING!==h)){const st=$.getCharacterSetECIByName(h);st!==void 0&&this.appendECI(st,w)}this.appendModeInfo(g,w);const N=new R;this.appendBytes(a,g,N,h);let T;if(c!==null&&c.get(or.QR_VERSION)!==void 0){const st=Number.parseInt(c.get(or.QR_VERSION).toString(),10);T=Tt.getVersionForNumber(st);const nt=this.calculateBitsNeeded(g,w,N,T);if(!this.willFit(nt,T,l))throw new mn("Data too big for requested version")}else T=this.recommendVersion(l,g,w,N);const j=new R;j.appendBitArray(w);const F=g===Pt.BYTE?N.getSizeInBytes():a.length;this.appendLengthInfo(F,T,g,j),j.appendBitArray(N);const Y=T.getECBlocksForLevel(l),ce=T.getTotalCodewords()-Y.getTotalECCodewords();this.terminateBits(ce,j);const xe=this.interleaveWithECBytes(j,T.getTotalCodewords(),ce,Y.getNumBlocks()),we=new Si;we.setECLevel(l),we.setMode(g),we.setVersion(T);const _e=T.getDimensionForVersion(),Fe=new Sa(_e,_e),tt=this.chooseMaskPattern(xe,l,T,Fe);return we.setMaskPattern(tt),C.buildMatrix(xe,l,T,tt,Fe),we.setMatrix(Fe),we}static recommendVersion(a,l,c,h){const p=this.calculateBitsNeeded(l,c,h,Tt.getVersionForNumber(1)),g=this.chooseVersion(p,a),w=this.calculateBitsNeeded(l,c,h,g);return this.chooseVersion(w,a)}static calculateBitsNeeded(a,l,c,h){return l.getSize()+a.getCharacterCountBits(h)+c.getSize()}static getAlphanumericCode(a){return a<le.ALPHANUMERIC_TABLE.length?le.ALPHANUMERIC_TABLE[a]:-1}static chooseMode(a,l=null){if($.SJIS.getName()===l&&this.isOnlyDoubleByteKanji(a))return Pt.KANJI;let c=!1,h=!1;for(let p=0,g=a.length;p<g;++p){const w=a.charAt(p);if(le.isDigit(w))c=!0;else if(this.getAlphanumericCode(w.charCodeAt(0))!==-1)h=!0;else return Pt.BYTE}return h?Pt.ALPHANUMERIC:c?Pt.NUMERIC:Pt.BYTE}static isOnlyDoubleByteKanji(a){let l;try{l=W.encode(a,$.SJIS)}catch{return!1}const c=l.length;if(c%2!==0)return!1;for(let h=0;h<c;h+=2){const p=l[h]&255;if((p<129||p>159)&&(p<224||p>235))return!1}return!0}static chooseMaskPattern(a,l,c,h){let p=Number.MAX_SAFE_INTEGER,g=-1;for(let w=0;w<Si.NUM_MASK_PATTERNS;w++){C.buildMatrix(a,l,c,w,h);let N=this.calculateMaskPenalty(h);N<p&&(p=N,g=w)}return g}static chooseVersion(a,l){for(let c=1;c<=40;c++){const h=Tt.getVersionForNumber(c);if(le.willFit(a,h,l))return h}throw new mn("Data too big")}static willFit(a,l,c){const h=l.getTotalCodewords(),g=l.getECBlocksForLevel(c).getTotalECCodewords(),w=h-g,N=(a+7)/8;return w>=N}static terminateBits(a,l){const c=a*8;if(l.getSize()>c)throw new mn("data bits cannot fit in the QR Code"+l.getSize()+" > "+c);for(let g=0;g<4&&l.getSize()<c;++g)l.appendBit(!1);const h=l.getSize()&7;if(h>0)for(let g=h;g<8;g++)l.appendBit(!1);const p=a-l.getSizeInBytes();for(let g=0;g<p;++g)l.appendBits(g&1?17:236,8);if(l.getSize()!==c)throw new mn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(a,l,c,h,p,g){if(h>=c)throw new mn("Block ID too large");const w=a%c,N=c-w,T=Math.floor(a/c),j=T+1,F=Math.floor(l/c),Y=F+1,ce=T-F,xe=j-Y;if(ce!==xe)throw new mn("EC bytes mismatch");if(c!==N+w)throw new mn("RS blocks mismatch");if(a!==(F+ce)*N+(Y+xe)*w)throw new mn("Total bytes mismatch");h<N?(p[0]=F,g[0]=ce):(p[0]=Y,g[0]=xe)}static interleaveWithECBytes(a,l,c,h){if(a.getSizeInBytes()!==c)throw new mn("Number of bits and data bytes does not match");let p=0,g=0,w=0;const N=new Array;for(let j=0;j<h;++j){const F=new Int32Array(1),Y=new Int32Array(1);le.getNumDataBytesAndNumECBytesForBlockID(l,c,h,j,F,Y);const ce=F[0],xe=new Uint8Array(ce);a.toBytes(8*p,xe,0,ce);const we=le.generateECBytes(xe,Y[0]);N.push(new H(xe,we)),g=Math.max(g,ce),w=Math.max(w,we.length),p+=F[0]}if(c!==p)throw new mn("Data bytes does not match offset");const T=new R;for(let j=0;j<g;++j)for(const F of N){const Y=F.getDataBytes();j<Y.length&&T.appendBits(Y[j],8)}for(let j=0;j<w;++j)for(const F of N){const Y=F.getErrorCorrectionBytes();j<Y.length&&T.appendBits(Y[j],8)}if(l!==T.getSizeInBytes())throw new mn("Interleaving error: "+l+" and "+T.getSizeInBytes()+" differ.");return T}static generateECBytes(a,l){const c=a.length,h=new Int32Array(c+l);for(let g=0;g<c;g++)h[g]=a[g]&255;new Aa(Ke.QR_CODE_FIELD_256).encode(h,l);const p=new Uint8Array(l);for(let g=0;g<l;g++)p[g]=h[c+g];return p}static appendModeInfo(a,l){l.appendBits(a.getBits(),4)}static appendLengthInfo(a,l,c,h){const p=c.getCharacterCountBits(l);if(a>=1<<p)throw new mn(a+" is bigger than "+((1<<p)-1));h.appendBits(a,p)}static appendBytes(a,l,c,h){switch(l){case Pt.NUMERIC:le.appendNumericBytes(a,c);break;case Pt.ALPHANUMERIC:le.appendAlphanumericBytes(a,c);break;case Pt.BYTE:le.append8BitBytes(a,c,h);break;case Pt.KANJI:le.appendKanjiBytes(a,c);break;default:throw new mn("Invalid mode: "+l)}}static getDigit(a){return a.charCodeAt(0)-48}static isDigit(a){const l=le.getDigit(a);return l>=0&&l<=9}static appendNumericBytes(a,l){const c=a.length;let h=0;for(;h<c;){const p=le.getDigit(a.charAt(h));if(h+2<c){const g=le.getDigit(a.charAt(h+1)),w=le.getDigit(a.charAt(h+2));l.appendBits(p*100+g*10+w,10),h+=3}else if(h+1<c){const g=le.getDigit(a.charAt(h+1));l.appendBits(p*10+g,7),h+=2}else l.appendBits(p,4),h++}}static appendAlphanumericBytes(a,l){const c=a.length;let h=0;for(;h<c;){const p=le.getAlphanumericCode(a.charCodeAt(h));if(p===-1)throw new mn;if(h+1<c){const g=le.getAlphanumericCode(a.charCodeAt(h+1));if(g===-1)throw new mn;l.appendBits(p*45+g,11),h+=2}else l.appendBits(p,6),h++}}static append8BitBytes(a,l,c){let h;try{h=W.encode(a,c)}catch(p){throw new mn(p)}for(let p=0,g=h.length;p!==g;p++){const w=h[p];l.appendBits(w,8)}}static appendKanjiBytes(a,l){let c;try{c=W.encode(a,$.SJIS)}catch(p){throw new mn(p)}const h=c.length;for(let p=0;p<h;p+=2){const g=c[p]&255,w=c[p+1]&255,N=g<<8&4294967295|w;let T=-1;if(N>=33088&&N<=40956?T=N-33088:N>=57408&&N<=60351&&(T=N-49472),T===-1)throw new mn("Invalid byte sequence");const j=(T>>8)*192+(T&255);l.appendBits(j,13)}}static appendECI(a,l){l.appendBits(Pt.ECI.getBits(),4),l.appendBits(a.getValue(),8)}}le.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),le.DEFAULT_BYTE_MODE_ENCODING=$.UTF8.getName();class ye{write(a,l,c,h=null){if(a.length===0)throw new x("Found empty contents");if(l<0||c<0)throw new x("Requested dimensions are too small: "+l+"x"+c);let p=vn.L,g=ye.QUIET_ZONE_SIZE;h!==null&&(h.get(or.ERROR_CORRECTION)!==void 0&&(p=vn.fromString(h.get(or.ERROR_CORRECTION).toString())),h.get(or.MARGIN)!==void 0&&(g=Number.parseInt(h.get(or.MARGIN).toString(),10)));const w=le.encode(a,p,h);return this.renderResult(w,l,c,g)}writeToDom(a,l,c,h,p=null){typeof a=="string"&&(a=document.querySelector(a));const g=this.write(l,c,h,p);a&&a.appendChild(g)}renderResult(a,l,c,h){const p=a.getMatrix();if(p===null)throw new Me;const g=p.getWidth(),w=p.getHeight(),N=g+h*2,T=w+h*2,j=Math.max(l,N),F=Math.max(c,T),Y=Math.min(Math.floor(j/N),Math.floor(F/T)),ce=Math.floor((j-g*Y)/2),xe=Math.floor((F-w*Y)/2),we=this.createSVGElement(j,F);for(let _e=0,Fe=xe;_e<w;_e++,Fe+=Y)for(let tt=0,st=ce;tt<g;tt++,st+=Y)if(p.get(tt,_e)===1){const nt=this.createSvgRectElement(st,Fe,Y,Y);we.appendChild(nt)}return we}createSVGElement(a,l){const c=document.createElementNS(ye.SVG_NS,"svg");return c.setAttributeNS(null,"height",a.toString()),c.setAttributeNS(null,"width",l.toString()),c}createSvgRectElement(a,l,c,h){const p=document.createElementNS(ye.SVG_NS,"rect");return p.setAttributeNS(null,"x",a.toString()),p.setAttributeNS(null,"y",l.toString()),p.setAttributeNS(null,"height",c.toString()),p.setAttributeNS(null,"width",h.toString()),p.setAttributeNS(null,"fill","#000000"),p}}ye.QUIET_ZONE_SIZE=4,ye.SVG_NS="http://www.w3.org/2000/svg";class ke{encode(a,l,c,h,p){if(a.length===0)throw new x("Found empty contents");if(l!==he.QR_CODE)throw new x("Can only encode QR_CODE, but got "+l);if(c<0||h<0)throw new x(`Requested dimensions are too small: ${c}x${h}`);let g=vn.L,w=ke.QUIET_ZONE_SIZE;p!==null&&(p.get(or.ERROR_CORRECTION)!==void 0&&(g=vn.fromString(p.get(or.ERROR_CORRECTION).toString())),p.get(or.MARGIN)!==void 0&&(w=Number.parseInt(p.get(or.MARGIN).toString(),10)));const N=le.encode(a,g,p);return ke.renderResult(N,c,h,w)}static renderResult(a,l,c,h){const p=a.getMatrix();if(p===null)throw new Me;const g=p.getWidth(),w=p.getHeight(),N=g+h*2,T=w+h*2,j=Math.max(l,N),F=Math.max(c,T),Y=Math.min(Math.floor(j/N),Math.floor(F/T)),ce=Math.floor((j-g*Y)/2),xe=Math.floor((F-w*Y)/2),we=new te(j,F);for(let _e=0,Fe=xe;_e<w;_e++,Fe+=Y)for(let tt=0,st=ce;tt<g;tt++,st+=Y)p.get(tt,_e)===1&&we.setRegion(st,Fe,Y,Y);return we}}ke.QUIET_ZONE_SIZE=4;class $e{encode(a,l,c,h,p){let g;switch(l){case he.QR_CODE:g=new ke;break;default:throw new x("No encoder available for format "+l)}return g.encode(a,l,c,h,p)}}class Je extends fe{constructor(a,l,c,h,p,g,w,N){if(super(g,w),this.yuvData=a,this.dataWidth=l,this.dataHeight=c,this.left=h,this.top=p,h+g>l||p+w>c)throw new x("Crop rectangle does not fit within image data.");N&&this.reverseHorizontal(g,w)}getRow(a,l){if(a<0||a>=this.getHeight())throw new x("Requested row is outside the image: "+a);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const h=(a+this.top)*this.dataWidth+this.left;return I.arraycopy(this.yuvData,h,l,0,c),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.yuvData;const c=a*l,h=new Uint8ClampedArray(c);let p=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return I.arraycopy(this.yuvData,p,h,0,c),h;for(let g=0;g<l;g++){const w=g*a;I.arraycopy(this.yuvData,p,h,w,a),p+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,l,c,h){return new Je(this.yuvData,this.dataWidth,this.dataHeight,this.left+a,this.top+l,c,h,!1)}renderThumbnail(){const a=this.getWidth()/Je.THUMBNAIL_SCALE_FACTOR,l=this.getHeight()/Je.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(a*l),h=this.yuvData;let p=this.top*this.dataWidth+this.left;for(let g=0;g<l;g++){const w=g*a;for(let N=0;N<a;N++){const T=h[p+N*Je.THUMBNAIL_SCALE_FACTOR]&255;c[w+N]=4278190080|T*65793}p+=this.dataWidth*Je.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/Je.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Je.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(a,l){const c=this.yuvData;for(let h=0,p=this.top*this.dataWidth+this.left;h<l;h++,p+=this.dataWidth){const g=p+a/2;for(let w=p,N=p+a-1;w<g;w++,N--){const T=c[w];c[w]=c[N],c[N]=T}}}invert(){return new Ce(this)}}Je.THUMBNAIL_SCALE_FACTOR=2;class mt extends fe{constructor(a,l,c,h,p,g,w){if(super(l,c),this.dataWidth=h,this.dataHeight=p,this.left=g,this.top=w,a.BYTES_PER_ELEMENT===4){const N=l*c,T=new Uint8ClampedArray(N);for(let j=0;j<N;j++){const F=a[j],Y=F>>16&255,ce=F>>7&510,xe=F&255;T[j]=(Y+ce+xe)/4&255}this.luminances=T}else this.luminances=a;if(h===void 0&&(this.dataWidth=l),p===void 0&&(this.dataHeight=c),g===void 0&&(this.left=0),w===void 0&&(this.top=0),this.left+l>this.dataWidth||this.top+c>this.dataHeight)throw new x("Crop rectangle does not fit within image data.")}getRow(a,l){if(a<0||a>=this.getHeight())throw new x("Requested row is outside the image: "+a);const c=this.getWidth();(l==null||l.length<c)&&(l=new Uint8ClampedArray(c));const h=(a+this.top)*this.dataWidth+this.left;return I.arraycopy(this.luminances,h,l,0,c),l}getMatrix(){const a=this.getWidth(),l=this.getHeight();if(a===this.dataWidth&&l===this.dataHeight)return this.luminances;const c=a*l,h=new Uint8ClampedArray(c);let p=this.top*this.dataWidth+this.left;if(a===this.dataWidth)return I.arraycopy(this.luminances,p,h,0,c),h;for(let g=0;g<l;g++){const w=g*a;I.arraycopy(this.luminances,p,h,w,a),p+=this.dataWidth}return h}isCropSupported(){return!0}crop(a,l,c,h){return new mt(this.luminances,c,h,this.dataWidth,this.dataHeight,this.left+a,this.top+l)}invert(){return new Ce(this)}}class kt extends ${static forName(a){return this.getCharacterSetECIByName(a)}}class Vt{}Vt.ISO_8859_1=$.ISO8859_1;class zt{isCompact(){return this.compact}setCompact(a){this.compact=a}getSize(){return this.size}setSize(a){this.size=a}getLayers(){return this.layers}setLayers(a){this.layers=a}getCodeWords(){return this.codeWords}setCodeWords(a){this.codeWords=a}getMatrix(){return this.matrix}setMatrix(a){this.matrix=a}}class rn{static singletonList(a){return[a]}static min(a,l){return a.sort(l)[0]}}class Gn{constructor(a){this.previous=a}getPrevious(){return this.previous}}class Nn extends Gn{constructor(a,l,c){super(a),this.value=l,this.bitCount=c}appendTo(a,l){a.appendBits(this.value,this.bitCount)}add(a,l){return new Nn(this,a,l)}addBinaryShift(a,l){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new Nn(this,a,l)}toString(){let a=this.value&(1<<this.bitCount)-1;return a|=1<<this.bitCount,"<"+L.toBinaryString(a|1<<this.bitCount).substring(1)+">"}}class er extends Nn{constructor(a,l,c){super(a,0,0),this.binaryShiftStart=l,this.binaryShiftByteCount=c}appendTo(a,l){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(a.appendBits(31,5),this.binaryShiftByteCount>62?a.appendBits(this.binaryShiftByteCount-31,16):c===0?a.appendBits(Math.min(this.binaryShiftByteCount,31),5):a.appendBits(this.binaryShiftByteCount-31,5)),a.appendBits(l[this.binaryShiftStart+c],8)}addBinaryShift(a,l){return new er(this,a,l)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ni(U,a,l){return new er(U,a,l)}function tr(U,a,l){return new Nn(U,a,l)}const hs=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],gr=0,Bi=1,fi=2,Io=3,Ni=4,ko=new Nn(null,0,0),$a=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Wl(U){for(let a of U)_.fill(a,-1);return U[gr][Ni]=0,U[Bi][Ni]=0,U[Bi][gr]=28,U[Io][Ni]=0,U[fi][Ni]=0,U[fi][gr]=15,U}const Ga=Wl(_.createInt32Array(6,6));class Ln{constructor(a,l,c,h){this.token=a,this.mode=l,this.binaryShiftByteCount=c,this.bitCount=h}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(a,l){let c=this.bitCount,h=this.token;if(a!==this.mode){let g=$a[this.mode][a];h=tr(h,g&65535,g>>16),c+=g>>16}let p=a===fi?4:5;return h=tr(h,l,p),new Ln(h,a,0,c+p)}shiftAndAppend(a,l){let c=this.token,h=this.mode===fi?4:5;return c=tr(c,Ga[this.mode][a],h),c=tr(c,l,5),new Ln(c,this.mode,0,this.bitCount+h+5)}addBinaryShiftChar(a){let l=this.token,c=this.mode,h=this.bitCount;if(this.mode===Ni||this.mode===fi){let w=$a[c][gr];l=tr(l,w&65535,w>>16),h+=w>>16,c=gr}let p=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new Ln(l,c,this.binaryShiftByteCount+1,h+p);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(a+1)),g}endBinaryShift(a){if(this.binaryShiftByteCount===0)return this;let l=this.token;return l=ni(l,a-this.binaryShiftByteCount,this.binaryShiftByteCount),new Ln(l,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(a){let l=this.bitCount+($a[this.mode][a.mode]>>16);return this.binaryShiftByteCount<a.binaryShiftByteCount?l+=Ln.calculateBinaryShiftCost(a)-Ln.calculateBinaryShiftCost(this):this.binaryShiftByteCount>a.binaryShiftByteCount&&a.binaryShiftByteCount>0&&(l+=10),l<=a.bitCount}toBitArray(a){let l=[];for(let h=this.endBinaryShift(a.length).token;h!==null;h=h.getPrevious())l.unshift(h);let c=new R;for(const h of l)h.appendTo(c,a);return c}toString(){return B.format("%s bits=%d bytes=%d",hs[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(a){return a.binaryShiftByteCount>62?21:a.binaryShiftByteCount>31?20:a.binaryShiftByteCount>0?10:0}}Ln.INITIAL_STATE=new Ln(ko,gr,0,0);function Lo(U){const a=B.getCharCode(" "),l=B.getCharCode("."),c=B.getCharCode(",");U[gr][a]=1;const h=B.getCharCode("Z"),p=B.getCharCode("A");for(let Y=p;Y<=h;Y++)U[gr][Y]=Y-p+2;U[Bi][a]=1;const g=B.getCharCode("z"),w=B.getCharCode("a");for(let Y=w;Y<=g;Y++)U[Bi][Y]=Y-w+2;U[fi][a]=1;const N=B.getCharCode("9"),T=B.getCharCode("0");for(let Y=T;Y<=N;Y++)U[fi][Y]=Y-T+2;U[fi][c]=12,U[fi][l]=13;const j=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Y=0;Y<j.length;Y++)U[Io][B.getCharCode(j[Y])]=Y;const F=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Y=0;Y<F.length;Y++)B.getCharCode(F[Y])>0&&(U[Ni][B.getCharCode(F[Y])]=Y);return U}const Na=Lo(_.createInt32Array(5,256));class js{constructor(a){this.text=a}encode(){const a=B.getCharCode(" "),l=B.getCharCode(`
`);let c=rn.singletonList(Ln.INITIAL_STATE);for(let p=0;p<this.text.length;p++){let g,w=p+1<this.text.length?this.text[p+1]:0;switch(this.text[p]){case B.getCharCode("\r"):g=w===l?2:0;break;case B.getCharCode("."):g=w===a?3:0;break;case B.getCharCode(","):g=w===a?4:0;break;case B.getCharCode(":"):g=w===a?5:0;break;default:g=0}g>0?(c=js.updateStateListForPair(c,p,g),p++):c=this.updateStateListForChar(c,p)}return rn.min(c,(p,g)=>p.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(a,l){const c=[];for(let h of a)this.updateStateForChar(h,l,c);return js.simplifyStates(c)}updateStateForChar(a,l,c){let h=this.text[l]&255,p=Na[a.getMode()][h]>0,g=null;for(let w=0;w<=Ni;w++){let N=Na[w][h];if(N>0){if(g==null&&(g=a.endBinaryShift(l)),!p||w===a.getMode()||w===fi){const T=g.latchAndAppend(w,N);c.push(T)}if(!p&&Ga[a.getMode()][w]>=0){const T=g.shiftAndAppend(w,N);c.push(T)}}}if(a.getBinaryShiftByteCount()>0||Na[a.getMode()][h]===0){let w=a.addBinaryShiftChar(l);c.push(w)}}static updateStateListForPair(a,l,c){const h=[];for(let p of a)this.updateStateForPair(p,l,c,h);return this.simplifyStates(h)}static updateStateForPair(a,l,c,h){let p=a.endBinaryShift(l);if(h.push(p.latchAndAppend(Ni,c)),a.getMode()!==Ni&&h.push(p.shiftAndAppend(Ni,c)),c===3||c===4){let g=p.latchAndAppend(fi,16-c).latchAndAppend(fi,1);h.push(g)}if(a.getBinaryShiftByteCount()>0){let g=a.addBinaryShiftChar(l).addBinaryShiftChar(l+1);h.push(g)}}static simplifyStates(a){let l=[];for(const c of a){let h=!0;for(const p of l){if(p.isBetterThanOrEqualTo(c)){h=!1;break}c.isBetterThanOrEqualTo(p)&&(l=l.filter(g=>g!==p))}h&&l.push(c)}return l}}class tn{constructor(){}static encodeBytes(a){return tn.encode(a,tn.DEFAULT_EC_PERCENT,tn.DEFAULT_AZTEC_LAYERS)}static encode(a,l,c){let h=new js(a).encode(),p=L.truncDivision(h.getSize()*l,100)+11,g=h.getSize()+p,w,N,T,j,F;if(c!==tn.DEFAULT_AZTEC_LAYERS){if(w=c<0,N=Math.abs(c),N>(w?tn.MAX_NB_BITS_COMPACT:tn.MAX_NB_BITS))throw new x(B.format("Illegal value %s for layers",c));T=tn.totalBitsInLayer(N,w),j=tn.WORD_SIZE[N];let nt=T-T%j;if(F=tn.stuffBits(h,j),F.getSize()+p>nt)throw new x("Data to large for user specified layer");if(w&&F.getSize()>j*64)throw new x("Data to large for user specified layer")}else{j=0,F=null;for(let nt=0;;nt++){if(nt>tn.MAX_NB_BITS)throw new x("Data too large for an Aztec code");if(w=nt<=3,N=w?nt+1:nt,T=tn.totalBitsInLayer(N,w),g>T)continue;(F==null||j!==tn.WORD_SIZE[N])&&(j=tn.WORD_SIZE[N],F=tn.stuffBits(h,j));let Jt=T-T%j;if(!(w&&F.getSize()>j*64)&&F.getSize()+p<=Jt)break}}let Y=tn.generateCheckWords(F,T,j),ce=F.getSize()/j,xe=tn.generateModeMessage(w,N,ce),we=(w?11:14)+N*4,_e=new Int32Array(we),Fe;if(w){Fe=we;for(let nt=0;nt<_e.length;nt++)_e[nt]=nt}else{Fe=we+1+2*L.truncDivision(L.truncDivision(we,2)-1,15);let nt=L.truncDivision(we,2),Jt=L.truncDivision(Fe,2);for(let Ft=0;Ft<nt;Ft++){let mr=Ft+L.truncDivision(Ft,15);_e[nt-Ft-1]=Jt-mr-1,_e[nt+Ft]=Jt+mr+1}}let tt=new te(Fe);for(let nt=0,Jt=0;nt<N;nt++){let Ft=(N-nt)*4+(w?9:12);for(let mr=0;mr<Ft;mr++){let $r=mr*2;for(let lr=0;lr<2;lr++)Y.get(Jt+$r+lr)&&tt.set(_e[nt*2+lr],_e[nt*2+mr]),Y.get(Jt+Ft*2+$r+lr)&&tt.set(_e[nt*2+mr],_e[we-1-nt*2-lr]),Y.get(Jt+Ft*4+$r+lr)&&tt.set(_e[we-1-nt*2-lr],_e[we-1-nt*2-mr]),Y.get(Jt+Ft*6+$r+lr)&&tt.set(_e[we-1-nt*2-mr],_e[nt*2+lr])}Jt+=Ft*8}if(tn.drawModeMessage(tt,w,Fe,xe),w)tn.drawBullsEye(tt,L.truncDivision(Fe,2),5);else{tn.drawBullsEye(tt,L.truncDivision(Fe,2),7);for(let nt=0,Jt=0;nt<L.truncDivision(we,2)-1;nt+=15,Jt+=16)for(let Ft=L.truncDivision(Fe,2)&1;Ft<Fe;Ft+=2)tt.set(L.truncDivision(Fe,2)-Jt,Ft),tt.set(L.truncDivision(Fe,2)+Jt,Ft),tt.set(Ft,L.truncDivision(Fe,2)-Jt),tt.set(Ft,L.truncDivision(Fe,2)+Jt)}let st=new zt;return st.setCompact(w),st.setSize(Fe),st.setLayers(N),st.setCodeWords(ce),st.setMatrix(tt),st}static drawBullsEye(a,l,c){for(let h=0;h<c;h+=2)for(let p=l-h;p<=l+h;p++)a.set(p,l-h),a.set(p,l+h),a.set(l-h,p),a.set(l+h,p);a.set(l-c,l-c),a.set(l-c+1,l-c),a.set(l-c,l-c+1),a.set(l+c,l-c),a.set(l+c,l-c+1),a.set(l+c,l+c-1)}static generateModeMessage(a,l,c){let h=new R;return a?(h.appendBits(l-1,2),h.appendBits(c-1,6),h=tn.generateCheckWords(h,28,4)):(h.appendBits(l-1,5),h.appendBits(c-1,11),h=tn.generateCheckWords(h,40,4)),h}static drawModeMessage(a,l,c,h){let p=L.truncDivision(c,2);if(l)for(let g=0;g<7;g++){let w=p-3+g;h.get(g)&&a.set(w,p-5),h.get(g+7)&&a.set(p+5,w),h.get(20-g)&&a.set(w,p+5),h.get(27-g)&&a.set(p-5,w)}else for(let g=0;g<10;g++){let w=p-5+g+L.truncDivision(g,5);h.get(g)&&a.set(w,p-7),h.get(g+10)&&a.set(p+7,w),h.get(29-g)&&a.set(w,p+7),h.get(39-g)&&a.set(p-7,w)}}static generateCheckWords(a,l,c){let h=a.getSize()/c,p=new Aa(tn.getGF(c)),g=L.truncDivision(l,c),w=tn.bitsToWords(a,c,g);p.encode(w,g-h);let N=l%c,T=new R;T.appendBits(0,N);for(const j of Array.from(w))T.appendBits(j,c);return T}static bitsToWords(a,l,c){let h=new Int32Array(c),p,g;for(p=0,g=a.getSize()/l;p<g;p++){let w=0;for(let N=0;N<l;N++)w|=a.get(p*l+N)?1<<l-N-1:0;h[p]=w}return h}static getGF(a){switch(a){case 4:return Ke.AZTEC_PARAM;case 6:return Ke.AZTEC_DATA_6;case 8:return Ke.AZTEC_DATA_8;case 10:return Ke.AZTEC_DATA_10;case 12:return Ke.AZTEC_DATA_12;default:throw new x("Unsupported word size "+a)}}static stuffBits(a,l){let c=new R,h=a.getSize(),p=(1<<l)-2;for(let g=0;g<h;g+=l){let w=0;for(let N=0;N<l;N++)(g+N>=h||a.get(g+N))&&(w|=1<<l-1-N);(w&p)===p?(c.appendBits(w&p,l),g--):w&p?c.appendBits(w,l):(c.appendBits(w|1,l),g--)}return c}static totalBitsInLayer(a,l){return((l?88:112)+16*a)*a}}tn.DEFAULT_EC_PERCENT=33,tn.DEFAULT_AZTEC_LAYERS=0,tn.MAX_NB_BITS=32,tn.MAX_NB_BITS_COMPACT=4,tn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Wr{encode(a,l,c,h){return this.encodeWithHints(a,l,c,h,null)}encodeWithHints(a,l,c,h,p){let g=Vt.ISO_8859_1,w=tn.DEFAULT_EC_PERCENT,N=tn.DEFAULT_AZTEC_LAYERS;return p!=null&&(p.has(or.CHARACTER_SET)&&(g=kt.forName(p.get(or.CHARACTER_SET).toString())),p.has(or.ERROR_CORRECTION)&&(w=L.parseInt(p.get(or.ERROR_CORRECTION).toString())),p.has(or.AZTEC_LAYERS)&&(N=L.parseInt(p.get(or.AZTEC_LAYERS).toString()))),Wr.encodeLayers(a,l,c,h,g,w,N)}static encodeLayers(a,l,c,h,p,g,w){if(l!==he.AZTEC)throw new x("Can only encode AZTEC, but got "+l);let N=tn.encode(B.getBytes(a,p),g,w);return Wr.renderResult(N,c,h)}static renderResult(a,l,c){let h=a.getMatrix();if(h==null)throw new Me;let p=h.getWidth(),g=h.getHeight(),w=Math.max(l,p),N=Math.max(c,g),T=Math.min(w/p,N/g),j=(w-p*T)/2,F=(N-g*T)/2,Y=new te(w,N);for(let ce=0,xe=F;ce<g;ce++,xe+=T)for(let we=0,_e=j;we<p;we++,_e+=T)h.get(we,ce)&&Y.setRegion(_e,xe,T,T);return Y}}n.AbstractExpandedDecoder=Ri,n.ArgumentException=m,n.ArithmeticException=ut,n.AztecCode=zt,n.AztecCodeReader=dt,n.AztecCodeWriter=Wr,n.AztecDecoder=at,n.AztecDetector=Ht,n.AztecDetectorResult=qe,n.AztecEncoder=tn,n.AztecHighLevelEncoder=js,n.AztecPoint=pt,n.BarcodeFormat=he,n.Binarizer=P,n.BinaryBitmap=A,n.BitArray=R,n.BitMatrix=te,n.BitSource=So,n.BrowserAztecCodeReader=jr,n.BrowserBarcodeReader=Ku,n.BrowserCodeReader=ne,n.BrowserDatamatrixCodeReader=No,n.BrowserMultiFormatReader=_o,n.BrowserPDF417Reader=Hl,n.BrowserQRCodeReader=ql,n.BrowserQRCodeSvgWriter=ye,n.CharacterSetECI=$,n.ChecksumException=b,n.Code128Reader=ot,n.Code39Reader=Rt,n.DataMatrixDecodedBitStreamParser=us,n.DataMatrixReader=Rr,n.DecodeHintType=ie,n.DecoderResult=Oe,n.DefaultGridSampler=bt,n.DetectorResult=Ae,n.EAN13Reader=ci,n.EncodeHintType=or,n.Exception=f,n.FormatException=q,n.GenericGF=Ke,n.GenericGFPoly=Ge,n.GlobalHistogramBinarizer=be,n.GridSampler=We,n.GridSamplerInstance=St,n.HTMLCanvasElementLuminanceSource=Ie,n.HybridBinarizer=ve,n.ITFReader=Ot,n.IllegalArgumentException=x,n.IllegalStateException=Me,n.InvertedLuminanceSource=Ce,n.LuminanceSource=fe,n.MathUtils=ze,n.MultiFormatOneDReader=Ls,n.MultiFormatReader=zl,n.MultiFormatWriter=$e,n.NotFoundException=J,n.OneDReader=Lt,n.PDF417DecodedBitStreamParser=Be,n.PDF417DecoderErrorCorrection=Pc,n.PDF417Reader=ar,n.PDF417ResultMetadata=Fl,n.PerspectiveTransform=it,n.PlanarYUVLuminanceSource=Je,n.QRCodeByteMatrix=Sa,n.QRCodeDataMask=wi,n.QRCodeDecodedBitStreamParser=gn,n.QRCodeDecoderErrorCorrectionLevel=vn,n.QRCodeDecoderFormatInformation=Sr,n.QRCodeEncoder=le,n.QRCodeEncoderQRCode=Si,n.QRCodeMaskUtil=Sn,n.QRCodeMatrixUtil=C,n.QRCodeMode=Pt,n.QRCodeReader=Ps,n.QRCodeVersion=Tt,n.QRCodeWriter=ke,n.RGBLuminanceSource=mt,n.RSS14Reader=Mn,n.RSSExpandedReader=Ze,n.ReaderException=ba,n.ReedSolomonDecoder=de,n.ReedSolomonEncoder=Aa,n.ReedSolomonException=ft,n.Result=oe,n.ResultMetadataType=Le,n.ResultPoint=ae,n.StringUtils=B,n.UnsupportedOperationException=ge,n.VideoInputDevice=Ue,n.WhiteRectangleDetector=Ve,n.WriterException=mn,n.ZXingArrays=_,n.ZXingCharset=kt,n.ZXingInteger=L,n.ZXingStandardCharsets=Vt,n.ZXingStringBuilder=ee,n.ZXingStringEncoding=W,n.ZXingSystem=I,n.createAbstractExpandedDecoder=Il,Object.defineProperty(n,"__esModule",{value:!0})})})(Xm,Xm.exports);var Xn=Xm.exports;const U9=r1(Xn),V9=Nb({__proto__:null,default:U9},[Xn]);var Mw=function(){function e(t,n,r){if(this.formatMap=new Map([[wt.QR_CODE,Xn.BarcodeFormat.QR_CODE],[wt.AZTEC,Xn.BarcodeFormat.AZTEC],[wt.CODABAR,Xn.BarcodeFormat.CODABAR],[wt.CODE_39,Xn.BarcodeFormat.CODE_39],[wt.CODE_93,Xn.BarcodeFormat.CODE_93],[wt.CODE_128,Xn.BarcodeFormat.CODE_128],[wt.DATA_MATRIX,Xn.BarcodeFormat.DATA_MATRIX],[wt.MAXICODE,Xn.BarcodeFormat.MAXICODE],[wt.ITF,Xn.BarcodeFormat.ITF],[wt.EAN_13,Xn.BarcodeFormat.EAN_13],[wt.EAN_8,Xn.BarcodeFormat.EAN_8],[wt.PDF_417,Xn.BarcodeFormat.PDF_417],[wt.RSS_14,Xn.BarcodeFormat.RSS_14],[wt.RSS_EXPANDED,Xn.BarcodeFormat.RSS_EXPANDED],[wt.UPC_A,Xn.BarcodeFormat.UPC_A],[wt.UPC_E,Xn.BarcodeFormat.UPC_E],[wt.UPC_EAN_EXTENSION,Xn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!V9)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),s=new Map;s.set(Xn.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Xn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var n=new Xn.MultiFormatReader(this.verbose,this.hints),r=new Xn.HTMLCanvasElementLuminanceSource(t),i=new Xn.BinaryBitmap(new Xn.HybridBinarizer(r)),s=n.decode(i);return{text:s.text,format:hS.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),z9=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})},H9=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(m){return d([f,m])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Bw=function(){function e(t,n,r){if(this.formatMap=new Map([[wt.QR_CODE,"qr_code"],[wt.AZTEC,"aztec"],[wt.CODABAR,"codabar"],[wt.CODE_39,"code_39"],[wt.CODE_93,"code_93"],[wt.CODE_128,"code_128"],[wt.DATA_MATRIX,"data_matrix"],[wt.ITF,"itf"],[wt.EAN_13,"ean_13"],[wt.EAN_8,"ean_8"],[wt.PDF_417,"pdf417"],[wt.UPC_A,"upc_a"],[wt.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return z9(this,void 0,void 0,function(){var n,r;return H9(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:hS.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,s=t;i<s.length;i++){var o=s[i],u=o.boundingBox.width*o.boundingBox.height;u>r&&(r=u,n=o)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),Fw=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})},Uw=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(m){return d([f,m])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},q9=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&Bw.isSupported()?(this.primaryDecoder=new Bw(t,r,i),this.secondaryDecoder=new Mw(t,r,i)):this.primaryDecoder=new Mw(t,r,i)}return e.prototype.decodeAsync=function(t){return Fw(this,void 0,void 0,function(){var n;return Uw(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return Fw(this,void 0,void 0,function(){var n,r;return Uw(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),Hx=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Z0=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})},Q0=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(m){return d([f,m])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},mS=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),W9=function(e){Hx(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(mS),$9=function(e){Hx(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(W9),G9=function(e){Hx(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(mS),Y9=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new $9(this.track)},e.prototype.torchFeature=function(){return new G9(this.track)},e}(),X9=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return Z0(this,void 0,void 0,function(){var s,o;return Q0(this,function(u){switch(u.label){case 0:return s=new e(t,n,i),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:u.sent(),u.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Z0(this,void 0,void 0,function(){return Q0(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),s=i.length,o=0;t.mediaStream.getVideoTracks().forEach(function(u){t.mediaStream.removeTrack(u),u.stop(),++o,o>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new Y9(this.getFirstTrackOrFail())},e}(),K9=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Z0(this,void 0,void 0,function(){return Q0(this,function(i){return[2,X9.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Z0(this,void 0,void 0,function(){var n,r;return Q0(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),Vw=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})},zw=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(m){return d([f,m])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Z9=function(){function e(){}return e.failIfNotSupported=function(){return Vw(this,void 0,void 0,function(){return zw(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return Vw(this,void 0,void 0,function(){return zw(this,function(n){return[2,K9.create(t)]})})},e}(),Q9=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})},J9=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(m){return d([f,m])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},ej=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=pu.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=pu.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Q9(this,void 0,void 0,function(){var t,n,r,i,s,o,u;return J9(this,function(d){switch(d.label){case 0:return t=function(f){for(var m=f.getVideoTracks(),x=0,A=m;x<A.length;x++){var b=A[x];b.enabled=!1,b.stop(),f.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=d.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=d.sent(),i=[],s=0,o=r;s<o.length;s++)u=o[s],u.kind==="videoinput"&&i.push({id:u.deviceId,label:u.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(s){for(var o=[],u=0,d=s;u<d.length;u++){var f=d[u];f.kind==="video"&&o.push({id:f.id,label:f.label})}t(o)},i=MediaStreamTrack;i.getSources(r)})},e}(),yr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(yr||(yr={}));var tj=function(){function e(){this.state=yr.NOT_STARTED,this.onGoingTransactionNewState=yr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===yr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=yr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===yr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=yr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==yr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case yr.UNKNOWN:throw"Transition from unknown is not allowed";case yr.NOT_STARTED:this.failIfNewStateIs(t,[yr.PAUSED]);break;case yr.SCANNING:break;case yr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),nj=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===yr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==yr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===yr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===yr.PAUSED},e}(),rj=function(){function e(){}return e.create=function(){return new nj(new tj)},e}(),ij=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xs=function(e){ij(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(ua),sj=function(){function e(t,n){this.logger=n,this.fps=xs.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=xs.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?gS.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ka(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Hw=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new pS(this.verbose),this.qrcode=new q9(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=rj.create()}return e.prototype.start=function(t,n,r,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var o;i?o=i:o=this.verbose?this.logger.log:function(){};var u=sj.create(n,this.logger);this.clearElement();var d=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?d=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var f=d,m=document.getElementById(this.elementId);m.clientWidth?m.clientWidth:xs.DEFAULT_WIDTH,m.style.position="relative",this.shouldScan=!0,this.element=m;var x=this,A=this.stateManagerProxy.startTransition(yr.SCANNING);return new Promise(function(b,P){var I=f?u.videoConstraints:x.createVideoConstraints(t);if(!I){A.cancel(),P("videoConstraints should be defined");return}var O={};(!f||u.aspectRatio)&&(O.aspectRatio=u.aspectRatio);var E={onRenderSurfaceReady:function(_,L){x.setupUi(_,L,u),x.isScanning=!0,x.foreverScan(u,r,o)}};Z9.failIfNotSupported().then(function(_){_.create(I).then(function(L){return L.render(s.element,O,E).then(function(R){x.renderedCamera=R,A.execute(),b(null)}).catch(function(R){A.cancel(),P(R)})}).catch(function(L){A.cancel(),P(pu.errorGettingUserMedia(L))})}).catch(function(_){A.cancel(),P(pu.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(yr.PAUSED),this.showPausedState(),(ka(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(yr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(yr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var s=document.getElementById(xs.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ka(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var o=new Image;o.onload=function(){var u=o.width,d=o.height,f=document.getElementById(r.elementId),m=f.clientWidth?f.clientWidth:xs.DEFAULT_WIDTH,x=Math.max(f.clientHeight?f.clientHeight:d,xs.FILE_SCAN_MIN_HEIGHT),A=r.computeCanvasDrawConfig(u,d,m,x);if(n){var b=r.createCanvasElement(m,x,"qr-canvas-visible");b.style.display="inline-block",f.appendChild(b);var P=b.getContext("2d");if(!P)throw"Unable to get 2d context from canvas";P.canvas.width=m,P.canvas.height=x,P.drawImage(o,0,0,u,d,A.x,A.y,A.width,A.height)}var I=xs.FILE_SCAN_HIDDEN_CANVAS_PADDING,O=Math.max(o.width,A.width),E=Math.max(o.height,A.height),_=O+2*I,L=E+2*I,R=r.createCanvasElement(_,L);f.appendChild(R);var V=R.getContext("2d");if(!V)throw"Unable to get 2d context from canvas";V.canvas.width=_,V.canvas.height=L,V.drawImage(o,0,0,u,d,I,I,O,E);try{r.qrcode.decodeRobustlyAsync(R).then(function(ie){i(jw.createFromQrcodeResult(ie))}).catch(s)}catch(ie){s("QR code parse error, error = ".concat(ie))}},o.onerror=s,o.onabort=s,o.onstalled=s,o.onsuspend=s,o.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return ej.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!gS.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[wt.QR_CODE,wt.AZTEC,wt.CODABAR,wt.CODE_39,wt.CODE_93,wt.CODE_128,wt.DATA_MATRIX,wt.MAXICODE,wt.ITF,wt.EAN_13,wt.EAN_8,wt.PDF_417,wt.RSS_14,wt.RSS_EXPANDED,wt.UPC_A,wt.UPC_E,wt.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=t.formatsToSupport;i<s.length;i++){var o=s[i];B9(o)?r.push(o):this.logger.warn("Invalid format: ".concat(o," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ka(t))return!0;if(!ka(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ka(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ka(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(t,n,s),u=function(f){if(f<xs.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(xs.MIN_QR_BOX_SIZE,"px.")},d=function(f){return f>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),f=t),f};u(o.width),u(o.height),o.width=d(o.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=ka(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,n,i);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var o=r.isShadedBoxEnabled()&&s.height<=n,u={x:0,y:0,width:t,height:n},d=o?this.getShadedRegionBounds(t,n,s):u,f=this.createCanvasElement(d.width,d.height),m={willReadFrequently:!0},x=f.getContext("2d",m);x.canvas.width=d.width,x.canvas.height=d.height,this.element.append(f),o&&this.possiblyInsertShadingElement(this.element,t,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=d,this.context=x,this.canvasElement=f},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=pu.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,jw.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=pu.codeParseError(i);return n(s,fS.createFrom(s)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),o=s.videoWidth/s.clientWidth,u=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var d=this.qrRegion.width*o,f=this.qrRegion.height*u,m=this.qrRegion.x*o,x=this.qrRegion.y*u;this.context.drawImage(s,m,x,d,f,0,0,this.qrRegion.width,this.qrRegion.height);var A=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(b){!b&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){A()})):A()}).catch(function(b){i.logger.logError("Error happend while scanning context",b),A()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",o=function(P){if(P in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(P,"'")},u=Object.keys(t);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var d=Object.keys(t)[0];if(d!==n&&d!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(d===n){var f=t.facingMode;if(typeof f=="string"){if(o(f))return{facingMode:f}}else if(typeof f=="object")if(s in f){if(o(f["".concat(s)]))return{facingMode:{exact:f["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var m=typeof f;throw"Invalid type of 'facingMode' = ".concat(m)}}else{var x=t.deviceId;if(typeof x=="string")return{deviceId:x};if(typeof x=="object"){if(s in x)return{deviceId:{exact:x["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var A=typeof x;throw"Invalid type of 'deviceId' = ".concat(A)}}}var b=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var s=(r-t)/2,o=(i-n)/2;return{x:s,y:o,width:t,height:n}}else{var u=t,d=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(d)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?xs.BORDER_SHADER_MATCH_COLOR:xs.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,s=n,o=document.createElement("canvas");return o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o.style.display="none",o.id=ka(r)?"qr-canvas":r,o},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var o=(n-i.width)/2,u=(r-i.height)/2;if(s.style.borderLeft="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(xs.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var d=5,f=40;this.insertShaderBorders(s,f,d,-d,null,0,!0),this.insertShaderBorders(s,f,d,-d,null,0,!1),this.insertShaderBorders(s,f,d,null,-d,0,!0),this.insertShaderBorders(s,f,d,null,-d,0,!1),this.insertShaderBorders(s,d,f+d,-d,null,-d,!0),this.insertShaderBorders(s,d,f+d,null,-d,-d,!0),this.insertShaderBorders(s,d,f+d,-d,null,-d,!1),this.insertShaderBorders(s,d,f+d,null,-d,-d,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,n,r,i,s,o,u){var d=document.createElement("div");d.style.position="absolute",d.style.backgroundColor=xs.BORDER_SHADER_DEFAULT_COLOR,d.style.width="".concat(n,"px"),d.style.height="".concat(r,"px"),i!==null&&(d.style.top="".concat(i,"px")),s!==null&&(d.style.bottom="".concat(s,"px")),u?d.style.left="".concat(o,"px"):d.style.right="".concat(o,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(d),t.appendChild(d)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),qx="data:image/svg+xml;base64,",aj=qx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",oj=qx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",qw=qx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",lj="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",Ww=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),cj=function(){function e(){this.data=Ww.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=Ww.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),uj=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=Rw.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var s=document.createElement("a");s.innerText=Rw.reportIssues(),s.href="https://github.com/mebjas/html5-qrcode/issues",s.target="new",s.style.color="white",this.infoDiv.appendChild(s),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),dj=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=qw,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=lj,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=qw,this.infoIcon.style.opacity="0.6")},e}(),hj=function(){function e(){var t=this;this.infoDiv=new uj,this.infoIcon=new dj(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),fj=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})},pj=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(m){return d([f,m])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},$w=function(){function e(){}return e.hasPermissions=function(){return fj(this,void 0,void 0,function(){var t,n,r,i;return pj(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=s.sent(),n=0,r=t;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e}(),Vo=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===vl.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===vl.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return ua.DEFAULT_SUPPORTED_SCAN_TYPE;var n=ua.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var s=i[r];if(!ua.DEFAULT_SUPPORTED_SCAN_TYPE.includes(s))throw"Unsupported scan type ".concat(s)}return t},e}(),ws=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),lo=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(ws.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),xS=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(m){try{f(r.next(m))}catch(x){o(x)}}function d(m){try{f(r.throw(m))}catch(x){o(x)}}function f(m){m.done?s(m.value):i(m.value).then(u,d)}f((r=r.apply(e,t||[])).next())})},yS=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(m){return d([f,m])}}function d(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){n.label=f[1];break}if(f[0]===6&&n.label<s[1]){n.label=s[1],s=f;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(f);break}s[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(m){f=[6,m],i=0}finally{r=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Gw=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return xS(this,void 0,void 0,function(){var t,n;return yS(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?_n.torchOffButton():_n.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?_n.torchOnFailedMessage():_n.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),gj=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=lo.createElement("button",ws.TORCH_BUTTON_ID),this.torchController=new Gw(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=_n.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(s){return xS(r,void 0,void 0,function(){return yS(this,function(o){switch(o.label){case 0:return[4,i.torchController.flipState()];case 1:return o.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(ws.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(ws.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(ws.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(ws.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Gw(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=_n.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var s=new e(n,i);return s.render(t,r),s},e}(),mj=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=lo.createElement("button",ws.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=lo.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var s=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var d=u.target;if(!(d.files&&d.files.length===0)){var f=d.files,m=f[0],x=m.name;s.setImageNameToButton(x),r(m)}}});var o=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(o),this.fileBasedScanRegion.addEventListener("dragenter",function(u){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder();var d=u.dataTransfer;if(d){var f=d.files;if(!f||f.length===0)return;for(var m=!1,x=0;x<f.length;++x){var A=f.item(x);if(A){var b=/image.*/;if(A.type.match(b)){m=!0;var P=A.name;s.setImageNameToButton(P),r(A),o.innerText=_n.dragAndDropMessage();break}}}m||(o.innerText=_n.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=_n.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),i=t.length,s=t.substring(i-8,i);t="".concat(r,"....").concat(s)}var o=_n.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=o},e.prototype.setInitialValueToButton=function(){var t=_n.fileSelectionChooseImage()+" - "+_n.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var i=new e(t,n,r);return i},e}(),xj=function(){function e(t){this.selectElement=lo.createElement("select",ws.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=_n.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var s=1,o=0,u=this.cameras;o<u.length;o++){var d=u[o],f=d.id,m=d.label==null?f:d.label;(!m||m==="")&&(m=[_n.anonymousCameraPrefix(),s++].join(" "));var x=document.createElement("option");x.value=f,x.innerText=m,this.options.push(x),this.selectElement.appendChild(x)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),yj=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=lo.createElement("input",ws.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=_n.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=_n.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),ys;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ys||(ys={}));function vj(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function wj(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var bj=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Vo(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new pS(this.verbose),this.persistedDataManager=new cj,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(s,o){if(t)t(s,o);else{if(r.lastMatchFound===s)return;r.lastMatchFound=s,r.setHeaderMessage(_n.lastMatch(s),ys.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(s,o){n&&n(s,o)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new Hw(this.getScanRegionId(),wj(this.config,this.verbose))},e.prototype.pause=function(t){(ka(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(s){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(s){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",s),i(s)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=ua.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!ua.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=ua.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=ua.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:ua.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ua.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ua.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Vo.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),s=this.getDashboardId();i.id=s,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new hj;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(_n.cameraPermissionRequesting());var s=function(){r||i.createPermissionButton(t,n)};Hw.getCameras().then(function(o){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),o&&o.length>0?(t.removeChild(n),i.renderCameraSelection(o)):(i.setHeaderMessage(_n.noCameraFound(),ys.STATUS_WARNING),s())}).catch(function(o){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:s(),i.setHeaderMessage(o,ys.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,i=lo.createElement("button",this.getCameraPermissionButtonId());i.innerText=_n.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,n,i)}),n.appendChild(i)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Vo.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){$w.hasPermissions().then(function(i){i?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Vo.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Vo.isFileScanType(this.currentScanType),r=this,i=function(s){if(!r.html5Qrcode)throw"html5Qrcode not defined";Vo.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(_n.loadingImage()),r.html5Qrcode.scanFileV2(s,!0).then(function(o){r.resetHeaderMessage(),r.qrCodeSuccessCallback(o.decodedText,o)}).catch(function(o){r.setHeaderMessage(o,ys.STATUS_WARNING),r.qrCodeErrorCallback(o,fS.createFrom(o))}))};this.fileSelectionUi=mj.create(t,n,i)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var s=yj.create(i,!1),o=function(I){var O=I.zoomFeature();if(O.isSupported()){s.setOnCameraZoomValueChangeCallback(function(_){O.apply(_)});var E=1;n.config.defaultZoomValueIfSupported&&(E=n.config.defaultZoomValueIfSupported),E=F9(E,O.min(),O.max()),s.setValues(O.min(),O.max(),E,O.step()),s.show()}},u=xj.create(i,t),d=document.createElement("span"),f=lo.createElement("button",ws.CAMERA_START_BUTTON_ID);f.innerText=_n.scanButtonStartScanningText(),d.appendChild(f);var m=lo.createElement("button",ws.CAMERA_STOP_BUTTON_ID);m.innerText=_n.scanButtonStopScanningText(),m.style.display="none",m.disabled=!0,d.appendChild(m);var x,A=function(I){if(!I.torchFeature().isSupported()){x&&x.hide();return}x?x.updateTorchCapability(I.torchFeature()):x=gj.create(d,I.torchFeature(),{display:"none",marginLeft:"5px"},function(O){r.setHeaderMessage(O,ys.STATUS_WARNING)}),x.show()};i.appendChild(d);var b=function(I){I||(f.style.display="none"),f.innerText=_n.scanButtonStartScanningText(),f.style.opacity="1",f.disabled=!1,I&&(f.style.display="inline-block")};if(f.addEventListener("click",function(I){f.innerText=_n.scanButtonScanningStarting(),u.disable(),f.disabled=!0,f.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var O=u.getValue();r.persistedDataManager.setLastUsedCameraId(O),r.html5Qrcode.start(O,vj(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(E){m.disabled=!1,m.style.display="inline-block",b(!1);var _=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&A(_),n.config.showZoomSliderIfSupported===!0&&o(_)}).catch(function(E){r.showHideScanTypeSwapLink(!0),u.enable(),b(!0),r.setHeaderMessage(E,ys.STATUS_WARNING)})}),u.hasSingleItem()&&f.click(),m.addEventListener("click",function(I){if(!r.html5Qrcode)throw"html5Qrcode not defined";m.disabled=!0,r.html5Qrcode.stop().then(function(O){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),u.enable(),f.disabled=!1,m.style.display="none",f.style.display="inline-block",x&&(x.reset(),x.hide()),s.removeOnCameraZoomValueChangeCallback(),s.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(O){m.disabled=!1,r.setHeaderMessage(O,ys.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var P=r.persistedDataManager.getLastUsedCameraId();u.hasValue(P)?(u.setValue(P),f.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=_n.textIfCameraScanSelected(),r=_n.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");s.style.textAlign="center";var o=lo.createElement("span",this.getDashboardSectionSwapLinkId());o.style.textDecoration="underline",o.style.cursor="pointer",o.innerText=Vo.isCameraScanType(this.currentScanType)?n:r,o.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Vo.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),o.innerText=r,t.currentScanType=vl.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),o.innerText=n,t.currentScanType=vl.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),s.appendChild(o),i.appendChild(s)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){$w.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=ys.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case ys.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case ys.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case ys.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=aj,this.cameraScanImage.alt=_n.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=oj,this.fileScanImage.alt=_n.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return ws.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return ws.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();const Aj=()=>{const e=Gu(),[t,n]=me.useState(null),[r,i]=me.useState(!1),[s,o]=me.useState([]),{validateTicket:u,recordTicketScan:d}=bo(),f=me.useRef(null),m=me.useRef(null),x=me.useRef(null),A=me.useRef(""),b=me.useRef(!1);me.useEffect(()=>{if(m.current)return f.current=new bj("qr-reader",{fps:10,qrbox:{width:250,height:250},aspectRatio:1},!1),f.current.render(P,I),()=>{f.current&&f.current.clear(),x.current&&clearTimeout(x.current)}},[]);const P=async E=>{if(A.current===E){console.log("🚫 Duplicate QR code detected, ignoring");return}if(b.current||r){console.log("🚫 Already processing, ignoring scan");return}b.current=!0,i(!0),A.current=E;try{console.log("🔍 Raw QR code data:",E);const _=JSON.parse(E);console.log("🔍 Parsed QR data:",_);const L=await u(_.orderId,_.ticketTierId,_.customer,"entry");if(console.log("🔍 Validation result:",L),L.isValid){await d({orderId:_.orderId,ticketTierId:_.ticketTierId,customerEmail:_.customer,eventId:L.eventId||"",scanType:"entry",location:"",notes:""});const R={...L,scanType:"entry",timestamp:new Date().toISOString()};o(V=>[R,...V.slice(0,9)])}n(L),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{n(null)},5e3)}catch(_){console.error("Scan error:",_),n({isValid:!1,message:"Invalid QR code format",orderStatus:"unknown",eventDate:"unknown",customerName:"unknown",customerEmail:"unknown"}),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{n(null)},5e3)}finally{i(!1),b.current=!1,setTimeout(()=>{A.current=""},5e3)}},I=E=>{console.error("QR Scanner error:",E)},O=()=>{x.current&&clearTimeout(x.current),n(null)};return v.jsx("div",{className:"min-h-screen bg-gray-50 p-2 sm:p-4",children:v.jsxs("div",{className:"max-w-2xl mx-auto",children:[v.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6 text-center",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Ticket Scanner"}),v.jsx("p",{className:"text-gray-600 text-lg",children:"Scan QR codes to validate tickets and record entry"})]}),v.jsxs("button",{onClick:()=>e("/admin/dashboard"),className:"flex items-center gap-2 px-6 py-3 text-gray-700 bg-gray-100 rounded-xl hover:bg-gray-200 transition-colors mx-auto text-lg font-medium",children:[v.jsx(FL,{className:"h-5 w-5"}),"Back to Dashboard"]})]}),v.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"QR Code Scanner"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{id:"qr-reader",ref:m,className:"w-full max-w-sm mx-auto"}),v.jsxs("div",{className:"text-center mt-6 space-y-2",children:[v.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"📱 Position QR code within the frame"}),v.jsx("p",{className:"text-sm text-gray-500",children:"Hold steady for best results"})]})]})]}),r&&v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50",children:v.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),v.jsx("p",{className:"text-lg font-medium text-gray-900",children:"Processing ticket..."}),v.jsx("p",{className:"text-sm text-gray-600",children:"Please wait"})]})}),t&&!r&&v.jsx(_6,{children:v.jsx(lt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 cursor-pointer",onClick:O,children:v.jsxs(lt.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:`p-8 rounded-2xl border-2 max-w-lg w-full mx-4 text-center ${t.isValid?"border-green-300 bg-white shadow-green-100":"border-red-300 bg-white shadow-red-100"} shadow-2xl`,onClick:E=>E.stopPropagation(),children:[v.jsx("div",{className:"mb-6",children:t.isValid?v.jsx(yh,{className:"h-20 w-20 text-green-500 mx-auto"}):v.jsx(J5,{className:"h-20 w-20 text-red-500 mx-auto"})}),v.jsxs("div",{className:"mb-6",children:[v.jsx("h3",{className:`text-3xl font-bold mb-2 ${t.isValid?"text-green-800":"text-red-800"}`,children:t.isValid?"VALID TICKET":"INVALID TICKET"}),v.jsx("p",{className:`text-lg ${t.isValid?"text-green-700":"text-red-700"}`,children:t.message}),t.message.includes("already scanned")&&v.jsx("p",{className:"text-orange-600 mt-2 font-medium",children:"⚠️ Already Scanned for Entry"})]}),v.jsxs("div",{className:"space-y-4 text-left bg-gray-50 p-4 rounded-xl",children:[v.jsxs("div",{className:"flex items-center justify-center gap-3",children:[v.jsx(JL,{className:"h-5 w-5 text-gray-600"}),v.jsx("span",{className:"font-semibold text-lg text-gray-900",children:t.customerName})]}),v.jsxs("div",{className:"flex items-center justify-center gap-3",children:[v.jsx(As,{className:"h-5 w-5 text-gray-600"}),v.jsx("span",{className:"text-gray-700",children:t.eventDate&&t.eventDate!=="unknown"?new Date(t.eventDate).toLocaleDateString():"Unknown Date"})]}),t.eventTitle&&v.jsxs("div",{className:"flex items-center justify-center gap-3",children:[v.jsx(bc,{className:"h-5 w-5 text-gray-600"}),v.jsx("span",{className:"font-medium text-gray-900",children:t.eventTitle})]}),t.ticketTierName&&v.jsxs("div",{className:"flex items-center justify-center gap-3",children:[v.jsx(L1,{className:"h-5 w-5 text-gray-600"}),v.jsx("span",{className:"text-gray-700",children:t.ticketTierName})]})]}),v.jsx("p",{className:"text-sm text-gray-500 mt-6",children:"Tap anywhere to close"})]})})}),s.length>0&&v.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 mt-6",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6 text-center",children:"Recent Scans"}),v.jsx("div",{className:"space-y-4",children:s.map((E,_)=>v.jsxs("div",{className:`p-4 rounded-xl border-2 ${E.isValid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:[v.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[E.isValid?v.jsx(yh,{className:"h-6 w-6 text-green-600 flex-shrink-0"}):v.jsx(J5,{className:"h-6 w-6 text-red-600 flex-shrink-0"}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("p",{className:`font-semibold text-lg ${E.isValid?"text-green-800":"text-red-800"}`,children:E.customerName}),v.jsx("p",{className:"text-gray-600",children:E.customerEmail})]})]}),v.jsxs("div",{className:"bg-white p-3 rounded-lg",children:[v.jsx("p",{className:"font-medium text-gray-900 mb-1",children:E.eventTitle||"Unknown Event"}),v.jsxs("p",{className:"text-sm text-gray-600",children:["Entry • ",E.timestamp?new Date(E.timestamp).toLocaleTimeString():E.eventDate&&E.eventDate!=="unknown"?new Date(E.eventDate).toLocaleDateString():"Unknown Date"]})]})]},_))})]})]})})},uc=({filename:e,data:t,headers:n})=>{const r=[n.join(","),...t.map(u=>n.map(d=>{const f=u[d];return typeof f=="string"&&(f.includes(",")||f.includes('"'))?`"${f.replace(/"/g,'""')}"`:f}).join(","))].join(`
`),i=new Blob([r],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),o=URL.createObjectURL(i);s.setAttribute("href",o),s.setAttribute("download",`${e}.csv`),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)},Sj=(e,t,n)=>{const r=`customer-data-${n}-${new Date().toISOString().split("T")[0]}`,i=e.filter(m=>{const x=new Date(m.createdAt),A=new Date;return A.setDate(A.getDate()-(n==="7d"?7:n==="30d"?30:90)),x>=A}),s=i.map(m=>{var b;const x=t.find(P=>P.id===m.eventId);return((b=m.tickets)==null?void 0:b.map(P=>{var O,E;const I=(O=x==null?void 0:x.ticketTiers)==null?void 0:O.find(_=>_.id===P.ticketTierId);return{"Customer Name":m.customerName||"N/A","Customer Email":m.customerEmail||"N/A","Order ID":((E=m.id)==null?void 0:E.slice(0,8))||"N/A","Event Title":(x==null?void 0:x.title)||"Unknown Event","Event Date":(x==null?void 0:x.date)||"N/A","Event Venue":(x==null?void 0:x.venue)||"N/A","Ticket Tier":(I==null?void 0:I.name)||"Unknown Tier","Ticket Price":I?`£${(I.price/100).toFixed(2)}`:"N/A",Quantity:P.quantity||0,"Total Price":`£${((P.totalPrice||0)/100).toFixed(2)}`,"Order Status":m.status||"N/A","Order Date":new Date(m.createdAt).toLocaleDateString(),"Order Time":new Date(m.createdAt).toLocaleTimeString(),Currency:m.currency||"gbp","Stripe Payment ID":m.stripePaymentIntentId||"N/A"}}))||[]}).flat();if(s.length>0){const m=["Customer Name","Customer Email","Order ID","Event Title","Event Date","Event Venue","Ticket Tier","Ticket Price","Quantity","Total Price","Order Status","Order Date","Order Time","Currency","Stripe Payment ID"];uc({filename:`${r}-purchases`,data:s,headers:m})}const o=i.reduce((m,x)=>{var P;const A=x.customerEmail||"Unknown";m[A]||(m[A]={"Customer Email":A,"Customer Name":x.customerName||"N/A","Total Orders":0,"Total Spent":0,"Total Tickets":0,"Events Attended":new Set,"First Order":new Date(x.createdAt),"Last Order":new Date(x.createdAt),"Favorite Event":"","Most Expensive Order":0}),m[A]["Total Orders"]++,m[A]["Total Spent"]+=x.totalAmount||0,m[A]["Total Tickets"]+=((P=x.tickets)==null?void 0:P.reduce((I,O)=>I+(O.quantity||0),0))||0;const b=t.find(I=>I.id===x.eventId);return b&&m[A]["Events Attended"].add(b.title),new Date(x.createdAt)<m[A]["First Order"]&&(m[A]["First Order"]=new Date(x.createdAt)),new Date(x.createdAt)>m[A]["Last Order"]&&(m[A]["Last Order"]=new Date(x.createdAt)),(x.totalAmount||0)>m[A]["Most Expensive Order"]&&(m[A]["Most Expensive Order"]=x.totalAmount||0),m},{}),u=Object.values(o).map(m=>({...m,"Events Attended":Array.from(m["Events Attended"]).join(", "),"First Order":m["First Order"].toLocaleDateString(),"Last Order":m["Last Order"].toLocaleDateString(),"Total Spent":`£${(m["Total Spent"]/100).toFixed(2)}`,"Most Expensive Order":`£${(m["Most Expensive Order"]/100).toFixed(2)}`}));if(u.length>0){const m=["Customer Email","Customer Name","Total Orders","Total Spent","Total Tickets","Events Attended","First Order","Last Order","Favorite Event","Most Expensive Order"];uc({filename:`${r}-summary`,data:u,headers:m})}const d=i.map(m=>{var O,E,_;const x=t.find(L=>L.id===m.eventId),A=new Date(m.createdAt),b=A.toLocaleDateString("en-GB",{weekday:"long"}),P=A.getHours(),I=P<12?"Morning":P<17?"Afternoon":"Evening";return{"Customer Email":m.customerEmail||"N/A","Customer Name":m.customerName||"N/A","Order ID":((O=m.id)==null?void 0:O.slice(0,8))||"N/A","Event Title":(x==null?void 0:x.title)||"Unknown Event","Event Category":((E=x==null?void 0:x.tags)==null?void 0:E.join(", "))||"N/A","Day of Week":b,"Time of Day":I,"Hour of Day":P,"Order Amount":`£${((m.totalAmount||0)/100).toFixed(2)}`,"Ticket Count":((_=m.tickets)==null?void 0:_.reduce((L,R)=>L+(R.quantity||0),0))||0,"Order Status":m.status||"N/A","Order Date":A.toLocaleDateString(),"Days Until Event":(x!=null&&x.date,"N/A")}});if(d.length>0){const m=["Customer Email","Customer Name","Order ID","Event Title","Event Category","Day of Week","Time of Day","Hour of Day","Order Amount","Ticket Count","Order Status","Order Date","Days Until Event"];uc({filename:`${r}-behavior`,data:d,headers:m})}const f=u.filter(m=>parseFloat(m["Total Spent"].replace("£",""))>=100).sort((m,x)=>parseFloat(x["Total Spent"].replace("£",""))-parseFloat(m["Total Spent"].replace("£","")));if(f.length>0){const m=["Customer Email","Customer Name","Total Spent","Total Orders","Total Tickets","Events Attended","First Order","Last Order","Customer Value Tier"],x=f.map(A=>{const b=parseFloat(A["Total Spent"].replace("£",""));let P="Bronze";return b>=500?P="Platinum":b>=300?P="Gold":b>=150&&(P="Silver"),{...A,"Customer Value Tier":P}});uc({filename:`${r}-high-value-customers`,data:x,headers:m})}},Nj=(e,t,n)=>{const r=`event-${e.title.replace(/[^a-z0-9]/gi,"-").toLowerCase()}-${n}-${new Date().toISOString().split("T")[0]}`,i=t.filter(o=>o.eventId===e.id),s=[{Event:e.title,Date:e.date,Venue:e.venue,"Total Revenue":`£${(i.reduce((o,u)=>o+(u.totalAmount||0),0)/100).toFixed(2)}`,"Total Orders":i.length,"Total Tickets":i.reduce((o,u)=>{var d;return o+(((d=u.tickets)==null?void 0:d.reduce((f,m)=>f+(m.quantity||0),0))||0)},0),Period:n}];if(uc({filename:`${r}-overview`,data:s,headers:["Event","Date","Venue","Total Revenue","Total Orders","Total Tickets","Period"]}),i.length>0){const o=i.map(u=>{var d,f;return{"Order ID":((d=u.id)==null?void 0:d.slice(0,8))||"N/A","Customer Name":u.customerName||"N/A","Customer Email":u.customerEmail||"N/A",Amount:`£${((u.totalAmount||0)/100).toFixed(2)}`,Status:u.status||"N/A",Date:new Date(u.createdAt).toLocaleDateString(),Tickets:((f=u.tickets)==null?void 0:f.reduce((m,x)=>m+(x.quantity||0),0))||0}});uc({filename:`${r}-orders`,data:o,headers:["Order ID","Customer Name","Customer Email","Amount","Status","Date","Tickets"]})}if(e.ticketTiers&&e.ticketTiers.length>0){const o=e.ticketTiers.map(u=>{const d=i.filter(x=>{var A;return(A=x.tickets)==null?void 0:A.some(b=>b.ticketTierId===u.id)}),f=d.reduce((x,A)=>{var P;const b=((P=A.tickets)==null?void 0:P.filter(I=>I.ticketTierId===u.id))||[];return x+b.reduce((I,O)=>I+(O.totalPrice||0),0)},0),m=d.reduce((x,A)=>{var P;const b=((P=A.tickets)==null?void 0:P.filter(I=>I.ticketTierId===u.id))||[];return x+b.reduce((I,O)=>I+(O.quantity||0),0)},0);return{"Tier Name":u.name,Price:`£${(u.price/100).toFixed(2)}`,Capacity:u.capacity,Sold:m,Available:u.capacity-m,Utilization:`${(m/u.capacity*100).toFixed(1)}%`,Revenue:`£${(f/100).toFixed(2)}`,"Revenue per Ticket":m>0?`£${(f/m/100).toFixed(2)}`:"£0.00"}});uc({filename:`${r}-tiers`,data:o,headers:["Tier Name","Price","Capacity","Sold","Available","Utilization","Revenue","Revenue per Ticket"]})}},Cj=()=>{const{events:e,orders:t,getEvents:n,getOrders:r,addEvent:i,deleteEvent:s,archiveEvent:o}=bo(),[u,d]=me.useState(null),[f,m]=me.useState(!0),[x,A]=me.useState("30d"),[b,P]=me.useState("all"),[I,O]=me.useState([]),[E,_]=me.useState("analytics"),[L,R]=me.useState(!1),[V,ie]=me.useState(null),[q,K]=me.useState(null);me.useEffect(()=>{$()},[]),me.useEffect(()=>{if(e&&t){const M=J();d(M)}},[e,t,x,b]);const $=async()=>{console.log("🔄 Loading dashboard data..."),m(!0);const M=setTimeout(()=>{console.log("⏰ Loading timeout - forcing completion"),m(!1)},1e4);try{console.log("📡 Fetching events and orders..."),await Promise.all([n(),r()]),console.log("✅ Data fetched successfully");const ne=J();d(ne),console.log("📊 Stats calculated:",ne)}catch(ne){console.error("❌ Error loading dashboard data:",ne)}finally{clearTimeout(M),m(!1),console.log("🏁 Dashboard loading complete")}},ge=()=>{ie(null),R(!0)},W=M=>{ie(M),R(!0)},B=M=>{K({type:"delete",event:M})},ee=M=>{K({type:"archive",event:M})},te=async M=>{O(he=>[...he,M]);const ne=new Date,oe=new Date(ne.getTime()+30*24*60*60*1e3);let pe;switch(M){case"sundowner":pe={title:"Carnival LDN Sundowner",date:oe.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:"18:00 - 22:00",venue:"Sky Garden, London",price:"From £25",description:"Experience the magic of London at sunset with our exclusive Carnival LDN Sundowner. Enjoy live music, craft cocktails, and breathtaking city views from one of London's most iconic venues.",capacity:"150",image:"https://images.unsplash.com/photo-1513635269975-59663e0ac1ad?w=800&h=600&fit=crop",tags:"sundowner,networking,music,cocktails,views",gradient:"from-orange-400 via-red-500 to-pink-500",ticketTiers:[{id:`tier_${Date.now()}_1`,name:"Early Bird",price:2500,originalPrice:3500,capacity:50,soldCount:0,description:"Limited early bird tickets",benefits:["Priority entry","Welcome drink","Canapés"],isActive:!0},{id:`tier_${Date.now()}_2`,name:"Standard",price:3500,originalPrice:null,capacity:80,soldCount:0,description:"Standard admission",benefits:["Entry","Welcome drink","Canapés","Live music"],isActive:!0},{id:`tier_${Date.now()}_3`,name:"VIP",price:5500,originalPrice:null,capacity:20,soldCount:0,description:"Premium experience",benefits:["Priority entry","Premium drinks","Full catering","Reserved seating","Meet & greet with artists"],isActive:!0}]};break;case"bollywood":pe={title:"Bollywood Night - Carnival LDN",date:oe.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:"19:00 - 02:00",venue:"O2 Academy Brixton, London",price:"From £20",description:"Get ready for the most vibrant Bollywood night in London! Dance to the latest Bollywood hits, enjoy authentic Indian cuisine, and experience the magic of Indian cinema with live performances.",capacity:"200",image:"https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop",tags:"bollywood,indian,music,dance,food,culture",gradient:"from-purple-400 via-pink-500 to-red-500",ticketTiers:[{id:`tier_${Date.now()}_1`,name:"General Admission",price:2e3,originalPrice:null,capacity:120,soldCount:0,description:"Basic entry",benefits:["Entry","Live music","Dance floor access"],isActive:!0},{id:`tier_${Date.now()}_2`,name:"Premium",price:3500,originalPrice:null,capacity:60,soldCount:0,description:"Enhanced experience",benefits:["Entry","Live music","Dance floor access","Food vouchers","Reserved seating"],isActive:!0},{id:`tier_${Date.now()}_3`,name:"VIP Experience",price:6500,originalPrice:null,capacity:20,soldCount:0,description:"Ultimate Bollywood experience",benefits:["Priority entry","Premium seating","All-inclusive food & drinks","Meet performers","Photo opportunities","Exclusive dance workshop"],isActive:!0}]};break;case"carnival":pe={title:"Carnival LDN Street Festival",date:oe.toLocaleDateString("en-GB",{weekday:"long",day:"numeric",month:"long",year:"numeric"}),time:"12:00 - 20:00",venue:"Brockwell Park, London SE24 9BJ",price:"Free - £40",description:"Join us for the biggest Caribbean carnival celebration in London! Experience vibrant costumes, steel pan music, Caribbean food stalls, and an unforgettable day of culture and celebration.",capacity:"500",image:"https://images.unsplash.com/photo-1516450360452-9312f5e86fc7?w=800&h=600&fit=crop",tags:"carnival,caribbean,culture,music,food,family",gradient:"from-green-400 via-blue-500 to-purple-500",ticketTiers:[{id:`tier_${Date.now()}_1`,name:"Free Entry",price:0,originalPrice:null,capacity:300,soldCount:0,description:"General festival access",benefits:["Entry","Live music","Food stalls access","Family activities"],isActive:!0},{id:`tier_${Date.now()}_2`,name:"Premium Pass",price:2500,originalPrice:null,capacity:150,soldCount:0,description:"Enhanced festival experience",benefits:["Priority entry","Reserved seating areas","Food vouchers","Exclusive bar access","Meet & greet with performers"],isActive:!0},{id:`tier_${Date.now()}_3`,name:"VIP Experience",price:4e3,originalPrice:null,capacity:50,soldCount:0,description:"Ultimate carnival experience",benefits:["Priority entry","VIP seating","All-inclusive food & drinks","Backstage access","Exclusive workshops","Commemorative gift bag"],isActive:!0}]};break}try{await i(pe),qs.success(`${pe.title} created successfully!`),await $()}catch(he){console.error("Error creating test event:",he),qs.error("Failed to create test event")}finally{O(he=>he.filter(Pe=>Pe!==M))}},J=()=>{var Ke;if(!e||!t)return{totalRevenue:0,totalOrders:0,totalTickets:0,conversionRate:0,averageOrderValue:0,topPerformingEvent:"N/A",recentOrders:[],revenueByEvent:[],ticketSalesByTier:[],dailyRevenue:[]};const M=t.filter(ft=>{if(b!=="all"&&ft.eventId!==b)return!1;const Me=new Date(ft.createdAt),de=new Date;return de.setDate(de.getDate()-(x==="7d"?7:x==="30d"?30:90)),Me>=de}),ne=M.reduce((ft,Me)=>ft+(Me.totalAmount||0),0),oe=M.length,pe=M.reduce((ft,Me)=>{var de;return ft+(((de=Me.tickets)==null?void 0:de.reduce((yt,at)=>yt+(at.quantity||0),0))||0)},0),he=oe>0?ne/oe:0,Pe=oe>0?Math.min(95,Math.random()*20+5):0,Le=e.map(ft=>{const de=M.filter(yt=>yt.eventId===ft.id).reduce((yt,at)=>yt+(at.totalAmount||0),0);return{event:ft.title,revenue:de}}),Oe=((Ke=Le.sort((ft,Me)=>Me.revenue-ft.revenue)[0])==null?void 0:Ke.event)||"N/A",et=Le.filter(ft=>ft.revenue>0),Ge=[];e.forEach(ft=>{var Me;(Me=ft.ticketTiers)==null||Me.forEach(de=>{const yt=M.filter(re=>{var ae;return(ae=re.tickets)==null?void 0:ae.some(Ae=>Ae.ticketTierId===de.id)}),at=yt.reduce((re,ae)=>{var qe;const Ae=((qe=ae.tickets)==null?void 0:qe.filter(Ve=>Ve.ticketTierId===de.id))||[];return re+Ae.reduce((Ve,We)=>Ve+(We.totalPrice||0),0)},0),ze=yt.reduce((re,ae)=>{var qe;const Ae=((qe=ae.tickets)==null?void 0:qe.filter(Ve=>Ve.ticketTierId===de.id))||[];return re+Ae.reduce((Ve,We)=>Ve+(We.quantity||0),0)},0);Ge.push({tier:`${ft.title} - ${de.name}`,sold:ze,revenue:at,capacity:de.capacity||0})})});const ut=Array.from({length:30},(ft,Me)=>{const de=new Date;de.setDate(de.getDate()-(29-Me));const at=M.filter(ze=>new Date(ze.createdAt).toDateString()===de.toDateString()).reduce((ze,re)=>ze+(re.totalAmount||0),0);return{date:de.toLocaleDateString("en-GB",{month:"short",day:"numeric"}),revenue:at}});return{totalRevenue:ne,totalOrders:oe,totalTickets:pe,conversionRate:Pe,averageOrderValue:he,topPerformingEvent:Oe,recentOrders:M.slice(0,5),revenueByEvent:et,ticketSalesByTier:Ge,dailyRevenue:ut}},be=()=>{e&&t&&(Sj(t,e,x),qs.success("Customer data exported successfully!"))},ve=M=>{const ne=e==null?void 0:e.find(oe=>oe.id===M);ne&&t&&(Nj(ne,t,x),qs.success(`${ne.title} data exported successfully!`))},fe=M=>{if(!M)return null;let ne=String(M).trim();const oe=ne.match(/^[A-Za-z]+,\s*(.*)$/);oe&&(ne=oe[1]);let pe=new Date(ne);if(!isNaN(pe.getTime()))return pe;const he=ne.match(/^(\d{1,2})\s+([A-Za-z]+)\s+(\d{4})$/);if(he){const[,Le,Oe,et]=he;if(pe=new Date(`${Oe} ${Le}, ${et}`),!isNaN(pe.getTime()))return pe}const Pe=ne.match(/^(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})$/);if(Pe){const[,Le,Oe,et]=Pe,Ge=ut=>ut.padStart(2,"0");if(pe=new Date(`${et}-${Ge(Oe)}-${Ge(Le)}`),!isNaN(pe.getTime()))return pe}return null};new Date().setHours(0,0,0,0);const Ie=(e||[]).filter(M=>!M.isArchived).sort((M,ne)=>{const oe=fe(M.date),pe=fe(ne.date);return!oe&&!pe?0:oe?pe?oe.getTime()-pe.getTime():-1:1}),Ue=(e||[]).filter(M=>M.isArchived).sort((M,ne)=>{const oe=fe(M.date),pe=fe(ne.date);return!oe&&!pe?0:oe?pe?((pe==null?void 0:pe.getTime())||0)-((oe==null?void 0:oe.getTime())||0):-1:1});return f?v.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-blue-600 mx-auto mb-4"}),v.jsx("p",{className:"text-xl font-semibold text-gray-700",children:"Loading Dashboard..."}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"This may take a few seconds..."}),v.jsx("button",{onClick:()=>{console.log("🔄 Manual refresh triggered"),m(!1),$()},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Refresh Dashboard"})]})}):v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx(I9,{selectedTimeframe:x,selectedEvent:b,events:e||[],activeTab:E,onTimeframeChange:A,onEventChange:P,onTabChange:_,onRefresh:$}),v.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[E==="analytics"&&v.jsx(v.Fragment,{children:b!=="all"?v.jsx(M9,{events:e||[],orders:t||[],selectedEvent:b,onExportEventData:ve}):v.jsxs(v.Fragment,{children:[v.jsx(k9,{stats:u,onExportAll:be,quickEventButtons:v.jsx(j9,{creatingEvents:I,onCreateEvent:te})}),v.jsx(L9,{stats:u,events:e||[]}),v.jsx(D9,{orders:(u==null?void 0:u.recentOrders)||[],events:e||[]})]})}),E==="events"&&v.jsx(P9,{currentEvents:Ie,archivedEvents:Ue,onAddEvent:ge,onEditEvent:W,onArchiveToggle:ee,onDeleteEvent:B}),E==="orders"&&v.jsx(O9,{orders:t||[],events:e||[]})]}),L&&v.jsx(T9,{event:V,onClose:()=>{R(!1),ie(null),$()}}),v.jsx(R9,{confirm:q,onClose:()=>K(null),onConfirm:async()=>{q&&(q.type==="delete"?await s(q.event.id):await o(q.event.id,!q.event.isArchived),K(null))}})]})};var vS="basil",Ej=function(t){return t===3?"v3":t},wS="https://js.stripe.com",_j="".concat(wS,"/").concat(vS,"/stripe.js"),Tj=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Ij=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var kj=function(t){return Tj.test(t)||Ij.test(t)},Lj=function(){for(var t=document.querySelectorAll('script[src^="'.concat(wS,'"]')),n=0;n<t.length;n++){var r=t[n];if(kj(r.src))return r}return null},Yw=function(t){var n="",r=document.createElement("script");r.src="".concat(_j).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Pj=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:n})},vd=null,Rf=null,Mf=null,Oj=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},Dj=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},jj=function(t){return vd!==null?vd:(vd=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var i=Lj();if(!(i&&t)){if(!i)i=Yw(t);else if(i&&Mf!==null&&Rf!==null){var s;i.removeEventListener("load",Mf),i.removeEventListener("error",Rf),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=Yw(t)}}Mf=Dj(n,r),Rf=Oj(r),i.addEventListener("load",Mf),i.addEventListener("error",Rf)}catch(o){r(o);return}}),vd.catch(function(n){return vd=null,Promise.reject(n)}))},Rj=function(t,n,r){if(t===null)return null;var i=n[0],s=i.match(/^pk_test/),o=Ej(t.version),u=vS;s&&o!==u&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(u,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var d=t.apply(void 0,n);return Pj(d,r),d},wd,bS=!1,AS=function(){return wd||(wd=jj(null).catch(function(t){return wd=null,Promise.reject(t)}),wd)};Promise.resolve().then(function(){return AS()}).catch(function(e){bS||console.warn(e)});var Mj=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];bS=!0;var i=Date.now();return AS().then(function(s){return Rj(s,n,i)})},SS={exports:{}},Bj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fj=Bj,Uj=Fj;function NS(){}function CS(){}CS.resetWarningCache=NS;var Vj=function(){function e(r,i,s,o,u,d){if(d!==Uj){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:CS,resetWarningCache:NS};return n.PropTypes=n,n};SS.exports=Vj();var zj=SS.exports;const cr=r1(zj);function Xw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Kw(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Xw(Object(n),!0).forEach(function(r){ES(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xw(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function a0(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?a0=function(t){return typeof t}:a0=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a0(e)}function ES(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hj(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function qj(e,t){if(e==null)return{};var n=Hj(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _S(e,t){return Wj(e)||$j(e,t)||Gj(e,t)||Yj()}function Wj(e){if(Array.isArray(e))return e}function $j(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,o,u;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!(t&&r.length===t));i=!0);}catch(d){s=!0,u=d}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw u}}return r}}function Gj(e,t){if(e){if(typeof e=="string")return Zw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zw(e,t)}}function Zw(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ms=function(t,n,r){var i=!!r,s=Wt.useRef(r);Wt.useEffect(function(){s.current=r},[r]),Wt.useEffect(function(){if(!i||!t)return function(){};var o=function(){s.current&&s.current.apply(s,arguments)};return t.on(n,o),function(){t.off(n,o)}},[i,n,t,s])},Km=function(t){var n=Wt.useRef(t);return Wt.useEffect(function(){n.current=t},[t]),n.current},Bu=function(t){return t!==null&&a0(t)==="object"},Xj=function(t){return Bu(t)&&typeof t.then=="function"},Kj=function(t){return Bu(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Qw="[object Object]",Zj=function e(t,n){if(!Bu(t)||!Bu(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(t)===Qw,o=Object.prototype.toString.call(n)===Qw;if(s!==o)return!1;if(!s&&!r)return t===n;var u=Object.keys(t),d=Object.keys(n);if(u.length!==d.length)return!1;for(var f={},m=0;m<u.length;m+=1)f[u[m]]=!0;for(var x=0;x<d.length;x+=1)f[d[x]]=!0;var A=Object.keys(f);if(A.length!==u.length)return!1;var b=t,P=n,I=function(E){return e(b[E],P[E])};return A.every(I)},TS=function(t,n,r){return Bu(t)?Object.keys(t).reduce(function(i,s){var o=!Bu(n)||!Zj(t[s],n[s]);return r.includes(s)?(o&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):o?Kw(Kw({},i||{}),{},ES({},s,t[s])):i},null):null},IS="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",Jw=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IS;if(t===null||Kj(t))return t;throw new Error(n)},Qj=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:IS;if(Xj(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return Jw(i,n)})};var r=Jw(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Jj=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"3.9.0"}),t.registerAppInfo({name:"react-stripe-js",version:"3.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},V1=Wt.createContext(null);V1.displayName="ElementsContext";var kS=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},LS=function(t){var n=t.stripe,r=t.options,i=t.children,s=Wt.useMemo(function(){return Qj(n)},[n]),o=Wt.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),u=_S(o,2),d=u[0],f=u[1];Wt.useEffect(function(){var A=!0,b=function(I){f(function(O){return O.stripe?O:{stripe:I,elements:I.elements(r)}})};return s.tag==="async"&&!d.stripe?s.stripePromise.then(function(P){P&&A&&b(P)}):s.tag==="sync"&&!d.stripe&&b(s.stripe),function(){A=!1}},[s,d,r]);var m=Km(n);Wt.useEffect(function(){m!==null&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,n]);var x=Km(r);return Wt.useEffect(function(){if(d.elements){var A=TS(r,x,["clientSecret","fonts"]);A&&d.elements.update(A)}},[r,x,d.elements]),Wt.useEffect(function(){Jj(d.stripe)},[d.stripe]),Wt.createElement(V1.Provider,{value:d},i)};LS.propTypes={stripe:cr.any,options:cr.object};var eR=function(t){var n=Wt.useContext(V1);return kS(n,t)},tR=function(){var t=eR("calls useElements()"),n=t.elements;return n};cr.func.isRequired;var PS=Wt.createContext(null);PS.displayName="CheckoutSdkContext";var nR=function(t,n){if(!t)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(n," in an <CheckoutProvider> provider."));return t},rR=Wt.createContext(null);rR.displayName="CheckoutContext";cr.any,cr.shape({fetchClientSecret:cr.func.isRequired,elementsOptions:cr.object}).isRequired;var Zm=function(t){var n=Wt.useContext(PS),r=Wt.useContext(V1);if(n&&r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n?nR(n,t):kS(r,t)},iR=["mode"],sR=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Or=function(t,n){var r="".concat(sR(t),"Element"),i=function(d){var f=d.id,m=d.className,x=d.options,A=x===void 0?{}:x,b=d.onBlur,P=d.onFocus,I=d.onReady,O=d.onChange,E=d.onEscape,_=d.onClick,L=d.onLoadError,R=d.onLoaderStart,V=d.onNetworksChange,ie=d.onConfirm,q=d.onCancel,K=d.onShippingAddressChange,$=d.onShippingRateChange,ge=Zm("mounts <".concat(r,">")),W="elements"in ge?ge.elements:null,B="checkoutSdk"in ge?ge.checkoutSdk:null,ee=Wt.useState(null),te=_S(ee,2),J=te[0],be=te[1],ve=Wt.useRef(null),fe=Wt.useRef(null);ms(J,"blur",b),ms(J,"focus",P),ms(J,"escape",E),ms(J,"click",_),ms(J,"loaderror",L),ms(J,"loaderstart",R),ms(J,"networkschange",V),ms(J,"confirm",ie),ms(J,"cancel",q),ms(J,"shippingaddresschange",K),ms(J,"shippingratechange",$),ms(J,"change",O);var Ce;I&&(t==="expressCheckout"?Ce=I:Ce=function(){I(J)}),ms(J,"ready",Ce),Wt.useLayoutEffect(function(){if(ve.current===null&&fe.current!==null&&(W||B)){var Ue=null;if(B)switch(t){case"payment":Ue=B.createPaymentElement(A);break;case"address":if("mode"in A){var M=A.mode,ne=qj(A,iR);if(M==="shipping")Ue=B.createShippingAddressElement(ne);else if(M==="billing")Ue=B.createBillingAddressElement(ne);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Ue=B.createExpressCheckoutElement(A);break;case"currencySelector":Ue=B.createCurrencySelectorElement();break;case"taxId":Ue=B.createTaxIdElement(A);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else W&&(Ue=W.create(t,A));ve.current=Ue,be(Ue),Ue&&Ue.mount(fe.current)}},[W,B,A]);var Ie=Km(A);return Wt.useEffect(function(){if(ve.current){var Ue=TS(A,Ie,["paymentRequest"]);Ue&&"update"in ve.current&&ve.current.update(Ue)}},[A,Ie]),Wt.useLayoutEffect(function(){return function(){if(ve.current&&typeof ve.current.destroy=="function")try{ve.current.destroy(),ve.current=null}catch{}}},[]),Wt.createElement("div",{id:f,className:m,ref:fe})},s=function(d){Zm("mounts <".concat(r,">"));var f=d.id,m=d.className;return Wt.createElement("div",{id:f,className:m})},o=n?s:i;return o.propTypes={id:cr.string,className:cr.string,onChange:cr.func,onBlur:cr.func,onFocus:cr.func,onReady:cr.func,onEscape:cr.func,onClick:cr.func,onLoadError:cr.func,onLoaderStart:cr.func,onNetworksChange:cr.func,onConfirm:cr.func,onCancel:cr.func,onShippingAddressChange:cr.func,onShippingRateChange:cr.func,options:cr.object},o.displayName=r,o.__elementType=t,o},Dr=typeof window>"u",aR=Wt.createContext(null);aR.displayName="EmbeddedCheckoutProviderContext";var oR=function(){var t=Zm("calls useStripe()"),n=t.stripe;return n};Or("auBankAccount",Dr);var eb=Or("card",Dr);Or("cardNumber",Dr);Or("cardExpiry",Dr);Or("cardCvc",Dr);Or("fpxBank",Dr);Or("iban",Dr);Or("idealBank",Dr);Or("p24Bank",Dr);Or("epsBank",Dr);Or("payment",Dr);Or("expressCheckout",Dr);Or("currencySelector",Dr);Or("paymentRequestButton",Dr);Or("linkAuthentication",Dr);Or("address",Dr);Or("shippingAddress",Dr);Or("paymentMethodMessaging",Dr);Or("affirmMessage",Dr);Or("afterpayClearpayMessage",Dr);Or("taxId",Dr);const lR=Mj("pk_test_51OyBk9IgkIAGwv6wTnbqfLaivBQ0wYCltGf0gS4yeEZpxkD1f5jKEwarmr294R0LXNEzEMNxHuCKLRpMH8DYgaWD00g8BPRDAG"),cR=({event:e,onClose:t,onSuccess:n})=>{const r=oR(),i=tR(),[s,o]=me.useState([]),[u,d]=me.useState({name:"",email:""}),[f,m]=me.useState(!1),[x,A]=me.useState(null);me.useEffect(()=>{if(console.log("Event ticket tiers:",e.ticketTiers),e.ticketTiers&&e.ticketTiers.length>0){const _=e.ticketTiers.map(L=>({tierId:L.id,tier:L,quantity:0}));o(_)}},[e]);const b=(_,L)=>{o(R=>R.map(V=>V.tierId===_?{...V,quantity:Math.max(0,L)}:V))},P=()=>s.reduce((_,L)=>_+L.tier.price*L.quantity,0),I=()=>s.reduce((_,L)=>_+L.quantity,0),O=async _=>{var L;if(_.preventDefault(),!r||!i){A("Stripe has not loaded yet. Please try again.");return}if(I()===0){A("Please select at least one ticket.");return}if(!u.name||!u.email){A("Please fill in your name and email.");return}m(!0),A(null);try{const R=await fetch("/api/create-payment-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:e.id,tickets:s.filter(K=>K.quantity>0),customerInfo:u,totalAmount:P()})});if(!R.ok)throw new Error("Failed to create payment intent");const{clientSecret:V}=await R.json(),{error:ie,paymentIntent:q}=await r.confirmCardPayment(V,{payment_method:{card:i.getElement(eb),billing_details:{name:u.name,email:u.email}}});if(ie){A(ie.message||"Payment failed");return}if(q.status==="succeeded"){const K=await fetch("/api/confirm-payment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({paymentIntentId:q.id,eventId:e.id,tickets:s.filter($=>$.quantity>0),customerInfo:u,totalAmount:P()})});if(K.ok){const $=await K.json(),ge={id:((L=$.order)==null?void 0:L.id)||`order_${Date.now()}`,eventId:e.id,userId:u.email,stripePaymentIntentId:$.paymentIntentId,status:"completed",totalAmount:P(),currency:"gbp",tickets:s.filter(W=>W.quantity>0).map(W=>{var B;return{id:`ticket_${Date.now()}_${W.tierId}`,orderId:((B=$.order)==null?void 0:B.id)||`order_${Date.now()}`,ticketTierId:W.tierId,quantity:W.quantity,unitPrice:W.tier.price,totalPrice:W.tier.price*W.quantity}}),customerEmail:u.email,customerName:u.name,createdAt:new Date,updatedAt:new Date};n(ge)}}}catch(R){A(R instanceof Error?R.message:"An error occurred")}finally{m(!1)}},E=(e.ticketTiers||[]).filter(_=>_.isActive!==!1&&_.capacity>_.soldCount);return v.jsxs("form",{onSubmit:O,className:"space-y-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Tickets"}),E.length===0&&v.jsx("div",{className:"mb-4 text-sm text-red-600",children:"This event is sold out."}),v.jsx("div",{className:"space-y-4",children:(e.ticketTiers||[]).map(_=>{const L=s.find(ie=>ie.tierId===_.id)||{quantity:0},R=_.capacity-_.soldCount,V=R<=0||_.isActive===!1;return v.jsxs("div",{className:"border rounded-lg p-4",children:[v.jsxs("div",{className:"flex justify-between items-start mb-3",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-medium text-gray-900",children:_.name}),v.jsx("p",{className:"text-sm text-gray-600",children:_.description}),_.benefits&&_.benefits.length>0&&v.jsx("div",{className:"mt-2",children:_.benefits.map((ie,q)=>v.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-1",children:[v.jsx(yh,{className:"h-3 w-3"}),ie]},q))})]}),v.jsx("div",{className:"text-right",children:V?v.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700",children:"Sold out"}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["£",(_.price/100).toFixed(2)]}),_.originalPrice&&_.originalPrice>_.price&&v.jsxs("div",{className:"text-sm text-gray-400 line-through",children:["£",(_.originalPrice/100).toFixed(2)]}),v.jsxs("div",{className:"text-sm text-gray-500",children:[R," available"]})]})})]}),V?v.jsx("div",{className:"text-sm text-gray-500",children:"This tier is currently unavailable."}):v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("button",{type:"button",onClick:()=>b(_.id,(L.quantity||0)-1),className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50",children:"-"}),v.jsx("span",{className:"w-12 text-center font-medium",children:L.quantity||0}),v.jsx("button",{type:"button",onClick:()=>b(_.id,(L.quantity||0)+1),disabled:(L.quantity||0)>=R,className:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"+"})]}),v.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["£",(_.price*(L.quantity||0)/100).toFixed(2)]})]})]},_.id)})})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Your Information"}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx("input",{type:"text",placeholder:"Full Name",value:u.name,onChange:_=>d({...u,name:_.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0}),v.jsx("input",{type:"email",placeholder:"Email Address",value:u.email,onChange:_=>d({...u,email:_.target.value}),className:"px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment"}),v.jsx("div",{className:"border rounded-lg p-4",children:v.jsx(eb,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})})]}),v.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Order Summary"}),v.jsxs("div",{className:"space-y-2",children:[s.filter(_=>_.quantity>0).map(_=>v.jsxs("div",{className:"flex justify-between text-sm",children:[v.jsxs("span",{children:[_.quantity,"x ",_.tier.name]}),v.jsxs("span",{children:["£",(_.tier.price*_.quantity/100).toFixed(2)]})]},_.tierId)),v.jsx("div",{className:"border-t pt-2 mt-2",children:v.jsxs("div",{className:"flex justify-between font-semibold text-lg",children:[v.jsx("span",{children:"Total"}),v.jsxs("span",{children:["£",(P()/100).toFixed(2)]})]})})]})]}),x&&v.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:v.jsx("p",{className:"text-red-800",children:x})}),v.jsx("button",{type:"submit",disabled:!r||f||I()===0,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2",children:f?v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),v.jsx("span",{className:"ml-2",children:"Processing Payment..."})]}):v.jsxs(v.Fragment,{children:[v.jsx(W0,{className:"h-5 w-5"}),v.jsxs("span",{className:"ml-2",children:["Pay £",(P()/100).toFixed(2)]})]})}),f&&v.jsx(lt.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 bg-white bg-opacity-90 flex items-center justify-center rounded-lg",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),v.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Processing your payment..."}),v.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Please don't close this window"})]})}),v.jsx("div",{className:"text-center text-sm text-gray-500",children:v.jsxs("div",{className:"flex items-center justify-center gap-2",children:[v.jsx(W0,{className:"h-4 w-4"}),"Secure payment powered by Stripe"]})})]})},uR=({event:e,onClose:t,onSuccess:n})=>v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsxs(lt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[v.jsxs("div",{className:"p-6 border-b",children:[v.jsxs("div",{className:"mb-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Step 1 of 3"}),v.jsx("span",{className:"text-sm text-gray-500",children:"Select Tickets"})]}),v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:v.jsx(lt.div,{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",initial:{width:0},animate:{width:"33%"}})})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Buy Tickets"}),v.jsx("p",{className:"text-gray-600",children:e.title})]}),v.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600",children:v.jsx(Rh,{className:"h-6 w-6"})})]})]}),v.jsx("div",{className:"p-6",children:v.jsx(LS,{stripe:lR,children:v.jsx(cR,{event:e,onClose:t,onSuccess:n})})})]})});function Tn(e){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(e)}var Oi=Uint8Array,Ss=Uint16Array,Wx=Int32Array,z1=new Oi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),H1=new Oi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Qm=new Oi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),OS=function(e,t){for(var n=new Ss(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new Wx(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},DS=OS(z1,2),jS=DS.b,Jm=DS.r;jS[28]=258,Jm[258]=28;var RS=OS(H1,0),dR=RS.b,tb=RS.r,e2=new Ss(32768);for(var Kn=0;Kn<32768;++Kn){var zo=(Kn&43690)>>1|(Kn&21845)<<1;zo=(zo&52428)>>2|(zo&13107)<<2,zo=(zo&61680)>>4|(zo&3855)<<4,e2[Kn]=((zo&65280)>>8|(zo&255)<<8)>>1}var Fa=function(e,t,n){for(var r=e.length,i=0,s=new Ss(t);i<r;++i)e[i]&&++s[e[i]-1];var o=new Ss(t);for(i=1;i<t;++i)o[i]=o[i-1]+s[i-1]<<1;var u;if(n){u=new Ss(1<<t);var d=15-t;for(i=0;i<r;++i)if(e[i])for(var f=i<<4|e[i],m=t-e[i],x=o[e[i]-1]++<<m,A=x|(1<<m)-1;x<=A;++x)u[e2[x]>>d]=f}else for(u=new Ss(r),i=0;i<r;++i)e[i]&&(u[i]=e2[o[e[i]-1]++]>>15-e[i]);return u},wl=new Oi(288);for(var Kn=0;Kn<144;++Kn)wl[Kn]=8;for(var Kn=144;Kn<256;++Kn)wl[Kn]=9;for(var Kn=256;Kn<280;++Kn)wl[Kn]=7;for(var Kn=280;Kn<288;++Kn)wl[Kn]=8;var bh=new Oi(32);for(var Kn=0;Kn<32;++Kn)bh[Kn]=5;var hR=Fa(wl,9,0),fR=Fa(wl,9,1),pR=Fa(bh,5,0),gR=Fa(bh,5,1),og=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ra=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},lg=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},$x=function(e){return(e+7)/8|0},MS=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Oi(e.subarray(t,n))},mR=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],oa=function(e,t,n){var r=new Error(t||mR[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,oa),!n)throw r;return r},xR=function(e,t,n,r){var i=e.length,s=0;if(!i||t.f&&!t.l)return n||new Oi(0);var o=!n,u=o||t.i!=2,d=t.i;o&&(n=new Oi(i*3));var f=function(Ge){var ut=n.length;if(Ge>ut){var Ke=new Oi(Math.max(ut*2,Ge));Ke.set(n),n=Ke}},m=t.f||0,x=t.p||0,A=t.b||0,b=t.l,P=t.d,I=t.m,O=t.n,E=i*8;do{if(!b){m=ra(e,x,1);var _=ra(e,x+1,3);if(x+=3,_)if(_==1)b=fR,P=gR,I=9,O=5;else if(_==2){var ie=ra(e,x,31)+257,q=ra(e,x+10,15)+4,K=ie+ra(e,x+5,31)+1;x+=14;for(var $=new Oi(K),ge=new Oi(19),W=0;W<q;++W)ge[Qm[W]]=ra(e,x+W*3,7);x+=q*3;for(var B=og(ge),ee=(1<<B)-1,te=Fa(ge,B,1),W=0;W<K;){var J=te[ra(e,x,ee)];x+=J&15;var L=J>>4;if(L<16)$[W++]=L;else{var be=0,ve=0;for(L==16?(ve=3+ra(e,x,3),x+=2,be=$[W-1]):L==17?(ve=3+ra(e,x,7),x+=3):L==18&&(ve=11+ra(e,x,127),x+=7);ve--;)$[W++]=be}}var fe=$.subarray(0,ie),Ce=$.subarray(ie);I=og(fe),O=og(Ce),b=Fa(fe,I,1),P=Fa(Ce,O,1)}else oa(1);else{var L=$x(x)+4,R=e[L-4]|e[L-3]<<8,V=L+R;if(V>i){d&&oa(0);break}u&&f(A+R),n.set(e.subarray(L,V),A),t.b=A+=R,t.p=x=V*8,t.f=m;continue}if(x>E){d&&oa(0);break}}u&&f(A+131072);for(var Ie=(1<<I)-1,Ue=(1<<O)-1,M=x;;M=x){var be=b[lg(e,x)&Ie],ne=be>>4;if(x+=be&15,x>E){d&&oa(0);break}if(be||oa(2),ne<256)n[A++]=ne;else if(ne==256){M=x,b=null;break}else{var oe=ne-254;if(ne>264){var W=ne-257,pe=z1[W];oe=ra(e,x,(1<<pe)-1)+jS[W],x+=pe}var he=P[lg(e,x)&Ue],Pe=he>>4;he||oa(3),x+=he&15;var Ce=dR[Pe];if(Pe>3){var pe=H1[Pe];Ce+=lg(e,x)&(1<<pe)-1,x+=pe}if(x>E){d&&oa(0);break}u&&f(A+131072);var Le=A+oe;if(A<Ce){var Oe=s-Ce,et=Math.min(Ce,Le);for(Oe+A<0&&oa(3);A<et;++A)n[A]=r[Oe+A]}for(;A<Le;++A)n[A]=n[A-Ce]}}t.l=b,t.p=M,t.b=A,t.f=m,b&&(m=1,t.m=I,t.d=P,t.n=O)}while(!m);return A!=n.length&&o?MS(n,0,A):n.subarray(0,A)},eo=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},bd=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},cg=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:FS,l:0};if(i==1){var o=new Oi(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(V,ie){return V.f-ie.f}),n.push({s:-1,f:25001});var u=n[0],d=n[1],f=0,m=1,x=2;for(n[0]={s:-1,f:u.f+d.f,l:u,r:d};m!=i-1;)u=n[n[f].f<n[x].f?f++:x++],d=n[f!=m&&n[f].f<n[x].f?f++:x++],n[m++]={s:-1,f:u.f+d.f,l:u,r:d};for(var A=s[0].s,r=1;r<i;++r)s[r].s>A&&(A=s[r].s);var b=new Ss(A+1),P=t2(n[m-1],b,0);if(P>t){var r=0,I=0,O=P-t,E=1<<O;for(s.sort(function(ie,q){return b[q.s]-b[ie.s]||ie.f-q.f});r<i;++r){var _=s[r].s;if(b[_]>t)I+=E-(1<<P-b[_]),b[_]=t;else break}for(I>>=O;I>0;){var L=s[r].s;b[L]<t?I-=1<<t-b[L]++-1:++r}for(;r>=0&&I;--r){var R=s[r].s;b[R]==t&&(--b[R],++I)}P=t}return{t:new Oi(b),l:P}},t2=function(e,t,n){return e.s==-1?Math.max(t2(e.l,t,n+1),t2(e.r,t,n+1)):t[e.s]=n},nb=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ss(++t),r=0,i=e[0],s=1,o=function(d){n[r++]=d},u=1;u<=t;++u)if(e[u]==i&&u!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=e[u]}return{c:n.subarray(0,r),n:t}},Ad=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},BS=function(e,t,n){var r=n.length,i=$x(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},rb=function(e,t,n,r,i,s,o,u,d,f,m){eo(t,m++,n),++i[256];for(var x=cg(i,15),A=x.t,b=x.l,P=cg(s,15),I=P.t,O=P.l,E=nb(A),_=E.c,L=E.n,R=nb(I),V=R.c,ie=R.n,q=new Ss(19),K=0;K<_.length;++K)++q[_[K]&31];for(var K=0;K<V.length;++K)++q[V[K]&31];for(var $=cg(q,7),ge=$.t,W=$.l,B=19;B>4&&!ge[Qm[B-1]];--B);var ee=f+5<<3,te=Ad(i,wl)+Ad(s,bh)+o,J=Ad(i,A)+Ad(s,I)+o+14+3*B+Ad(q,ge)+2*q[16]+3*q[17]+7*q[18];if(d>=0&&ee<=te&&ee<=J)return BS(t,m,e.subarray(d,d+f));var be,ve,fe,Ce;if(eo(t,m,1+(J<te)),m+=2,J<te){be=Fa(A,b,0),ve=A,fe=Fa(I,O,0),Ce=I;var Ie=Fa(ge,W,0);eo(t,m,L-257),eo(t,m+5,ie-1),eo(t,m+10,B-4),m+=14;for(var K=0;K<B;++K)eo(t,m+3*K,ge[Qm[K]]);m+=3*B;for(var Ue=[_,V],M=0;M<2;++M)for(var ne=Ue[M],K=0;K<ne.length;++K){var oe=ne[K]&31;eo(t,m,Ie[oe]),m+=ge[oe],oe>15&&(eo(t,m,ne[K]>>5&127),m+=ne[K]>>12)}}else be=hR,ve=wl,fe=pR,Ce=bh;for(var K=0;K<u;++K){var pe=r[K];if(pe>255){var oe=pe>>18&31;bd(t,m,be[oe+257]),m+=ve[oe+257],oe>7&&(eo(t,m,pe>>23&31),m+=z1[oe]);var he=pe&31;bd(t,m,fe[he]),m+=Ce[he],he>3&&(bd(t,m,pe>>5&8191),m+=H1[he])}else bd(t,m,be[pe]),m+=ve[pe]}return bd(t,m,be[256]),m+ve[256]},yR=new Wx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),FS=new Oi(0),vR=function(e,t,n,r,i,s){var o=s.z||e.length,u=new Oi(r+o+5*(1+Math.ceil(o/7e3))+i),d=u.subarray(r,u.length-i),f=s.l,m=(s.r||0)&7;if(t){m&&(d[0]=s.r>>3);for(var x=yR[t-1],A=x>>13,b=x&8191,P=(1<<n)-1,I=s.p||new Ss(32768),O=s.h||new Ss(P+1),E=Math.ceil(n/3),_=2*E,L=function(ft){return(e[ft]^e[ft+1]<<E^e[ft+2]<<_)&P},R=new Wx(25e3),V=new Ss(288),ie=new Ss(32),q=0,K=0,$=s.i||0,ge=0,W=s.w||0,B=0;$+2<o;++$){var ee=L($),te=$&32767,J=O[ee];if(I[te]=J,O[ee]=te,W<=$){var be=o-$;if((q>7e3||ge>24576)&&(be>423||!f)){m=rb(e,d,0,R,V,ie,K,ge,B,$-B,m),ge=q=K=0,B=$;for(var ve=0;ve<286;++ve)V[ve]=0;for(var ve=0;ve<30;++ve)ie[ve]=0}var fe=2,Ce=0,Ie=b,Ue=te-J&32767;if(be>2&&ee==L($-Ue))for(var M=Math.min(A,be)-1,ne=Math.min(32767,$),oe=Math.min(258,be);Ue<=ne&&--Ie&&te!=J;){if(e[$+fe]==e[$+fe-Ue]){for(var pe=0;pe<oe&&e[$+pe]==e[$+pe-Ue];++pe);if(pe>fe){if(fe=pe,Ce=Ue,pe>M)break;for(var he=Math.min(Ue,pe-2),Pe=0,ve=0;ve<he;++ve){var Le=$-Ue+ve&32767,Oe=I[Le],et=Le-Oe&32767;et>Pe&&(Pe=et,J=Le)}}}te=J,J=I[te],Ue+=te-J&32767}if(Ce){R[ge++]=268435456|Jm[fe]<<18|tb[Ce];var Ge=Jm[fe]&31,ut=tb[Ce]&31;K+=z1[Ge]+H1[ut],++V[257+Ge],++ie[ut],W=$+fe,++q}else R[ge++]=e[$],++V[e[$]]}}for($=Math.max($,W);$<o;++$)R[ge++]=e[$],++V[e[$]];m=rb(e,d,f,R,V,ie,K,ge,B,$-B,m),f||(s.r=m&7|d[m/8|0]<<3,m-=7,s.h=O,s.p=I,s.i=$,s.w=W)}else{for(var $=s.w||0;$<o+f;$+=65535){var Ke=$+65535;Ke>=o&&(d[m/8|0]=f,Ke=o),m=BS(d,m+1,e.subarray($,Ke))}s.i=o}return MS(u,0,r+$x(m)+i)},US=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,o=0;o!=s;){for(var u=Math.min(o+2655,s);o<u;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},wR=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),o=new Oi(s.length+e.length);o.set(s),o.set(e,s.length),e=o,i.w=s.length}return vR(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},VS=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},bR=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=US();i.p(t.dictionary),VS(e,2,i.d())}},AR=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&oa(6,"invalid zlib data"),(e[1]>>5&1)==1&&oa(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function n2(e,t){t||(t={});var n=US();n.p(e);var r=wR(e,t,t.dictionary?6:2,4);return bR(r,t),VS(r,r.length-4,n.d()),r}function SR(e,t){return xR(e.subarray(AR(e),-4),{i:2},t,t)}var NR=typeof TextDecoder<"u"&&new TextDecoder,CR=0;try{NR.decode(FS,{stream:!0}),CR=1}catch{}var Bt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function ug(){Bt.console&&typeof Bt.console.log=="function"&&Bt.console.log.apply(Bt.console,arguments)}var Dn={log:ug,warn:function(e){Bt.console&&(typeof Bt.console.warn=="function"?Bt.console.warn.apply(Bt.console,arguments):ug.call(null,arguments))},error:function(e){Bt.console&&(typeof Bt.console.error=="function"?Bt.console.error.apply(Bt.console,arguments):ug(e))}};function dg(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){nc(r.response,t,n)},r.onerror=function(){Dn.error("could not download file")},r.send()}function ib(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Bf(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Yd,r2,nc=Bt.saveAs||((typeof window>"u"?"undefined":Tn(window))!=="object"||window!==Bt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Bt.URL||Bt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?ib(i.href)?dg(e,t,n):Bf(i,i.target="_blank"):Bf(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Bf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(ib(e))dg(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Bf(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Tn(s)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return dg(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(Bt.HTMLElement)||Bt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":Tn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var m=u.result;m=o?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},u.readAsDataURL(e)}else{var d=Bt.URL||Bt.webkitURL,f=d.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout(function(){d.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function zS(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(e);o&&(t=s(o),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),d=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),d.length==1&&(d="0"+d),f.length==1&&(f="0"+f),"#"+u+d+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function hg(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=_i(n,r,i,s,t[0],7,-680876936),s=_i(s,n,r,i,t[1],12,-389564586),i=_i(i,s,n,r,t[2],17,606105819),r=_i(r,i,s,n,t[3],22,-1044525330),n=_i(n,r,i,s,t[4],7,-176418897),s=_i(s,n,r,i,t[5],12,1200080426),i=_i(i,s,n,r,t[6],17,-1473231341),r=_i(r,i,s,n,t[7],22,-45705983),n=_i(n,r,i,s,t[8],7,1770035416),s=_i(s,n,r,i,t[9],12,-1958414417),i=_i(i,s,n,r,t[10],17,-42063),r=_i(r,i,s,n,t[11],22,-1990404162),n=_i(n,r,i,s,t[12],7,1804603682),s=_i(s,n,r,i,t[13],12,-40341101),i=_i(i,s,n,r,t[14],17,-1502002290),n=Ti(n,r=_i(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=Ti(s,n,r,i,t[6],9,-1069501632),i=Ti(i,s,n,r,t[11],14,643717713),r=Ti(r,i,s,n,t[0],20,-373897302),n=Ti(n,r,i,s,t[5],5,-701558691),s=Ti(s,n,r,i,t[10],9,38016083),i=Ti(i,s,n,r,t[15],14,-660478335),r=Ti(r,i,s,n,t[4],20,-405537848),n=Ti(n,r,i,s,t[9],5,568446438),s=Ti(s,n,r,i,t[14],9,-1019803690),i=Ti(i,s,n,r,t[3],14,-187363961),r=Ti(r,i,s,n,t[8],20,1163531501),n=Ti(n,r,i,s,t[13],5,-1444681467),s=Ti(s,n,r,i,t[2],9,-51403784),i=Ti(i,s,n,r,t[7],14,1735328473),n=Ii(n,r=Ti(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Ii(s,n,r,i,t[8],11,-2022574463),i=Ii(i,s,n,r,t[11],16,1839030562),r=Ii(r,i,s,n,t[14],23,-35309556),n=Ii(n,r,i,s,t[1],4,-1530992060),s=Ii(s,n,r,i,t[4],11,1272893353),i=Ii(i,s,n,r,t[7],16,-155497632),r=Ii(r,i,s,n,t[10],23,-1094730640),n=Ii(n,r,i,s,t[13],4,681279174),s=Ii(s,n,r,i,t[0],11,-358537222),i=Ii(i,s,n,r,t[3],16,-722521979),r=Ii(r,i,s,n,t[6],23,76029189),n=Ii(n,r,i,s,t[9],4,-640364487),s=Ii(s,n,r,i,t[12],11,-421815835),i=Ii(i,s,n,r,t[15],16,530742520),n=ki(n,r=Ii(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=ki(s,n,r,i,t[7],10,1126891415),i=ki(i,s,n,r,t[14],15,-1416354905),r=ki(r,i,s,n,t[5],21,-57434055),n=ki(n,r,i,s,t[12],6,1700485571),s=ki(s,n,r,i,t[3],10,-1894986606),i=ki(i,s,n,r,t[10],15,-1051523),r=ki(r,i,s,n,t[1],21,-2054922799),n=ki(n,r,i,s,t[8],6,1873313359),s=ki(s,n,r,i,t[15],10,-30611744),i=ki(i,s,n,r,t[6],15,-1560198380),r=ki(r,i,s,n,t[13],21,1309151649),n=ki(n,r,i,s,t[4],6,-145523070),s=ki(s,n,r,i,t[11],10,-1120210379),i=ki(i,s,n,r,t[2],15,718787259),r=ki(r,i,s,n,t[9],21,-343485551),e[0]=rl(n,e[0]),e[1]=rl(r,e[1]),e[2]=rl(i,e[2]),e[3]=rl(s,e[3])}function q1(e,t,n,r,i,s){return t=rl(rl(t,e),rl(r,s)),rl(t<<i|t>>>32-i,n)}function _i(e,t,n,r,i,s,o){return q1(t&n|~t&r,e,t,i,s,o)}function Ti(e,t,n,r,i,s,o){return q1(t&r|n&~r,e,t,i,s,o)}function Ii(e,t,n,r,i,s,o){return q1(t^n^r,e,t,i,s,o)}function ki(e,t,n,r,i,s,o){return q1(n^(t|~r),e,t,i,s,o)}function HS(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)hg(r,ER(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(hg(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,hg(r,i),r}function ER(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}Yd=Bt.atob.bind(Bt),r2=Bt.btoa.bind(Bt);var sb="0123456789abcdef".split("");function _R(e){for(var t="",n=0;n<4;n++)t+=sb[e>>8*n+4&15]+sb[e>>8*n&15];return t}function TR(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function i2(e){return HS(e).map(TR).join("")}var IR=function(e){for(var t=0;t<e.length;t++)e[t]=_R(e[t]);return e.join("")}(HS("hello"))!="5d41402abc4b2a76b9719d911017c592";function rl(e,t){if(IR){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function s2(e,t){var n,r,i,s;if(e!==n){for(var o=(i=e,s=1+(256/e.length>>0),new Array(s+1).join(i)),u=[],d=0;d<256;d++)u[d]=d;var f=0;for(d=0;d<256;d++){var m=u[d];f=(f+m+o.charCodeAt(d))%256,u[d]=u[f],u[f]=m}n=e,r=u}else u=r;var x=t.length,A=0,b=0,P="";for(d=0;d<x;d++)b=(b+(m=u[A=(A+1)%256]))%256,u[A]=u[b],u[b]=m,o=u[(u[A]+u[b])%256],P+=String.fromCharCode(t.charCodeAt(d)^o);return P}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var ab={print:4,modify:8,copy:16,"annot-forms":32};function Kc(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(u){if(ab.perm!==void 0)throw new Error("Invalid permission: "+u);i+=ab[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(t+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=i2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=s2(this.encryptionKey,this.padding)}function Zc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?t+="#"+("0"+i.toString(16)).slice(-2):t+=e[r]}return t}function ob(e){if(Tn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var o=t[n][s];try{o[0].apply(e,r)}catch(u){Bt.console&&Dn.error("jsPDF PubSub Error",u.message,u)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function J0(e){if(!(this instanceof J0))return new J0(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function qS(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ic(e,t,n,r,i){if(!(this instanceof ic))return new ic(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,qS.call(this,r,i)}function gu(e,t,n,r,i){if(!(this instanceof gu))return new gu(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,qS.call(this,r,i)}function jt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],u=1,d=16,f="S",m=null;Tn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(m=e.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),f=e.defaultPathOperation||"S"),o=e.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var x=e.putOnlyUsedFonts||!1,A={},b={internal:{},__private__:{}};b.__private__.PubSub=ob;var P="1.3",I=b.__private__.getPdfVersion=function(){return P};b.__private__.setPdfVersion=function(C){P=C};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return O};var E=b.__private__.getPageFormat=function(C){return O[C]};i=i||"a4";var _={COMPAT:"compat",ADVANCED:"advanced"},L=_.COMPAT;function R(){this.saveGraphicsState(),de(new Et(dt,0,0,-dt,0,Si()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),f="n",L=_.ADVANCED}function V(){this.restoreGraphicsState(),f="S",L=_.COMPAT}var ie=b.__private__.combineFontStyleAndFontWeight=function(C,H){if(C=="bold"&&H=="normal"||C=="bold"&&H==400||C=="normal"&&H=="italic"||C=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(C=H==400||H==="normal"?C==="italic"?"italic":"normal":H!=700&&H!=="bold"||C!=="normal"?(H==700?"bold":H)+""+C:"bold"),C};b.advancedAPI=function(C){var H=L===_.COMPAT;return H&&R.call(this),typeof C!="function"||(C(this),H&&V.call(this)),this},b.compatAPI=function(C){var H=L===_.ADVANCED;return H&&V.call(this),typeof C!="function"||(C(this),H&&R.call(this)),this},b.isAdvancedAPI=function(){return L===_.ADVANCED};var q,K=function(C){if(L!==_.ADVANCED)throw new Error(C+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$=b.roundToPrecision=b.__private__.roundToPrecision=function(C,H){var le=t||H;if(isNaN(C)||isNaN(le))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return C.toFixed(le).replace(/0+$/,"")};q=b.hpf=b.__private__.hpf=typeof d=="number"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return $(C,d)}:d==="smart"?function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return $(C,C>-1&&C<1?16:5)}:function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.hpf");return $(C,16)};var ge=b.f2=b.__private__.f2=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f2");return $(C,2)},W=b.__private__.f3=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.f3");return $(C,3)},B=b.scale=b.__private__.scale=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.scale");return L===_.COMPAT?C*dt:L===_.ADVANCED?C:void 0},ee=function(C){return L===_.COMPAT?Si()-C:L===_.ADVANCED?C:void 0},te=function(C){return B(ee(C))};b.__private__.setPrecision=b.setPrecision=function(C){typeof parseInt(C,10)=="number"&&(t=parseInt(C,10))};var J,be="00000000000000000000000000000000",ve=b.__private__.getFileId=function(){return be},fe=b.__private__.setFileId=function(C){return be=C!==void 0&&/^[a-fA-F0-9]{32}$/.test(C)?C.toUpperCase():be.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Nr=new Kc(m.userPermissions,m.userPassword,m.ownerPassword,be)),be};b.setFileId=function(C){return fe(C),this},b.getFileId=function(){return ve()};var Ce=b.__private__.convertDateToPDFDate=function(C){var H=C.getTimezoneOffset(),le=H<0?"+":"-",ye=Math.floor(Math.abs(H/60)),ke=Math.abs(H%60),$e=[le,oe(ye),"'",oe(ke),"'"].join("");return["D:",C.getFullYear(),oe(C.getMonth()+1),oe(C.getDate()),oe(C.getHours()),oe(C.getMinutes()),oe(C.getSeconds()),$e].join("")},Ie=b.__private__.convertPDFDateToDate=function(C){var H=parseInt(C.substr(2,4),10),le=parseInt(C.substr(6,2),10)-1,ye=parseInt(C.substr(8,2),10),ke=parseInt(C.substr(10,2),10),$e=parseInt(C.substr(12,2),10),Je=parseInt(C.substr(14,2),10);return new Date(H,le,ye,ke,$e,Je,0)},Ue=b.__private__.setCreationDate=function(C){var H;if(C===void 0&&(C=new Date),C instanceof Date)H=Ce(C);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(C))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=C}return J=H},M=b.__private__.getCreationDate=function(C){var H=J;return C==="jsDate"&&(H=Ie(J)),H};b.setCreationDate=function(C){return Ue(C),this},b.getCreationDate=function(C){return M(C)};var ne,oe=b.__private__.padd2=function(C){return("0"+parseInt(C)).slice(-2)},pe=b.__private__.padd2Hex=function(C){return("00"+(C=C.toString())).substr(C.length)},he=0,Pe=[],Le=[],Oe=0,et=[],Ge=[],ut=!1,Ke=Le,ft=function(){he=0,Oe=0,Le=[],Pe=[],et=[],vi=kn(),Ri=kn()};b.__private__.setCustomOutputDestination=function(C){ut=!0,Ke=C};var Me=function(C){ut||(Ke=C)};b.__private__.resetCustomOutputDestination=function(){ut=!1,Ke=Le};var de=b.__private__.out=function(C){return C=C.toString(),Oe+=C.length+1,Ke.push(C),Ke},yt=b.__private__.write=function(C){return de(arguments.length===1?C.toString():Array.prototype.join.call(arguments," "))},at=b.__private__.getArrayBuffer=function(C){for(var H=C.length,le=new ArrayBuffer(H),ye=new Uint8Array(le);H--;)ye[H]=C.charCodeAt(H);return le},ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return ze};var re=e.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(C){return re=L===_.ADVANCED?C/dt:C,this};var ae,Ae=b.__private__.getFontSize=b.getFontSize=function(){return L===_.COMPAT?re:re*dt},qe=e.R2L||!1;b.__private__.setR2L=b.setR2L=function(C){return qe=C,this},b.__private__.getR2L=b.getR2L=function(){return qe};var Ve,We=b.__private__.setZoomMode=function(C){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(C))ae=C;else if(isNaN(C)){if(H.indexOf(C)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+C+'" is not recognized.');ae=C}else ae=parseInt(C,10)};b.__private__.getZoomMode=function(){return ae};var it,bt=b.__private__.setPageMode=function(C){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(C)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+C+'" is not recognized.');Ve=C};b.__private__.getPageMode=function(){return Ve};var St=b.__private__.setLayoutMode=function(C){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(C)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+C+'" is not recognized.');it=C};b.__private__.getLayoutMode=function(){return it},b.__private__.setDisplayMode=b.setDisplayMode=function(C,H,le){return We(C),St(H),bt(le),this};var pt={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(C){if(Object.keys(pt).indexOf(C)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pt[C]},b.__private__.getDocumentProperties=function(){return pt},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(C){for(var H in pt)pt.hasOwnProperty(H)&&C[H]&&(pt[H]=C[H]);return this},b.__private__.setDocumentProperty=function(C,H){if(Object.keys(pt).indexOf(C)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pt[C]=H};var Ht,dt,jr,Lt,ot,Rt={},Ot={},cn=[],en={},Xs={},Hn={},Gt={},ci=null,qn=0,Ut=[],Xt=new ob(b),Ks=e.hotfixes||[],fn={},ui={},ji=[],Et=function C(H,le,ye,ke,$e,Je){if(!(this instanceof C))return new C(H,le,ye,ke,$e,Je);isNaN(H)&&(H=1),isNaN(le)&&(le=0),isNaN(ye)&&(ye=0),isNaN(ke)&&(ke=1),isNaN($e)&&($e=0),isNaN(Je)&&(Je=0),this._matrix=[H,le,ye,ke,$e,Je]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(C){this._matrix[0]=C}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(C){this._matrix[1]=C}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(C){this._matrix[2]=C}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(C){this._matrix[3]=C}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(C){this._matrix[4]=C}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(C){this._matrix[5]=C}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(C){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(C)},Et.prototype.multiply=function(C){var H=C.sx*this.sx+C.shy*this.shx,le=C.sx*this.shy+C.shy*this.sy,ye=C.shx*this.sx+C.sy*this.shx,ke=C.shx*this.shy+C.sy*this.sy,$e=C.tx*this.sx+C.ty*this.shx+this.tx,Je=C.tx*this.shy+C.ty*this.sy+this.ty;return new Et(H,le,ye,ke,$e,Je)},Et.prototype.decompose=function(){var C=this.sx,H=this.shy,le=this.shx,ye=this.sy,ke=this.tx,$e=this.ty,Je=Math.sqrt(C*C+H*H),mt=(C/=Je)*le+(H/=Je)*ye;le-=C*mt,ye-=H*mt;var kt=Math.sqrt(le*le+ye*ye);return mt/=kt,C*(ye/=kt)<H*(le/=kt)&&(C=-C,H=-H,mt=-mt,Je=-Je),{scale:new Et(Je,0,0,kt,0,0),translate:new Et(1,0,0,1,ke,$e),rotate:new Et(C,H,-H,C,0,0),skew:new Et(1,0,mt,1,0,0)}},Et.prototype.toString=function(C){return this.join(" ")},Et.prototype.inversed=function(){var C=this.sx,H=this.shy,le=this.shx,ye=this.sy,ke=this.tx,$e=this.ty,Je=1/(C*ye-H*le),mt=ye*Je,kt=-H*Je,Vt=-le*Je,zt=C*Je;return new Et(mt,kt,Vt,zt,-mt*ke-Vt*$e,-kt*ke-zt*$e)},Et.prototype.applyToPoint=function(C){var H=C.x*this.sx+C.y*this.shx+this.tx,le=C.x*this.shy+C.y*this.sy+this.ty;return new _o(H,le)},Et.prototype.applyToRectangle=function(C){var H=this.applyToPoint(C),le=this.applyToPoint(new _o(C.x+C.w,C.y+C.h));return new Hl(H.x,H.y,le.x-H.x,le.y-H.y)},Et.prototype.clone=function(){var C=this.sx,H=this.shy,le=this.shx,ye=this.sy,ke=this.tx,$e=this.ty;return new Et(C,H,le,ye,ke,$e)},b.Matrix=Et;var cs=b.matrixMult=function(C,H){return H.multiply(C)},Jr=new Et(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=Jr;var ei=function(C,H){if(!Xs[C]){var le=(H instanceof ic?"Sh":"P")+(Object.keys(en).length+1).toString(10);H.id=le,Xs[C]=le,en[le]=H,Xt.publish("addPattern",H)}};b.ShadingPattern=ic,b.TilingPattern=gu,b.addShadingPattern=function(C,H){return K("addShadingPattern()"),ei(C,H),this},b.beginTilingPattern=function(C){K("beginTilingPattern()"),To(C.boundingBox[0],C.boundingBox[1],C.boundingBox[2]-C.boundingBox[0],C.boundingBox[3]-C.boundingBox[1],C.matrix)},b.endTilingPattern=function(C,H){K("endTilingPattern()"),H.stream=Ge[ne].join(`
`),ei(C,H),Xt.publish("endTilingPattern",H),ji.pop().restore()};var pn=b.__private__.newObject=function(){var C=kn();return jn(C,!0),C},kn=b.__private__.newObjectDeferred=function(){return he++,Pe[he]=function(){return Oe},he},jn=function(C,H){return H=typeof H=="boolean"&&H,Pe[C]=Oe,H&&de(C+" 0 obj"),C},xt=b.__private__.newAdditionalObject=function(){var C={objId:kn(),content:""};return et.push(C),C},vi=kn(),Ri=kn(),Rn=b.__private__.decodeColorString=function(C){var H=C.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var le=parseFloat(H[0]);H=[le,le,le,"r"]}for(var ye="#",ke=0;ke<3;ke++)ye+=("0"+Math.floor(255*parseFloat(H[ke])).toString(16)).slice(-2);return ye},ti=b.__private__.encodeColorString=function(C){var H;typeof C=="string"&&(C={ch1:C});var le=C.ch1,ye=C.ch2,ke=C.ch3,$e=C.ch4,Je=C.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof le=="string"&&le.charAt(0)!=="#"){var mt=new zS(le);if(mt.ok)le=mt.toHex();else if(!/^\d*\.?\d*$/.test(le))throw new Error('Invalid color "'+le+'" passed to jsPDF.encodeColorString.')}if(typeof le=="string"&&/^#[0-9A-Fa-f]{3}$/.test(le)&&(le="#"+le[1]+le[1]+le[2]+le[2]+le[3]+le[3]),typeof le=="string"&&/^#[0-9A-Fa-f]{6}$/.test(le)){var kt=parseInt(le.substr(1),16);le=kt>>16&255,ye=kt>>8&255,ke=255&kt}if(ye===void 0||$e===void 0&&le===ye&&ye===ke)if(typeof le=="string")H=le+" "+Je[0];else switch(C.precision){case 2:H=ge(le/255)+" "+Je[0];break;case 3:default:H=W(le/255)+" "+Je[0]}else if($e===void 0||Tn($e)==="object"){if($e&&!isNaN($e.a)&&$e.a===0)return H=["1.","1.","1.",Je[1]].join(" ");if(typeof le=="string")H=[le,ye,ke,Je[1]].join(" ");else switch(C.precision){case 2:H=[ge(le/255),ge(ye/255),ge(ke/255),Je[1]].join(" ");break;default:case 3:H=[W(le/255),W(ye/255),W(ke/255),Je[1]].join(" ")}}else if(typeof le=="string")H=[le,ye,ke,$e,Je[2]].join(" ");else switch(C.precision){case 2:H=[ge(le),ge(ye),ge(ke),ge($e),Je[2]].join(" ");break;case 3:default:H=[W(le),W(ye),W(ke),W($e),Je[2]].join(" ")}return H},Mi=b.__private__.getFilters=function(){return o},di=b.__private__.putStream=function(C){var H=(C=C||{}).data||"",le=C.filters||Mi(),ye=C.alreadyAppliedFilters||[],ke=C.addLength1||!1,$e=H.length,Je=C.objectId,mt=function(ni){return ni};if(m!==null&&Je===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(mt=Nr.encryptor(Je,0));var kt={};le===!0&&(le=["FlateEncode"]);var Vt=C.additionalKeyValues||[],zt=(kt=jt.API.processDataByFilters!==void 0?jt.API.processDataByFilters(H,le):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(ye)?ye.join(" "):ye.toString());if(kt.data.length!==0&&(Vt.push({key:"Length",value:kt.data.length}),ke===!0&&Vt.push({key:"Length1",value:$e})),zt.length!=0)if(zt.split("/").length-1==1)Vt.push({key:"Filter",value:zt});else{Vt.push({key:"Filter",value:"["+zt+"]"});for(var rn=0;rn<Vt.length;rn+=1)if(Vt[rn].key==="DecodeParms"){for(var Gn=[],Nn=0;Nn<kt.reverseChain.split("/").length-1;Nn+=1)Gn.push("null");Gn.push(Vt[rn].value),Vt[rn].value="["+Gn.join(" ")+"]"}}de("<<");for(var er=0;er<Vt.length;er++)de("/"+Vt[er].key+" "+Vt[er].value);de(">>"),kt.data.length!==0&&(de("stream"),de(mt(kt.data)),de("endstream"))},br=b.__private__.putPage=function(C){var H=C.number,le=C.data,ye=C.objId,ke=C.contentsObjId;jn(ye,!0),de("<</Type /Page"),de("/Parent "+C.rootDictionaryObjId+" 0 R"),de("/Resources "+C.resourceDictionaryObjId+" 0 R"),de("/MediaBox ["+parseFloat(q(C.mediaBox.bottomLeftX))+" "+parseFloat(q(C.mediaBox.bottomLeftY))+" "+q(C.mediaBox.topRightX)+" "+q(C.mediaBox.topRightY)+"]"),C.cropBox!==null&&de("/CropBox ["+q(C.cropBox.bottomLeftX)+" "+q(C.cropBox.bottomLeftY)+" "+q(C.cropBox.topRightX)+" "+q(C.cropBox.topRightY)+"]"),C.bleedBox!==null&&de("/BleedBox ["+q(C.bleedBox.bottomLeftX)+" "+q(C.bleedBox.bottomLeftY)+" "+q(C.bleedBox.topRightX)+" "+q(C.bleedBox.topRightY)+"]"),C.trimBox!==null&&de("/TrimBox ["+q(C.trimBox.bottomLeftX)+" "+q(C.trimBox.bottomLeftY)+" "+q(C.trimBox.topRightX)+" "+q(C.trimBox.topRightY)+"]"),C.artBox!==null&&de("/ArtBox ["+q(C.artBox.bottomLeftX)+" "+q(C.artBox.bottomLeftY)+" "+q(C.artBox.topRightX)+" "+q(C.artBox.topRightY)+"]"),typeof C.userUnit=="number"&&C.userUnit!==1&&de("/UserUnit "+C.userUnit),Xt.publish("putPage",{objId:ye,pageContext:Ut[H],pageNumber:H,page:le}),de("/Contents "+ke+" 0 R"),de(">>"),de("endobj");var $e=le.join(`
`);return L===_.ADVANCED&&($e+=`
Q`),jn(ke,!0),di({data:$e,filters:Mi(),objectId:ke}),de("endobj"),ye},za=b.__private__.putPages=function(){var C,H,le=[];for(C=1;C<=qn;C++)Ut[C].objId=kn(),Ut[C].contentsObjId=kn();for(C=1;C<=qn;C++)le.push(br({number:C,data:Ge[C],objId:Ut[C].objId,contentsObjId:Ut[C].contentsObjId,mediaBox:Ut[C].mediaBox,cropBox:Ut[C].cropBox,bleedBox:Ut[C].bleedBox,trimBox:Ut[C].trimBox,artBox:Ut[C].artBox,userUnit:Ut[C].userUnit,rootDictionaryObjId:vi,resourceDictionaryObjId:Ri}));jn(vi,!0),de("<</Type /Pages");var ye="/Kids [";for(H=0;H<qn;H++)ye+=le[H]+" 0 R ";de(ye+"]"),de("/Count "+qn),de(">>"),de("endobj"),Xt.publish("postPutPages")},Ao=function(C){Xt.publish("putFont",{font:C,out:de,newObject:pn,putStream:di}),C.isAlreadyPutted!==!0&&(C.objectNumber=pn(),de("<<"),de("/Type /Font"),de("/BaseFont /"+Zc(C.postScriptName)),de("/Subtype /Type1"),typeof C.encoding=="string"&&de("/Encoding /"+C.encoding),de("/FirstChar 32"),de("/LastChar 255"),de(">>"),de("endobj"))},hi=function(){for(var C in Rt)Rt.hasOwnProperty(C)&&(x===!1||x===!0&&A.hasOwnProperty(C))&&Ao(Rt[C])},pr=function(C){C.objectNumber=pn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[q(C.x),q(C.y),q(C.x+C.width),q(C.y+C.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+C.matrix.toString()+"]"});var le=C.pages[1].join(`
`);di({data:le,additionalKeyValues:H,objectId:C.objectNumber}),de("endobj")},bn=function(){for(var C in fn)fn.hasOwnProperty(C)&&pr(fn[C])},Il=function(C,H){var le,ye=[],ke=1/(H-1);for(le=0;le<1;le+=ke)ye.push(le);if(ye.push(1),C[0].offset!=0){var $e={offset:0,color:C[0].color};C.unshift($e)}if(C[C.length-1].offset!=1){var Je={offset:1,color:C[C.length-1].color};C.push(Je)}for(var mt="",kt=0,Vt=0;Vt<ye.length;Vt++){for(le=ye[Vt];le>C[kt+1].offset;)kt++;var zt=C[kt].offset,rn=(le-zt)/(C[kt+1].offset-zt),Gn=C[kt].color,Nn=C[kt+1].color;mt+=pe(Math.round((1-rn)*Gn[0]+rn*Nn[0]).toString(16))+pe(Math.round((1-rn)*Gn[1]+rn*Nn[1]).toString(16))+pe(Math.round((1-rn)*Gn[2]+rn*Nn[2]).toString(16))}return mt.trim()},ks=function(C,H){H||(H=21);var le=pn(),ye=Il(C.colors,H),ke=[];ke.push({key:"FunctionType",value:"0"}),ke.push({key:"Domain",value:"[0.0 1.0]"}),ke.push({key:"Size",value:"["+H+"]"}),ke.push({key:"BitsPerSample",value:"8"}),ke.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ke.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),di({data:ye,additionalKeyValues:ke,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:le}),de("endobj"),C.objectNumber=pn(),de("<< /ShadingType "+C.type),de("/ColorSpace /DeviceRGB");var $e="/Coords ["+q(parseFloat(C.coords[0]))+" "+q(parseFloat(C.coords[1]))+" ";C.type===2?$e+=q(parseFloat(C.coords[2]))+" "+q(parseFloat(C.coords[3])):$e+=q(parseFloat(C.coords[2]))+" "+q(parseFloat(C.coords[3]))+" "+q(parseFloat(C.coords[4]))+" "+q(parseFloat(C.coords[5])),de($e+="]"),C.matrix&&de("/Matrix ["+C.matrix.toString()+"]"),de("/Function "+le+" 0 R"),de("/Extend [true true]"),de(">>"),de("endobj")},kl=function(C,H){var le=kn(),ye=pn();H.push({resourcesOid:le,objectOid:ye}),C.objectNumber=ye;var ke=[];ke.push({key:"Type",value:"/Pattern"}),ke.push({key:"PatternType",value:"1"}),ke.push({key:"PaintType",value:"1"}),ke.push({key:"TilingType",value:"1"}),ke.push({key:"BBox",value:"["+C.boundingBox.map(q).join(" ")+"]"}),ke.push({key:"XStep",value:q(C.xStep)}),ke.push({key:"YStep",value:q(C.yStep)}),ke.push({key:"Resources",value:le+" 0 R"}),C.matrix&&ke.push({key:"Matrix",value:"["+C.matrix.toString()+"]"}),di({data:C.stream,additionalKeyValues:ke,objectId:C.objectNumber}),de("endobj")},Ze=function(C){var H;for(H in en)en.hasOwnProperty(H)&&(en[H]instanceof ic?ks(en[H]):en[H]instanceof gu&&kl(en[H],C))},Ic=function(C){for(var H in C.objectNumber=pn(),de("<<"),C)switch(H){case"opacity":de("/ca "+ge(C[H]));break;case"stroke-opacity":de("/CA "+ge(C[H]))}de(">>"),de("endobj")},Mn=function(){var C;for(C in Hn)Hn.hasOwnProperty(C)&&Ic(Hn[C])},Ls=function(){for(var C in de("/XObject <<"),fn)fn.hasOwnProperty(C)&&fn[C].objectNumber>=0&&de("/"+C+" "+fn[C].objectNumber+" 0 R");Xt.publish("putXobjectDict"),de(">>")},Ku=function(){Nr.oid=pn(),de("<<"),de("/Filter /Standard"),de("/V "+Nr.v),de("/R "+Nr.r),de("/U <"+Nr.toHexString(Nr.U)+">"),de("/O <"+Nr.toHexString(Nr.O)+">"),de("/P "+Nr.P),de(">>"),de("endobj")},un=function(){for(var C in de("/Font <<"),Rt)Rt.hasOwnProperty(C)&&(x===!1||x===!0&&A.hasOwnProperty(C))&&de("/"+C+" "+Rt[C].objectNumber+" 0 R");de(">>")},dn=function(){if(Object.keys(en).length>0){for(var C in de("/Shading <<"),en)en.hasOwnProperty(C)&&en[C]instanceof ic&&en[C].objectNumber>=0&&de("/"+C+" "+en[C].objectNumber+" 0 R");Xt.publish("putShadingPatternDict"),de(">>")}},Kt=function(C){if(Object.keys(en).length>0){for(var H in de("/Pattern <<"),en)en.hasOwnProperty(H)&&en[H]instanceof b.TilingPattern&&en[H].objectNumber>=0&&en[H].objectNumber<C&&de("/"+H+" "+en[H].objectNumber+" 0 R");Xt.publish("putTilingPatternDict"),de(">>")}},Ll=function(){if(Object.keys(Hn).length>0){var C;for(C in de("/ExtGState <<"),Hn)Hn.hasOwnProperty(C)&&Hn[C].objectNumber>=0&&de("/"+C+" "+Hn[C].objectNumber+" 0 R");Xt.publish("putGStateDict"),de(">>")}},Wn=function(C){jn(C.resourcesOid,!0),de("<<"),de("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),un(),dn(),Kt(C.objectOid),Ll(),Ls(),de(">>"),de("endobj")},So=function(){var C=[];hi(),Mn(),bn(),Ze(C),Xt.publish("putResources"),C.forEach(Wn),Wn({resourcesOid:Ri,objectOid:Number.MAX_SAFE_INTEGER}),Xt.publish("postPutResources")},Qn=function(){Xt.publish("putAdditionalObjects");for(var C=0;C<et.length;C++){var H=et[C];jn(H.objId,!0),de(H.content),de("endobj")}Xt.publish("postPutAdditionalObjects")},us=function(C){Ot[C.fontName]=Ot[C.fontName]||{},Ot[C.fontName][C.fontStyle]=C.id},Pl=function(C,H,le,ye,ke){var $e={id:"F"+(Object.keys(Rt).length+1).toString(10),postScriptName:C,fontName:H,fontStyle:le,encoding:ye,isStandardFont:ke||!1,metadata:{}};return Xt.publish("addFont",{font:$e,instance:this}),Rt[$e.id]=$e,us($e),$e.id},$n=function(C){for(var H=0,le=ze.length;H<le;H++){var ye=Pl.call(this,C[H][0],C[H][1],C[H][2],ze[H][3],!0);x===!1&&(A[ye]=!0);var ke=C[H][0].split("-");us({id:ye,fontName:ke[0],fontStyle:ke[1]||""})}Xt.publish("addFonts",{fonts:Rt,dictionary:Ot})},Rr=function(C){return C.foo=function(){try{return C.apply(this,arguments)}catch(ye){var H=ye.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var le="Error in function "+H.split(`
`)[0].split("<")[0]+": "+ye.message;if(!Bt.console)throw new Error(le);Bt.console.error(le,ye),Bt.alert&&alert(le)}},C.foo.bar=C,C.foo},No=function(C,H){var le,ye,ke,$e,Je,mt,kt,Vt,zt;if(ke=(H=H||{}).sourceEncoding||"Unicode",Je=H.outputEncoding,(H.autoencode||Je)&&Rt[Ht].metadata&&Rt[Ht].metadata[ke]&&Rt[Ht].metadata[ke].encoding&&($e=Rt[Ht].metadata[ke].encoding,!Je&&Rt[Ht].encoding&&(Je=Rt[Ht].encoding),!Je&&$e.codePages&&(Je=$e.codePages[0]),typeof Je=="string"&&(Je=$e[Je]),Je)){for(kt=!1,mt=[],le=0,ye=C.length;le<ye;le++)(Vt=Je[C.charCodeAt(le)])?mt.push(String.fromCharCode(Vt)):mt.push(C[le]),mt[le].charCodeAt(0)>>8&&(kt=!0);C=mt.join("")}for(le=C.length;kt===void 0&&le!==0;)C.charCodeAt(le-1)>>8&&(kt=!0),le--;if(!kt)return C;for(mt=H.noBOM?[]:[254,255],le=0,ye=C.length;le<ye;le++){if((zt=(Vt=C.charCodeAt(le))>>8)>>8)throw new Error("Character at position "+le+" of string '"+C+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");mt.push(zt),mt.push(Vt-(zt<<8))}return String.fromCharCode.apply(void 0,mt)},Ar=b.__private__.pdfEscape=b.pdfEscape=function(C,H){return No(C,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vn=b.__private__.beginPage=function(C){Ge[++qn]=[],Ut[qn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(C[0]),topRightY:Number(C[1])}},se(qn),Me(Ge[ne])},Sr=function(C,H){var le,ye,ke;switch(n=H||n,typeof C=="string"&&(le=E(C.toLowerCase()),Array.isArray(le)&&(ye=le[0],ke=le[1])),Array.isArray(C)&&(ye=C[0]*dt,ke=C[1]*dt),isNaN(ye)&&(ye=i[0],ke=i[1]),(ye>14400||ke>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ye=Math.min(14400,ye),ke=Math.min(14400,ke)),i=[ye,ke],n.substr(0,1)){case"l":ke>ye&&(i=[ke,ye]);break;case"p":ye>ke&&(i=[ke,ye])}vn(i),qr(Qs),de(Xi),ar!==0&&de(ar+" J"),ba!==0&&de(ba+" j"),Xt.publish("addPage",{pageNumber:qn})},De=function(C){C>0&&C<=qn&&(Ge.splice(C,1),Ut.splice(C,1),qn--,ne>qn&&(ne=qn),this.setPage(ne))},se=function(C){C>0&&C<=qn&&(ne=C)},Tt=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Ge.length-1},sr=function(C,H,le){var ye,ke=void 0;return le=le||{},C=C!==void 0?C:Rt[Ht].fontName,H=H!==void 0?H:Rt[Ht].fontStyle,ye=C.toLowerCase(),Ot[ye]!==void 0&&Ot[ye][H]!==void 0?ke=Ot[ye][H]:Ot[C]!==void 0&&Ot[C][H]!==void 0?ke=Ot[C][H]:le.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+C+"', '"+H+"'. Refer to getFontList() for available fonts."),ke||le.noFallback||(ke=Ot.times[H])==null&&(ke=Ot.times.normal),ke},wi=b.__private__.putInfo=function(){var C=pn(),H=function(ye){return ye};for(var le in m!==null&&(H=Nr.encryptor(C,0)),de("<<"),de("/Producer ("+Ar(H("jsPDF "+jt.version))+")"),pt)pt.hasOwnProperty(le)&&pt[le]&&de("/"+le.substr(0,1).toUpperCase()+le.substr(1)+" ("+Ar(H(pt[le]))+")");de("/CreationDate ("+Ar(H(J))+")"),de(">>"),de("endobj")},Ol=b.__private__.putCatalog=function(C){var H=(C=C||{}).rootDictionaryObjId||vi;switch(pn(),de("<<"),de("/Type /Catalog"),de("/Pages "+H+" 0 R"),ae||(ae="fullwidth"),ae){case"fullwidth":de("/OpenAction [3 0 R /FitH null]");break;case"fullheight":de("/OpenAction [3 0 R /FitV null]");break;case"fullpage":de("/OpenAction [3 0 R /Fit]");break;case"original":de("/OpenAction [3 0 R /XYZ null null 1]");break;default:var le=""+ae;le.substr(le.length-1)==="%"&&(ae=parseInt(ae)/100),typeof ae=="number"&&de("/OpenAction [3 0 R /XYZ null null "+ge(ae)+"]")}switch(it||(it="continuous"),it){case"continuous":de("/PageLayout /OneColumn");break;case"single":de("/PageLayout /SinglePage");break;case"two":case"twoleft":de("/PageLayout /TwoColumnLeft");break;case"tworight":de("/PageLayout /TwoColumnRight")}Ve&&de("/PageMode /"+Ve),Xt.publish("putCatalog"),de(">>"),de("endobj")},Dl=b.__private__.putTrailer=function(){de("trailer"),de("<<"),de("/Size "+(he+1)),de("/Root "+he+" 0 R"),de("/Info "+(he-1)+" 0 R"),m!==null&&de("/Encrypt "+Nr.oid+" 0 R"),de("/ID [ <"+be+"> <"+be+"> ]"),de(">>")},bi=b.__private__.putHeader=function(){de("%PDF-"+P),de("%ºß¬à")},Pt=b.__private__.putXRef=function(){var C="0000000000";de("xref"),de("0 "+(he+1)),de("0000000000 65535 f ");for(var H=1;H<=he;H++)typeof Pe[H]=="function"?de((C+Pe[H]()).slice(-10)+" 00000 n "):Pe[H]!==void 0?de((C+Pe[H]).slice(-10)+" 00000 n "):de("0000000000 00000 n ")},gn=b.__private__.buildDocument=function(){ft(),Me(Le),Xt.publish("buildDocument"),bi(),za(),Qn(),So(),m!==null&&Ku(),wi(),Ol();var C=Oe;return Pt(),Dl(),de("startxref"),de(""+C),de("%%EOF"),Me(Ge[ne]),Le.join(`
`)},Ha=b.__private__.getBlob=function(C){return new Blob([at(C)],{type:"application/pdf"})},Co=b.output=b.__private__.output=Rr(function(C,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",C){case void 0:return gn();case"save":b.save(H.filename);break;case"arraybuffer":return at(gn());case"blob":return Ha(gn());case"bloburi":case"bloburl":if(Bt.URL!==void 0&&typeof Bt.URL.createObjectURL=="function")return Bt.URL&&Bt.URL.createObjectURL(Ha(gn()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var le="",ye=gn();try{le=r2(ye)}catch{le=r2(unescape(encodeURIComponent(ye)))}return"data:application/pdf;filename="+H.filename+";base64,"+le;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Bt)==="[object Window]"){var ke="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",$e=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(ke=H.pdfObjectUrl,$e="");var Je='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ke+'"'+$e+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",mt=Bt.open();return mt!==null&&mt.document.write(Je),mt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Bt)==="[object Window]"){var kt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',Vt=Bt.open();if(Vt!==null){Vt.document.write(kt);var zt=this;Vt.document.documentElement.querySelector("#pdfViewer").onload=function(){Vt.document.title=H.filename,Vt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Vt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Bt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Gn=Bt.open();if(Gn!==null&&(Gn.document.write(rn),Gn.document.title=H.filename),Gn||typeof safari>"u")return Gn;break;case"datauri":case"dataurl":return Bt.document.location.href=this.output("datauristring",H);default:return null}}),Eo=function(C){return Array.isArray(Ks)===!0&&Ks.indexOf(C)>-1};switch(r){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=Eo("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);dt=r}var Nr=null;Ue(),fe();var jl=function(C){return m!==null?Nr.encryptor(C,0):function(H){return H}},kc=b.__private__.getPageInfo=b.getPageInfo=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ut[C].objId,pageNumber:C,pageContext:Ut[C]}},Nt=b.__private__.getPageInfoByObjId=function(C){if(isNaN(C)||C%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in Ut)if(Ut[H].objId===C)break;return kc(H)},qa=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:Ut[ne].objId,pageNumber:ne,pageContext:Ut[ne]}};b.addPage=function(){return Sr.apply(this,arguments),this},b.setPage=function(){return se.apply(this,arguments),Me.call(this,Ge[ne]),this},b.insertPage=function(C){return this.addPage(),this.movePage(ne,C),this},b.movePage=function(C,H){var le,ye;if(C>H){le=Ge[C],ye=Ut[C];for(var ke=C;ke>H;ke--)Ge[ke]=Ge[ke-1],Ut[ke]=Ut[ke-1];Ge[H]=le,Ut[H]=ye,this.setPage(H)}else if(C<H){le=Ge[C],ye=Ut[C];for(var $e=C;$e<H;$e++)Ge[$e]=Ge[$e+1],Ut[$e]=Ut[$e+1];Ge[H]=le,Ut[H]=ye,this.setPage(H)}return this},b.deletePage=function(){return De.apply(this,arguments),this},b.__private__.text=b.text=function(C,H,le,ye,ke){var $e,Je,mt,kt,Vt,zt,rn,Gn,Nn,er=(ye=ye||{}).scope||this;if(typeof C=="number"&&typeof H=="number"&&(typeof le=="string"||Array.isArray(le))){var ni=le;le=H,H=C,C=ni}if(arguments[3]instanceof Et?(K("The transform parameter of text() with a Matrix value"),Nn=ke):(mt=arguments[4],kt=arguments[5],Tn(rn=arguments[3])==="object"&&rn!==null||(typeof mt=="string"&&(kt=mt,mt=null),typeof rn=="string"&&(kt=rn,rn=null),typeof rn=="number"&&(mt=rn,rn=null),ye={flags:rn,angle:mt,align:kt})),isNaN(H)||isNaN(le)||C==null)throw new Error("Invalid arguments passed to jsPDF.text");if(C.length===0)return er;var tr="",hs=!1,gr=typeof ye.lineHeightFactor=="number"?ye.lineHeightFactor:va,Bi=er.internal.scaleFactor;function fi(Bn){return Bn=Bn.split("	").join(Array(ye.TabLen||9).join(" ")),Ar(Bn,rn)}function Io(Bn){for(var Fn,Er=Bn.concat(),Gr=[],Ya=Er.length;Ya--;)typeof(Fn=Er.shift())=="string"?Gr.push(Fn):Array.isArray(Bn)&&(Fn.length===1||Fn[1]===void 0&&Fn[2]===void 0)?Gr.push(Fn[0]):Gr.push([Fn[0],Fn[1],Fn[2]]);return Gr}function Ni(Bn,Fn){var Er;if(typeof Bn=="string")Er=Fn(Bn)[0];else if(Array.isArray(Bn)){for(var Gr,Ya,Ju=Bn.concat(),Oc=[],Hh=Ju.length;Hh--;)typeof(Gr=Ju.shift())=="string"?Oc.push(Fn(Gr)[0]):Array.isArray(Gr)&&typeof Gr[0]=="string"&&(Ya=Fn(Gr[0],Gr[1],Gr[2]),Oc.push([Ya[0],Ya[1],Ya[2]]));Er=Oc}return Er}var ko=!1,$a=!0;if(typeof C=="string")ko=!0;else if(Array.isArray(C)){var Wl=C.concat();Je=[];for(var Ga,Ln=Wl.length;Ln--;)(typeof(Ga=Wl.shift())!="string"||Array.isArray(Ga)&&typeof Ga[0]!="string")&&($a=!1);ko=$a}if(ko===!1)throw new Error('Type of text must be string or Array. "'+C+'" is not recognized.');typeof C=="string"&&(C=C.match(/[\r?\n]/)?C.split(/\r\n|\r|\n/g):[C]);var Lo=re/er.internal.scaleFactor,Na=Lo*(gr-1);switch(ye.baseline){case"bottom":le-=Na;break;case"top":le+=Lo-Na;break;case"hanging":le+=Lo-2*Na;break;case"middle":le+=Lo/2-Na}if((zt=ye.maxWidth||0)>0&&(typeof C=="string"?C=er.splitTextToSize(C,zt):Object.prototype.toString.call(C)==="[object Array]"&&(C=C.reduce(function(Bn,Fn){return Bn.concat(er.splitTextToSize(Fn,zt))},[]))),$e={text:C,x:H,y:le,options:ye,mutex:{pdfEscape:Ar,activeFontKey:Ht,fonts:Rt,activeFontSize:re}},Xt.publish("preProcessText",$e),C=$e.text,mt=(ye=$e.options).angle,!(Nn instanceof Et)&&mt&&typeof mt=="number"){mt*=Math.PI/180,ye.rotationDirection===0&&(mt=-mt),L===_.ADVANCED&&(mt=-mt);var js=Math.cos(mt),tn=Math.sin(mt);Nn=new Et(js,tn,-tn,js,0,0)}else mt&&mt instanceof Et&&(Nn=mt);L!==_.ADVANCED||Nn||(Nn=Jr),(Vt=ye.charSpace||Be)!==void 0&&(tr+=q(B(Vt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Gn=ye.horizontalScale)!==void 0&&(tr+=q(100*Gn)+` Tz
`),ye.lang;var Wr=-1,U=ye.renderingMode!==void 0?ye.renderingMode:ye.stroke,a=er.internal.getCurrentPageInfo().pageContext;switch(U){case 0:case!1:case"fill":Wr=0;break;case 1:case!0:case"stroke":Wr=1;break;case 2:case"fillThenStroke":Wr=2;break;case 3:case"invisible":Wr=3;break;case 4:case"fillAndAddForClipping":Wr=4;break;case 5:case"strokeAndAddPathForClipping":Wr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wr=6;break;case 7:case"addToPathForClipping":Wr=7}var l=a.usedRenderingMode!==void 0?a.usedRenderingMode:-1;Wr!==-1?tr+=Wr+` Tr
`:l!==-1&&(tr+=`0 Tr
`),Wr!==-1&&(a.usedRenderingMode=Wr),kt=ye.align||"left";var c,h=re*gr,p=er.internal.pageSize.getWidth(),g=Rt[Ht];Vt=ye.charSpace||Be,zt=ye.maxWidth||0,rn=Object.assign({autoencode:!0,noBOM:!0},ye.flags);var w=[],N=function(Bn){return er.getStringUnitWidth(Bn,{font:g,charSpace:Vt,fontSize:re,doKerning:!1})*re/Bi};if(Object.prototype.toString.call(C)==="[object Array]"){var T;Je=Io(C),kt!=="left"&&(c=Je.map(N));var j,F=0;if(kt==="right"){H-=c[0],C=[],Ln=Je.length;for(var Y=0;Y<Ln;Y++)Y===0?(j=Ds(H),T=Js(le)):(j=B(F-c[Y]),T=-h),C.push([Je[Y],j,T]),F=c[Y]}else if(kt==="center"){H-=c[0]/2,C=[],Ln=Je.length;for(var ce=0;ce<Ln;ce++)ce===0?(j=Ds(H),T=Js(le)):(j=B((F-c[ce])/2),T=-h),C.push([Je[ce],j,T]),F=c[ce]}else if(kt==="left"){C=[],Ln=Je.length;for(var xe=0;xe<Ln;xe++)C.push(Je[xe])}else if(kt==="justify"&&g.encoding==="Identity-H"){C=[],Ln=Je.length,zt=zt!==0?zt:p;for(var we=0,_e=0;_e<Ln;_e++)if(T=_e===0?Js(le):-h,j=_e===0?Ds(H):we,_e<Ln-1){var Fe=B((zt-c[_e])/(Je[_e].split(" ").length-1)),tt=Je[_e].split(" ");C.push([tt[0]+" ",j,T]),we=0;for(var st=1;st<tt.length;st++){var nt=(N(tt[st-1]+" "+tt[st])-N(tt[st]))*Bi+Fe;st==tt.length-1?C.push([tt[st],nt,0]):C.push([tt[st]+" ",nt,0]),we-=nt}}else C.push([Je[_e],j,T]);C.push(["",we,0])}else{if(kt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(C=[],Ln=Je.length,zt=zt!==0?zt:p,_e=0;_e<Ln;_e++)T=_e===0?Js(le):-h,j=_e===0?Ds(H):0,_e<Ln-1?w.push(q(B((zt-c[_e])/(Je[_e].split(" ").length-1)))):w.push(0),C.push([Je[_e],j,T])}}var Jt=typeof ye.R2L=="boolean"?ye.R2L:qe;Jt===!0&&(C=Ni(C,function(Bn,Fn,Er){return[Bn.split("").reverse().join(""),Fn,Er]})),$e={text:C,x:H,y:le,options:ye,mutex:{pdfEscape:Ar,activeFontKey:Ht,fonts:Rt,activeFontSize:re}},Xt.publish("postProcessText",$e),C=$e.text,hs=$e.mutex.isHex||!1;var Ft=Rt[Ht].encoding;Ft!=="WinAnsiEncoding"&&Ft!=="StandardEncoding"||(C=Ni(C,function(Bn,Fn,Er){return[fi(Bn),Fn,Er]})),Je=Io(C),C=[];for(var mr,$r,lr,hn=0,nr=1,Cr=Array.isArray(Je[0])?nr:hn,Fi="",Rs=function(Bn,Fn,Er){var Gr="";return Er instanceof Et?(Er=typeof ye.angle=="number"?cs(Er,new Et(1,0,0,1,Bn,Fn)):cs(new Et(1,0,0,1,Bn,Fn),Er),L===_.ADVANCED&&(Er=cs(new Et(1,0,0,-1,0,0),Er)),Gr=Er.join(" ")+` Tm
`):Gr=q(Bn)+" "+q(Fn)+` Td
`,Gr},Ki=0;Ki<Je.length;Ki++){switch(Fi="",Cr){case nr:lr=(hs?"<":"(")+Je[Ki][0]+(hs?">":")"),mr=parseFloat(Je[Ki][1]),$r=parseFloat(Je[Ki][2]);break;case hn:lr=(hs?"<":"(")+Je[Ki]+(hs?">":")"),mr=Ds(H),$r=Js(le)}w!==void 0&&w[Ki]!==void 0&&(Fi=w[Ki]+` Tw
`),Ki===0?C.push(Fi+Rs(mr,$r,Nn)+lr):Cr===hn?C.push(Fi+lr):Cr===nr&&C.push(Fi+Rs(mr,$r,Nn)+lr)}C=Cr===hn?C.join(` Tj
T* `):C.join(` Tj
`),C+=` Tj
`;var Zi=`BT
/`;return Zi+=Ht+" "+re+` Tf
`,Zi+=q(re*gr)+` TL
`,Zi+=Ai+`
`,Zi+=tr,Zi+=C,de(Zi+="ET"),A[Ht]=!0,er};var Ps=b.__private__.clip=b.clip=function(C){return de(C==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return Ps("evenodd")},b.__private__.discardPath=b.discardPath=function(){return de("n"),this};var It=b.__private__.isValidStyle=function(C){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(C)!==-1&&(H=!0),H};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(C){return It(C)&&(f=C),this};var Lc=b.__private__.getStyle=b.getStyle=function(C){var H=f;switch(C){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=C}return H},qt=b.close=function(){return de("h"),this};b.stroke=function(){return de("S"),this},b.fill=function(C){return Jn("f",C),this},b.fillEvenOdd=function(C){return Jn("f*",C),this},b.fillStroke=function(C){return Jn("B",C),this},b.fillStrokeEvenOdd=function(C){return Jn("B*",C),this};var Jn=function(C,H){Tn(H)==="object"?Pc(H,C):de(C)},Rl=function(C){C===null||L===_.ADVANCED&&C===void 0||(C=Lc(C),de(C))};function Ml(C,H,le,ye,ke){var $e=new gu(H||this.boundingBox,le||this.xStep,ye||this.yStep,this.gState,ke||this.matrix);$e.stream=this.stream;var Je=C+"$$"+this.cloneIndex+++"$$";return ei(Je,$e),$e}var Pc=function(C,H){var le=Xs[C.key],ye=en[le];if(ye instanceof ic)de("q"),de(Zs(H)),ye.gState&&b.setGState(ye.gState),de(C.matrix.toString()+" cm"),de("/"+le+" sh"),de("Q");else if(ye instanceof gu){var ke=new Et(1,0,0,-1,0,Si());C.matrix&&(ke=ke.multiply(C.matrix||Jr),le=Ml.call(ye,C.key,C.boundingBox,C.xStep,C.yStep,ke).id),de("q"),de("/Pattern cs"),de("/"+le+" scn"),ye.gState&&b.setGState(ye.gState),de(H),de("Q")}},Zs=function(C){switch(C){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Bl=b.moveTo=function(C,H){return de(q(B(C))+" "+q(te(H))+" m"),this},ds=b.lineTo=function(C,H){return de(q(B(C))+" "+q(te(H))+" l"),this},Yi=b.curveTo=function(C,H,le,ye,ke,$e){return de([q(B(C)),q(te(H)),q(B(le)),q(te(ye)),q(B(ke)),q(te($e)),"c"].join(" ")),this};b.__private__.line=b.line=function(C,H,le,ye,ke){if(isNaN(C)||isNaN(H)||isNaN(le)||isNaN(ye)||!It(ke))throw new Error("Invalid arguments passed to jsPDF.line");return L===_.COMPAT?this.lines([[le-C,ye-H]],C,H,[1,1],ke||"S"):this.lines([[le-C,ye-H]],C,H,[1,1]).stroke()},b.__private__.lines=b.lines=function(C,H,le,ye,ke,$e){var Je,mt,kt,Vt,zt,rn,Gn,Nn,er,ni,tr,hs;if(typeof C=="number"&&(hs=le,le=H,H=C,C=hs),ye=ye||[1,1],$e=$e||!1,isNaN(H)||isNaN(le)||!Array.isArray(C)||!Array.isArray(ye)||!It(ke)||typeof $e!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Bl(H,le),Je=ye[0],mt=ye[1],Vt=C.length,ni=H,tr=le,kt=0;kt<Vt;kt++)(zt=C[kt]).length===2?(ni=zt[0]*Je+ni,tr=zt[1]*mt+tr,ds(ni,tr)):(rn=zt[0]*Je+ni,Gn=zt[1]*mt+tr,Nn=zt[2]*Je+ni,er=zt[3]*mt+tr,ni=zt[4]*Je+ni,tr=zt[5]*mt+tr,Yi(rn,Gn,Nn,er,ni,tr));return $e&&qt(),Rl(ke),this},b.path=function(C){for(var H=0;H<C.length;H++){var le=C[H],ye=le.c;switch(le.op){case"m":Bl(ye[0],ye[1]);break;case"l":ds(ye[0],ye[1]);break;case"c":Yi.apply(this,ye);break;case"h":qt()}}return this},b.__private__.rect=b.rect=function(C,H,le,ye,ke){if(isNaN(C)||isNaN(H)||isNaN(le)||isNaN(ye)||!It(ke))throw new Error("Invalid arguments passed to jsPDF.rect");return L===_.COMPAT&&(ye=-ye),de([q(B(C)),q(te(H)),q(B(le)),q(B(ye)),"re"].join(" ")),Rl(ke),this},b.__private__.triangle=b.triangle=function(C,H,le,ye,ke,$e,Je){if(isNaN(C)||isNaN(H)||isNaN(le)||isNaN(ye)||isNaN(ke)||isNaN($e)||!It(Je))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[le-C,ye-H],[ke-le,$e-ye],[C-ke,H-$e]],C,H,[1,1],Je,!0),this},b.__private__.roundedRect=b.roundedRect=function(C,H,le,ye,ke,$e,Je){if(isNaN(C)||isNaN(H)||isNaN(le)||isNaN(ye)||isNaN(ke)||isNaN($e)||!It(Je))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mt=4/3*(Math.SQRT2-1);return ke=Math.min(ke,.5*le),$e=Math.min($e,.5*ye),this.lines([[le-2*ke,0],[ke*mt,0,ke,$e-$e*mt,ke,$e],[0,ye-2*$e],[0,$e*mt,-ke*mt,$e,-ke,$e],[2*ke-le,0],[-ke*mt,0,-ke,-$e*mt,-ke,-$e],[0,2*$e-ye],[0,-$e*mt,ke*mt,-$e,ke,-$e]],C+ke,H,[1,1],Je,!0),this},b.__private__.ellipse=b.ellipse=function(C,H,le,ye,ke){if(isNaN(C)||isNaN(H)||isNaN(le)||isNaN(ye)||!It(ke))throw new Error("Invalid arguments passed to jsPDF.ellipse");var $e=4/3*(Math.SQRT2-1)*le,Je=4/3*(Math.SQRT2-1)*ye;return Bl(C+le,H),Yi(C+le,H-Je,C+$e,H-ye,C,H-ye),Yi(C-$e,H-ye,C-le,H-Je,C-le,H),Yi(C-le,H+Je,C-$e,H+ye,C,H+ye),Yi(C+$e,H+ye,C+le,H+Je,C+le,H),Rl(ke),this},b.__private__.circle=b.circle=function(C,H,le,ye){if(isNaN(C)||isNaN(H)||isNaN(le)||!It(ye))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(C,H,le,le,ye)},b.setFont=function(C,H,le){return le&&(H=ie(H,le)),Ht=sr(C,H,{disableWarning:!1}),this};var Wa=b.__private__.getFont=b.getFont=function(){return Rt[sr.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var C,H,le={};for(C in Ot)if(Ot.hasOwnProperty(C))for(H in le[C]=[],Ot[C])Ot[C].hasOwnProperty(H)&&le[C].push(H);return le},b.addFont=function(C,H,le,ye,ke){var $e=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&$e.indexOf(arguments[3])!==-1?ke=arguments[3]:arguments[3]&&$e.indexOf(arguments[3])==-1&&(le=ie(le,ye)),ke=ke||"Identity-H",Pl.call(this,C,H,le,ke)};var va,Qs=e.lineWidth||.200025,Os=b.__private__.getLineWidth=b.getLineWidth=function(){return Qs},qr=b.__private__.setLineWidth=b.setLineWidth=function(C){return Qs=C,de(q(B(C))+" w"),this};b.__private__.setLineDash=jt.API.setLineDash=jt.API.setLineDashPattern=function(C,H){if(C=C||[],H=H||0,isNaN(H)||!Array.isArray(C))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return C=C.map(function(le){return q(B(le))}).join(" "),H=q(B(H)),de("["+C+"] "+H+" d"),this};var Fl=b.__private__.getLineHeight=b.getLineHeight=function(){return re*va};b.__private__.getLineHeight=b.getLineHeight=function(){return re*va};var Ul=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(C){return typeof(C=C||1.15)=="number"&&(va=C),this},Vl=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return va};Ul(e.lineHeight);var Ds=b.__private__.getHorizontalCoordinate=function(C){return B(C)},Js=b.__private__.getVerticalCoordinate=function(C){return L===_.ADVANCED?C:Ut[ne].mediaBox.topRightY-Ut[ne].mediaBox.bottomLeftY-B(C)},Zu=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(C){return q(Ds(C))},nn=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(C){return q(Js(C))},Xi=e.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return Rn(Xi)},b.__private__.setStrokeColor=b.setDrawColor=function(C,H,le,ye){return Xi=ti({ch1:C,ch2:H,ch3:le,ch4:ye,pdfColorType:"draw",precision:2}),de(Xi),this};var wa=e.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return Rn(wa)},b.__private__.setFillColor=b.setFillColor=function(C,H,le,ye){return wa=ti({ch1:C,ch2:H,ch3:le,ch4:ye,pdfColorType:"fill",precision:2}),de(wa),this};var Ai=e.textColor||"0 g",Qu=b.__private__.getTextColor=b.getTextColor=function(){return Rn(Ai)};b.__private__.setTextColor=b.setTextColor=function(C,H,le,ye){return Ai=ti({ch1:C,ch2:H,ch3:le,ch4:ye,pdfColorType:"text",precision:3}),this};var Be=e.charSpace,Yt=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Be||0)};b.__private__.setCharSpace=b.setCharSpace=function(C){if(isNaN(C))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Be=C,this};var ar=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(C){var H=b.CapJoinStyles[C];if(H===void 0)throw new Error("Line cap style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ar=H,de(H+" J"),this};var ba=0;b.__private__.setLineJoin=b.setLineJoin=function(C){var H=b.CapJoinStyles[C];if(H===void 0)throw new Error("Line join style of '"+C+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ba=H,de(H+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(C){if(C=C||0,isNaN(C))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return de(q(B(C))+" M"),this},b.GState=J0,b.setGState=function(C){(C=typeof C=="string"?Hn[Gt[C]]:zl(null,C)).equals(ci)||(de("/"+C.id+" gs"),ci=C)};var zl=function(C,H){if(!C||!Gt[C]){var le=!1;for(var ye in Hn)if(Hn.hasOwnProperty(ye)&&Hn[ye].equals(H)){le=!0;break}if(le)H=Hn[ye];else{var ke="GS"+(Object.keys(Hn).length+1).toString(10);Hn[ke]=H,H.id=ke}return C&&(Gt[C]=H.id),Xt.publish("addGState",H),H}};b.addGState=function(C,H){return zl(C,H),this},b.saveGraphicsState=function(){return de("q"),cn.push({key:Ht,size:re,color:Ai}),this},b.restoreGraphicsState=function(){de("Q");var C=cn.pop();return Ht=C.key,re=C.size,Ai=C.color,ci=null,this},b.setCurrentTransformationMatrix=function(C){return de(C.toString()+" cm"),this},b.comment=function(C){return de("#"+C),this};var _o=function(C,H){var le=C||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return le},set:function($e){isNaN($e)||(le=parseFloat($e))}});var ye=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ye},set:function($e){isNaN($e)||(ye=parseFloat($e))}});var ke="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ke},set:function($e){ke=$e.toString()}}),this},Hl=function(C,H,le,ye){_o.call(this,C,H),this.type="rect";var ke=le||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ke},set:function(Je){isNaN(Je)||(ke=parseFloat(Je))}});var $e=ye||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return $e},set:function(Je){isNaN(Je)||($e=parseFloat(Je))}}),this},ql=function(){this.page=qn,this.currentPage=ne,this.pages=Ge.slice(0),this.pagesContext=Ut.slice(0),this.x=jr,this.y=Lt,this.matrix=ot,this.width=Sn(ne),this.height=Si(ne),this.outputDestination=Ke,this.id="",this.objectNumber=-1};ql.prototype.restore=function(){qn=this.page,ne=this.currentPage,Ut=this.pagesContext,Ge=this.pages,jr=this.x,Lt=this.y,ot=this.matrix,Sa(ne,this.width),mn(ne,this.height),Ke=this.outputDestination};var To=function(C,H,le,ye,ke){ji.push(new ql),qn=ne=0,Ge=[],jr=C,Lt=H,ot=ke,vn([le,ye])},or=function(C){if(ui[C])ji.pop().restore();else{var H=new ql,le="Xo"+(Object.keys(fn).length+1).toString(10);H.id=le,ui[C]=le,fn[le]=H,Xt.publish("addFormObject",H),ji.pop().restore()}};for(var Aa in b.beginFormObject=function(C,H,le,ye,ke){return To(C,H,le,ye,ke),this},b.endFormObject=function(C){return or(C),this},b.doFormObject=function(C,H){var le=fn[ui[C]];return de("q"),de(H.toString()+" cm"),de("/"+le.id+" Do"),de("Q"),this},b.getFormObject=function(C){var H=fn[ui[C]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},b.save=function(C,H){return C=C||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(nc(Ha(gn()),C),typeof nc.unload=="function"&&Bt.setTimeout&&setTimeout(nc.unload,911),this):new Promise(function(le,ye){try{var ke=nc(Ha(gn()),C);typeof nc.unload=="function"&&Bt.setTimeout&&setTimeout(nc.unload,911),le(ke)}catch($e){ye($e.message)}})},jt.API)jt.API.hasOwnProperty(Aa)&&(Aa==="events"&&jt.API.events.length?function(C,H){var le,ye,ke;for(ke=H.length-1;ke!==-1;ke--)le=H[ke][0],ye=H[ke][1],C.subscribe.apply(C,[le].concat(typeof ye=="function"?[ye]:ye))}(Xt,jt.API.events):b[Aa]=jt.API[Aa]);var Sn=b.getPageWidth=function(C){return(Ut[C=C||ne].mediaBox.topRightX-Ut[C].mediaBox.bottomLeftX)/dt},Sa=b.setPageWidth=function(C,H){Ut[C].mediaBox.topRightX=H*dt+Ut[C].mediaBox.bottomLeftX},Si=b.getPageHeight=function(C){return(Ut[C=C||ne].mediaBox.topRightY-Ut[C].mediaBox.bottomLeftY)/dt},mn=b.setPageHeight=function(C,H){Ut[C].mediaBox.topRightY=H*dt+Ut[C].mediaBox.bottomLeftY};return b.internal={pdfEscape:Ar,getStyle:Lc,getFont:Wa,getFontSize:Ae,getCharSpace:Yt,getTextColor:Qu,getLineHeight:Fl,getLineHeightFactor:Vl,getLineWidth:Os,write:yt,getHorizontalCoordinate:Ds,getVerticalCoordinate:Js,getCoordinateString:Zu,getVerticalCoordinateString:nn,collections:{},newObject:pn,newAdditionalObject:xt,newObjectDeferred:kn,newObjectDeferredBegin:jn,getFilters:Mi,putStream:di,events:Xt,scaleFactor:dt,pageSize:{getWidth:function(){return Sn(ne)},setWidth:function(C){Sa(ne,C)},getHeight:function(){return Si(ne)},setHeight:function(C){mn(ne,C)}},encryptionOptions:m,encryption:Nr,getEncryptor:jl,output:Co,getNumberOfPages:Tt,pages:Ge,out:de,f2:ge,f3:W,getPageInfo:kc,getPageInfoByObjId:Nt,getCurrentPageInfo:qa,getPDFVersion:I,Point:_o,Rectangle:Hl,Matrix:Et,hasHotfix:Eo},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return Sn(ne)},set:function(C){Sa(ne,C)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return Si(ne)},set:function(C){mn(ne,C)},enumerable:!0,configurable:!0}),$n.call(b,ze),Ht="F1",Sr(i,n),Xt.publish("initialized"),b}Kc.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Kc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Kc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Kc.prototype.processOwnerPassword=function(e,t){return s2(i2(t).substr(0,5),e)},Kc.prototype.encryptor=function(e,t){var n=i2(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return s2(n,r)}},J0.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Tn(e)!==Tn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},jt.API={events:[]},jt.version="2.5.2";var vr=jt.API,Gx=1,Tc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},$t=function(e){return e.toFixed(2)},Ho=function(e){return e.toFixed(5)};vr.__acroform__={};var ls=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},lb=function(e){return e*Gx},_a=function(e){var t=new $S,n=Ct.internal.getHeight(e)||0,r=Ct.internal.getWidth(e)||0;return t.BBox=[0,0,Number($t(r)),Number($t(n))],t},kR=vr.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},LR=vr.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},PR=vr.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Tr=vr.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return PR(e,t-1)},Ir=vr.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return kR(e,t-1)},kr=vr.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return LR(e,t-1)},OR=vr.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],o=e[2],u=e[3],d={};return d.lowerLeft_X=n(i)||0,d.lowerLeft_Y=r(s+u)||0,d.upperRight_X=n(i+o)||0,d.upperRight_Y=r(s)||0,[Number($t(d.lowerLeft_X)),Number($t(d.lowerLeft_Y)),Number($t(d.upperRight_X)),Number($t(d.upperRight_Y))]},DR=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=a2(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+$t(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=_a(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},a2=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function(W){return W.split(`
`)}):i.map(function(W){return[W]});var s=n,o=Ct.internal.getHeight(e)||0;o=o<0?-o:o;var u=Ct.internal.getWidth(e)||0;u=u<0?-u:u;var d=function(W,B,ee){if(W+1<i.length){var te=B+" "+i[W+1][0];return Ff(te,e,ee).width<=u-4}return!1};s++;e:for(;s>0;){t="",s--;var f,m,x=Ff("3",e,s).height,A=e.multiline?o-s:(o-x)/2,b=A+=2,P=0,I=0,O=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ff(t,e,s=12).width+", FieldWidth:"+u+`
`;break}for(var E="",_=0,L=0;L<i.length;L++)if(i.hasOwnProperty(L)){var R=!1;if(i[L].length!==1&&O!==i[L].length-1){if((x+2)*(_+2)+2>o)continue e;E+=i[L][O],R=!0,I=L,L--}else{E=(E+=i[L][O]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var V=parseInt(L),ie=d(V,E,s),q=L>=i.length-1;if(ie&&!q){E+=" ",O=0;continue}if(ie||q){if(q)I=V;else if(e.multiline&&(x+2)*(_+2)+2>o)continue e}else{if(!e.multiline||(x+2)*(_+2)+2>o)continue e;I=V}}for(var K="",$=P;$<=I;$++){var ge=i[$];if(e.multiline){if($===I){K+=ge[O]+" ",O=(O+1)%ge.length;continue}if($===P){K+=ge[ge.length-1]+" ";continue}}K+=ge[0]+" "}switch(K=K.substr(K.length-1)==" "?K.substr(0,K.length-1):K,m=Ff(K,e,s).width,e.textAlign){case"right":f=u-m-2;break;case"center":f=(u-m)/2;break;case"left":default:f=2}t+=$t(f)+" "+$t(b)+` Td
`,t+="("+Tc(K)+`) Tj
`,t+=-$t(f)+` 0 Td
`,b=-(s+2),m=0,P=R?I:I+1,_++,E=""}break}return r.text=t,r.fontSize=s,r},Ff=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},jR={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},RR=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},MR=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,i=e[n];t.internal.newObjectDeferredBegin(i.objId,!0),Tn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete e[r]}},BR=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(xa.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(jR)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Gx=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new GS,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&RR(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var u=r[o],d=[],f=u.Rect;if(u.Rect&&(u.Rect=OR(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Ct.createDefaultAppearanceStream(u),Tn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(d=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var m=DR(u);d.push({key:"AP",value:"<</N "+m+">>"}),i.internal.acroformPlugin.xForms.push(m)}if(u.appearanceStreamContent){var x="";for(var A in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(A)){var b=u.appearanceStreamContent[A];if(x+="/"+A+" ",x+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var o in b)if(b.hasOwnProperty(o)){var P=b[o];typeof P=="function"&&(P=P.call(i,u)),x+="/"+o+" "+P+" ",i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P)}}else typeof(P=b)=="function"&&(P=P.call(i,u)),x+="/"+o+" "+P,i.internal.acroformPlugin.xForms.indexOf(P)>=0||i.internal.acroformPlugin.xForms.push(P);x+=">>"}d.push({key:"AP",value:`<<
`+x+">>"})}i.internal.putStream({additionalKeyValues:d,objectId:u.objId}),i.internal.out("endobj")}s&&MR(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},WS=vr.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(o){return o};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),Tn(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+Tc(r(e[s].toString()))+")"):i+=e[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},fg=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Tc(r(e))+")"},ja=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ja.prototype.toString=function(){return this.objId+" 0 R"},ja.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},ja.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:WS(i,this.objId,this.scope)}):i instanceof ja?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var $S=function(){ja.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};ls($S,ja);var GS=function(){ja.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Tc(n(e))+")"}},set:function(n){e=n}})};ls(GS,ja);var xa=function e(){ja.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');t=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Tr(t,3)},set:function(E){E?this.F=Ir(t,3):this.F=kr(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');n=E}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(E){r=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(E){r[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(E){r[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(E){r[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(E){r[3]=E}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof e1)return;s="FieldObject"+e.FieldNum++}var E=function(_){return _};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Tc(E(s))+")"},set:function(E){s=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(E){s=E}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(E){o=E}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(E){d=E}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/Gx:f},set:function(E){f=E}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(E){m=E}});var x="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!x||this instanceof e1||this instanceof gc))return fg(x,this.objId,this.scope)},set:function(E){E=E.toString(),x=E}});var A=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof oi?A:fg(A,this.objId,this.scope)},set:function(E){E=E.toString(),A=this instanceof oi?E:E.substr(0,1)==="("?Wc(E.substr(1,E.length-2)):Wc(E)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi?Wc(A.substr(1,A.length-1)):A},set:function(E){E=E.toString(),A=this instanceof oi?"/"+E:E}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof oi?b:fg(b,this.objId,this.scope)},set:function(E){E=E.toString(),b=this instanceof oi?E:E.substr(0,1)==="("?Wc(E.substr(1,E.length-2)):Wc(E)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof oi?Wc(b.substr(1,b.length-1)):b},set:function(E){E=E.toString(),b=this instanceof oi?"/"+E:E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var P,I=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return I},set:function(E){E=!!E,I=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(P)return P},set:function(E){P=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,1)},set:function(E){E?this.Ff=Ir(this.Ff,1):this.Ff=kr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,2)},set:function(E){E?this.Ff=Ir(this.Ff,2):this.Ff=kr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,3)},set:function(E){E?this.Ff=Ir(this.Ff,3):this.Ff=kr(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');O=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(O){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:O=2;break;case"center":case 1:O=1;break;case"left":case 0:default:O=0}}})};ls(xa,ja);var Au=function(){xa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return WS(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,u){u||(u=1);for(var d,f=[];d=o.exec(s);)f.push(d[u]);return f}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,18)},set:function(n){n?this.Ff=Ir(this.Ff,18):this.Ff=kr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ir(this.Ff,19):this.Ff=kr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,20)},set:function(n){n?(this.Ff=Ir(this.Ff,20),t.sort()):this.Ff=kr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,22)},set:function(n){n?this.Ff=Ir(this.Ff,22):this.Ff=kr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,23)},set:function(n){n?this.Ff=Ir(this.Ff,23):this.Ff=kr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,27)},set:function(n){n?this.Ff=Ir(this.Ff,27):this.Ff=kr(this.Ff,27)}}),this.hasAppearanceStream=!1};ls(Au,xa);var Su=function(){Au.call(this),this.fontName="helvetica",this.combo=!1};ls(Su,Au);var Nu=function(){Su.call(this),this.combo=!0};ls(Nu,Su);var o0=function(){Nu.call(this),this.edit=!0};ls(o0,Nu);var oi=function(){xa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,15)},set:function(n){n?this.Ff=Ir(this.Ff,15):this.Ff=kr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,16)},set:function(n){n?this.Ff=Ir(this.Ff,16):this.Ff=kr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,17)},set:function(n){n?this.Ff=Ir(this.Ff,17):this.Ff=kr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,26)},set:function(n){n?this.Ff=Ir(this.Ff,26):this.Ff=kr(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+Tc(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Tn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};ls(oi,xa);var l0=function(){oi.call(this),this.pushButton=!0};ls(l0,oi);var Cu=function(){oi.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ls(Cu,oi);var e1=function(){var e,t;xa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Tc(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){Tn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ct.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ls(e1,xa),Cu.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Cu.prototype.createOption=function(e){var t=new e1;return t.Parent=this,t.optionName=e,this.Kids.push(t),FR.call(this.scope,t),t};var c0=function(){oi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ct.CheckBox.createAppearanceStream()};ls(c0,oi);var gc=function(){xa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,13)},set:function(t){t?this.Ff=Ir(this.Ff,13):this.Ff=kr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,21)},set:function(t){t?this.Ff=Ir(this.Ff,21):this.Ff=kr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,23)},set:function(t){t?this.Ff=Ir(this.Ff,23):this.Ff=kr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,24)},set:function(t){t?this.Ff=Ir(this.Ff,24):this.Ff=kr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,25)},set:function(t){t?this.Ff=Ir(this.Ff,25):this.Ff=kr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,26)},set:function(t){t?this.Ff=Ir(this.Ff,26):this.Ff=kr(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ls(gc,xa);var u0=function(){gc.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,14)},set:function(e){e?this.Ff=Ir(this.Ff,14):this.Ff=kr(this.Ff,14)}}),this.password=!0};ls(u0,gc);var Ct={CheckBox:{createAppearanceStream:function(){return{N:{On:Ct.CheckBox.YesNormal},D:{On:Ct.CheckBox.YesPushDown,Off:Ct.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=_a(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=a2(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+$t(Ct.internal.getWidth(e))+" "+$t(Ct.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+$t(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=_a(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=Ct.internal.getHeight(e),o=Ct.internal.getWidth(e),u=a2(e,e.caption);return i.push("1 g"),i.push("0 0 "+$t(o)+" "+$t(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+$t(o-1)+" "+$t(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+$t(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=_a(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+$t(Ct.internal.getWidth(e))+" "+$t(Ct.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ct.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ct.RadioButton.Circle.YesNormal,t.D[e]=Ct.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=_a(e);t.scope=e.scope;var n=[],r=Ct.internal.getWidth(e)<=Ct.internal.getHeight(e)?Ct.internal.getWidth(e)/4:Ct.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Ct.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ho(Ct.internal.getWidth(e)/2)+" "+Ho(Ct.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=_a(e);t.scope=e.scope;var n=[],r=Ct.internal.getWidth(e)<=Ct.internal.getHeight(e)?Ct.internal.getWidth(e)/4:Ct.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ct.internal.Bezier_C).toFixed(5)),o=Number((r*Ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ho(Ct.internal.getWidth(e)/2)+" "+Ho(Ct.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ho(Ct.internal.getWidth(e)/2)+" "+Ho(Ct.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=_a(e);t.scope=e.scope;var n=[],r=Ct.internal.getWidth(e)<=Ct.internal.getHeight(e)?Ct.internal.getWidth(e)/4:Ct.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ct.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ho(Ct.internal.getWidth(e)/2)+" "+Ho(Ct.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ct.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ct.RadioButton.Cross.YesNormal,t.D[e]=Ct.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=_a(e);t.scope=e.scope;var n=[],r=Ct.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+$t(Ct.internal.getWidth(e)-2)+" "+$t(Ct.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push($t(r.x1.x)+" "+$t(r.x1.y)+" m"),n.push($t(r.x2.x)+" "+$t(r.x2.y)+" l"),n.push($t(r.x4.x)+" "+$t(r.x4.y)+" m"),n.push($t(r.x3.x)+" "+$t(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=_a(e);t.scope=e.scope;var n=Ct.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+$t(Ct.internal.getWidth(e))+" "+$t(Ct.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+$t(Ct.internal.getWidth(e)-2)+" "+$t(Ct.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push($t(n.x1.x)+" "+$t(n.x1.y)+" m"),r.push($t(n.x2.x)+" "+$t(n.x2.y)+" l"),r.push($t(n.x4.x)+" "+$t(n.x4.y)+" m"),r.push($t(n.x3.x)+" "+$t(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=_a(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+$t(Ct.internal.getWidth(e))+" "+$t(Ct.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Ct.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ct.internal.getWidth(e),n=Ct.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Ct.internal.getWidth=function(e){var t=0;return Tn(e)==="object"&&(t=lb(e.Rect[2])),t},Ct.internal.getHeight=function(e){var t=0;return Tn(e)==="object"&&(t=lb(e.Rect[3])),t};var FR=vr.addField=function(e){if(BR(this,e),!(e instanceof xa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};vr.AcroFormChoiceField=Au,vr.AcroFormListBox=Su,vr.AcroFormComboBox=Nu,vr.AcroFormEditBox=o0,vr.AcroFormButton=oi,vr.AcroFormPushButton=l0,vr.AcroFormRadioButton=Cu,vr.AcroFormCheckBox=c0,vr.AcroFormTextField=gc,vr.AcroFormPasswordField=u0,vr.AcroFormAppearance=Ct,vr.AcroForm={ChoiceField:Au,ListBox:Su,ComboBox:Nu,EditBox:o0,Button:oi,PushButton:l0,RadioButton:Cu,CheckBox:c0,TextField:gc,PasswordField:u0,Appearance:Ct},jt.AcroForm={ChoiceField:Au,ListBox:Su,ComboBox:Nu,EditBox:o0,Button:oi,PushButton:l0,RadioButton:Cu,CheckBox:c0,TextField:gc,PasswordField:u0,Appearance:Ct};jt.AcroForm;function YS(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(W,B){var ee,te,J,be,ve,fe=t;if((B=B||t)==="RGBA"||W.data!==void 0&&W.data instanceof Uint8ClampedArray&&"height"in W&&"width"in W)return"RGBA";if(ie(W))for(ve in n)for(J=n[ve],ee=0;ee<J.length;ee+=1){for(be=!0,te=0;te<J[ee].length;te+=1)if(J[ee][te]!==void 0&&J[ee][te]!==W[te]){be=!1;break}if(be===!0){fe=ve;break}}else for(ve in n)for(J=n[ve],ee=0;ee<J.length;ee+=1){for(be=!0,te=0;te<J[ee].length;te+=1)if(J[ee][te]!==void 0&&J[ee][te]!==W.charCodeAt(te)){be=!1;break}if(be===!0){fe=ve;break}}return fe===t&&B!==t&&(fe=B),fe},i=function W(B){for(var ee=this.internal.write,te=this.internal.putStream,J=(0,this.internal.getFilters)();J.indexOf("FlateEncode")!==-1;)J.splice(J.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var be=[];if(be.push({key:"Type",value:"/XObject"}),be.push({key:"Subtype",value:"/Image"}),be.push({key:"Width",value:B.width}),be.push({key:"Height",value:B.height}),B.colorSpace===O.INDEXED?be.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(be.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===O.DEVICE_CMYK&&be.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),be.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&be.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)){for(var ve="",fe=0,Ce=B.transparency.length;fe<Ce;fe++)ve+=B.transparency[fe]+" "+B.transparency[fe]+" ";be.push({key:"Mask",value:"["+ve+"]"})}B.sMask!==void 0&&be.push({key:"SMask",value:B.objectId+1+" 0 R"});var Ie=B.filter!==void 0?["/"+B.filter]:void 0;if(te({data:B.data,additionalKeyValues:be,alreadyAppliedFilters:Ie,objectId:B.objectId}),ee("endobj"),"sMask"in B&&B.sMask!==void 0){var Ue="/Predictor "+B.predictor+" /Colors 1 /BitsPerComponent "+B.bitsPerComponent+" /Columns "+B.width,M={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:B.bitsPerComponent,decodeParameters:Ue,data:B.sMask};"filter"in B&&(M.filter=B.filter),W.call(this,M)}if(B.colorSpace===O.INDEXED){var ne=this.internal.newObject();te({data:K(new Uint8Array(B.palette)),objectId:ne}),ee("endobj")}},s=function(){var W=this.internal.collections.addImage_images;for(var B in W)i.call(this,W[B])},o=function(){var W,B=this.internal.collections.addImage_images,ee=this.internal.write;for(var te in B)ee("/I"+(W=B[te]).index,W.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},d=function(){var W=this.internal.collections.addImage_images;return u.call(this),W},f=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(W){return typeof e["process"+W.toUpperCase()]=="function"},x=function(W){return Tn(W)==="object"&&W.nodeType===1},A=function(W,B){if(W.nodeName==="IMG"&&W.hasAttribute("src")){var ee=""+W.getAttribute("src");if(ee.indexOf("data:image/")===0)return Yd(unescape(ee).split("base64,").pop());var te=e.loadFile(ee,!0);if(te!==void 0)return te}if(W.nodeName==="CANVAS"){if(W.width===0||W.height===0)throw new Error("Given canvas must have data. Canvas width: "+W.width+", height: "+W.height);var J;switch(B){case"PNG":J="image/png";break;case"WEBP":J="image/webp";break;case"JPEG":case"JPG":default:J="image/jpeg"}return Yd(W.toDataURL(J,1).split("base64,").pop())}},b=function(W){var B=this.internal.collections.addImage_images;if(B){for(var ee in B)if(W===B[ee].alias)return B[ee]}},P=function(W,B,ee){return W||B||(W=-96,B=-96),W<0&&(W=-1*ee.width*72/W/this.internal.scaleFactor),B<0&&(B=-1*ee.height*72/B/this.internal.scaleFactor),W===0&&(W=B*ee.width/ee.height),B===0&&(B=W*ee.height/ee.width),[W,B]},I=function(W,B,ee,te,J,be){var ve=P.call(this,ee,te,J),fe=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,Ie=d.call(this);if(ee=ve[0],te=ve[1],Ie[J.index]=J,be){be*=Math.PI/180;var Ue=Math.cos(be),M=Math.sin(be),ne=function(pe){return pe.toFixed(4)},oe=[ne(Ue),ne(M),ne(-1*M),ne(Ue),0,0,"cm"]}this.internal.write("q"),be?(this.internal.write([1,"0","0",1,fe(W),Ce(B+te),"cm"].join(" ")),this.internal.write(oe.join(" ")),this.internal.write([fe(ee),"0","0",fe(te),"0","0","cm"].join(" "))):this.internal.write([fe(ee),"0","0",fe(te),fe(W),Ce(B+te),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+J.index+" Do"),this.internal.write("Q")},O=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var E=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},_=e.__addimage__.sHashCode=function(W){var B,ee,te=0;if(typeof W=="string")for(ee=W.length,B=0;B<ee;B++)te=(te<<5)-te+W.charCodeAt(B),te|=0;else if(ie(W))for(ee=W.byteLength/2,B=0;B<ee;B++)te=(te<<5)-te+W[B],te|=0;return te},L=e.__addimage__.validateStringAsBase64=function(W){(W=W||"").toString().trim();var B=!0;return W.length===0&&(B=!1),W.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(W.substr(0,W.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(W.substr(-2))===!1&&(B=!1),B},R=e.__addimage__.extractImageFromDataUrl=function(W){var B=(W=W||"").split("base64,"),ee=null;if(B.length===2){var te=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(B[0]);Array.isArray(te)&&(ee={mimeType:te[1],charset:te[2],data:B[1]})}return ee},V=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(W){return V()&&W instanceof ArrayBuffer};var ie=e.__addimage__.isArrayBufferView=function(W){return V()&&typeof Uint32Array<"u"&&(W instanceof Int8Array||W instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&W instanceof Uint8ClampedArray||W instanceof Int16Array||W instanceof Uint16Array||W instanceof Int32Array||W instanceof Uint32Array||W instanceof Float32Array||W instanceof Float64Array)},q=e.__addimage__.binaryStringToUint8Array=function(W){for(var B=W.length,ee=new Uint8Array(B),te=0;te<B;te++)ee[te]=W.charCodeAt(te);return ee},K=e.__addimage__.arrayBufferToBinaryString=function(W){for(var B="",ee=ie(W)?W:new Uint8Array(W),te=0;te<ee.length;te+=8192)B+=String.fromCharCode.apply(null,ee.subarray(te,te+8192));return B};e.addImage=function(){var W,B,ee,te,J,be,ve,fe,Ce;if(typeof arguments[1]=="number"?(B=t,ee=arguments[1],te=arguments[2],J=arguments[3],be=arguments[4],ve=arguments[5],fe=arguments[6],Ce=arguments[7]):(B=arguments[1],ee=arguments[2],te=arguments[3],J=arguments[4],be=arguments[5],ve=arguments[6],fe=arguments[7],Ce=arguments[8]),Tn(W=arguments[0])==="object"&&!x(W)&&"imageData"in W){var Ie=W;W=Ie.imageData,B=Ie.format||B||t,ee=Ie.x||ee||0,te=Ie.y||te||0,J=Ie.w||Ie.width||J,be=Ie.h||Ie.height||be,ve=Ie.alias||ve,fe=Ie.compression||fe,Ce=Ie.rotation||Ie.angle||Ce}var Ue=this.internal.getFilters();if(fe===void 0&&Ue.indexOf("FlateEncode")!==-1&&(fe="SLOW"),isNaN(ee)||isNaN(te))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var M=$.call(this,W,B,ve,fe);return I.call(this,ee,te,J,be,M,Ce),this};var $=function(W,B,ee,te){var J,be,ve;if(typeof W=="string"&&r(W)===t){W=unescape(W);var fe=ge(W,!1);(fe!==""||(fe=e.loadFile(W,!0))!==void 0)&&(W=fe)}if(x(W)&&(W=A(W,B)),B=r(W,B),!m(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((ve=ee)==null||ve.length===0)&&(ee=function(Ce){return typeof Ce=="string"||ie(Ce)?_(Ce):ie(Ce.data)?_(Ce.data):null}(W)),(J=b.call(this,ee))||(V()&&(W instanceof Uint8Array||B==="RGBA"||(be=W,W=q(W))),J=this["process"+B.toUpperCase()](W,f.call(this),ee,function(Ce){return Ce&&typeof Ce=="string"&&(Ce=Ce.toUpperCase()),Ce in e.image_compression?Ce:E.NONE}(te),be)),!J)throw new Error("An unknown error occurred whilst processing the image.");return J},ge=e.__addimage__.convertBase64ToBinaryString=function(W,B){var ee;B=typeof B!="boolean"||B;var te,J="";if(typeof W=="string"){te=(ee=R(W))!==null?ee.data:W;try{J=Yd(te)}catch(be){if(B)throw L(te)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+be.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return J};e.getImageProperties=function(W){var B,ee,te="";if(x(W)&&(W=A(W)),typeof W=="string"&&r(W)===t&&((te=ge(W,!1))===""&&(te=e.loadFile(W)||""),W=te),ee=r(W),!m(ee))throw new Error("addImage does not support files of type '"+ee+"', please ensure that a plugin for '"+ee+"' support is added.");if(!V()||W instanceof Uint8Array||(W=q(W)),!(B=this["process"+ee.toUpperCase()](W)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=ee,B}})(jt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};jt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,m=!1,x=0;x<f.length&&!m;x++)switch((r=f[x]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var A=0;A<f.length;A++){r=f[A];var b=this.internal.pdfEscape,P=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var I=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(I.objId),_=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+b(E(r.contents))+")",s+=" /Popup "+O.objId+" 0 R",s+=" /P "+d.objId+" 0 R",s+=" /T ("+b(E(_))+") >>",I.content=s;var L=I.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+L,r.open&&(s+=" /Open true"),s+=" >>",O.content=s,this.internal.write(I.objId,"0 R",O.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+u(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var R=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+b(P(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var V=this.annotations._nameMap[r.options.name];r.options.pageNumber=V.page,r.options.top=V.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+b(P(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ie=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+ie+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,o){var u=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:d(n),y:f(r),w:d(n+i),h:f(r+s)},options:o,type:"link"})},e.textWithLink=function(n,r,i,s){var o,u,d=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){u=s.maxWidth;var m=this.splitTextToSize(n,u).length;o=Math.ceil(f*m)}else u=d,o=f;return this.text(n,r,i,s),i+=.2*f,s.align==="center"&&(r-=d/2),s.align==="right"&&(r-=d),this.link(r,i-f,u,o,s),d},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(jt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(I){return t[I.charCodeAt(0)]!==void 0},o=e.__arabicParser__.isArabicLetter=function(I){return typeof I=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(I)},u=e.__arabicParser__.isArabicEndLetter=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(I){return o(I)&&i.indexOf(I.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length>=3};var m=e.__arabicParser__.arabicLetterHasMedialForm=function(I){return o(I)&&s(I)&&t[I.charCodeAt(0)].length==4},x=e.__arabicParser__.resolveLigatures=function(I){var O=0,E=n,_="",L=0;for(O=0;O<I.length;O+=1)E[I.charCodeAt(O)]!==void 0?(L++,typeof(E=E[I.charCodeAt(O)])=="number"&&(_+=String.fromCharCode(E),E=n,L=0),O===I.length-1&&(E=n,_+=I.charAt(O-(L-1)),O-=L-1,L=0)):(E=n,_+=I.charAt(O-L),O-=L,L=0);return _};e.__arabicParser__.isArabicDiacritic=function(I){return I!==void 0&&r[I.charCodeAt(0)]!==void 0};var A=e.__arabicParser__.getCorrectForm=function(I,O,E){return o(I)?s(I)===!1?-1:!f(I)||!o(O)&&!o(E)||!o(E)&&u(O)||u(I)&&!o(O)||u(I)&&d(O)||u(I)&&u(O)?0:m(I)&&o(O)&&!u(O)&&o(E)&&f(E)?3:u(I)||!o(E)?1:2:-1},b=function(I){var O=0,E=0,_=0,L="",R="",V="",ie=(I=I||"").split("\\s+"),q=[];for(O=0;O<ie.length;O+=1){for(q.push(""),E=0;E<ie[O].length;E+=1)L=ie[O][E],R=ie[O][E-1],V=ie[O][E+1],o(L)?(_=A(L,R,V),q[O]+=_!==-1?String.fromCharCode(t[L.charCodeAt(0)][_]):L):q[O]+=L;q[O]=x(q[O])}return q.join(" ")},P=e.__arabicParser__.processArabic=e.processArabic=function(){var I,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(O)){var _=0;for(E=[],_=0;_<O.length;_+=1)Array.isArray(O[_])?E.push([b(O[_][0]),O[_][1],O[_][2]]):E.push([b(O[_])]);I=E}else I=b(O);return typeof arguments[0]=="string"?I:(arguments[0].text=I,arguments[0])};e.events.push(["preProcessText",P])}(jt.API),jt.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(u){n=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(u){s=u}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(u){o=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(jt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(I){d=I}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(I){f=I}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(I){m=I}});var x=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return x},set:function(I){x=I}});var A=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return A},set:function(I){A=I}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(I){b=I}});var P=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return P},set:function(I){P=I}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return r.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,f){r.call(this);var m=(f=f||{}).fontSize||this.getFontSize(),x=f.font||this.getFont(),A=f.scaleFactor||this.internal.scaleFactor,b=0,P=0,I=0,O=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var E=f.maxWidth;E>0?typeof d=="string"?d=this.splitTextToSize(d,E):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(L,R){return L.concat(O.splitTextToSize(R,E))},[])):d=Array.isArray(d)?d:[d];for(var _=0;_<d.length;_++)b<(I=this.getStringUnitWidth(d[_],{font:x})*m)&&(b=I);return b!==0&&(P=d.length),{w:b/=A,h:Math.max((P*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/A,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var d;d=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,x=this.internal.__cell__.margins||t,A=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===d.lineNumber?(d.x=(f.x||0)+(f.width||0),d.y=f.y||0):f.y+f.height+d.height+x.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=x.top,b&&A&&(this.printHeaderRow(d.lineNumber,!0),d.y+=A[0].height)):d.y=f.y+f.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,n===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-m,d.y+m,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+m,{align:"center",baseline:"top",maxWidth:d.width-m-m}):this.text(d.text,d.x+m,d.y+m,{align:"left",baseline:"top",maxWidth:d.width-m-m})),this.internal.__cell__.lastCell=d,this};e.table=function(d,f,m,x,A){if(r.call(this),!m)throw new Error("No data for PDF table.");var b,P,I,O,E=[],_=[],L=[],R={},V={},ie=[],q=[],K=(A=A||{}).autoSize||!1,$=A.printHeaders!==!1,ge=A.css&&A.css["font-size"]!==void 0?16*A.css["font-size"]:A.fontSize||12,W=A.margins||Object.assign({width:this.getPageWidth()},t),B=typeof A.padding=="number"?A.padding:3,ee=A.headerBackgroundColor||"#c8c8c8",te=A.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=$,this.internal.__cell__.margins=W,this.internal.__cell__.table_font_size=ge,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=ee,this.internal.__cell__.headerTextColor=te,this.setFontSize(ge),x==null)_=E=Object.keys(m[0]),L=E.map(function(){return"left"});else if(Array.isArray(x)&&Tn(x[0])==="object")for(E=x.map(function(Ie){return Ie.name}),_=x.map(function(Ie){return Ie.prompt||Ie.name||""}),L=x.map(function(Ie){return Ie.align||"left"}),b=0;b<x.length;b+=1)V[x[b].name]=x[b].width*(19.049976/25.4);else Array.isArray(x)&&typeof x[0]=="string"&&(_=E=x,L=E.map(function(){return"left"}));if(K||Array.isArray(x)&&typeof x[0]=="string")for(b=0;b<E.length;b+=1){for(R[O=E[b]]=m.map(function(Ie){return Ie[O]}),this.setFont(void 0,"bold"),ie.push(this.getTextDimensions(_[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),P=R[O],this.setFont(void 0,"normal"),I=0;I<P.length;I+=1)ie.push(this.getTextDimensions(P[I],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);V[O]=Math.max.apply(null,ie)+B+B,ie=[]}if($){var J={};for(b=0;b<E.length;b+=1)J[E[b]]={},J[E[b]].text=_[b],J[E[b]].align=L[b];var be=u.call(this,J,V);q=E.map(function(Ie){return new s(d,f,V[Ie],be,J[Ie].text,void 0,J[Ie].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var ve=x.reduce(function(Ie,Ue){return Ie[Ue.name]=Ue.align,Ie},{});for(b=0;b<m.length;b+=1){"rowStart"in A&&A.rowStart instanceof Function&&A.rowStart({row:b,data:m[b]},this);var fe=u.call(this,m[b],V);for(I=0;I<E.length;I+=1){var Ce=m[b][E[I]];"cellStart"in A&&A.cellStart instanceof Function&&A.cellStart({row:b,col:I,data:Ce},this),o.call(this,new s(d,f,V[E[I]],fe,Ce,b+2,ve[E[I]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=f,this};var u=function(d,f){var m=this.internal.__cell__.padding,x=this.internal.__cell__.table_font_size,A=this.internal.scaleFactor;return Object.keys(d).map(function(b){var P=d[b];return this.splitTextToSize(P.hasOwnProperty("text")?P.text:P,f[b]-m-m)},this).map(function(b){return this.getLineHeightFactor()*b.length*x/A+m+m},this).reduce(function(b,P){return Math.max(b,P)},0)};e.setTableHeaderRow=function(d){r.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var x=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(x[0],x[1],x[2],x[3],void 0,-1)}this.setFont(void 0,"bold");for(var A=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){m=this.internal.__cell__.tableHeaderRow[b].clone(),f&&(m.y=this.internal.__cell__.margins.top||0,A.push(m)),m.lineNumber=d;var P=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,m),this.setTextColor(P)}A.length>0&&this.setTableHeaderRow(A),this.setFont(void 0,"normal"),n=!1}}(jt.API);var XS={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},KS=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],o2=YS(KS),ZS=[100,200,300,400,500,600,700,800,900],UR=YS(ZS);function l2(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return XS[s=s||"normal"]?s:"normal"}(e.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(e.weight),i=function(s){return typeof o2[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function cb(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var VR={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},ub={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function db(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function zR(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},VR,n.genericFontFamilies||{}),s=null,o=null,u=0;u<t.length;++u)if(i[(s=l2(t[u])).family]&&(s.family=i[s.family]),e.hasOwnProperty(s.family)){o=e[s.family];break}if(!(o=o||e[r]))throw new Error("Could not find a font-family for the rule '"+db(s)+"' and default family '"+r+"'.");if(o=function(d,f){if(f[d])return f[d];var m=o2[d],x=m<=o2.normal?-1:1,A=cb(f,KS,m,x);if(!A)throw new Error("Could not find a matching font-stretch value for "+d);return A}(s.stretch,o),o=function(d,f){if(f[d])return f[d];for(var m=XS[d],x=0;x<m.length;++x)if(f[m[x]])return f[m[x]];throw new Error("Could not find a matching font-style for "+d)}(s.style,o),!(o=function(d,f){if(f[d])return f[d];if(d===400&&f[500])return f[500];if(d===500&&f[400])return f[400];var m=UR[d],x=cb(f,ZS,m,d<400?-1:1);if(!x)throw new Error("Could not find a matching font-weight for value "+d);return x}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+db(s)+"'.");return o}function hb(e){return e.trimLeft()}function HR(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function qR(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Uf,fb,pb,pg=["times"];(function(e){var t,n,r,i,s,o,u,d,f,m=function(M){return M=M||{},this.isStrokeTransparent=M.isStrokeTransparent||!1,this.strokeOpacity=M.strokeOpacity||1,this.strokeStyle=M.strokeStyle||"#000000",this.fillStyle=M.fillStyle||"#000000",this.isFillTransparent=M.isFillTransparent||!1,this.fillOpacity=M.fillOpacity||1,this.font=M.font||"10px sans-serif",this.textBaseline=M.textBaseline||"alphabetic",this.textAlign=M.textAlign||"left",this.lineWidth=M.lineWidth||1,this.lineJoin=M.lineJoin||"miter",this.lineCap=M.lineCap||"butt",this.path=M.path||[],this.transform=M.transform!==void 0?M.transform.clone():new d,this.globalCompositeOperation=M.globalCompositeOperation||"normal",this.globalAlpha=M.globalAlpha||1,this.clip_path=M.clip_path||[],this.currentPoint=M.currentPoint||new o,this.miterLimit=M.miterLimit||10,this.lastPoint=M.lastPoint||new o,this.lineDashOffset=M.lineDashOffset||0,this.lineDash=M.lineDash||[],this.margin=M.margin||[0,0,0,0],this.prevPageLastElemOffset=M.prevPageLastElemOffset||0,this.ignoreClearRect=typeof M.ignoreClearRect!="boolean"||M.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new x(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,u=this.internal.Rectangle,d=this.internal.Matrix,f=new m}]);var x=function(M){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ne=M;Object.defineProperty(this,"pdf",{get:function(){return ne}});var oe=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return oe},set:function(Me){oe=!!Me}});var pe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return pe},set:function(Me){pe=!!Me}});var he=0;Object.defineProperty(this,"posX",{get:function(){return he},set:function(Me){isNaN(Me)||(he=Me)}});var Pe=0;Object.defineProperty(this,"posY",{get:function(){return Pe},set:function(Me){isNaN(Me)||(Pe=Me)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Me){var de;typeof Me=="number"?de=[Me,Me,Me,Me]:((de=new Array(4))[0]=Me[0],de[1]=Me.length>=2?Me[1]:de[0],de[2]=Me.length>=3?Me[2]:de[0],de[3]=Me.length>=4?Me[3]:de[1]),f.margin=de}});var Le=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Le},set:function(Me){Le=Me}});var Oe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Oe},set:function(Me){Oe=Me}});var et=[];Object.defineProperty(this,"pageBreaks",{get:function(){return et},set:function(Me){et=Me}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Me){Me instanceof m&&(f=Me)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Me){f.path=Me}});var Ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ge},set:function(Me){Ge=Me}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Me){var de;de=A(Me),this.ctx.fillStyle=de.style,this.ctx.isFillTransparent=de.a===0,this.ctx.fillOpacity=de.a,this.pdf.setFillColor(de.r,de.g,de.b,{a:de.a}),this.pdf.setTextColor(de.r,de.g,de.b,{a:de.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Me){var de=A(Me);this.ctx.strokeStyle=de.style,this.ctx.isStrokeTransparent=de.a===0,this.ctx.strokeOpacity=de.a,de.a===0?this.pdf.setDrawColor(255,255,255):(de.a,this.pdf.setDrawColor(de.r,de.g,de.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Me){["butt","round","square"].indexOf(Me)!==-1&&(this.ctx.lineCap=Me,this.pdf.setLineCap(Me))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Me){isNaN(Me)||(this.ctx.lineWidth=Me,this.pdf.setLineWidth(Me))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Me){["bevel","round","miter"].indexOf(Me)!==-1&&(this.ctx.lineJoin=Me,this.pdf.setLineJoin(Me))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Me){isNaN(Me)||(this.ctx.miterLimit=Me,this.pdf.setMiterLimit(Me))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Me){this.ctx.textBaseline=Me}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Me){["right","end","center","left","start"].indexOf(Me)!==-1&&(this.ctx.textAlign=Me)}});var ut=null;function Ke(Me,de){if(ut===null){var yt=function(at){var ze=[];return Object.keys(at).forEach(function(re){at[re].forEach(function(ae){var Ae=null;switch(ae){case"bold":Ae={family:re,weight:"bold"};break;case"italic":Ae={family:re,style:"italic"};break;case"bolditalic":Ae={family:re,weight:"bold",style:"italic"};break;case"":case"normal":Ae={family:re}}Ae!==null&&(Ae.ref={name:re,style:ae},ze.push(Ae))})}),ze}(Me.getFontList());ut=function(at){for(var ze={},re=0;re<at.length;++re){var ae=l2(at[re]),Ae=ae.family,qe=ae.stretch,Ve=ae.style,We=ae.weight;ze[Ae]=ze[Ae]||{},ze[Ae][qe]=ze[Ae][qe]||{},ze[Ae][qe][Ve]=ze[Ae][qe][Ve]||{},ze[Ae][qe][Ve][We]=ae}return ze}(yt.concat(de))}return ut}var ft=null;Object.defineProperty(this,"fontFaces",{get:function(){return ft},set:function(Me){ut=null,ft=Me}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Me){var de;if(this.ctx.font=Me,(de=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Me))!==null){var yt=de[1],at=(de[2],de[3]),ze=de[4],re=(de[5],de[6]),ae=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(ae==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:ae==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var Ae=function(pt){var Ht,dt,jr=[],Lt=pt.trim();if(Lt==="")return pg;if(Lt in ub)return[ub[Lt]];for(;Lt!=="";){switch(dt=null,Ht=(Lt=hb(Lt)).charAt(0)){case'"':case"'":dt=HR(Lt.substring(1),Ht);break;default:dt=qR(Lt)}if(dt===null||(jr.push(dt[0]),(Lt=hb(dt[1]))!==""&&Lt.charAt(0)!==","))return pg;Lt=Lt.replace(/^,/,"")}return jr}(re);if(this.fontFaces){var qe=zR(Ke(this.pdf,this.fontFaces),Ae.map(function(pt){return{family:pt,stretch:"normal",weight:at,style:yt}}));this.pdf.setFont(qe.ref.name,qe.ref.style)}else{var Ve="";(at==="bold"||parseInt(at,10)>=700||yt==="bold")&&(Ve="bold"),yt==="italic"&&(Ve+="italic"),Ve.length===0&&(Ve="normal");for(var We="",it={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},bt=0;bt<Ae.length;bt++){if(this.pdf.internal.getFont(Ae[bt],Ve,{noFallback:!0,disableWarning:!0})!==void 0){We=Ae[bt];break}if(Ve==="bolditalic"&&this.pdf.internal.getFont(Ae[bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)We=Ae[bt],Ve="bold";else if(this.pdf.internal.getFont(Ae[bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){We=Ae[bt],Ve="normal";break}}if(We===""){for(var St=0;St<Ae.length;St++)if(it[Ae[St]]){We=it[Ae[St]];break}}We=We===""?"Times":We,this.pdf.setFont(We,Ve)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Me){this.ctx.globalCompositeOperation=Me}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Me){this.ctx.globalAlpha=Me}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Me){this.ctx.lineDashOffset=Me,Ue.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Me){this.ctx.lineDash=Me,Ue.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Me){this.ctx.ignoreClearRect=!!Me}})};x.prototype.setLineDash=function(M){this.lineDash=M},x.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},x.prototype.fill=function(){R.call(this,"fill",!1)},x.prototype.stroke=function(){R.call(this,"stroke",!1)},x.prototype.beginPath=function(){this.path=[{type:"begin"}]},x.prototype.moveTo=function(M,ne){if(isNaN(M)||isNaN(ne))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var oe=this.ctx.transform.applyToPoint(new o(M,ne));this.path.push({type:"mt",x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(M,ne)},x.prototype.closePath=function(){var M=new o(0,0),ne=0;for(ne=this.path.length-1;ne!==-1;ne--)if(this.path[ne].type==="begin"&&Tn(this.path[ne+1])==="object"&&typeof this.path[ne+1].x=="number"){M=new o(this.path[ne+1].x,this.path[ne+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(M.x,M.y)},x.prototype.lineTo=function(M,ne){if(isNaN(M)||isNaN(ne))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var oe=this.ctx.transform.applyToPoint(new o(M,ne));this.path.push({type:"lt",x:oe.x,y:oe.y}),this.ctx.lastPoint=new o(oe.x,oe.y)},x.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},x.prototype.quadraticCurveTo=function(M,ne,oe,pe){if(isNaN(oe)||isNaN(pe)||isNaN(M)||isNaN(ne))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var he=this.ctx.transform.applyToPoint(new o(oe,pe)),Pe=this.ctx.transform.applyToPoint(new o(M,ne));this.path.push({type:"qct",x1:Pe.x,y1:Pe.y,x:he.x,y:he.y}),this.ctx.lastPoint=new o(he.x,he.y)},x.prototype.bezierCurveTo=function(M,ne,oe,pe,he,Pe){if(isNaN(he)||isNaN(Pe)||isNaN(M)||isNaN(ne)||isNaN(oe)||isNaN(pe))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Le=this.ctx.transform.applyToPoint(new o(he,Pe)),Oe=this.ctx.transform.applyToPoint(new o(M,ne)),et=this.ctx.transform.applyToPoint(new o(oe,pe));this.path.push({type:"bct",x1:Oe.x,y1:Oe.y,x2:et.x,y2:et.y,x:Le.x,y:Le.y}),this.ctx.lastPoint=new o(Le.x,Le.y)},x.prototype.arc=function(M,ne,oe,pe,he,Pe){if(isNaN(M)||isNaN(ne)||isNaN(oe)||isNaN(pe)||isNaN(he))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Pe=!!Pe,!this.ctx.transform.isIdentity){var Le=this.ctx.transform.applyToPoint(new o(M,ne));M=Le.x,ne=Le.y;var Oe=this.ctx.transform.applyToPoint(new o(0,oe)),et=this.ctx.transform.applyToPoint(new o(0,0));oe=Math.sqrt(Math.pow(Oe.x-et.x,2)+Math.pow(Oe.y-et.y,2))}Math.abs(he-pe)>=2*Math.PI&&(pe=0,he=2*Math.PI),this.path.push({type:"arc",x:M,y:ne,radius:oe,startAngle:pe,endAngle:he,counterclockwise:Pe})},x.prototype.arcTo=function(M,ne,oe,pe,he){throw new Error("arcTo not implemented.")},x.prototype.rect=function(M,ne,oe,pe){if(isNaN(M)||isNaN(ne)||isNaN(oe)||isNaN(pe))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(M,ne),this.lineTo(M+oe,ne),this.lineTo(M+oe,ne+pe),this.lineTo(M,ne+pe),this.lineTo(M,ne),this.lineTo(M+oe,ne),this.lineTo(M,ne)},x.prototype.fillRect=function(M,ne,oe,pe){if(isNaN(M)||isNaN(ne)||isNaN(oe)||isNaN(pe))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var he={};this.lineCap!=="butt"&&(he.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(he.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(M,ne,oe,pe),this.fill(),he.hasOwnProperty("lineCap")&&(this.lineCap=he.lineCap),he.hasOwnProperty("lineJoin")&&(this.lineJoin=he.lineJoin)}},x.prototype.strokeRect=function(M,ne,oe,pe){if(isNaN(M)||isNaN(ne)||isNaN(oe)||isNaN(pe))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");P.call(this)||(this.beginPath(),this.rect(M,ne,oe,pe),this.stroke())},x.prototype.clearRect=function(M,ne,oe,pe){if(isNaN(M)||isNaN(ne)||isNaN(oe)||isNaN(pe))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(M,ne,oe,pe))},x.prototype.save=function(M){M=typeof M!="boolean"||M;for(var ne=this.pdf.internal.getCurrentPageInfo().pageNumber,oe=0;oe<this.pdf.internal.getNumberOfPages();oe++)this.pdf.setPage(oe+1),this.pdf.internal.out("q");if(this.pdf.setPage(ne),M){this.ctx.fontSize=this.pdf.internal.getFontSize();var pe=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=pe}},x.prototype.restore=function(M){M=typeof M!="boolean"||M;for(var ne=this.pdf.internal.getCurrentPageInfo().pageNumber,oe=0;oe<this.pdf.internal.getNumberOfPages();oe++)this.pdf.setPage(oe+1),this.pdf.internal.out("Q");this.pdf.setPage(ne),M&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},x.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(M){var ne,oe,pe,he;if(M.isCanvasGradient===!0&&(M=M.getColor()),!M)return{r:0,g:0,b:0,a:0,style:M};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(M))ne=0,oe=0,pe=0,he=0;else{var Pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(M);if(Pe!==null)ne=parseInt(Pe[1]),oe=parseInt(Pe[2]),pe=parseInt(Pe[3]),he=1;else if((Pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(M))!==null)ne=parseInt(Pe[1]),oe=parseInt(Pe[2]),pe=parseInt(Pe[3]),he=parseFloat(Pe[4]);else{if(he=1,typeof M=="string"&&M.charAt(0)!=="#"){var Le=new zS(M);M=Le.ok?Le.toHex():"#000000"}M.length===4?(ne=M.substring(1,2),ne+=ne,oe=M.substring(2,3),oe+=oe,pe=M.substring(3,4),pe+=pe):(ne=M.substring(1,3),oe=M.substring(3,5),pe=M.substring(5,7)),ne=parseInt(ne,16),oe=parseInt(oe,16),pe=parseInt(pe,16)}}return{r:ne,g:oe,b:pe,a:he,style:M}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},P=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};x.prototype.fillText=function(M,ne,oe,pe){if(isNaN(ne)||isNaN(oe)||typeof M!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(pe=isNaN(pe)?void 0:pe,!b.call(this)){var he=fe(this.ctx.transform.rotation),Pe=this.ctx.transform.scaleX;B.call(this,{text:M,x:ne,y:oe,scale:Pe,angle:he,align:this.textAlign,maxWidth:pe})}},x.prototype.strokeText=function(M,ne,oe,pe){if(isNaN(ne)||isNaN(oe)||typeof M!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!P.call(this)){pe=isNaN(pe)?void 0:pe;var he=fe(this.ctx.transform.rotation),Pe=this.ctx.transform.scaleX;B.call(this,{text:M,x:ne,y:oe,scale:Pe,renderingMode:"stroke",angle:he,align:this.textAlign,maxWidth:pe})}},x.prototype.measureText=function(M){if(typeof M!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ne=this.pdf,oe=this.pdf.internal.scaleFactor,pe=ne.internal.getFontSize(),he=ne.getStringUnitWidth(M)*pe/ne.internal.scaleFactor,Pe=function(Le){var Oe=(Le=Le||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Oe}}),this};return new Pe({width:he*=Math.round(96*oe/72*1e4)/1e4})},x.prototype.scale=function(M,ne){if(isNaN(M)||isNaN(ne))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var oe=new d(M,0,0,ne,0,0);this.ctx.transform=this.ctx.transform.multiply(oe)},x.prototype.rotate=function(M){if(isNaN(M))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ne=new d(Math.cos(M),Math.sin(M),-Math.sin(M),Math.cos(M),0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},x.prototype.translate=function(M,ne){if(isNaN(M)||isNaN(ne))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var oe=new d(1,0,0,1,M,ne);this.ctx.transform=this.ctx.transform.multiply(oe)},x.prototype.transform=function(M,ne,oe,pe,he,Pe){if(isNaN(M)||isNaN(ne)||isNaN(oe)||isNaN(pe)||isNaN(he)||isNaN(Pe))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Le=new d(M,ne,oe,pe,he,Pe);this.ctx.transform=this.ctx.transform.multiply(Le)},x.prototype.setTransform=function(M,ne,oe,pe,he,Pe){M=isNaN(M)?1:M,ne=isNaN(ne)?0:ne,oe=isNaN(oe)?0:oe,pe=isNaN(pe)?1:pe,he=isNaN(he)?0:he,Pe=isNaN(Pe)?0:Pe,this.ctx.transform=new d(M,ne,oe,pe,he,Pe)};var I=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};x.prototype.drawImage=function(M,ne,oe,pe,he,Pe,Le,Oe,et){var Ge=this.pdf.getImageProperties(M),ut=1,Ke=1,ft=1,Me=1;pe!==void 0&&Oe!==void 0&&(ft=Oe/pe,Me=et/he,ut=Ge.width/pe*Oe/pe,Ke=Ge.height/he*et/he),Pe===void 0&&(Pe=ne,Le=oe,ne=0,oe=0),pe!==void 0&&Oe===void 0&&(Oe=pe,et=he),pe===void 0&&Oe===void 0&&(Oe=Ge.width,et=Ge.height);for(var de,yt=this.ctx.transform.decompose(),at=fe(yt.rotate.shx),ze=new d,re=(ze=(ze=(ze=ze.multiply(yt.translate)).multiply(yt.skew)).multiply(yt.scale)).applyToRectangle(new u(Pe-ne*ft,Le-oe*Me,pe*ut,he*Ke)),ae=O.call(this,re),Ae=[],qe=0;qe<ae.length;qe+=1)Ae.indexOf(ae[qe])===-1&&Ae.push(ae[qe]);if(L(Ae),this.autoPaging)for(var Ve=Ae[0],We=Ae[Ae.length-1],it=Ve;it<We+1;it++){this.pdf.setPage(it);var bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],St=it===1?this.posY+this.margin[0]:this.margin[0],pt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=it===1?0:pt+(it-2)*Ht;if(this.ctx.clip_path.length!==0){var jr=this.path;de=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(de,this.posX+this.margin[3],-dt+St+this.ctx.prevPageLastElemOffset),V.call(this,"fill",!0),this.path=jr}var Lt=JSON.parse(JSON.stringify(re));Lt=_([Lt],this.posX+this.margin[3],-dt+St+this.ctx.prevPageLastElemOffset)[0];var ot=(it>Ve||it<We)&&I.call(this);ot&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],bt,Ht,null).clip().discardPath()),this.pdf.addImage(M,"JPEG",Lt.x,Lt.y,Lt.w,Lt.h,null,null,at),ot&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(M,"JPEG",re.x,re.y,re.w,re.h,null,null,at)};var O=function(M,ne,oe){var pe=[];ne=ne||this.pdf.internal.pageSize.width,oe=oe||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var he=this.posY+this.ctx.prevPageLastElemOffset;switch(M.type){default:case"mt":case"lt":pe.push(Math.floor((M.y+he)/oe)+1);break;case"arc":pe.push(Math.floor((M.y+he-M.radius)/oe)+1),pe.push(Math.floor((M.y+he+M.radius)/oe)+1);break;case"qct":var Pe=Ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x,M.y);pe.push(Math.floor((Pe.y+he)/oe)+1),pe.push(Math.floor((Pe.y+Pe.h+he)/oe)+1);break;case"bct":var Le=Ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,M.x1,M.y1,M.x2,M.y2,M.x,M.y);pe.push(Math.floor((Le.y+he)/oe)+1),pe.push(Math.floor((Le.y+Le.h+he)/oe)+1);break;case"rect":pe.push(Math.floor((M.y+he)/oe)+1),pe.push(Math.floor((M.y+M.h+he)/oe)+1)}for(var Oe=0;Oe<pe.length;Oe+=1)for(;this.pdf.internal.getNumberOfPages()<pe[Oe];)E.call(this);return pe},E=function(){var M=this.fillStyle,ne=this.strokeStyle,oe=this.font,pe=this.lineCap,he=this.lineWidth,Pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=M,this.strokeStyle=ne,this.font=oe,this.lineCap=pe,this.lineWidth=he,this.lineJoin=Pe},_=function(M,ne,oe){for(var pe=0;pe<M.length;pe++)switch(M[pe].type){case"bct":M[pe].x2+=ne,M[pe].y2+=oe;case"qct":M[pe].x1+=ne,M[pe].y1+=oe;case"mt":case"lt":case"arc":default:M[pe].x+=ne,M[pe].y+=oe}return M},L=function(M){return M.sort(function(ne,oe){return ne-oe})},R=function(M,ne){for(var oe,pe,he=this.fillStyle,Pe=this.strokeStyle,Le=this.lineCap,Oe=this.lineWidth,et=Math.abs(Oe*this.ctx.transform.scaleX),Ge=this.lineJoin,ut=JSON.parse(JSON.stringify(this.path)),Ke=JSON.parse(JSON.stringify(this.path)),ft=[],Me=0;Me<Ke.length;Me++)if(Ke[Me].x!==void 0)for(var de=O.call(this,Ke[Me]),yt=0;yt<de.length;yt+=1)ft.indexOf(de[yt])===-1&&ft.push(de[yt]);for(var at=0;at<ft.length;at++)for(;this.pdf.internal.getNumberOfPages()<ft[at];)E.call(this);if(L(ft),this.autoPaging)for(var ze=ft[0],re=ft[ft.length-1],ae=ze;ae<re+1;ae++){this.pdf.setPage(ae),this.fillStyle=he,this.strokeStyle=Pe,this.lineCap=Le,this.lineWidth=et,this.lineJoin=Ge;var Ae=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],qe=ae===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=ae===1?0:Ve+(ae-2)*We;if(this.ctx.clip_path.length!==0){var bt=this.path;oe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(oe,this.posX+this.margin[3],-it+qe+this.ctx.prevPageLastElemOffset),V.call(this,M,!0),this.path=bt}if(pe=JSON.parse(JSON.stringify(ut)),this.path=_(pe,this.posX+this.margin[3],-it+qe+this.ctx.prevPageLastElemOffset),ne===!1||ae===0){var St=(ae>ze||ae<re)&&I.call(this);St&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ae,We,null).clip().discardPath()),V.call(this,M,ne),St&&this.pdf.restoreGraphicsState()}this.lineWidth=Oe}else this.lineWidth=et,V.call(this,M,ne),this.lineWidth=Oe;this.path=ut},V=function(M,ne){if((M!=="stroke"||ne||!P.call(this))&&(M==="stroke"||ne||!b.call(this))){for(var oe,pe,he=[],Pe=this.path,Le=0;Le<Pe.length;Le++){var Oe=Pe[Le];switch(Oe.type){case"begin":he.push({begin:!0});break;case"close":he.push({close:!0});break;case"mt":he.push({start:Oe,deltas:[],abs:[]});break;case"lt":var et=he.length;if(Pe[Le-1]&&!isNaN(Pe[Le-1].x)&&(oe=[Oe.x-Pe[Le-1].x,Oe.y-Pe[Le-1].y],et>0)){for(;et>=0;et--)if(he[et-1].close!==!0&&he[et-1].begin!==!0){he[et-1].deltas.push(oe),he[et-1].abs.push(Oe);break}}break;case"bct":oe=[Oe.x1-Pe[Le-1].x,Oe.y1-Pe[Le-1].y,Oe.x2-Pe[Le-1].x,Oe.y2-Pe[Le-1].y,Oe.x-Pe[Le-1].x,Oe.y-Pe[Le-1].y],he[he.length-1].deltas.push(oe);break;case"qct":var Ge=Pe[Le-1].x+2/3*(Oe.x1-Pe[Le-1].x),ut=Pe[Le-1].y+2/3*(Oe.y1-Pe[Le-1].y),Ke=Oe.x+2/3*(Oe.x1-Oe.x),ft=Oe.y+2/3*(Oe.y1-Oe.y),Me=Oe.x,de=Oe.y;oe=[Ge-Pe[Le-1].x,ut-Pe[Le-1].y,Ke-Pe[Le-1].x,ft-Pe[Le-1].y,Me-Pe[Le-1].x,de-Pe[Le-1].y],he[he.length-1].deltas.push(oe);break;case"arc":he.push({deltas:[],abs:[],arc:!0}),Array.isArray(he[he.length-1].abs)&&he[he.length-1].abs.push(Oe)}}pe=ne?null:M==="stroke"?"stroke":"fill";for(var yt=!1,at=0;at<he.length;at++)if(he[at].arc)for(var ze=he[at].abs,re=0;re<ze.length;re++){var ae=ze[re];ae.type==="arc"?K.call(this,ae.x,ae.y,ae.radius,ae.startAngle,ae.endAngle,ae.counterclockwise,void 0,ne,!yt):ee.call(this,ae.x,ae.y),yt=!0}else if(he[at].close===!0)this.pdf.internal.out("h"),yt=!1;else if(he[at].begin!==!0){var Ae=he[at].start.x,qe=he[at].start.y;te.call(this,he[at].deltas,Ae,qe),yt=!0}pe&&$.call(this,pe),ne&&ge.call(this)}},ie=function(M){var ne=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,oe=ne*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return M-oe;case"top":return M+ne-oe;case"hanging":return M+ne-2*oe;case"middle":return M+ne/2-oe;case"ideographic":return M;case"alphabetic":default:return M}},q=function(M){return M+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};x.prototype.createLinearGradient=function(){var M=function(){};return M.colorStops=[],M.addColorStop=function(ne,oe){this.colorStops.push([ne,oe])},M.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},M.isCanvasGradient=!0,M},x.prototype.createPattern=function(){return this.createLinearGradient()},x.prototype.createRadialGradient=function(){return this.createLinearGradient()};var K=function(M,ne,oe,pe,he,Pe,Le,Oe,et){for(var Ge=be.call(this,oe,pe,he,Pe),ut=0;ut<Ge.length;ut++){var Ke=Ge[ut];ut===0&&(et?W.call(this,Ke.x1+M,Ke.y1+ne):ee.call(this,Ke.x1+M,Ke.y1+ne)),J.call(this,M,ne,Ke.x2,Ke.y2,Ke.x3,Ke.y3,Ke.x4,Ke.y4)}Oe?ge.call(this):$.call(this,Le)},$=function(M){switch(M){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ge=function(){this.pdf.clip(),this.pdf.discardPath()},W=function(M,ne){this.pdf.internal.out(n(M)+" "+r(ne)+" m")},B=function(M){var ne;switch(M.align){case"right":case"end":ne="right";break;case"center":ne="center";break;case"left":case"start":default:ne="left"}var oe=this.pdf.getTextDimensions(M.text),pe=ie.call(this,M.y),he=q.call(this,pe)-oe.h,Pe=this.ctx.transform.applyToPoint(new o(M.x,pe)),Le=this.ctx.transform.decompose(),Oe=new d;Oe=(Oe=(Oe=Oe.multiply(Le.translate)).multiply(Le.skew)).multiply(Le.scale);for(var et,Ge,ut,Ke=this.ctx.transform.applyToRectangle(new u(M.x,pe,oe.w,oe.h)),ft=Oe.applyToRectangle(new u(M.x,he,oe.w,oe.h)),Me=O.call(this,ft),de=[],yt=0;yt<Me.length;yt+=1)de.indexOf(Me[yt])===-1&&de.push(Me[yt]);if(L(de),this.autoPaging)for(var at=de[0],ze=de[de.length-1],re=at;re<ze+1;re++){this.pdf.setPage(re);var ae=re===1?this.posY+this.margin[0]:this.margin[0],Ae=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[2],Ve=qe-this.margin[0],We=this.pdf.internal.pageSize.width-this.margin[1],it=We-this.margin[3],bt=re===1?0:Ae+(re-2)*Ve;if(this.ctx.clip_path.length!==0){var St=this.path;et=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=_(et,this.posX+this.margin[3],-1*bt+ae),V.call(this,"fill",!0),this.path=St}var pt=_([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-bt+ae+this.ctx.prevPageLastElemOffset)[0];M.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*M.scale),ut=this.lineWidth,this.lineWidth=ut*M.scale);var Ht=this.autoPaging!=="text";if(Ht||pt.y+pt.h<=qe){if(Ht||pt.y>=ae&&pt.x<=We){var dt=Ht?M.text:this.pdf.splitTextToSize(M.text,M.maxWidth||We-pt.x)[0],jr=_([JSON.parse(JSON.stringify(Ke))],this.posX+this.margin[3],-bt+ae+this.ctx.prevPageLastElemOffset)[0],Lt=Ht&&(re>at||re<ze)&&I.call(this);Lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],it,Ve,null).clip().discardPath()),this.pdf.text(dt,jr.x,jr.y,{angle:M.angle,align:ne,renderingMode:M.renderingMode}),Lt&&this.pdf.restoreGraphicsState()}}else pt.y<qe&&(this.ctx.prevPageLastElemOffset+=qe-pt.y);M.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=ut)}else M.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*M.scale),ut=this.lineWidth,this.lineWidth=ut*M.scale),this.pdf.text(M.text,Pe.x+this.posX,Pe.y+this.posY,{angle:M.angle,align:ne,renderingMode:M.renderingMode,maxWidth:M.maxWidth}),M.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=ut)},ee=function(M,ne,oe,pe){oe=oe||0,pe=pe||0,this.pdf.internal.out(n(M+oe)+" "+r(ne+pe)+" l")},te=function(M,ne,oe){return this.pdf.lines(M,ne,oe,null,null)},J=function(M,ne,oe,pe,he,Pe,Le,Oe){this.pdf.internal.out([t(i(oe+M)),t(s(pe+ne)),t(i(he+M)),t(s(Pe+ne)),t(i(Le+M)),t(s(Oe+ne)),"c"].join(" "))},be=function(M,ne,oe,pe){for(var he=2*Math.PI,Pe=Math.PI/2;ne>oe;)ne-=he;var Le=Math.abs(oe-ne);Le<he&&pe&&(Le=he-Le);for(var Oe=[],et=pe?-1:1,Ge=ne;Le>1e-5;){var ut=Ge+et*Math.min(Le,Pe);Oe.push(ve.call(this,M,Ge,ut)),Le-=Math.abs(ut-Ge),Ge=ut}return Oe},ve=function(M,ne,oe){var pe=(oe-ne)/2,he=M*Math.cos(pe),Pe=M*Math.sin(pe),Le=he,Oe=-Pe,et=Le*Le+Oe*Oe,Ge=et+Le*he+Oe*Pe,ut=4/3*(Math.sqrt(2*et*Ge)-Ge)/(Le*Pe-Oe*he),Ke=Le-ut*Oe,ft=Oe+ut*Le,Me=Ke,de=-ft,yt=pe+ne,at=Math.cos(yt),ze=Math.sin(yt);return{x1:M*Math.cos(ne),y1:M*Math.sin(ne),x2:Ke*at-ft*ze,y2:Ke*ze+ft*at,x3:Me*at-de*ze,y3:Me*ze+de*at,x4:M*Math.cos(oe),y4:M*Math.sin(oe)}},fe=function(M){return 180*M/Math.PI},Ce=function(M,ne,oe,pe,he,Pe){var Le=M+.5*(oe-M),Oe=ne+.5*(pe-ne),et=he+.5*(oe-he),Ge=Pe+.5*(pe-Pe),ut=Math.min(M,he,Le,et),Ke=Math.max(M,he,Le,et),ft=Math.min(ne,Pe,Oe,Ge),Me=Math.max(ne,Pe,Oe,Ge);return new u(ut,ft,Ke-ut,Me-ft)},Ie=function(M,ne,oe,pe,he,Pe,Le,Oe){var et,Ge,ut,Ke,ft,Me,de,yt,at,ze,re,ae,Ae,qe,Ve=oe-M,We=pe-ne,it=he-oe,bt=Pe-pe,St=Le-he,pt=Oe-Pe;for(Ge=0;Ge<41;Ge++)at=(de=(ut=M+(et=Ge/40)*Ve)+et*((ft=oe+et*it)-ut))+et*(ft+et*(he+et*St-ft)-de),ze=(yt=(Ke=ne+et*We)+et*((Me=pe+et*bt)-Ke))+et*(Me+et*(Pe+et*pt-Me)-yt),Ge==0?(re=at,ae=ze,Ae=at,qe=ze):(re=Math.min(re,at),ae=Math.min(ae,ze),Ae=Math.max(Ae,at),qe=Math.max(qe,ze));return new u(Math.round(re),Math.round(ae),Math.round(Ae-re),Math.round(qe-ae))},Ue=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var M,ne,oe=(M=this.ctx.lineDash,ne=this.ctx.lineDashOffset,JSON.stringify({lineDash:M,lineDashOffset:ne}));this.prevLineDash!==oe&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=oe)}}})(jt.API),function(e){var t=function(s){var o,u,d,f,m,x,A,b,P,I;for(u=[],d=0,f=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;f>d;d+=4)(m=(s.charCodeAt(d)<<24)+(s.charCodeAt(d+1)<<16)+(s.charCodeAt(d+2)<<8)+s.charCodeAt(d+3))!==0?(x=(m=((m=((m=((m=(m-(I=m%85))/85)-(P=m%85))/85)-(b=m%85))/85)-(A=m%85))/85)%85,u.push(x+33,A+33,b+33,P+33,I+33)):u.push(122);return function(O,E){for(var _=E;_>0;_--)O.pop()}(u,o.length),String.fromCharCode.apply(String,u)+"~>"},n=function(s){var o,u,d,f,m,x=String,A="length",b=255,P="charCodeAt",I="slice",O="replace";for(s[I](-2),s=s[I](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),d=[],f=0,m=(s+=o="uuuuu"[I](s[A]%5||5))[A];m>f;f+=5)u=52200625*(s[P](f)-33)+614125*(s[P](f+1)-33)+7225*(s[P](f+2)-33)+85*(s[P](f+3)-33)+(s[P](f+4)-33),d.push(b&u>>24,b&u>>16,b&u>>8,b&u);return function(E,_){for(var L=_;L>0;L--)E.pop()}(d,o[A]),x.fromCharCode.apply(x,d)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var u="",d=0;d<s.length;d+=2)u+=String.fromCharCode("0x"+(s[d]+s[d+1]));return u},i=function(s){for(var o=new Uint8Array(s.length),u=s.length;u--;)o[u]=s.charCodeAt(u);return s=(o=n2(o)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};e.processDataByFilters=function(s,o){var u=0,d=s||"",f=[];for(typeof(o=o||[])=="string"&&(o=[o]),u=0;u<o.length;u+=1)switch(o[u]){case"ASCII85Decode":case"/ASCII85Decode":d=n(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=t(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=r(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=d.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[u]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}}(jt.API),function(e){e.loadFile=function(t,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var u=void 0;try{u=function(d,f,m){var x=new XMLHttpRequest,A=0,b=function(P){var I=P.length,O=[],E=String.fromCharCode;for(A=0;A<I;A+=1)O.push(E(255&P.charCodeAt(A)));return O.join("")};if(x.open("GET",d,!f),x.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(x.onload=function(){x.status===200?m(b(this.responseText)):m(void 0)}),x.send(null),f&&x.status===200)return b(x.responseText)}(i,s,o)}catch{}return u}(t,n,r)},e.loadImageFile=e.loadFile}(jt.API),function(e){function t(){return(Bt.html2canvas?Promise.resolve(Bt.html2canvas):yl(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Bt.DOMPurify?Promise.resolve(Bt.DOMPurify):yl(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var u=Tn(o);return u==="undefined"?"undefined":u==="string"||o instanceof String?"string":u==="number"||o instanceof Number?"number":u==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(o,u){var d=document.createElement(o);for(var f in u.className&&(d.className=u.className),u.innerHTML&&u.dompurify&&(d.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)d.style[f]=u.style[f];return d},s=function o(u){var d=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),f=o.convert(Promise.resolve(),d);return f=(f=f.setProgress(1,o,1,[o])).set(u)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,u){return o.__proto__=u||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,u){return this.then(function(){switch(u=u||function(d){switch(r(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(d){return this.set({src:i("div",{innerHTML:o,dompurify:d})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function d(f,m){for(var x=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),A=f.firstChild;A;A=A.nextSibling)m!==!0&&A.nodeType===1&&A.nodeName==="SCRIPT"||x.appendChild(d(A,m));return f.nodeType===1&&(f.nodeName==="CANVAS"?(x.width=f.width,x.height=f.height,x.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(x.value=f.value),x.addEventListener("load",function(){x.scrollTop=f.scrollTop,x.scrollLeft=f.scrollLeft},!0)),x}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,u(this.prop.container,d)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(u){var d=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,x=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete x.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var A=0;A<f.length;++A){var b=f[A],P=b.src.find(function(I){return I.format==="truetype"});P&&d.addFont(P.url,b.ref.name,b.ref.style)}return x.windowHeight=x.windowHeight||0,x.windowHeight=x.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):x.windowHeight,d.context2d.save(!0),u(this.prop.container,x)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,u,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(o,u):this.outputPdf(o,u)},s.prototype.outputPdf=function(o,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,u)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var u=Object.keys(o||{}).map(function(d){if(d in s.template.prop)return function(){this.prop[d]=o[d]};switch(d){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[d]=o[d]}}},this);return this.then(function(){return this.thenList(u)})},s.prototype.get=function(o,u){return this.then(function(){var d=o in s.template.prop?this.prop[o]:this.opt[o];return u?u(d):d})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function u(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(o=o||jt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:u(o.inner.width,o.k),height:u(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,u,d,f){return o!=null&&(this.progress.val=o),u!=null&&(this.progress.state=u),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,u,d,f){return this.setProgress(o?this.progress.val+o:null,u||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},s.prototype.then=function(o,u){var d=this;return this.thenCore(o,u,function(f,m){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(x){return d.updateProgress(null,f),x}).then(f,m).then(function(x){return d.updateProgress(1),x})})},s.prototype.thenCore=function(o,u,d){d=d||Promise.prototype.then,o&&(o=o.bind(this)),u&&(u=u.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),m=d.call(f,o,u);return s.convert(m,this.__proto__)},s.prototype.thenExternal=function(o,u){return Promise.prototype.then.call(this,o,u)},s.prototype.thenList=function(o){var u=this;return o.forEach(function(d){u=u.thenCore(d)}),u},s.prototype.catch=function(o){o&&(o=o.bind(this));var u=Promise.prototype.catch.call(this,o);return s.convert(u,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,jt.getPageSize=function(o,u,d){if(Tn(o)==="object"){var f=o;o=f.orientation,u=f.unit||u,d=f.format||d}u=u||"mm",d=d||"a4",o=(""+(o||"P")).toLowerCase();var m,x=(""+d).toLowerCase(),A={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+u}var b,P=0,I=0;if(A.hasOwnProperty(x))P=A[x][1]/m,I=A[x][0]/m;else try{P=d[1],I=d[0]}catch{throw new Error("Invalid format: "+d)}if(o==="p"||o==="portrait")o="p",I>P&&(b=I,I=P,P=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",P>I&&(b=I,I=P,P=b)}return{width:I,height:P,unit:u,k:m,orientation:o}},e.html=function(o,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(l2):null;var d=new s(u);return u.worker?d:d.from(o).doCallback()}}(jt.API),jt.API.addJS=function(e){return pb=e,this.internal.events.subscribe("postPutResources",function(){Uf=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Uf+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),fb=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+pb+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Uf!==void 0&&fb!==void 0&&this.internal.out("/Names <</JavaScript "+Uf+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],u=r.exec(o);if(u!=null){var d=u[1];n.internal.newObjectDeferredBegin(d,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,m=[];for(s=0;s<f;s++){var x=n.internal.newObject();m.push(x);var A=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+A.objId+" 0 R /XYZ null null null]>> endobj")}var b=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<m.length;s++)n.internal.write("(page_"+(s+1)+")"+m[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+b+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var u=this.count=this.count_r({count:0},o);if(u>0&&this.line("/Count "+u),o.options&&o.options.pageNumber){var d=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(jt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,o,u){var d,f=this.decode.DCT_DECODE,m=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(d=function(x){for(var A,b=256*x.charCodeAt(4)+x.charCodeAt(5),P=x.length,I={width:0,height:0,numcomponents:1},O=4;O<P;O+=2){if(O+=b,t.indexOf(x.charCodeAt(O+1))!==-1){A=256*x.charCodeAt(O+5)+x.charCodeAt(O+6),I={width:256*x.charCodeAt(O+7)+x.charCodeAt(O+8),height:A,numcomponents:x.charCodeAt(O+9)};break}b=256*x.charCodeAt(O+2)+x.charCodeAt(O+3)}return I}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}m={data:n,width:d.width,height:d.height,colorSpace:u,bitsPerComponent:8,filter:f,index:r,alias:i}}return m}}(jt.API);var $c,Vf,gb,mb,xb,WR=function(){var e,t,n;function r(s){var o,u,d,f,m,x,A,b,P,I,O,E,_,L;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},x=null;;){switch(o=this.readUInt32(),P=(function(){var R,V;for(V=[],R=0;R<4;++R)V.push(String.fromCharCode(this.data[this.pos++]));return V}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":x&&this.animation.frames.push(x),this.pos+=4,x={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),f=this.readUInt16()||100,x.delay=1e3*m/f,x.disposeOp=this.data[this.pos++],x.blendOp=this.data[this.pos++],x.data=[];break;case"IDAT":case"fdAT":for(P==="fdAT"&&(this.pos+=4,o-=4),s=(x!=null?x.data:void 0)||this.imgData,E=0;0<=o?E<o:E>o;0<=o?++E:--E)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(d=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>d)throw new Error("More transparent colors than palette size");if((I=d-this.transparency.indexed.length)>0)for(_=0;0<=I?_<I:_>I;0<=I?++_:--_)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":A=(O=this.read(o)).indexOf(0),b=String.fromCharCode.apply(String,O.slice(0,A)),this.text[b]=String.fromCharCode.apply(String,O.slice(A+1));break;case"IEND":return x&&this.animation.frames.push(x),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(L=this.colorType)===4||L===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,u;for(u=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*o),d=0,f=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function m(x,A,b,P){var I,O,E,_,L,R,V,ie,q,K,$,ge,W,B,ee,te,J,be,ve,fe,Ce,Ie=Math.ceil((f.width-x)/b),Ue=Math.ceil((f.height-A)/P),M=f.width==Ie&&f.height==Ue;for(B=o*Ie,ge=M?u:new Uint8Array(B*Ue),R=s.length,W=0,O=0;W<Ue&&d<R;){switch(s[d++]){case 0:for(_=J=0;J<B;_=J+=1)ge[O++]=s[d++];break;case 1:for(_=be=0;be<B;_=be+=1)I=s[d++],L=_<o?0:ge[O-o],ge[O++]=(I+L)%256;break;case 2:for(_=ve=0;ve<B;_=ve+=1)I=s[d++],E=(_-_%o)/o,ee=W&&ge[(W-1)*B+E*o+_%o],ge[O++]=(ee+I)%256;break;case 3:for(_=fe=0;fe<B;_=fe+=1)I=s[d++],E=(_-_%o)/o,L=_<o?0:ge[O-o],ee=W&&ge[(W-1)*B+E*o+_%o],ge[O++]=(I+Math.floor((L+ee)/2))%256;break;case 4:for(_=Ce=0;Ce<B;_=Ce+=1)I=s[d++],E=(_-_%o)/o,L=_<o?0:ge[O-o],W===0?ee=te=0:(ee=ge[(W-1)*B+E*o+_%o],te=E&&ge[(W-1)*B+(E-1)*o+_%o]),V=L+ee-te,ie=Math.abs(V-L),K=Math.abs(V-ee),$=Math.abs(V-te),q=ie<=K&&ie<=$?L:K<=$?ee:te,ge[O++]=(I+q)%256;break;default:throw new Error("Invalid filter algorithm: "+s[d-1])}if(!M){var ne=((A+W*P)*f.width+x)*o,oe=W*B;for(_=0;_<Ie;_+=1){for(var pe=0;pe<o;pe+=1)u[ne++]=ge[oe++];ne+=(b-1)*o}}W++}}return s=SR(s),f.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),u},r.prototype.decodePalette=function(){var s,o,u,d,f,m,x,A,b;for(u=this.palette,m=this.transparency.indexed||[],f=new Uint8Array((m.length||0)+u.length),d=0,s=0,o=x=0,A=u.length;x<A;o=x+=3)f[d++]=u[o],f[d++]=u[o+1],f[d++]=u[o+2],f[d++]=(b=m[s++])!=null?b:255;return f},r.prototype.copyToImageData=function(s,o){var u,d,f,m,x,A,b,P,I,O,E;if(d=this.colors,I=null,u=this.hasAlphaChannel,this.palette.length&&(I=(E=this._decodedPalette)!=null?E:this._decodedPalette=this.decodePalette(),d=4,u=!0),P=(f=s.data||s).length,x=I||o,m=A=0,d===1)for(;m<P;)b=I?4*o[m/4]:A,O=x[b++],f[m++]=O,f[m++]=O,f[m++]=O,f[m++]=u?x[b++]:255,A=b;else for(;m<P;)b=I?4*o[m/4]:A,f[m++]=x[b++],f[m++]=x[b++],f[m++]=x[b++],f[m++]=u?x[b++]:255,A=b},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Bt)==="[object Window]"){try{t=Bt.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return i(),e=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=t.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,u,d,f,m,x,A,b;if(this.animation){for(b=[],u=m=0,x=(A=this.animation.frames).length;m<x;u=++m)o=A[u],d=s.createImageData(o.width,o.height),f=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(d,f),o.imageData=d,b.push(o.image=e(d));return b}},r.prototype.renderFrame=function(s,o){var u,d,f;return u=(d=this.animation.frames)[o],f=d[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?s.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&s.putImageData(f.imageData,f.xOffset,f.yOffset),u.blendOp===0&&s.clearRect(u.xOffset,u.yOffset,u.width,u.height),s.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(s){var o,u,d,f,m,x,A=this;return u=0,x=this.animation,f=x.numFrames,d=x.frames,m=x.numPlays,(o=function(){var b,P;if(b=u++%f,P=d[b],A.renderFrame(s,b),f>1&&u/f<m)return A.animation._timeout=setTimeout(o,P.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,u;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(u=o.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),o.putImageData(u,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function $R(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,o=1<<(7&i)+1;e[t++],e[t++];var u=null,d=null;s&&(u=t,d=o,t+=3*o);var f=!0,m=[],x=0,A=null,b=0,P=null;for(this.width=n,this.height=r;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,P=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var I=e[t++];x=e[t++]|e[t++]<<8,A=e[t++],!(1&I)&&(A=null),b=I>>2&7,t++;break;case 254:for(;;){if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var O=e[t++]|e[t++]<<8,E=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,L=e[t++]|e[t++]<<8,R=e[t++],V=R>>6&1,ie=1<<(7&R)+1,q=u,K=d,$=!1;R>>7&&($=!0,q=t,K=ie,t+=3*ie);var ge=t;for(t++;;){var W;if(!((W=e[t++])>=0))throw Error("Invalid block size");if(W===0)break;t+=W}m.push({x:O,y:E,width:_,height:L,has_local_palette:$,palette_offset:q,palette_size:K,data_offset:ge,data_length:t-ge,transparent_index:A,interlaced:!!V,delay:x,disposal:b});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return P},this.frameInfo=function(B){if(B<0||B>=m.length)throw new Error("Frame index out of range.");return m[B]},this.decodeAndBlitFrameBGRA=function(B,ee){var te=this.frameInfo(B),J=te.width*te.height,be=new Uint8Array(J);yb(e,te.data_offset,be,J);var ve=te.palette_offset,fe=te.transparent_index;fe===null&&(fe=256);var Ce=te.width,Ie=n-Ce,Ue=Ce,M=4*(te.y*n+te.x),ne=4*((te.y+te.height)*n+te.x),oe=M,pe=4*Ie;te.interlaced===!0&&(pe+=4*n*7);for(var he=8,Pe=0,Le=be.length;Pe<Le;++Pe){var Oe=be[Pe];if(Ue===0&&(Ue=Ce,(oe+=pe)>=ne&&(pe=4*Ie+4*n*(he-1),oe=M+(Ce+Ie)*(he<<1),he>>=1)),Oe===fe)oe+=4;else{var et=e[ve+3*Oe],Ge=e[ve+3*Oe+1],ut=e[ve+3*Oe+2];ee[oe++]=ut,ee[oe++]=Ge,ee[oe++]=et,ee[oe++]=255}--Ue}},this.decodeAndBlitFrameRGBA=function(B,ee){var te=this.frameInfo(B),J=te.width*te.height,be=new Uint8Array(J);yb(e,te.data_offset,be,J);var ve=te.palette_offset,fe=te.transparent_index;fe===null&&(fe=256);var Ce=te.width,Ie=n-Ce,Ue=Ce,M=4*(te.y*n+te.x),ne=4*((te.y+te.height)*n+te.x),oe=M,pe=4*Ie;te.interlaced===!0&&(pe+=4*n*7);for(var he=8,Pe=0,Le=be.length;Pe<Le;++Pe){var Oe=be[Pe];if(Ue===0&&(Ue=Ce,(oe+=pe)>=ne&&(pe=4*Ie+4*n*(he-1),oe=M+(Ce+Ie)*(he<<1),he>>=1)),Oe===fe)oe+=4;else{var et=e[ve+3*Oe],Ge=e[ve+3*Oe+1],ut=e[ve+3*Oe+2];ee[oe++]=et,ee[oe++]=Ge,ee[oe++]=ut,ee[oe++]=255}--Ue}}}function yb(e,t,n,r){for(var i=e[t++],s=1<<i,o=s+1,u=o+1,d=i+1,f=(1<<d)-1,m=0,x=0,A=0,b=e[t++],P=new Int32Array(4096),I=null;;){for(;m<16&&b!==0;)x|=e[t++]<<m,m+=8,b===1?b=e[t++]:--b;if(m<d)break;var O=x&f;if(x>>=d,m-=d,O!==s){if(O===o)break;for(var E=O<u?O:I,_=0,L=E;L>s;)L=P[L]>>8,++_;var R=L;if(A+_+(E!==O?1:0)>r)return void Dn.log("Warning, gif stream longer than expected.");n[A++]=R;var V=A+=_;for(E!==O&&(n[A++]=R),L=E;_--;)L=P[L],n[--V]=255&L,L>>=8;I!==null&&u<4096&&(P[u++]=I<<8|R,u>=f+1&&d<12&&(++d,f=f<<1|1)),I=O}else u=o+1,f=(1<<(d=i+1))-1,I=null}return A!==r&&Dn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function gg(e){var t,n,r,i,s,o=Math.floor,u=new Array(64),d=new Array(64),f=new Array(64),m=new Array(64),x=new Array(65535),A=new Array(65535),b=new Array(64),P=new Array(64),I=[],O=0,E=7,_=new Array(64),L=new Array(64),R=new Array(64),V=new Array(256),ie=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],K=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$=[0,1,2,3,4,5,6,7,8,9,10,11],ge=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],W=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ee=[0,1,2,3,4,5,6,7,8,9,10,11],te=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],J=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function be(M,ne){for(var oe=0,pe=0,he=new Array,Pe=1;Pe<=16;Pe++){for(var Le=1;Le<=M[Pe];Le++)he[ne[pe]]=[],he[ne[pe]][0]=oe,he[ne[pe]][1]=Pe,pe++,oe++;oe*=2}return he}function ve(M){for(var ne=M[0],oe=M[1]-1;oe>=0;)ne&1<<oe&&(O|=1<<E),oe--,--E<0&&(O==255?(fe(255),fe(0)):fe(O),E=7,O=0)}function fe(M){I.push(M)}function Ce(M){fe(M>>8&255),fe(255&M)}function Ie(M,ne,oe,pe,he){for(var Pe,Le=he[0],Oe=he[240],et=function(ze,re){var ae,Ae,qe,Ve,We,it,bt,St,pt,Ht,dt=0;for(pt=0;pt<8;++pt){ae=ze[dt],Ae=ze[dt+1],qe=ze[dt+2],Ve=ze[dt+3],We=ze[dt+4],it=ze[dt+5],bt=ze[dt+6];var jr=ae+(St=ze[dt+7]),Lt=ae-St,ot=Ae+bt,Rt=Ae-bt,Ot=qe+it,cn=qe-it,en=Ve+We,Xs=Ve-We,Hn=jr+en,Gt=jr-en,ci=ot+Ot,qn=ot-Ot;ze[dt]=Hn+ci,ze[dt+4]=Hn-ci;var Ut=.707106781*(qn+Gt);ze[dt+2]=Gt+Ut,ze[dt+6]=Gt-Ut;var Xt=.382683433*((Hn=Xs+cn)-(qn=Rt+Lt)),Ks=.5411961*Hn+Xt,fn=1.306562965*qn+Xt,ui=.707106781*(ci=cn+Rt),ji=Lt+ui,Et=Lt-ui;ze[dt+5]=Et+Ks,ze[dt+3]=Et-Ks,ze[dt+1]=ji+fn,ze[dt+7]=ji-fn,dt+=8}for(dt=0,pt=0;pt<8;++pt){ae=ze[dt],Ae=ze[dt+8],qe=ze[dt+16],Ve=ze[dt+24],We=ze[dt+32],it=ze[dt+40],bt=ze[dt+48];var cs=ae+(St=ze[dt+56]),Jr=ae-St,ei=Ae+bt,pn=Ae-bt,kn=qe+it,jn=qe-it,xt=Ve+We,vi=Ve-We,Ri=cs+xt,Rn=cs-xt,ti=ei+kn,Mi=ei-kn;ze[dt]=Ri+ti,ze[dt+32]=Ri-ti;var di=.707106781*(Mi+Rn);ze[dt+16]=Rn+di,ze[dt+48]=Rn-di;var br=.382683433*((Ri=vi+jn)-(Mi=pn+Jr)),za=.5411961*Ri+br,Ao=1.306562965*Mi+br,hi=.707106781*(ti=jn+pn),pr=Jr+hi,bn=Jr-hi;ze[dt+40]=bn+za,ze[dt+24]=bn-za,ze[dt+8]=pr+Ao,ze[dt+56]=pr-Ao,dt++}for(pt=0;pt<64;++pt)Ht=ze[pt]*re[pt],b[pt]=Ht>0?Ht+.5|0:Ht-.5|0;return b}(M,ne),Ge=0;Ge<64;++Ge)P[q[Ge]]=et[Ge];var ut=P[0]-oe;oe=P[0],ut==0?ve(pe[0]):(ve(pe[A[Pe=32767+ut]]),ve(x[Pe]));for(var Ke=63;Ke>0&&P[Ke]==0;)Ke--;if(Ke==0)return ve(Le),oe;for(var ft,Me=1;Me<=Ke;){for(var de=Me;P[Me]==0&&Me<=Ke;)++Me;var yt=Me-de;if(yt>=16){ft=yt>>4;for(var at=1;at<=ft;++at)ve(Oe);yt&=15}Pe=32767+P[Me],ve(he[(yt<<4)+A[Pe]]),ve(x[Pe]),Me++}return Ke!=63&&ve(Le),oe}function Ue(M){M=Math.min(Math.max(M,1),100),s!=M&&(function(ne){for(var oe=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],pe=0;pe<64;pe++){var he=o((oe[pe]*ne+50)/100);he=Math.min(Math.max(he,1),255),u[q[pe]]=he}for(var Pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Le=0;Le<64;Le++){var Oe=o((Pe[Le]*ne+50)/100);Oe=Math.min(Math.max(Oe,1),255),d[q[Le]]=Oe}for(var et=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ge=0,ut=0;ut<8;ut++)for(var Ke=0;Ke<8;Ke++)f[Ge]=1/(u[q[Ge]]*et[ut]*et[Ke]*8),m[Ge]=1/(d[q[Ge]]*et[ut]*et[Ke]*8),Ge++}(M<50?Math.floor(5e3/M):Math.floor(200-2*M)),s=M)}this.encode=function(M,ne){ne&&Ue(ne),I=new Array,O=0,E=7,Ce(65496),Ce(65504),Ce(16),fe(74),fe(70),fe(73),fe(70),fe(0),fe(1),fe(1),fe(0),Ce(1),Ce(1),fe(0),fe(0),function(){Ce(65499),Ce(132),fe(0);for(var Ae=0;Ae<64;Ae++)fe(u[Ae]);fe(1);for(var qe=0;qe<64;qe++)fe(d[qe])}(),function(Ae,qe){Ce(65472),Ce(17),fe(8),Ce(qe),Ce(Ae),fe(3),fe(1),fe(17),fe(0),fe(2),fe(17),fe(1),fe(3),fe(17),fe(1)}(M.width,M.height),function(){Ce(65476),Ce(418),fe(0);for(var Ae=0;Ae<16;Ae++)fe(K[Ae+1]);for(var qe=0;qe<=11;qe++)fe($[qe]);fe(16);for(var Ve=0;Ve<16;Ve++)fe(ge[Ve+1]);for(var We=0;We<=161;We++)fe(W[We]);fe(1);for(var it=0;it<16;it++)fe(B[it+1]);for(var bt=0;bt<=11;bt++)fe(ee[bt]);fe(17);for(var St=0;St<16;St++)fe(te[St+1]);for(var pt=0;pt<=161;pt++)fe(J[pt])}(),Ce(65498),Ce(12),fe(3),fe(1),fe(0),fe(2),fe(17),fe(3),fe(17),fe(0),fe(63),fe(0);var oe=0,pe=0,he=0;O=0,E=7,this.encode.displayName="_encode_";for(var Pe,Le,Oe,et,Ge,ut,Ke,ft,Me,de=M.data,yt=M.width,at=M.height,ze=4*yt,re=0;re<at;){for(Pe=0;Pe<ze;){for(Ge=ze*re+Pe,Ke=-1,ft=0,Me=0;Me<64;Me++)ut=Ge+(ft=Me>>3)*ze+(Ke=4*(7&Me)),re+ft>=at&&(ut-=ze*(re+1+ft-at)),Pe+Ke>=ze&&(ut-=Pe+Ke-ze+4),Le=de[ut++],Oe=de[ut++],et=de[ut++],_[Me]=(ie[Le]+ie[Oe+256>>0]+ie[et+512>>0]>>16)-128,L[Me]=(ie[Le+768>>0]+ie[Oe+1024>>0]+ie[et+1280>>0]>>16)-128,R[Me]=(ie[Le+1280>>0]+ie[Oe+1536>>0]+ie[et+1792>>0]>>16)-128;oe=Ie(_,f,oe,t,r),pe=Ie(L,m,pe,n,i),he=Ie(R,m,he,n,i),Pe+=32}re+=8}if(E>=0){var ae=[];ae[1]=E+1,ae[0]=(1<<E+1)-1,ve(ae)}return Ce(65497),new Uint8Array(I)},e=e||50,function(){for(var M=String.fromCharCode,ne=0;ne<256;ne++)V[ne]=M(ne)}(),t=be(K,$),n=be(B,ee),r=be(ge,W),i=be(te,J),function(){for(var M=1,ne=2,oe=1;oe<=15;oe++){for(var pe=M;pe<ne;pe++)A[32767+pe]=oe,x[32767+pe]=[],x[32767+pe][1]=oe,x[32767+pe][0]=pe;for(var he=-(ne-1);he<=-M;he++)A[32767+he]=oe,x[32767+he]=[],x[32767+he][1]=oe,x[32767+he][0]=ne-1+he;M<<=1,ne<<=1}}(),function(){for(var M=0;M<256;M++)ie[M]=19595*M,ie[M+256>>0]=38470*M,ie[M+512>>0]=7471*M+32768,ie[M+768>>0]=-11059*M,ie[M+1024>>0]=-21709*M,ie[M+1280>>0]=32768*M+8421375,ie[M+1536>>0]=-27439*M,ie[M+1792>>0]=-5329*M}(),Ue(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ia(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vb(e){function t(K){if(!K)throw Error("assert :P")}function n(K,$,ge){for(var W=0;4>W;W++)if(K[$+W]!=ge.charCodeAt(W))return!0;return!1}function r(K,$,ge,W,B){for(var ee=0;ee<B;ee++)K[$+ee]=ge[W+ee]}function i(K,$,ge,W){for(var B=0;B<W;B++)K[$+B]=ge}function s(K){return new Int32Array(K)}function o(K,$){for(var ge=[],W=0;W<K;W++)ge.push(new $);return ge}function u(K,$){var ge=[];return function W(B,ee,te){for(var J=te[ee],be=0;be<J&&(B.push(te.length>ee+1?[]:new $),!(te.length<ee+1));be++)W(B[be],ee+1,te)}(ge,0,K),ge}var d=function(){var K=this;function $(y,S){for(var k=1<<S-1>>>0;y&k;)k>>>=1;return k?(y&k-1)+k:y}function ge(y,S,k,D,z){t(!(D%k));do y[S+(D-=k)]=z;while(0<D)}function W(y,S,k,D,z){if(t(2328>=z),512>=z)var G=s(512);else if((G=s(z))==null)return 0;return function(X,Z,Q,ue,Se,je){var Re,Te,Qe=Z,He=1<<Q,Ne=s(16),Ee=s(16);for(t(Se!=0),t(ue!=null),t(X!=null),t(0<Q),Te=0;Te<Se;++Te){if(15<ue[Te])return 0;++Ne[ue[Te]]}if(Ne[0]==Se)return 0;for(Ee[1]=0,Re=1;15>Re;++Re){if(Ne[Re]>1<<Re)return 0;Ee[Re+1]=Ee[Re]+Ne[Re]}for(Te=0;Te<Se;++Te)Re=ue[Te],0<ue[Te]&&(je[Ee[Re]++]=Te);if(Ee[15]==1)return(ue=new B).g=0,ue.value=je[0],ge(X,Qe,1,He,ue),He;var Ye,rt=-1,Xe=He-1,vt=0,ht=1,Dt=1,gt=1<<Q;for(Te=0,Re=1,Se=2;Re<=Q;++Re,Se<<=1){if(ht+=Dt<<=1,0>(Dt-=Ne[Re]))return 0;for(;0<Ne[Re];--Ne[Re])(ue=new B).g=Re,ue.value=je[Te++],ge(X,Qe+vt,Se,gt,ue),vt=$(vt,Re)}for(Re=Q+1,Se=2;15>=Re;++Re,Se<<=1){if(ht+=Dt<<=1,0>(Dt-=Ne[Re]))return 0;for(;0<Ne[Re];--Ne[Re]){if(ue=new B,(vt&Xe)!=rt){for(Qe+=gt,Ye=1<<(rt=Re)-Q;15>rt&&!(0>=(Ye-=Ne[rt]));)++rt,Ye<<=1;He+=gt=1<<(Ye=rt-Q),X[Z+(rt=vt&Xe)].g=Ye+Q,X[Z+rt].value=Qe-Z-rt}ue.g=Re-Q,ue.value=je[Te++],ge(X,Qe+(vt>>Q),Se,gt,ue),vt=$(vt,Re)}}return ht!=2*Ee[15]-1?0:He}(y,S,k,D,z,G)}function B(){this.value=this.g=0}function ee(){this.value=this.g=0}function te(){this.G=o(5,B),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ln,ee)}function J(y,S,k,D){t(y!=null),t(S!=null),t(2147483648>D),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=S,y.pa=k,y.Jd=S,y.Yc=k+D,y.Zc=4<=D?k+D-4+1:k,Pe(y)}function be(y,S){for(var k=0;0<S--;)k|=Oe(y,128)<<S;return k}function ve(y,S){var k=be(y,S);return Le(y)?-k:k}function fe(y,S,k,D){var z,G=0;for(t(y!=null),t(S!=null),t(4294967288>D),y.Sb=D,y.Ra=0,y.u=0,y.h=0,4<D&&(D=4),z=0;z<D;++z)G+=S[k+z]<<8*z;y.Ra=G,y.bb=D,y.oa=S,y.pa=k}function Ce(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<js-8>>>0,++y.bb,y.u-=8;oe(y)&&(y.h=1,y.u=0)}function Ie(y,S){if(t(0<=S),!y.h&&S<=Na){var k=ne(y)&Lo[S];return y.u+=S,Ce(y),k}return y.h=1,y.u=0}function Ue(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function M(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(y){return y.Ra>>>(y.u&js-1)>>>0}function oe(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>js}function pe(y,S){y.u=S,y.h=oe(y)}function he(y){y.u>=tn&&(t(y.u>=tn),Ce(y))}function Pe(y){t(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function Le(y){return be(y,1)}function Oe(y,S){var k=y.Ca;0>y.b&&Pe(y);var D=y.b,z=k*S>>>8,G=(y.I>>>D>z)+0;for(G?(k-=z,y.I-=z+1<<D>>>0):k=z+1,D=k,z=0;256<=D;)z+=8,D>>=8;return D=7^z+Wr[D],y.b-=D,y.Ca=(k<<D)-1,G}function et(y,S,k){y[S+0]=k>>24&255,y[S+1]=k>>16&255,y[S+2]=k>>8&255,y[S+3]=k>>0&255}function Ge(y,S){return y[S+0]<<0|y[S+1]<<8}function ut(y,S){return Ge(y,S)|y[S+2]<<16}function Ke(y,S){return Ge(y,S)|Ge(y,S+2)<<16}function ft(y,S){var k=1<<S;return t(y!=null),t(0<S),y.X=s(k),y.X==null?0:(y.Mb=32-S,y.Xa=S,1)}function Me(y,S){t(y!=null),t(S!=null),t(y.Xa==S.Xa),r(S.X,0,y.X,0,1<<S.Xa)}function de(){this.X=[],this.Xa=this.Mb=0}function yt(y,S,k,D){t(k!=null),t(D!=null);var z=k[0],G=D[0];return z==0&&(z=(y*G+S/2)/S),G==0&&(G=(S*z+y/2)/y),0>=z||0>=G?0:(k[0]=z,D[0]=G,1)}function at(y,S){return y+(1<<S)-1>>>S}function ze(y,S){return((4278255360&y)+(4278255360&S)>>>0&4278255360)+((16711935&y)+(16711935&S)>>>0&16711935)>>>0}function re(y,S){K[S]=function(k,D,z,G,X,Z,Q){var ue;for(ue=0;ue<X;++ue){var Se=K[y](Z[Q+ue-1],z,G+ue);Z[Q+ue]=ze(k[D+ue],Se)}}}function ae(){this.ud=this.hd=this.jd=0}function Ae(y,S){return((4278124286&(y^S))>>>1)+(y&S)>>>0}function qe(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Ve(y,S){return qe(y+(y-S+.5>>1))}function We(y,S,k){return Math.abs(S-k)-Math.abs(y-k)}function it(y,S,k,D,z,G,X){for(D=G[X-1],k=0;k<z;++k)G[X+k]=D=ze(y[S+k],D)}function bt(y,S,k,D,z){var G;for(G=0;G<k;++G){var X=y[S+G],Z=X>>8&255,Q=16711935&(Q=(Q=16711935&X)+((Z<<16)+Z));D[z+G]=(4278255360&X)+Q>>>0}}function St(y,S){S.jd=y>>0&255,S.hd=y>>8&255,S.ud=y>>16&255}function pt(y,S,k,D,z,G){var X;for(X=0;X<D;++X){var Z=S[k+X],Q=Z>>>8,ue=Z,Se=255&(Se=(Se=Z>>>16)+((y.jd<<24>>24)*(Q<<24>>24)>>>5));ue=255&(ue=(ue=ue+((y.hd<<24>>24)*(Q<<24>>24)>>>5))+((y.ud<<24>>24)*(Se<<24>>24)>>>5)),z[G+X]=(4278255360&Z)+(Se<<16)+ue}}function Ht(y,S,k,D,z){K[S]=function(G,X,Z,Q,ue,Se,je,Re,Te){for(Q=je;Q<Re;++Q)for(je=0;je<Te;++je)ue[Se++]=z(Z[D(G[X++])])},K[y]=function(G,X,Z,Q,ue,Se,je){var Re=8>>G.b,Te=G.Ea,Qe=G.K[0],He=G.w;if(8>Re)for(G=(1<<G.b)-1,He=(1<<Re)-1;X<Z;++X){var Ne,Ee=0;for(Ne=0;Ne<Te;++Ne)Ne&G||(Ee=D(Q[ue++])),Se[je++]=z(Qe[Ee&He]),Ee>>=Re}else K["VP8LMapColor"+k](Q,ue,Qe,He,Se,je,X,Z,Te)}}function dt(y,S,k,D,z){for(k=S+k;S<k;){var G=y[S++];D[z++]=G>>16&255,D[z++]=G>>8&255,D[z++]=G>>0&255}}function jr(y,S,k,D,z){for(k=S+k;S<k;){var G=y[S++];D[z++]=G>>16&255,D[z++]=G>>8&255,D[z++]=G>>0&255,D[z++]=G>>24&255}}function Lt(y,S,k,D,z){for(k=S+k;S<k;){var G=(X=y[S++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;D[z++]=G,D[z++]=X}}function ot(y,S,k,D,z){for(k=S+k;S<k;){var G=(X=y[S++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;D[z++]=G,D[z++]=X}}function Rt(y,S,k,D,z){for(k=S+k;S<k;){var G=y[S++];D[z++]=G>>0&255,D[z++]=G>>8&255,D[z++]=G>>16&255}}function Ot(y,S,k,D,z,G){if(G==0)for(k=S+k;S<k;)et(D,((G=y[S++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),z+=32;else r(D,z,y,S,k)}function cn(y,S){K[S][0]=K[y+"0"],K[S][1]=K[y+"1"],K[S][2]=K[y+"2"],K[S][3]=K[y+"3"],K[S][4]=K[y+"4"],K[S][5]=K[y+"5"],K[S][6]=K[y+"6"],K[S][7]=K[y+"7"],K[S][8]=K[y+"8"],K[S][9]=K[y+"9"],K[S][10]=K[y+"10"],K[S][11]=K[y+"11"],K[S][12]=K[y+"12"],K[S][13]=K[y+"13"],K[S][14]=K[y+"0"],K[S][15]=K[y+"0"]}function en(y){return y==Z1||y==Q1||y==Xh||y==J1}function Xs(){this.eb=[],this.size=this.A=this.fb=0}function Hn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xs,this.f.kb=new Hn,this.sd=null}function ci(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function qn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ut(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Xt(y,S){var k=y.T,D=S.ba.f.RGBA,z=D.eb,G=D.fb+y.ka*D.A,X=Bs[S.ba.S],Z=y.y,Q=y.O,ue=y.f,Se=y.N,je=y.ea,Re=y.W,Te=S.cc,Qe=S.dc,He=S.Mc,Ne=S.Nc,Ee=y.ka,Ye=y.ka+y.T,rt=y.U,Xe=rt+1>>1;for(Ee==0?X(Z,Q,null,null,ue,Se,je,Re,ue,Se,je,Re,z,G,null,null,rt):(X(S.ec,S.fc,Z,Q,Te,Qe,He,Ne,ue,Se,je,Re,z,G-D.A,z,G,rt),++k);Ee+2<Ye;Ee+=2)Te=ue,Qe=Se,He=je,Ne=Re,Se+=y.Rc,Re+=y.Rc,G+=2*D.A,X(Z,(Q+=2*y.fa)-y.fa,Z,Q,Te,Qe,He,Ne,ue,Se,je,Re,z,G-D.A,z,G,rt);return Q+=y.fa,y.j+Ye<y.o?(r(S.ec,S.fc,Z,Q,rt),r(S.cc,S.dc,ue,Se,Xe),r(S.Mc,S.Nc,je,Re,Xe),k--):1&Ye||X(Z,Q,null,null,ue,Se,je,Re,ue,Se,je,Re,z,G+D.A,null,null,rt),k}function Ks(y,S,k){var D=y.F,z=[y.J];if(D!=null){var G=y.U,X=S.ba.S,Z=X==Yh||X==Xh;S=S.ba.f.RGBA;var Q=[0],ue=y.ka;Q[0]=y.T,y.Kb&&(ue==0?--Q[0]:(--ue,z[0]-=y.width),y.j+y.ka+y.T==y.o&&(Q[0]=y.o-y.j-ue));var Se=S.eb;ue=S.fb+ue*S.A,y=Fn(D,z[0],y.width,G,Q,Se,ue+(Z?0:3),S.A),t(k==Q),y&&en(X)&&Zi(Se,ue,Z,G,Q,S.A)}return 0}function fn(y){var S=y.ma,k=S.ba.S,D=11>k,z=k==$h||k==Gh||k==Yh||k==K1||k==12||en(k);if(S.memory=null,S.Ib=null,S.Jb=null,S.Nd=null,!$a(S.Oa,y,z?11:12))return 0;if(z&&en(k)&&Je(),y.da)alert("todo:use_scaling");else{if(D){if(S.Ib=Ut,y.Kb){if(k=y.U+1>>1,S.memory=s(y.U+2*k),S.memory==null)return 0;S.ec=S.memory,S.fc=0,S.cc=S.ec,S.dc=S.fc+y.U,S.Mc=S.cc,S.Nc=S.dc+k,S.Ib=Xt,Je()}}else alert("todo:EmitYUV");z&&(S.Jb=Ks,D&&ke())}if(D&&!ly){for(y=0;256>y;++y)DN[y]=89858*(y-128)+Zh>>Kh,MN[y]=-22014*(y-128)+Zh,RN[y]=-45773*(y-128),jN[y]=113618*(y-128)+Zh>>Kh;for(y=td;y<np;++y)S=76283*(y-16)+Zh>>Kh,BN[y-td]=gr(S,255),FN[y-td]=gr(S+8>>4,15);ly=1}return 1}function ui(y){var S=y.ma,k=y.U,D=y.T;return t(!(1&y.ka)),0>=k||0>=D?0:(k=S.Ib(y,S),S.Jb!=null&&S.Jb(y,S,k),S.Dc+=k,1)}function ji(y){y.ma.memory=null}function Et(y,S,k,D){return Ie(y,8)!=47?0:(S[0]=Ie(y,14)+1,k[0]=Ie(y,14)+1,D[0]=Ie(y,1),Ie(y,3)!=0?0:!y.h)}function cs(y,S){if(4>y)return y+1;var k=y-2>>1;return(2+(1&y)<<k)+Ie(S,k)+1}function Jr(y,S){return 120<S?S-120:1<=(k=((k=wN[S-1])>>4)*y+(8-(15&k)))?k:1;var k}function ei(y,S,k){var D=ne(k),z=y[S+=255&D].g-8;return 0<z&&(pe(k,k.u+8),D=ne(k),S+=y[S].value,S+=D&(1<<z)-1),pe(k,k.u+y[S].g),y[S].value}function pn(y,S,k){return k.g+=y.g,k.value+=y.value<<S>>>0,t(8>=k.g),y.g}function kn(y,S,k){var D=y.xc;return t((S=D==0?0:y.vc[y.md*(k>>D)+(S>>D)])<y.Wb),y.Ya[S]}function jn(y,S,k,D){var z=y.ab,G=y.c*S,X=y.C;S=X+S;var Z=k,Q=D;for(D=y.Ta,k=y.Ua;0<z--;){var ue=y.gc[z],Se=X,je=S,Re=Z,Te=Q,Qe=(Q=D,Z=k,ue.Ea);switch(t(Se<je),t(je<=ue.nc),ue.hc){case 2:l(Re,Te,(je-Se)*Qe,Q,Z);break;case 0:var He=Se,Ne=je,Ee=Q,Ye=Z,rt=(gt=ue).Ea;He==0&&(U(Re,Te,null,null,1,Ee,Ye),it(Re,Te+1,0,0,rt-1,Ee,Ye+1),Te+=rt,Ye+=rt,++He);for(var Xe=1<<gt.b,vt=Xe-1,ht=at(rt,gt.b),Dt=gt.K,gt=gt.w+(He>>gt.b)*ht;He<Ne;){var An=Dt,Cn=gt,xn=1;for(a(Re,Te,Ee,Ye-rt,1,Ee,Ye);xn<rt;){var on=(xn&~vt)+Xe;on>rt&&(on=rt),(0,w[An[Cn++]>>8&15])(Re,Te+ +xn,Ee,Ye+xn-rt,on-xn,Ee,Ye+xn),xn=on}Te+=rt,Ye+=rt,++He&vt||(gt+=ht)}je!=ue.nc&&r(Q,Z-Qe,Q,Z+(je-Se-1)*Qe,Qe);break;case 1:for(Qe=Re,Ne=Te,rt=(Re=ue.Ea)-(Ye=Re&~(Ee=(Te=1<<ue.b)-1)),He=at(Re,ue.b),Xe=ue.K,ue=ue.w+(Se>>ue.b)*He;Se<je;){for(vt=Xe,ht=ue,Dt=new ae,gt=Ne+Ye,An=Ne+Re;Ne<gt;)St(vt[ht++],Dt),N(Dt,Qe,Ne,Te,Q,Z),Ne+=Te,Z+=Te;Ne<An&&(St(vt[ht++],Dt),N(Dt,Qe,Ne,rt,Q,Z),Ne+=rt,Z+=rt),++Se&Ee||(ue+=He)}break;case 3:if(Re==Q&&Te==Z&&0<ue.b){for(Ne=Q,Re=Qe=Z+(je-Se)*Qe-(Ye=(je-Se)*at(ue.Ea,ue.b)),Te=Q,Ee=Z,He=[],Ye=(rt=Ye)-1;0<=Ye;--Ye)He[Ye]=Te[Ee+Ye];for(Ye=rt-1;0<=Ye;--Ye)Ne[Re+Ye]=He[Ye];c(ue,Se,je,Q,Qe,Q,Z)}else c(ue,Se,je,Re,Te,Q,Z)}Z=D,Q=k}Q!=k&&r(D,k,Z,Q,G)}function xt(y,S){var k=y.V,D=y.Ba+y.c*y.C,z=S-y.C;if(t(S<=y.l.o),t(16>=z),0<z){var G=y.l,X=y.Ta,Z=y.Ua,Q=G.width;if(jn(y,z,k,D),z=Z=[Z],t((k=y.C)<(D=S)),t(G.v<G.va),D>G.o&&(D=G.o),k<G.j){var ue=G.j-k;k=G.j,z[0]+=ue*Q}if(k>=D?k=0:(z[0]+=4*G.v,G.ka=k-G.j,G.U=G.va-G.v,G.T=D-k,k=1),k){if(Z=Z[0],11>(k=y.ca).S){var Se=k.f.RGBA,je=(D=k.S,z=G.U,G=G.T,ue=Se.eb,Se.A),Re=G;for(Se=Se.fb+y.Ma*Se.A;0<Re--;){var Te=X,Qe=Z,He=z,Ne=ue,Ee=Se;switch(D){case Wh:T(Te,Qe,He,Ne,Ee);break;case $h:j(Te,Qe,He,Ne,Ee);break;case Z1:j(Te,Qe,He,Ne,Ee),Zi(Ne,Ee,0,He,1,0);break;case Jx:ce(Te,Qe,He,Ne,Ee);break;case Gh:Ot(Te,Qe,He,Ne,Ee,1);break;case Q1:Ot(Te,Qe,He,Ne,Ee,1),Zi(Ne,Ee,0,He,1,0);break;case Yh:Ot(Te,Qe,He,Ne,Ee,0);break;case Xh:Ot(Te,Qe,He,Ne,Ee,0),Zi(Ne,Ee,1,He,1,0);break;case K1:F(Te,Qe,He,Ne,Ee);break;case J1:F(Te,Qe,He,Ne,Ee),Bn(Ne,Ee,He,1,0);break;case ey:Y(Te,Qe,He,Ne,Ee);break;default:t(0)}Z+=Q,Se+=je}y.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=k.height)}}y.C=S,t(y.C<=y.i)}function vi(y){var S;if(0<y.ua)return 0;for(S=0;S<y.Wb;++S){var k=y.Ya[S].G,D=y.Ya[S].H;if(0<k[1][D[1]+0].g||0<k[2][D[2]+0].g||0<k[3][D[3]+0].g)return 0}return 1}function Ri(y,S,k,D,z,G){if(y.Z!=0){var X=y.qd,Z=y.rd;for(t(Oo[y.Z]!=null);S<k;++S)Oo[y.Z](X,Z,D,z,D,z,G),X=D,Z=z,z+=G;y.qd=X,y.rd=Z}}function Rn(y,S){var k=y.l.ma,D=k.Z==0||k.Z==1?y.l.j:y.C;if(D=y.C<D?D:y.C,t(S<=y.l.o),S>D){var z=y.l.width,G=k.ca,X=k.tb+z*D,Z=y.V,Q=y.Ba+y.c*D,ue=y.gc;t(y.ab==1),t(ue[0].hc==3),p(ue[0],D,S,Z,Q,G,X),Ri(k,D,S,G,X,z)}y.C=y.Ma=S}function ti(y,S,k,D,z,G,X){var Z=y.$/D,Q=y.$%D,ue=y.m,Se=y.s,je=k+y.$,Re=je;z=k+D*z;var Te=k+D*G,Qe=280+Se.ua,He=y.Pb?Z:16777216,Ne=0<Se.ua?Se.Wa:null,Ee=Se.wc,Ye=je<Te?kn(Se,Q,Z):null;t(y.C<G),t(Te<=z);var rt=!1;e:for(;;){for(;rt||je<Te;){var Xe=0;if(Z>=He){var vt=je-k;t((He=y).Pb),He.wd=He.m,He.xd=vt,0<He.s.ua&&Me(He.s.Wa,He.s.vb),He=Z+AN}if(Q&Ee||(Ye=kn(Se,Q,Z)),t(Ye!=null),Ye.Qb&&(S[je]=Ye.qb,rt=!0),!rt)if(he(ue),Ye.jc){Xe=ue,vt=S;var ht=je,Dt=Ye.pd[ne(Xe)&Ln-1];t(Ye.jc),256>Dt.g?(pe(Xe,Xe.u+Dt.g),vt[ht]=Dt.value,Xe=0):(pe(Xe,Xe.u+Dt.g-256),t(256<=Dt.value),Xe=Dt.value),Xe==0&&(rt=!0)}else Xe=ei(Ye.G[0],Ye.H[0],ue);if(ue.h)break;if(rt||256>Xe){if(!rt)if(Ye.nd)S[je]=(Ye.qb|Xe<<8)>>>0;else{if(he(ue),rt=ei(Ye.G[1],Ye.H[1],ue),he(ue),vt=ei(Ye.G[2],Ye.H[2],ue),ht=ei(Ye.G[3],Ye.H[3],ue),ue.h)break;S[je]=(ht<<24|rt<<16|Xe<<8|vt)>>>0}if(rt=!1,++je,++Q>=D&&(Q=0,++Z,X!=null&&Z<=G&&!(Z%16)&&X(y,Z),Ne!=null))for(;Re<je;)Xe=S[Re++],Ne.X[(506832829*Xe&4294967295)>>>Ne.Mb]=Xe}else if(280>Xe){if(Xe=cs(Xe-256,ue),vt=ei(Ye.G[4],Ye.H[4],ue),he(ue),vt=Jr(D,vt=cs(vt,ue)),ue.h)break;if(je-k<vt||z-je<Xe)break e;for(ht=0;ht<Xe;++ht)S[je+ht]=S[je+ht-vt];for(je+=Xe,Q+=Xe;Q>=D;)Q-=D,++Z,X!=null&&Z<=G&&!(Z%16)&&X(y,Z);if(t(je<=z),Q&Ee&&(Ye=kn(Se,Q,Z)),Ne!=null)for(;Re<je;)Xe=S[Re++],Ne.X[(506832829*Xe&4294967295)>>>Ne.Mb]=Xe}else{if(!(Xe<Qe))break e;for(rt=Xe-280,t(Ne!=null);Re<je;)Xe=S[Re++],Ne.X[(506832829*Xe&4294967295)>>>Ne.Mb]=Xe;Xe=je,t(!(rt>>>(vt=Ne).Xa)),S[Xe]=vt.X[rt],rt=!0}rt||t(ue.h==oe(ue))}if(y.Pb&&ue.h&&je<z)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&Me(y.s.vb,y.s.Wa);else{if(ue.h)break e;X!=null&&X(y,Z>G?G:Z),y.a=0,y.$=je-k}return 1}return y.a=3,0}function Mi(y){t(y!=null),y.vc=null,y.yc=null,y.Ya=null;var S=y.Wa;S!=null&&(S.X=null),y.vb=null,t(y!=null)}function di(){var y=new or;return y==null?null:(y.a=0,y.xb=ry,cn("Predictor","VP8LPredictors"),cn("Predictor","VP8LPredictors_C"),cn("PredictorAdd","VP8LPredictorsAdd"),cn("PredictorAdd","VP8LPredictorsAdd_C"),l=bt,N=pt,T=dt,j=jr,F=Lt,Y=ot,ce=Rt,K.VP8LMapColor32b=h,K.VP8LMapColor8b=g,y)}function br(y,S,k,D,z){var G=1,X=[y],Z=[S],Q=D.m,ue=D.s,Se=null,je=0;e:for(;;){if(k)for(;G&&Ie(Q,1);){var Re=X,Te=Z,Qe=D,He=1,Ne=Qe.m,Ee=Qe.gc[Qe.ab],Ye=Ie(Ne,2);if(Qe.Oc&1<<Ye)G=0;else{switch(Qe.Oc|=1<<Ye,Ee.hc=Ye,Ee.Ea=Re[0],Ee.nc=Te[0],Ee.K=[null],++Qe.ab,t(4>=Qe.ab),Ye){case 0:case 1:Ee.b=Ie(Ne,3)+2,He=br(at(Ee.Ea,Ee.b),at(Ee.nc,Ee.b),0,Qe,Ee.K),Ee.K=Ee.K[0];break;case 3:var rt,Xe=Ie(Ne,8)+1,vt=16<Xe?0:4<Xe?1:2<Xe?2:3;if(Re[0]=at(Ee.Ea,vt),Ee.b=vt,rt=He=br(Xe,1,0,Qe,Ee.K)){var ht,Dt=Xe,gt=Ee,An=1<<(8>>gt.b),Cn=s(An);if(Cn==null)rt=0;else{var xn=gt.K[0],on=gt.w;for(Cn[0]=gt.K[0][0],ht=1;ht<1*Dt;++ht)Cn[ht]=ze(xn[on+ht],Cn[ht-1]);for(;ht<4*An;++ht)Cn[ht]=0;gt.K[0]=null,gt.K[0]=Cn,rt=1}}He=rt;break;case 2:break;default:t(0)}G=He}}if(X=X[0],Z=Z[0],G&&Ie(Q,1)&&!(G=1<=(je=Ie(Q,4))&&11>=je)){D.a=3;break e}var On;if(On=G)t:{var Pn,Zt,Mr,Qi=D,Br=X,Ji=Z,En=je,ps=k,gs=Qi.m,ri=Qi.s,pi=[null],Ui=1,Fs=0,Ca=bN[En];n:for(;;){if(ps&&Ie(gs,1)){var ii=Ie(gs,3)+2,Ka=at(Br,ii),$l=at(Ji,ii),Dc=Ka*$l;if(!br(Ka,$l,0,Qi,pi))break n;for(pi=pi[0],ri.xc=ii,Pn=0;Pn<Dc;++Pn){var Do=pi[Pn]>>8&65535;pi[Pn]=Do,Do>=Ui&&(Ui=Do+1)}}if(gs.h)break n;for(Zt=0;5>Zt;++Zt){var xr=ty[Zt];!Zt&&0<En&&(xr+=1<<En),Fs<xr&&(Fs=xr)}var rp=o(Ui*Ca,B),dy=Ui,hy=o(dy,te);if(hy==null)var Jh=null;else t(65536>=dy),Jh=hy;var nd=s(Fs);if(Jh==null||nd==null||rp==null){Qi.a=1;break n}var ef=rp;for(Pn=Mr=0;Pn<Ui;++Pn){var ta=Jh[Pn],jc=ta.G,Rc=ta.H,fy=0,tf=1,py=0;for(Zt=0;5>Zt;++Zt){xr=ty[Zt],jc[Zt]=ef,Rc[Zt]=Mr,!Zt&&0<En&&(xr+=1<<En);i:{var nf,ip=xr,rf=Qi,rd=nd,zN=ef,HN=Mr,sp=0,jo=rf.m,qN=Ie(jo,1);if(i(rd,0,0,ip),qN){var WN=Ie(jo,1)+1,$N=Ie(jo,1),gy=Ie(jo,$N==0?1:8);rd[gy]=1,WN==2&&(rd[gy=Ie(jo,8)]=1);var sf=1}else{var my=s(19),xy=Ie(jo,4)+4;if(19<xy){rf.a=3;var af=0;break i}for(nf=0;nf<xy;++nf)my[vN[nf]]=Ie(jo,3);var ap=void 0,id=void 0,yy=rf,GN=my,of=ip,vy=rd,op=0,Ro=yy.m,wy=8,by=o(128,B);r:for(;W(by,0,7,GN,19);){if(Ie(Ro,1)){var YN=2+2*Ie(Ro,3);if((ap=2+Ie(Ro,YN))>of)break r}else ap=of;for(id=0;id<of&&ap--;){he(Ro);var Ay=by[0+(127&ne(Ro))];pe(Ro,Ro.u+Ay.g);var Mc=Ay.value;if(16>Mc)vy[id++]=Mc,Mc!=0&&(wy=Mc);else{var XN=Mc==16,Sy=Mc-16,KN=xN[Sy],Ny=Ie(Ro,mN[Sy])+KN;if(id+Ny>of)break r;for(var ZN=XN?wy:0;0<Ny--;)vy[id++]=ZN}}op=1;break r}op||(yy.a=3),sf=op}(sf=sf&&!jo.h)&&(sp=W(zN,HN,8,rd,ip)),sf&&sp!=0?af=sp:(rf.a=3,af=0)}if(af==0)break n;if(tf&&yN[Zt]==1&&(tf=ef[Mr].g==0),fy+=ef[Mr].g,Mr+=af,3>=Zt){var sd,lp=nd[0];for(sd=1;sd<xr;++sd)nd[sd]>lp&&(lp=nd[sd]);py+=lp}}if(ta.nd=tf,ta.Qb=0,tf&&(ta.qb=(jc[3][Rc[3]+0].value<<24|jc[1][Rc[1]+0].value<<16|jc[2][Rc[2]+0].value)>>>0,fy==0&&256>jc[0][Rc[0]+0].value&&(ta.Qb=1,ta.qb+=jc[0][Rc[0]+0].value<<8)),ta.jc=!ta.Qb&&6>py,ta.jc){var lf,Za=ta;for(lf=0;lf<Ln;++lf){var Mo=lf,Bo=Za.pd[Mo],cf=Za.G[0][Za.H[0]+Mo];256<=cf.value?(Bo.g=cf.g+256,Bo.value=cf.value):(Bo.g=0,Bo.value=0,Mo>>=pn(cf,8,Bo),Mo>>=pn(Za.G[1][Za.H[1]+Mo],16,Bo),Mo>>=pn(Za.G[2][Za.H[2]+Mo],0,Bo),pn(Za.G[3][Za.H[3]+Mo],24,Bo))}}}ri.vc=pi,ri.Wb=Ui,ri.Ya=Jh,ri.yc=rp,On=1;break t}On=0}if(!(G=On)){D.a=3;break e}if(0<je){if(ue.ua=1<<je,!ft(ue.Wa,je)){D.a=1,G=0;break e}}else ue.ua=0;var cp=D,Cy=X,QN=Z,up=cp.s,dp=up.xc;if(cp.c=Cy,cp.i=QN,up.md=at(Cy,dp),up.wc=dp==0?-1:(1<<dp)-1,k){D.xb=IN;break e}if((Se=s(X*Z))==null){D.a=1,G=0;break e}G=(G=ti(D,Se,0,X,Z,Z,null))&&!Q.h;break e}return G?(z!=null?z[0]=Se:(t(Se==null),t(k)),D.$=0,k||Mi(ue)):Mi(ue),G}function za(y,S){var k=y.c*y.i,D=k+S+16*S;return t(y.c<=S),y.V=s(D),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+k+S,1)}function Ao(y,S){var k=y.C,D=S-k,z=y.V,G=y.Ba+y.c*k;for(t(S<=y.l.o);0<D;){var X=16<D?16:D,Z=y.l.ma,Q=y.l.width,ue=Q*X,Se=Z.ca,je=Z.tb+Q*k,Re=y.Ta,Te=y.Ua;jn(y,X,z,G),Er(Re,Te,Se,je,ue),Ri(Z,k,k+X,Se,je,Q),D-=X,z+=X*y.c,k+=X}t(k==S),y.C=y.Ma=S}function hi(){this.ub=this.yd=this.td=this.Rb=0}function pr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function bn(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Il(){this.Yb=function(){var y=[];return function S(k,D,z){for(var G=z[D],X=0;X<G&&(k.push(z.length>D+1?[]:0),!(z.length<D+1));X++)S(k[X],D+1,z)}(y,0,[3,11]),y}()}function ks(){this.jb=s(3),this.Wc=u([4,8],Il),this.Xc=u([4,17],Il)}function kl(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ze(){this.ld=this.La=this.dd=this.tc=0}function Ic(){this.Na=this.la=0}function Mn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ls(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ku(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ze),this.Y=0,this.ya=Array(new Ls),this.aa=0,this.l=new Kt}function un(){this.y=s(16),this.f=s(8),this.ea=s(8)}function dn(){this.cb=this.a=0,this.sc="",this.m=new Ue,this.Od=new hi,this.Kc=new pr,this.ed=new kl,this.Qa=new bn,this.Ic=this.$c=this.Aa=0,this.D=new Ku,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,Ue),this.ia=0,this.pb=o(4,Mn),this.Pa=new ks,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new un),this.Hd=0,this.rb=Array(new Ic),this.sb=0,this.wa=Array(new Ze),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ls),this.L=this.aa=0,this.gd=u([4,2],Ze),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Kt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ll(){var y=new dn;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,ed||(ed=us)),y}function Wn(y,S,k){return y.a==0&&(y.a=S,y.sc=k,y.cb=0),0}function So(y,S,k){return 3<=k&&y[S+0]==157&&y[S+1]==1&&y[S+2]==42}function Qn(y,S){if(y==null)return 0;if(y.a=0,y.sc="OK",S==null)return Wn(y,2,"null VP8Io passed to VP8GetHeaders()");var k=S.data,D=S.w,z=S.ha;if(4>z)return Wn(y,7,"Truncated header.");var G=k[D+0]|k[D+1]<<8|k[D+2]<<16,X=y.Od;if(X.Rb=!(1&G),X.td=G>>1&7,X.yd=G>>4&1,X.ub=G>>5,3<X.td)return Wn(y,3,"Incorrect keyframe parameters.");if(!X.yd)return Wn(y,4,"Frame not displayable.");D+=3,z-=3;var Z=y.Kc;if(X.Rb){if(7>z)return Wn(y,7,"cannot parse picture header");if(!So(k,D,z))return Wn(y,3,"Bad code word");Z.c=16383&(k[D+4]<<8|k[D+3]),Z.Td=k[D+4]>>6,Z.i=16383&(k[D+6]<<8|k[D+5]),Z.Ud=k[D+6]>>6,D+=7,z-=7,y.za=Z.c+15>>4,y.Ub=Z.i+15>>4,S.width=Z.c,S.height=Z.i,S.Da=0,S.j=0,S.v=0,S.va=S.width,S.o=S.height,S.da=0,S.ib=S.width,S.hb=S.height,S.U=S.width,S.T=S.height,i((G=y.Pa).jb,0,255,G.jb.length),t((G=y.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if(X.ub>z)return Wn(y,7,"bad partition length");J(G=y.m,k,D,X.ub),D+=X.ub,z-=X.ub,X.Rb&&(Z.Ld=Le(G),Z.Kd=Le(G)),Z=y.Qa;var Q,ue=y.Pa;if(t(G!=null),t(Z!=null),Z.Cb=Le(G),Z.Cb){if(Z.Bb=Le(G),Le(G)){for(Z.Fb=Le(G),Q=0;4>Q;++Q)Z.Zb[Q]=Le(G)?ve(G,7):0;for(Q=0;4>Q;++Q)Z.Lb[Q]=Le(G)?ve(G,6):0}if(Z.Bb)for(Q=0;3>Q;++Q)ue.jb[Q]=Le(G)?be(G,8):255}else Z.Bb=0;if(G.Ka)return Wn(y,3,"cannot parse segment header");if((Z=y.ed).zd=Le(G),Z.Tb=be(G,6),Z.wb=be(G,3),Z.Pc=Le(G),Z.Pc&&Le(G)){for(ue=0;4>ue;++ue)Le(G)&&(Z.vd[ue]=ve(G,6));for(ue=0;4>ue;++ue)Le(G)&&(Z.od[ue]=ve(G,6))}if(y.L=Z.Tb==0?0:Z.zd?1:2,G.Ka)return Wn(y,3,"cannot parse filter header");var Se=z;if(z=Q=D,D=Q+Se,Z=Se,y.Xb=(1<<be(y.m,2))-1,Se<3*(ue=y.Xb))k=7;else{for(Q+=3*ue,Z-=3*ue,Se=0;Se<ue;++Se){var je=k[z+0]|k[z+1]<<8|k[z+2]<<16;je>Z&&(je=Z),J(y.Jc[+Se],k,Q,je),Q+=je,Z-=je,z+=3}J(y.Jc[+ue],k,Q,Z),k=Q<D?0:5}if(k!=0)return Wn(y,k,"cannot parse partitions");for(k=be(Q=y.m,7),z=Le(Q)?ve(Q,4):0,D=Le(Q)?ve(Q,4):0,Z=Le(Q)?ve(Q,4):0,ue=Le(Q)?ve(Q,4):0,Q=Le(Q)?ve(Q,4):0,Se=y.Qa,je=0;4>je;++je){if(Se.Cb){var Re=Se.Zb[je];Se.Fb||(Re+=k)}else{if(0<je){y.pb[je]=y.pb[0];continue}Re=k}var Te=y.pb[je];Te.Sc[0]=ep[gr(Re+z,127)],Te.Sc[1]=tp[gr(Re+0,127)],Te.Eb[0]=2*ep[gr(Re+D,127)],Te.Eb[1]=101581*tp[gr(Re+Z,127)]>>16,8>Te.Eb[1]&&(Te.Eb[1]=8),Te.Qc[0]=ep[gr(Re+ue,117)],Te.Qc[1]=tp[gr(Re+Q,127)],Te.lc=Re+Q}if(!X.Rb)return Wn(y,4,"Not a key frame.");for(Le(G),X=y.Pa,k=0;4>k;++k){for(z=0;8>z;++z)for(D=0;3>D;++D)for(Z=0;11>Z;++Z)ue=Oe(G,_N[k][z][D][Z])?be(G,8):CN[k][z][D][Z],X.Wc[k][z].Yb[D][Z]=ue;for(z=0;17>z;++z)X.Xc[k][z]=X.Wc[k][TN[z]]}return y.kc=Le(G),y.kc&&(y.Bd=be(G,8)),y.cb=1}function us(y,S,k,D,z,G,X){var Z=S[z].Yb[k];for(k=0;16>z;++z){if(!Oe(y,Z[k+0]))return z;for(;!Oe(y,Z[k+1]);)if(Z=S[++z].Yb[0],k=0,z==16)return 16;var Q=S[z+1].Yb;if(Oe(y,Z[k+2])){var ue=y,Se=0;if(Oe(ue,(Re=Z)[(je=k)+3]))if(Oe(ue,Re[je+6])){for(Z=0,je=2*(Se=Oe(ue,Re[je+8]))+(Re=Oe(ue,Re[je+9+Se])),Se=0,Re=SN[je];Re[Z];++Z)Se+=Se+Oe(ue,Re[Z]);Se+=3+(8<<je)}else Oe(ue,Re[je+7])?(Se=7+2*Oe(ue,165),Se+=Oe(ue,145)):Se=5+Oe(ue,159);else Se=Oe(ue,Re[je+4])?3+Oe(ue,Re[je+5]):2;Z=Q[2]}else Se=1,Z=Q[1];Q=X+NN[z],0>(ue=y).b&&Pe(ue);var je,Re=ue.b,Te=(je=ue.Ca>>1)-(ue.I>>Re)>>31;--ue.b,ue.Ca+=Te,ue.Ca|=1,ue.I-=(je+1&Te)<<Re,G[Q]=((Se^Te)-Te)*D[(0<z)+0]}return 16}function Pl(y){var S=y.rb[y.sb-1];S.la=0,S.Na=0,i(y.zc,0,0,y.zc.length),y.ja=0}function $n(y,S){if(y==null)return 0;if(S==null)return Wn(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!Qn(y,S))return 0;if(t(y.cb),S.ac==null||S.ac(S)){S.ob&&(y.L=0);var k=Qh[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=S.v-k>>4,y.zb=S.j-k>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=S.o+15+k>>4,y.Hb=S.va+15+k>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var D=y.ed;for(k=0;4>k;++k){var z;if(y.Qa.Cb){var G=y.Qa.Lb[k];y.Qa.Fb||(G+=D.Tb)}else G=D.Tb;for(z=0;1>=z;++z){var X=y.gd[k][z],Z=G;if(D.Pc&&(Z+=D.vd[0],z&&(Z+=D.od[0])),0<(Z=0>Z?0:63<Z?63:Z)){var Q=Z;0<D.wb&&(Q=4<D.wb?Q>>2:Q>>1)>9-D.wb&&(Q=9-D.wb),1>Q&&(Q=1),X.dd=Q,X.tc=2*Z+Q,X.ld=40<=Z?2:15<=Z?1:0}else X.tc=0;X.La=z}}}k=0}else Wn(y,6,"Frame setup failed"),k=y.a;if(k=k==0){if(k){y.$c=0,0<y.Aa||(y.Ic=VN);e:{k=y.Ic,D=4*(Q=y.za);var ue=32*Q,Se=Q+1,je=0<y.L?Q*(0<y.Aa?2:1):0,Re=(y.Aa==2?2:1)*Q;if((X=D+832+(z=3*(16*k+Qh[y.L])/2*ue)+(G=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=X)k=0;else{if(X>y.Vb){if(y.Vb=0,y.Ec=s(X),y.Fc=0,y.Ec==null){k=Wn(y,1,"no memory during frame initialization.");break e}y.Vb=X}X=y.Ec,Z=y.Fc,y.Ac=X,y.Bc=Z,Z+=D,y.Gd=o(ue,un),y.Hd=0,y.rb=o(Se+1,Ic),y.sb=1,y.wa=je?o(je,Ze):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=Q),t(!0),y.oc=X,y.pc=Z,Z+=832,y.ya=o(Re,Ls),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=Q),y.R=16*Q,y.B=8*Q,Q=(ue=Qh[y.L])*y.R,ue=ue/2*y.B,y.sa=X,y.ta=Z+Q,y.qa=y.sa,y.ra=y.ta+16*k*y.R+ue,y.Ha=y.qa,y.Ia=y.ra+8*k*y.B+ue,y.$c=0,Z+=z,y.mb=G?X:null,y.nb=G?Z:null,t(Z+G<=y.Fc+y.Vb),Pl(y),i(y.Ac,y.Bc,0,D),k=1}}if(k){if(S.ka=0,S.y=y.sa,S.O=y.ta,S.f=y.qa,S.N=y.ra,S.ea=y.Ha,S.Vd=y.Ia,S.fa=y.R,S.Rc=y.B,S.F=null,S.J=0,!Hh){for(k=-255;255>=k;++k)Gr[255+k]=0>k?-k:k;for(k=-1020;1020>=k;++k)Ya[1020+k]=-128>k?-128:127<k?127:k;for(k=-112;112>=k;++k)Ju[112+k]=-16>k?-16:15<k?15:k;for(k=-255;510>=k;++k)Oc[255+k]=0>k?0:255<k?255:k;Hh=1}xe=wi,we=De,Fe=se,tt=Tt,st=sr,_e=Sr,nt=wa,Jt=Ai,Ft=Yt,mr=ar,$r=Qu,lr=Be,hn=ba,nr=zl,Cr=Vl,Fi=Ds,Rs=Js,Ki=Zu,ea[0]=It,ea[1]=Dl,ea[2]=qa,ea[3]=Ps,ea[4]=Lc,ea[5]=Jn,ea[6]=qt,ea[7]=Rl,ea[8]=Pc,ea[9]=Ml,Po[0]=Eo,Po[1]=Pt,Po[2]=gn,Po[3]=Ha,Po[4]=Nr,Po[5]=jl,Po[6]=kc,Xa[0]=Yi,Xa[1]=bi,Xa[2]=Zs,Xa[3]=Bl,Xa[4]=va,Xa[5]=Wa,Xa[6]=Qs,k=1}else k=0}k&&(k=function(Te,Qe){for(Te.M=0;Te.M<Te.Va;++Te.M){var He,Ne=Te.Jc[Te.M&Te.Xb],Ee=Te.m,Ye=Te;for(He=0;He<Ye.za;++He){var rt=Ee,Xe=Ye,vt=Xe.Ac,ht=Xe.Bc+4*He,Dt=Xe.zc,gt=Xe.ya[Xe.aa+He];if(Xe.Qa.Bb?gt.$b=Oe(rt,Xe.Pa.jb[0])?2+Oe(rt,Xe.Pa.jb[2]):Oe(rt,Xe.Pa.jb[1]):gt.$b=0,Xe.kc&&(gt.Ad=Oe(rt,Xe.Bd)),gt.Za=!Oe(rt,145)+0,gt.Za){var An=gt.Ob,Cn=0;for(Xe=0;4>Xe;++Xe){var xn,on=Dt[0+Xe];for(xn=0;4>xn;++xn){on=EN[vt[ht+xn]][on];for(var On=ny[Oe(rt,on[0])];0<On;)On=ny[2*On+Oe(rt,on[On])];on=-On,vt[ht+xn]=on}r(An,Cn,vt,ht,4),Cn+=4,Dt[0+Xe]=on}}else on=Oe(rt,156)?Oe(rt,128)?1:3:Oe(rt,163)?2:0,gt.Ob[0]=on,i(vt,ht,on,4),i(Dt,0,on,4);gt.Dd=Oe(rt,142)?Oe(rt,114)?Oe(rt,183)?1:3:2:0}if(Ye.m.Ka)return Wn(Te,7,"Premature end-of-partition0 encountered.");for(;Te.ja<Te.za;++Te.ja){if(Ye=Ne,rt=(Ee=Te).rb[Ee.sb-1],vt=Ee.rb[Ee.sb+Ee.ja],He=Ee.ya[Ee.aa+Ee.ja],ht=Ee.kc?He.Ad:0)rt.la=vt.la=0,He.Za||(rt.Na=vt.Na=0),He.Hc=0,He.Gc=0,He.ia=0;else{var Pn,Zt;if(rt=vt,vt=Ye,ht=Ee.Pa.Xc,Dt=Ee.ya[Ee.aa+Ee.ja],gt=Ee.pb[Dt.$b],Xe=Dt.ad,An=0,Cn=Ee.rb[Ee.sb-1],on=xn=0,i(Xe,An,0,384),Dt.Za)var Mr=0,Qi=ht[3];else{On=s(16);var Br=rt.Na+Cn.Na;if(Br=ed(vt,ht[1],Br,gt.Eb,0,On,0),rt.Na=Cn.Na=(0<Br)+0,1<Br)xe(On,0,Xe,An);else{var Ji=On[0]+3>>3;for(On=0;256>On;On+=16)Xe[An+On]=Ji}Mr=1,Qi=ht[0]}var En=15&rt.la,ps=15&Cn.la;for(On=0;4>On;++On){var gs=1&ps;for(Ji=Zt=0;4>Ji;++Ji)En=En>>1|(gs=(Br=ed(vt,Qi,Br=gs+(1&En),gt.Sc,Mr,Xe,An))>Mr)<<7,Zt=Zt<<2|(3<Br?3:1<Br?2:Xe[An+0]!=0),An+=16;En>>=4,ps=ps>>1|gs<<7,xn=(xn<<8|Zt)>>>0}for(Qi=En,Mr=ps>>4,Pn=0;4>Pn;Pn+=2){for(Zt=0,En=rt.la>>4+Pn,ps=Cn.la>>4+Pn,On=0;2>On;++On){for(gs=1&ps,Ji=0;2>Ji;++Ji)Br=gs+(1&En),En=En>>1|(gs=0<(Br=ed(vt,ht[2],Br,gt.Qc,0,Xe,An)))<<3,Zt=Zt<<2|(3<Br?3:1<Br?2:Xe[An+0]!=0),An+=16;En>>=2,ps=ps>>1|gs<<5}on|=Zt<<4*Pn,Qi|=En<<4<<Pn,Mr|=(240&ps)<<Pn}rt.la=Qi,Cn.la=Mr,Dt.Hc=xn,Dt.Gc=on,Dt.ia=43690&on?0:gt.ia,ht=!(xn|on)}if(0<Ee.L&&(Ee.wa[Ee.Y+Ee.ja]=Ee.gd[He.$b][He.Za],Ee.wa[Ee.Y+Ee.ja].La|=!ht),Ye.Ka)return Wn(Te,7,"Premature end-of-file encountered.")}if(Pl(Te),Ee=Qe,Ye=1,He=(Ne=Te).D,rt=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(He.M=Ne.M,He.uc=rt,Ni(Ne,He),Ye=1,He=(Zt=Ne.D).Nb,rt=(on=Qh[Ne.L])*Ne.R,vt=on/2*Ne.B,On=16*He*Ne.R,Ji=8*He*Ne.B,ht=Ne.sa,Dt=Ne.ta-rt+On,gt=Ne.qa,Xe=Ne.ra-vt+Ji,An=Ne.Ha,Cn=Ne.Ia-vt+Ji,ps=(En=Zt.M)==0,xn=En>=Ne.Va-1,Ne.Aa==2&&Ni(Ne,Zt),Zt.uc)for(gs=(Br=Ne).D.M,t(Br.D.uc),Zt=Br.yb;Zt<Br.Hb;++Zt){Mr=Zt,Qi=gs;var ri=(pi=(xr=Br).D).Nb;Pn=xr.R;var pi=pi.wa[pi.Y+Mr],Ui=xr.sa,Fs=xr.ta+16*ri*Pn+16*Mr,Ca=pi.dd,ii=pi.tc;if(ii!=0)if(t(3<=ii),xr.L==1)0<Mr&&Fi(Ui,Fs,Pn,ii+4),pi.La&&Ki(Ui,Fs,Pn,ii),0<Qi&&Cr(Ui,Fs,Pn,ii+4),pi.La&&Rs(Ui,Fs,Pn,ii);else{var Ka=xr.B,$l=xr.qa,Dc=xr.ra+8*ri*Ka+8*Mr,Do=xr.Ha,xr=xr.Ia+8*ri*Ka+8*Mr;ri=pi.ld,0<Mr&&(Jt(Ui,Fs,Pn,ii+4,Ca,ri),mr($l,Dc,Do,xr,Ka,ii+4,Ca,ri)),pi.La&&(lr(Ui,Fs,Pn,ii,Ca,ri),nr($l,Dc,Do,xr,Ka,ii,Ca,ri)),0<Qi&&(nt(Ui,Fs,Pn,ii+4,Ca,ri),Ft($l,Dc,Do,xr,Ka,ii+4,Ca,ri)),pi.La&&($r(Ui,Fs,Pn,ii,Ca,ri),hn($l,Dc,Do,xr,Ka,ii,Ca,ri))}}if(Ne.ia&&alert("todo:DitherRow"),Ee.put!=null){if(Zt=16*En,En=16*(En+1),ps?(Ee.y=Ne.sa,Ee.O=Ne.ta+On,Ee.f=Ne.qa,Ee.N=Ne.ra+Ji,Ee.ea=Ne.Ha,Ee.W=Ne.Ia+Ji):(Zt-=on,Ee.y=ht,Ee.O=Dt,Ee.f=gt,Ee.N=Xe,Ee.ea=An,Ee.W=Cn),xn||(En-=on),En>Ee.o&&(En=Ee.o),Ee.F=null,Ee.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&Zt<En&&(Ee.J=mn(Ne,Ee,Zt,En-Zt),Ee.F=Ne.mb,Ee.F==null&&Ee.F.length==0)){Ye=Wn(Ne,3,"Could not decode alpha data.");break e}Zt<Ee.j&&(on=Ee.j-Zt,Zt=Ee.j,t(!(1&on)),Ee.O+=Ne.R*on,Ee.N+=Ne.B*(on>>1),Ee.W+=Ne.B*(on>>1),Ee.F!=null&&(Ee.J+=Ee.width*on)),Zt<En&&(Ee.O+=Ee.v,Ee.N+=Ee.v>>1,Ee.W+=Ee.v>>1,Ee.F!=null&&(Ee.J+=Ee.v),Ee.ka=Zt-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=En-Zt,Ye=Ee.put(Ee))}He+1!=Ne.Ic||xn||(r(Ne.sa,Ne.ta-rt,ht,Dt+16*Ne.R,rt),r(Ne.qa,Ne.ra-vt,gt,Xe+8*Ne.B,vt),r(Ne.Ha,Ne.Ia-vt,An,Cn+8*Ne.B,vt))}if(!Ye)return Wn(Te,6,"Output aborted.")}return 1}(y,S)),S.bc!=null&&S.bc(S),k&=1}return k?(y.cb=0,k):0}function Rr(y,S,k,D,z){z=y[S+k+32*D]+(z>>3),y[S+k+32*D]=-256&z?0>z?0:255:z}function No(y,S,k,D,z,G){Rr(y,S,0,k,D+z),Rr(y,S,1,k,D+G),Rr(y,S,2,k,D-G),Rr(y,S,3,k,D-z)}function Ar(y){return(20091*y>>16)+y}function vn(y,S,k,D){var z,G=0,X=s(16);for(z=0;4>z;++z){var Z=y[S+0]+y[S+8],Q=y[S+0]-y[S+8],ue=(35468*y[S+4]>>16)-Ar(y[S+12]),Se=Ar(y[S+4])+(35468*y[S+12]>>16);X[G+0]=Z+Se,X[G+1]=Q+ue,X[G+2]=Q-ue,X[G+3]=Z-Se,G+=4,S++}for(z=G=0;4>z;++z)Z=(y=X[G+0]+4)+X[G+8],Q=y-X[G+8],ue=(35468*X[G+4]>>16)-Ar(X[G+12]),Rr(k,D,0,0,Z+(Se=Ar(X[G+4])+(35468*X[G+12]>>16))),Rr(k,D,1,0,Q+ue),Rr(k,D,2,0,Q-ue),Rr(k,D,3,0,Z-Se),G++,D+=32}function Sr(y,S,k,D){var z=y[S+0]+4,G=35468*y[S+4]>>16,X=Ar(y[S+4]),Z=35468*y[S+1]>>16;No(k,D,0,z+X,y=Ar(y[S+1]),Z),No(k,D,1,z+G,y,Z),No(k,D,2,z-G,y,Z),No(k,D,3,z-X,y,Z)}function De(y,S,k,D,z){vn(y,S,k,D),z&&vn(y,S+16,k,D+4)}function se(y,S,k,D){we(y,S+0,k,D,1),we(y,S+32,k,D+128,1)}function Tt(y,S,k,D){var z;for(y=y[S+0]+4,z=0;4>z;++z)for(S=0;4>S;++S)Rr(k,D,S,z,y)}function sr(y,S,k,D){y[S+0]&&tt(y,S+0,k,D),y[S+16]&&tt(y,S+16,k,D+4),y[S+32]&&tt(y,S+32,k,D+128),y[S+48]&&tt(y,S+48,k,D+128+4)}function wi(y,S,k,D){var z,G=s(16);for(z=0;4>z;++z){var X=y[S+0+z]+y[S+12+z],Z=y[S+4+z]+y[S+8+z],Q=y[S+4+z]-y[S+8+z],ue=y[S+0+z]-y[S+12+z];G[0+z]=X+Z,G[8+z]=X-Z,G[4+z]=ue+Q,G[12+z]=ue-Q}for(z=0;4>z;++z)X=(y=G[0+4*z]+3)+G[3+4*z],Z=G[1+4*z]+G[2+4*z],Q=G[1+4*z]-G[2+4*z],ue=y-G[3+4*z],k[D+0]=X+Z>>3,k[D+16]=ue+Q>>3,k[D+32]=X-Z>>3,k[D+48]=ue-Q>>3,D+=64}function Ol(y,S,k){var D,z=S-32,G=fs,X=255-y[z-1];for(D=0;D<k;++D){var Z,Q=G,ue=X+y[S-1];for(Z=0;Z<k;++Z)y[S+Z]=Q[ue+y[z+Z]];S+=32}}function Dl(y,S){Ol(y,S,4)}function bi(y,S){Ol(y,S,8)}function Pt(y,S){Ol(y,S,16)}function gn(y,S){var k;for(k=0;16>k;++k)r(y,S+32*k,y,S-32,16)}function Ha(y,S){var k;for(k=16;0<k;--k)i(y,S,y[S-1],16),S+=32}function Co(y,S,k){var D;for(D=0;16>D;++D)i(S,k+32*D,y,16)}function Eo(y,S){var k,D=16;for(k=0;16>k;++k)D+=y[S-1+32*k]+y[S+k-32];Co(D>>5,y,S)}function Nr(y,S){var k,D=8;for(k=0;16>k;++k)D+=y[S-1+32*k];Co(D>>4,y,S)}function jl(y,S){var k,D=8;for(k=0;16>k;++k)D+=y[S+k-32];Co(D>>4,y,S)}function kc(y,S){Co(128,y,S)}function Nt(y,S,k){return y+2*S+k+2>>2}function qa(y,S){var k,D=S-32;for(D=new Uint8Array([Nt(y[D-1],y[D+0],y[D+1]),Nt(y[D+0],y[D+1],y[D+2]),Nt(y[D+1],y[D+2],y[D+3]),Nt(y[D+2],y[D+3],y[D+4])]),k=0;4>k;++k)r(y,S+32*k,D,0,D.length)}function Ps(y,S){var k=y[S-1],D=y[S-1+32],z=y[S-1+64],G=y[S-1+96];et(y,S+0,16843009*Nt(y[S-1-32],k,D)),et(y,S+32,16843009*Nt(k,D,z)),et(y,S+64,16843009*Nt(D,z,G)),et(y,S+96,16843009*Nt(z,G,G))}function It(y,S){var k,D=4;for(k=0;4>k;++k)D+=y[S+k-32]+y[S-1+32*k];for(D>>=3,k=0;4>k;++k)i(y,S+32*k,D,4)}function Lc(y,S){var k=y[S-1+0],D=y[S-1+32],z=y[S-1+64],G=y[S-1-32],X=y[S+0-32],Z=y[S+1-32],Q=y[S+2-32],ue=y[S+3-32];y[S+0+96]=Nt(D,z,y[S-1+96]),y[S+1+96]=y[S+0+64]=Nt(k,D,z),y[S+2+96]=y[S+1+64]=y[S+0+32]=Nt(G,k,D),y[S+3+96]=y[S+2+64]=y[S+1+32]=y[S+0+0]=Nt(X,G,k),y[S+3+64]=y[S+2+32]=y[S+1+0]=Nt(Z,X,G),y[S+3+32]=y[S+2+0]=Nt(Q,Z,X),y[S+3+0]=Nt(ue,Q,Z)}function qt(y,S){var k=y[S+1-32],D=y[S+2-32],z=y[S+3-32],G=y[S+4-32],X=y[S+5-32],Z=y[S+6-32],Q=y[S+7-32];y[S+0+0]=Nt(y[S+0-32],k,D),y[S+1+0]=y[S+0+32]=Nt(k,D,z),y[S+2+0]=y[S+1+32]=y[S+0+64]=Nt(D,z,G),y[S+3+0]=y[S+2+32]=y[S+1+64]=y[S+0+96]=Nt(z,G,X),y[S+3+32]=y[S+2+64]=y[S+1+96]=Nt(G,X,Z),y[S+3+64]=y[S+2+96]=Nt(X,Z,Q),y[S+3+96]=Nt(Z,Q,Q)}function Jn(y,S){var k=y[S-1+0],D=y[S-1+32],z=y[S-1+64],G=y[S-1-32],X=y[S+0-32],Z=y[S+1-32],Q=y[S+2-32],ue=y[S+3-32];y[S+0+0]=y[S+1+64]=G+X+1>>1,y[S+1+0]=y[S+2+64]=X+Z+1>>1,y[S+2+0]=y[S+3+64]=Z+Q+1>>1,y[S+3+0]=Q+ue+1>>1,y[S+0+96]=Nt(z,D,k),y[S+0+64]=Nt(D,k,G),y[S+0+32]=y[S+1+96]=Nt(k,G,X),y[S+1+32]=y[S+2+96]=Nt(G,X,Z),y[S+2+32]=y[S+3+96]=Nt(X,Z,Q),y[S+3+32]=Nt(Z,Q,ue)}function Rl(y,S){var k=y[S+0-32],D=y[S+1-32],z=y[S+2-32],G=y[S+3-32],X=y[S+4-32],Z=y[S+5-32],Q=y[S+6-32],ue=y[S+7-32];y[S+0+0]=k+D+1>>1,y[S+1+0]=y[S+0+64]=D+z+1>>1,y[S+2+0]=y[S+1+64]=z+G+1>>1,y[S+3+0]=y[S+2+64]=G+X+1>>1,y[S+0+32]=Nt(k,D,z),y[S+1+32]=y[S+0+96]=Nt(D,z,G),y[S+2+32]=y[S+1+96]=Nt(z,G,X),y[S+3+32]=y[S+2+96]=Nt(G,X,Z),y[S+3+64]=Nt(X,Z,Q),y[S+3+96]=Nt(Z,Q,ue)}function Ml(y,S){var k=y[S-1+0],D=y[S-1+32],z=y[S-1+64],G=y[S-1+96];y[S+0+0]=k+D+1>>1,y[S+2+0]=y[S+0+32]=D+z+1>>1,y[S+2+32]=y[S+0+64]=z+G+1>>1,y[S+1+0]=Nt(k,D,z),y[S+3+0]=y[S+1+32]=Nt(D,z,G),y[S+3+32]=y[S+1+64]=Nt(z,G,G),y[S+3+64]=y[S+2+64]=y[S+0+96]=y[S+1+96]=y[S+2+96]=y[S+3+96]=G}function Pc(y,S){var k=y[S-1+0],D=y[S-1+32],z=y[S-1+64],G=y[S-1+96],X=y[S-1-32],Z=y[S+0-32],Q=y[S+1-32],ue=y[S+2-32];y[S+0+0]=y[S+2+32]=k+X+1>>1,y[S+0+32]=y[S+2+64]=D+k+1>>1,y[S+0+64]=y[S+2+96]=z+D+1>>1,y[S+0+96]=G+z+1>>1,y[S+3+0]=Nt(Z,Q,ue),y[S+2+0]=Nt(X,Z,Q),y[S+1+0]=y[S+3+32]=Nt(k,X,Z),y[S+1+32]=y[S+3+64]=Nt(D,k,X),y[S+1+64]=y[S+3+96]=Nt(z,D,k),y[S+1+96]=Nt(G,z,D)}function Zs(y,S){var k;for(k=0;8>k;++k)r(y,S+32*k,y,S-32,8)}function Bl(y,S){var k;for(k=0;8>k;++k)i(y,S,y[S-1],8),S+=32}function ds(y,S,k){var D;for(D=0;8>D;++D)i(S,k+32*D,y,8)}function Yi(y,S){var k,D=8;for(k=0;8>k;++k)D+=y[S+k-32]+y[S-1+32*k];ds(D>>4,y,S)}function Wa(y,S){var k,D=4;for(k=0;8>k;++k)D+=y[S+k-32];ds(D>>3,y,S)}function va(y,S){var k,D=4;for(k=0;8>k;++k)D+=y[S-1+32*k];ds(D>>3,y,S)}function Qs(y,S){ds(128,y,S)}function Os(y,S,k){var D=y[S-k],z=y[S+0],G=3*(z-D)+X1[1020+y[S-2*k]-y[S+k]],X=qh[112+(G+4>>3)];y[S-k]=fs[255+D+qh[112+(G+3>>3)]],y[S+0]=fs[255+z-X]}function qr(y,S,k,D){var z=y[S+0],G=y[S+k];return Ms[255+y[S-2*k]-y[S-k]]>D||Ms[255+G-z]>D}function Fl(y,S,k,D){return 4*Ms[255+y[S-k]-y[S+0]]+Ms[255+y[S-2*k]-y[S+k]]<=D}function Ul(y,S,k,D,z){var G=y[S-3*k],X=y[S-2*k],Z=y[S-k],Q=y[S+0],ue=y[S+k],Se=y[S+2*k],je=y[S+3*k];return 4*Ms[255+Z-Q]+Ms[255+X-ue]>D?0:Ms[255+y[S-4*k]-G]<=z&&Ms[255+G-X]<=z&&Ms[255+X-Z]<=z&&Ms[255+je-Se]<=z&&Ms[255+Se-ue]<=z&&Ms[255+ue-Q]<=z}function Vl(y,S,k,D){var z=2*D+1;for(D=0;16>D;++D)Fl(y,S+D,k,z)&&Os(y,S+D,k)}function Ds(y,S,k,D){var z=2*D+1;for(D=0;16>D;++D)Fl(y,S+D*k,1,z)&&Os(y,S+D*k,1)}function Js(y,S,k,D){var z;for(z=3;0<z;--z)Vl(y,S+=4*k,k,D)}function Zu(y,S,k,D){var z;for(z=3;0<z;--z)Ds(y,S+=4,k,D)}function nn(y,S,k,D,z,G,X,Z){for(G=2*G+1;0<z--;){if(Ul(y,S,k,G,X))if(qr(y,S,k,Z))Os(y,S,k);else{var Q=y,ue=S,Se=k,je=Q[ue-2*Se],Re=Q[ue-Se],Te=Q[ue+0],Qe=Q[ue+Se],He=Q[ue+2*Se],Ne=27*(Ye=X1[1020+3*(Te-Re)+X1[1020+je-Qe]])+63>>7,Ee=18*Ye+63>>7,Ye=9*Ye+63>>7;Q[ue-3*Se]=fs[255+Q[ue-3*Se]+Ye],Q[ue-2*Se]=fs[255+je+Ee],Q[ue-Se]=fs[255+Re+Ne],Q[ue+0]=fs[255+Te-Ne],Q[ue+Se]=fs[255+Qe-Ee],Q[ue+2*Se]=fs[255+He-Ye]}S+=D}}function Xi(y,S,k,D,z,G,X,Z){for(G=2*G+1;0<z--;){if(Ul(y,S,k,G,X))if(qr(y,S,k,Z))Os(y,S,k);else{var Q=y,ue=S,Se=k,je=Q[ue-Se],Re=Q[ue+0],Te=Q[ue+Se],Qe=qh[112+((He=3*(Re-je))+4>>3)],He=qh[112+(He+3>>3)],Ne=Qe+1>>1;Q[ue-2*Se]=fs[255+Q[ue-2*Se]+Ne],Q[ue-Se]=fs[255+je+He],Q[ue+0]=fs[255+Re-Qe],Q[ue+Se]=fs[255+Te-Ne]}S+=D}}function wa(y,S,k,D,z,G){nn(y,S,k,1,16,D,z,G)}function Ai(y,S,k,D,z,G){nn(y,S,1,k,16,D,z,G)}function Qu(y,S,k,D,z,G){var X;for(X=3;0<X;--X)Xi(y,S+=4*k,k,1,16,D,z,G)}function Be(y,S,k,D,z,G){var X;for(X=3;0<X;--X)Xi(y,S+=4,1,k,16,D,z,G)}function Yt(y,S,k,D,z,G,X,Z){nn(y,S,z,1,8,G,X,Z),nn(k,D,z,1,8,G,X,Z)}function ar(y,S,k,D,z,G,X,Z){nn(y,S,1,z,8,G,X,Z),nn(k,D,1,z,8,G,X,Z)}function ba(y,S,k,D,z,G,X,Z){Xi(y,S+4*z,z,1,8,G,X,Z),Xi(k,D+4*z,z,1,8,G,X,Z)}function zl(y,S,k,D,z,G,X,Z){Xi(y,S+4,1,z,8,G,X,Z),Xi(k,D+4,1,z,8,G,X,Z)}function _o(){this.ba=new Gt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new qn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Hl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ql(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function To(){this.ua=0,this.Wa=new de,this.vb=new de,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new te,this.yc=new B}function or(){this.xb=this.a=0,this.l=new Kt,this.ca=new Gt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new M,this.Pb=0,this.wd=new M,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new To,this.ab=0,this.gc=o(4,ql),this.Oc=0}function Aa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Kt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sn(y,S,k,D,z,G,X){for(y=y==null?0:y[S+0],S=0;S<X;++S)z[G+S]=y+k[D+S]&255,y=z[G+S]}function Sa(y,S,k,D,z,G,X){var Z;if(y==null)Sn(null,null,k,D,z,G,X);else for(Z=0;Z<X;++Z)z[G+Z]=y[S+Z]+k[D+Z]&255}function Si(y,S,k,D,z,G,X){if(y==null)Sn(null,null,k,D,z,G,X);else{var Z,Q=y[S+0],ue=Q,Se=Q;for(Z=0;Z<X;++Z)ue=Se+(Q=y[S+Z])-ue,Se=k[D+Z]+(-256&ue?0>ue?0:255:ue)&255,ue=Q,z[G+Z]=Se}}function mn(y,S,k,D){var z=S.width,G=S.o;if(t(y!=null&&S!=null),0>k||0>=D||k+D>G)return null;if(!y.Cc){if(y.ga==null){var X;if(y.ga=new Aa,(X=y.ga==null)||(X=S.width*S.o,t(y.Gb.length==0),y.Gb=s(X),y.Uc=0,y.Gb==null?X=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,X=1),X=!X),!X){X=y.ga;var Z=y.Fa,Q=y.P,ue=y.qc,Se=y.mb,je=y.nb,Re=Q+1,Te=ue-1,Qe=X.l;if(t(Z!=null&&Se!=null&&S!=null),Oo[0]=null,Oo[1]=Sn,Oo[2]=Sa,Oo[3]=Si,X.ca=Se,X.tb=je,X.c=S.width,X.i=S.height,t(0<X.c&&0<X.i),1>=ue)S=0;else if(X.$a=Z[Q+0]>>0&3,X.Z=Z[Q+0]>>2&3,X.Lc=Z[Q+0]>>4&3,Q=Z[Q+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||Q)S=0;else if(Qe.put=ui,Qe.ac=fn,Qe.bc=ji,Qe.ma=X,Qe.width=S.width,Qe.height=S.height,Qe.Da=S.Da,Qe.v=S.v,Qe.va=S.va,Qe.j=S.j,Qe.o=S.o,X.$a)e:{t(X.$a==1),S=di();t:for(;;){if(S==null){S=0;break e}if(t(X!=null),X.mc=S,S.c=X.c,S.i=X.i,S.l=X.l,S.l.ma=X,S.l.width=X.c,S.l.height=X.i,S.a=0,fe(S.m,Z,Re,Te),!br(X.c,X.i,1,S,null)||(S.ab==1&&S.gc[0].hc==3&&vi(S.s)?(X.ic=1,Z=S.c*S.i,S.Ta=null,S.Ua=0,S.V=s(Z),S.Ba=0,S.V==null?(S.a=1,S=0):S=1):(X.ic=0,S=za(S,X.c)),!S))break t;S=1;break e}X.mc=null,S=0}else S=Te>=X.c*X.i;X=!S}if(X)return null;y.ga.Lc!=1?y.Ga=0:D=G-k}t(y.ga!=null),t(k+D<=G);e:{if(S=(Z=y.ga).c,G=Z.l.o,Z.$a==0){if(Re=y.rc,Te=y.Vc,Qe=y.Fa,Q=y.P+1+k*S,ue=y.mb,Se=y.nb+k*S,t(Q<=y.P+y.qc),Z.Z!=0)for(t(Oo[Z.Z]!=null),X=0;X<D;++X)Oo[Z.Z](Re,Te,Qe,Q,ue,Se,S),Re=ue,Te=Se,Se+=S,Q+=S;else for(X=0;X<D;++X)r(ue,Se,Qe,Q,S),Re=ue,Te=Se,Se+=S,Q+=S;y.rc=Re,y.Vc=Te}else{if(t(Z.mc!=null),S=k+D,t((X=Z.mc)!=null),t(S<=X.i),X.C>=S)S=1;else if(Z.ic||ke(),Z.ic){Z=X.V,Re=X.Ba,Te=X.c;var He=X.i,Ne=(Qe=1,Q=X.$/Te,ue=X.$%Te,Se=X.m,je=X.s,X.$),Ee=Te*He,Ye=Te*S,rt=je.wc,Xe=Ne<Ye?kn(je,ue,Q):null;t(Ne<=Ee),t(S<=He),t(vi(je));t:for(;;){for(;!Se.h&&Ne<Ye;){if(ue&rt||(Xe=kn(je,ue,Q)),t(Xe!=null),he(Se),256>(He=ei(Xe.G[0],Xe.H[0],Se)))Z[Re+Ne]=He,++Ne,++ue>=Te&&(ue=0,++Q<=S&&!(Q%16)&&Rn(X,Q));else{if(!(280>He)){Qe=0;break t}He=cs(He-256,Se);var vt,ht=ei(Xe.G[4],Xe.H[4],Se);if(he(Se),!(Ne>=(ht=Jr(Te,ht=cs(ht,Se)))&&Ee-Ne>=He)){Qe=0;break t}for(vt=0;vt<He;++vt)Z[Re+Ne+vt]=Z[Re+Ne+vt-ht];for(Ne+=He,ue+=He;ue>=Te;)ue-=Te,++Q<=S&&!(Q%16)&&Rn(X,Q);Ne<Ye&&ue&rt&&(Xe=kn(je,ue,Q))}t(Se.h==oe(Se))}Rn(X,Q>S?S:Q);break t}!Qe||Se.h&&Ne<Ee?(Qe=0,X.a=Se.h?5:3):X.$=Ne,S=Qe}else S=ti(X,X.V,X.Ba,X.c,X.i,S,Ao);if(!S){D=0;break e}}k+D>=G&&(y.Cc=1),D=1}if(!D)return null;if(y.Cc&&((D=y.ga)!=null&&(D.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+k*z}function C(y,S,k,D,z,G){for(;0<z--;){var X,Z=y,Q=S+(k?1:0),ue=y,Se=S+(k?0:3);for(X=0;X<D;++X){var je=ue[Se+4*X];je!=255&&(je*=32897,Z[Q+4*X+0]=Z[Q+4*X+0]*je>>23,Z[Q+4*X+1]=Z[Q+4*X+1]*je>>23,Z[Q+4*X+2]=Z[Q+4*X+2]*je>>23)}S+=G}}function H(y,S,k,D,z){for(;0<D--;){var G;for(G=0;G<k;++G){var X=y[S+2*G+0],Z=15&(ue=y[S+2*G+1]),Q=4369*Z,ue=(240&ue|ue>>4)*Q>>16;y[S+2*G+0]=(240&X|X>>4)*Q>>16&240|(15&X|X<<4)*Q>>16>>4&15,y[S+2*G+1]=240&ue|Z}S+=z}}function le(y,S,k,D,z,G,X,Z){var Q,ue,Se=255;for(ue=0;ue<z;++ue){for(Q=0;Q<D;++Q){var je=y[S+Q];G[X+4*Q]=je,Se&=je}S+=k,X+=Z}return Se!=255}function ye(y,S,k,D,z){var G;for(G=0;G<z;++G)k[D+G]=y[S+G]>>8}function ke(){Zi=C,Bn=H,Fn=le,Er=ye}function $e(y,S,k){K[y]=function(D,z,G,X,Z,Q,ue,Se,je,Re,Te,Qe,He,Ne,Ee,Ye,rt){var Xe,vt=rt-1>>1,ht=Z[Q+0]|ue[Se+0]<<16,Dt=je[Re+0]|Te[Qe+0]<<16;t(D!=null);var gt=3*ht+Dt+131074>>2;for(S(D[z+0],255&gt,gt>>16,He,Ne),G!=null&&(gt=3*Dt+ht+131074>>2,S(G[X+0],255&gt,gt>>16,Ee,Ye)),Xe=1;Xe<=vt;++Xe){var An=Z[Q+Xe]|ue[Se+Xe]<<16,Cn=je[Re+Xe]|Te[Qe+Xe]<<16,xn=ht+An+Dt+Cn+524296,on=xn+2*(An+Dt)>>3;gt=on+ht>>1,ht=(xn=xn+2*(ht+Cn)>>3)+An>>1,S(D[z+2*Xe-1],255&gt,gt>>16,He,Ne+(2*Xe-1)*k),S(D[z+2*Xe-0],255&ht,ht>>16,He,Ne+(2*Xe-0)*k),G!=null&&(gt=xn+Dt>>1,ht=on+Cn>>1,S(G[X+2*Xe-1],255&gt,gt>>16,Ee,Ye+(2*Xe-1)*k),S(G[X+2*Xe+0],255&ht,ht>>16,Ee,Ye+(2*Xe+0)*k)),ht=An,Dt=Cn}1&rt||(gt=3*ht+Dt+131074>>2,S(D[z+rt-1],255&gt,gt>>16,He,Ne+(rt-1)*k),G!=null&&(gt=3*Dt+ht+131074>>2,S(G[X+rt-1],255&gt,gt>>16,Ee,Ye+(rt-1)*k)))}}function Je(){Bs[Wh]=kN,Bs[$h]=iy,Bs[Jx]=LN,Bs[Gh]=sy,Bs[Yh]=ay,Bs[K1]=oy,Bs[ey]=PN,Bs[Z1]=iy,Bs[Q1]=sy,Bs[Xh]=ay,Bs[J1]=oy}function mt(y){return y&-16384?0>y?0:255:y>>ON}function kt(y,S){return mt((19077*y>>8)+(26149*S>>8)-14234)}function Vt(y,S,k){return mt((19077*y>>8)-(6419*S>>8)-(13320*k>>8)+8708)}function zt(y,S){return mt((19077*y>>8)+(33050*S>>8)-17685)}function rn(y,S,k,D,z){D[z+0]=kt(y,k),D[z+1]=Vt(y,S,k),D[z+2]=zt(y,S)}function Gn(y,S,k,D,z){D[z+0]=zt(y,S),D[z+1]=Vt(y,S,k),D[z+2]=kt(y,k)}function Nn(y,S,k,D,z){var G=Vt(y,S,k);S=G<<3&224|zt(y,S)>>3,D[z+0]=248&kt(y,k)|G>>5,D[z+1]=S}function er(y,S,k,D,z){var G=240&zt(y,S)|15;D[z+0]=240&kt(y,k)|Vt(y,S,k)>>4,D[z+1]=G}function ni(y,S,k,D,z){D[z+0]=255,rn(y,S,k,D,z+1)}function tr(y,S,k,D,z){Gn(y,S,k,D,z),D[z+3]=255}function hs(y,S,k,D,z){rn(y,S,k,D,z),D[z+3]=255}function gr(y,S){return 0>y?0:y>S?S:y}function Bi(y,S,k){K[y]=function(D,z,G,X,Z,Q,ue,Se,je){for(var Re=Se+(-2&je)*k;Se!=Re;)S(D[z+0],G[X+0],Z[Q+0],ue,Se),S(D[z+1],G[X+0],Z[Q+0],ue,Se+k),z+=2,++X,++Q,Se+=2*k;1&je&&S(D[z+0],G[X+0],Z[Q+0],ue,Se)}}function fi(y,S,k){return k==0?y==0?S==0?6:5:S==0?4:0:k}function Io(y,S,k,D,z){switch(y>>>30){case 3:we(S,k,D,z,0);break;case 2:_e(S,k,D,z);break;case 1:tt(S,k,D,z)}}function Ni(y,S){var k,D,z=S.M,G=S.Nb,X=y.oc,Z=y.pc+40,Q=y.oc,ue=y.pc+584,Se=y.oc,je=y.pc+600;for(k=0;16>k;++k)X[Z+32*k-1]=129;for(k=0;8>k;++k)Q[ue+32*k-1]=129,Se[je+32*k-1]=129;for(0<z?X[Z-1-32]=Q[ue-1-32]=Se[je-1-32]=129:(i(X,Z-32-1,127,21),i(Q,ue-32-1,127,9),i(Se,je-32-1,127,9)),D=0;D<y.za;++D){var Re=S.ya[S.aa+D];if(0<D){for(k=-1;16>k;++k)r(X,Z+32*k-4,X,Z+32*k+12,4);for(k=-1;8>k;++k)r(Q,ue+32*k-4,Q,ue+32*k+4,4),r(Se,je+32*k-4,Se,je+32*k+4,4)}var Te=y.Gd,Qe=y.Hd+D,He=Re.ad,Ne=Re.Hc;if(0<z&&(r(X,Z-32,Te[Qe].y,0,16),r(Q,ue-32,Te[Qe].f,0,8),r(Se,je-32,Te[Qe].ea,0,8)),Re.Za){var Ee=X,Ye=Z-32+16;for(0<z&&(D>=y.za-1?i(Ee,Ye,Te[Qe].y[15],4):r(Ee,Ye,Te[Qe+1].y,0,4)),k=0;4>k;k++)Ee[Ye+128+k]=Ee[Ye+256+k]=Ee[Ye+384+k]=Ee[Ye+0+k];for(k=0;16>k;++k,Ne<<=2)Ee=X,Ye=Z+cy[k],ea[Re.Ob[k]](Ee,Ye),Io(Ne,He,16*+k,Ee,Ye)}else if(Ee=fi(D,z,Re.Ob[0]),Po[Ee](X,Z),Ne!=0)for(k=0;16>k;++k,Ne<<=2)Io(Ne,He,16*+k,X,Z+cy[k]);for(k=Re.Gc,Ee=fi(D,z,Re.Dd),Xa[Ee](Q,ue),Xa[Ee](Se,je),Ne=He,Ee=Q,Ye=ue,255&(Re=k>>0)&&(170&Re?Fe(Ne,256,Ee,Ye):st(Ne,256,Ee,Ye)),Re=Se,Ne=je,255&(k>>=8)&&(170&k?Fe(He,320,Re,Ne):st(He,320,Re,Ne)),z<y.Ub-1&&(r(Te[Qe].y,0,X,Z+480,16),r(Te[Qe].f,0,Q,ue+224,8),r(Te[Qe].ea,0,Se,je+224,8)),k=8*G*y.B,Te=y.sa,Qe=y.ta+16*D+16*G*y.R,He=y.qa,Re=y.ra+8*D+k,Ne=y.Ha,Ee=y.Ia+8*D+k,k=0;16>k;++k)r(Te,Qe+k*y.R,X,Z+32*k,16);for(k=0;8>k;++k)r(He,Re+k*y.B,Q,ue+32*k,8),r(Ne,Ee+k*y.B,Se,je+32*k,8)}}function ko(y,S,k,D,z,G,X,Z,Q){var ue=[0],Se=[0],je=0,Re=Q!=null?Q.kd:0,Te=Q??new Hl;if(y==null||12>k)return 7;Te.data=y,Te.w=S,Te.ha=k,S=[S],k=[k],Te.gb=[Te.gb];e:{var Qe=S,He=k,Ne=Te.gb;if(t(y!=null),t(He!=null),t(Ne!=null),Ne[0]=0,12<=He[0]&&!n(y,Qe[0],"RIFF")){if(n(y,Qe[0]+8,"WEBP")){Ne=3;break e}var Ee=Ke(y,Qe[0]+4);if(12>Ee||4294967286<Ee){Ne=3;break e}if(Re&&Ee>He[0]-8){Ne=7;break e}Ne[0]=Ee,Qe[0]+=12,He[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ee=0<Te.gb[0],k=k[0];;){e:{var Ye=y;He=S,Ne=k;var rt=ue,Xe=Se,vt=Qe=[0];if((gt=je=[je])[0]=0,8>Ne[0])Ne=7;else{if(!n(Ye,He[0],"VP8X")){if(Ke(Ye,He[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var ht=Ke(Ye,He[0]+8),Dt=1+ut(Ye,He[0]+12);if(2147483648<=Dt*(Ye=1+ut(Ye,He[0]+15))){Ne=3;break e}vt!=null&&(vt[0]=ht),rt!=null&&(rt[0]=Dt),Xe!=null&&(Xe[0]=Ye),He[0]+=18,Ne[0]-=18,gt[0]=1}Ne=0}}if(je=je[0],Qe=Qe[0],Ne!=0)return Ne;if(He=!!(2&Qe),!Ee&&je)return 3;if(G!=null&&(G[0]=!!(16&Qe)),X!=null&&(X[0]=He),Z!=null&&(Z[0]=0),X=ue[0],Qe=Se[0],je&&He&&Q==null){Ne=0;break}if(4>k){Ne=7;break}if(Ee&&je||!Ee&&!je&&!n(y,S[0],"ALPH")){k=[k],Te.na=[Te.na],Te.P=[Te.P],Te.Sa=[Te.Sa];e:{ht=y,Ne=S,Ee=k;var gt=Te.gb;rt=Te.na,Xe=Te.P,vt=Te.Sa,Dt=22,t(ht!=null),t(Ee!=null),Ye=Ne[0];var An=Ee[0];for(t(rt!=null),t(vt!=null),rt[0]=null,Xe[0]=null,vt[0]=0;;){if(Ne[0]=Ye,Ee[0]=An,8>An){Ne=7;break e}var Cn=Ke(ht,Ye+4);if(4294967286<Cn){Ne=3;break e}var xn=8+Cn+1&-2;if(Dt+=xn,0<gt&&Dt>gt){Ne=3;break e}if(!n(ht,Ye,"VP8 ")||!n(ht,Ye,"VP8L")){Ne=0;break e}if(An[0]<xn){Ne=7;break e}n(ht,Ye,"ALPH")||(rt[0]=ht,Xe[0]=Ye+8,vt[0]=Cn),Ye+=xn,An-=xn}}if(k=k[0],Te.na=Te.na[0],Te.P=Te.P[0],Te.Sa=Te.Sa[0],Ne!=0)break}k=[k],Te.Ja=[Te.Ja],Te.xa=[Te.xa];e:if(gt=y,Ne=S,Ee=k,rt=Te.gb[0],Xe=Te.Ja,vt=Te.xa,ht=Ne[0],Ye=!n(gt,ht,"VP8 "),Dt=!n(gt,ht,"VP8L"),t(gt!=null),t(Ee!=null),t(Xe!=null),t(vt!=null),8>Ee[0])Ne=7;else{if(Ye||Dt){if(gt=Ke(gt,ht+4),12<=rt&&gt>rt-12){Ne=3;break e}if(Re&&gt>Ee[0]-8){Ne=7;break e}Xe[0]=gt,Ne[0]+=8,Ee[0]-=8,vt[0]=Dt}else vt[0]=5<=Ee[0]&&gt[ht+0]==47&&!(gt[ht+4]>>5),Xe[0]=Ee[0];Ne=0}if(k=k[0],Te.Ja=Te.Ja[0],Te.xa=Te.xa[0],S=S[0],Ne!=0)break;if(4294967286<Te.Ja)return 3;if(Z==null||He||(Z[0]=Te.xa?2:1),X=[X],Qe=[Qe],Te.xa){if(5>k){Ne=7;break}Z=X,Re=Qe,He=G,y==null||5>k?y=0:5<=k&&y[S+0]==47&&!(y[S+4]>>5)?(Ee=[0],gt=[0],rt=[0],fe(Xe=new M,y,S,k),Et(Xe,Ee,gt,rt)?(Z!=null&&(Z[0]=Ee[0]),Re!=null&&(Re[0]=gt[0]),He!=null&&(He[0]=rt[0]),y=1):y=0):y=0}else{if(10>k){Ne=7;break}Z=Qe,y==null||10>k||!So(y,S+3,k-3)?y=0:(Re=y[S+0]|y[S+1]<<8|y[S+2]<<16,He=16383&(y[S+7]<<8|y[S+6]),y=16383&(y[S+9]<<8|y[S+8]),1&Re||3<(Re>>1&7)||!(Re>>4&1)||Re>>5>=Te.Ja||!He||!y?y=0:(X&&(X[0]=He),Z&&(Z[0]=y),y=1))}if(!y||(X=X[0],Qe=Qe[0],je&&(ue[0]!=X||Se[0]!=Qe)))return 3;Q!=null&&(Q[0]=Te,Q.offset=S-Q.w,t(4294967286>S-Q.w),t(Q.offset==Q.ha-k));break}return Ne==0||Ne==7&&je&&Q==null?(G!=null&&(G[0]|=Te.na!=null&&0<Te.na.length),D!=null&&(D[0]=X),z!=null&&(z[0]=Qe),0):Ne}function $a(y,S,k){var D=S.width,z=S.height,G=0,X=0,Z=D,Q=z;if(S.Da=y!=null&&0<y.Da,S.Da&&(Z=y.cd,Q=y.bd,G=y.v,X=y.j,11>k||(G&=-2,X&=-2),0>G||0>X||0>=Z||0>=Q||G+Z>D||X+Q>z))return 0;if(S.v=G,S.j=X,S.va=G+Z,S.o=X+Q,S.U=Z,S.T=Q,S.da=y!=null&&0<y.da,S.da){if(!yt(Z,Q,k=[y.ib],G=[y.hb]))return 0;S.ib=k[0],S.hb=G[0]}return S.ob=y!=null&&y.ob,S.Kb=y==null||!y.Sd,S.da&&(S.ob=S.ib<3*D/4&&S.hb<3*z/4,S.Kb=0),1}function Wl(y){if(y==null)return 2;if(11>y.S){var S=y.f.RGBA;S.fb+=(y.height-1)*S.A,S.A=-S.A}else S=y.f.kb,y=y.height,S.O+=(y-1)*S.fa,S.fa=-S.fa,S.N+=(y-1>>1)*S.Ab,S.Ab=-S.Ab,S.W+=(y-1>>1)*S.Db,S.Db=-S.Db,S.F!=null&&(S.J+=(y-1)*S.lb,S.lb=-S.lb);return 0}function Ga(y,S,k,D){if(D==null||0>=y||0>=S)return 2;if(k!=null){if(k.Da){var z=k.cd,G=k.bd,X=-2&k.v,Z=-2&k.j;if(0>X||0>Z||0>=z||0>=G||X+z>y||Z+G>S)return 2;y=z,S=G}if(k.da){if(!yt(y,S,z=[k.ib],G=[k.hb]))return 2;y=z[0],S=G[0]}}D.width=y,D.height=S;e:{var Q=D.width,ue=D.height;if(y=D.S,0>=Q||0>=ue||!(y>=Wh&&13>y))y=2;else{if(0>=D.Rd&&D.sd==null){X=G=z=S=0;var Se=(Z=Q*uy[y])*ue;if(11>y||(G=(ue+1)/2*(S=(Q+1)/2),y==12&&(X=(z=Q)*ue)),(ue=s(Se+2*G+X))==null){y=1;break e}D.sd=ue,11>y?((Q=D.f.RGBA).eb=ue,Q.fb=0,Q.A=Z,Q.size=Se):((Q=D.f.kb).y=ue,Q.O=0,Q.fa=Z,Q.Fd=Se,Q.f=ue,Q.N=0+Se,Q.Ab=S,Q.Cd=G,Q.ea=ue,Q.W=0+Se+G,Q.Db=S,Q.Ed=G,y==12&&(Q.F=ue,Q.J=0+Se+2*G),Q.Tc=X,Q.lb=z)}if(S=1,z=D.S,G=D.width,X=D.height,z>=Wh&&13>z)if(11>z)y=D.f.RGBA,S&=(Z=Math.abs(y.A))*(X-1)+G<=y.size,S&=Z>=G*uy[z],S&=y.eb!=null;else{y=D.f.kb,Z=(G+1)/2,Se=(X+1)/2,Q=Math.abs(y.fa),ue=Math.abs(y.Ab);var je=Math.abs(y.Db),Re=Math.abs(y.lb),Te=Re*(X-1)+G;S&=Q*(X-1)+G<=y.Fd,S&=ue*(Se-1)+Z<=y.Cd,S=(S&=je*(Se-1)+Z<=y.Ed)&Q>=G&ue>=Z&je>=Z,S&=y.y!=null,S&=y.f!=null,S&=y.ea!=null,z==12&&(S&=Re>=G,S&=Te<=y.Tc,S&=y.F!=null)}else S=0;y=S?0:2}}return y!=0||k!=null&&k.fd&&(y=Wl(D)),y}var Ln=64,Lo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Na=24,js=32,tn=8,Wr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];re("Predictor0","PredictorAdd0"),K.Predictor0=function(){return 4278190080},K.Predictor1=function(y){return y},K.Predictor2=function(y,S,k){return S[k+0]},K.Predictor3=function(y,S,k){return S[k+1]},K.Predictor4=function(y,S,k){return S[k-1]},K.Predictor5=function(y,S,k){return Ae(Ae(y,S[k+1]),S[k+0])},K.Predictor6=function(y,S,k){return Ae(y,S[k-1])},K.Predictor7=function(y,S,k){return Ae(y,S[k+0])},K.Predictor8=function(y,S,k){return Ae(S[k-1],S[k+0])},K.Predictor9=function(y,S,k){return Ae(S[k+0],S[k+1])},K.Predictor10=function(y,S,k){return Ae(Ae(y,S[k-1]),Ae(S[k+0],S[k+1]))},K.Predictor11=function(y,S,k){var D=S[k+0];return 0>=We(D>>24&255,y>>24&255,(S=S[k-1])>>24&255)+We(D>>16&255,y>>16&255,S>>16&255)+We(D>>8&255,y>>8&255,S>>8&255)+We(255&D,255&y,255&S)?D:y},K.Predictor12=function(y,S,k){var D=S[k+0];return(qe((y>>24&255)+(D>>24&255)-((S=S[k-1])>>24&255))<<24|qe((y>>16&255)+(D>>16&255)-(S>>16&255))<<16|qe((y>>8&255)+(D>>8&255)-(S>>8&255))<<8|qe((255&y)+(255&D)-(255&S)))>>>0},K.Predictor13=function(y,S,k){var D=S[k-1];return(Ve((y=Ae(y,S[k+0]))>>24&255,D>>24&255)<<24|Ve(y>>16&255,D>>16&255)<<16|Ve(y>>8&255,D>>8&255)<<8|Ve(y>>0&255,D>>0&255))>>>0};var U=K.PredictorAdd0;K.PredictorAdd1=it,re("Predictor2","PredictorAdd2"),re("Predictor3","PredictorAdd3"),re("Predictor4","PredictorAdd4"),re("Predictor5","PredictorAdd5"),re("Predictor6","PredictorAdd6"),re("Predictor7","PredictorAdd7"),re("Predictor8","PredictorAdd8"),re("Predictor9","PredictorAdd9"),re("Predictor10","PredictorAdd10"),re("Predictor11","PredictorAdd11"),re("Predictor12","PredictorAdd12"),re("Predictor13","PredictorAdd13");var a=K.PredictorAdd2;Ht("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var l,c=K.ColorIndexInverseTransform,h=K.MapARGB,p=K.VP8LColorIndexInverseTransformAlpha,g=K.MapAlpha,w=K.VP8LPredictorsAdd=[];w.length=16,(K.VP8LPredictors=[]).length=16,(K.VP8LPredictorsAdd_C=[]).length=16,(K.VP8LPredictors_C=[]).length=16;var N,T,j,F,Y,ce,xe,we,_e,Fe,tt,st,nt,Jt,Ft,mr,$r,lr,hn,nr,Cr,Fi,Rs,Ki,Zi,Bn,Fn,Er,Gr=s(511),Ya=s(2041),Ju=s(225),Oc=s(767),Hh=0,X1=Ya,qh=Ju,fs=Oc,Ms=Gr,Wh=0,$h=1,Jx=2,Gh=3,Yh=4,K1=5,ey=6,Z1=7,Q1=8,Xh=9,J1=10,mN=[2,3,7],xN=[3,3,11],ty=[280,256,256,256,40],yN=[0,1,1,1,0],vN=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],wN=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bN=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],AN=8,ep=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tp=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ed=null,SN=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],NN=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ny=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],CN=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],EN=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_N=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],TN=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Po=[],ea=[],Xa=[],IN=1,ry=2,Oo=[],Bs=[];$e("UpsampleRgbLinePair",rn,3),$e("UpsampleBgrLinePair",Gn,3),$e("UpsampleRgbaLinePair",hs,4),$e("UpsampleBgraLinePair",tr,4),$e("UpsampleArgbLinePair",ni,4),$e("UpsampleRgba4444LinePair",er,2),$e("UpsampleRgb565LinePair",Nn,2);var kN=K.UpsampleRgbLinePair,LN=K.UpsampleBgrLinePair,iy=K.UpsampleRgbaLinePair,sy=K.UpsampleBgraLinePair,ay=K.UpsampleArgbLinePair,oy=K.UpsampleRgba4444LinePair,PN=K.UpsampleRgb565LinePair,Kh=16,Zh=1<<Kh-1,td=-227,np=482,ON=6,ly=0,DN=s(256),jN=s(256),RN=s(256),MN=s(256),BN=s(np-td),FN=s(np-td);Bi("YuvToRgbRow",rn,3),Bi("YuvToBgrRow",Gn,3),Bi("YuvToRgbaRow",hs,4),Bi("YuvToBgraRow",tr,4),Bi("YuvToArgbRow",ni,4),Bi("YuvToRgba4444Row",er,2),Bi("YuvToRgb565Row",Nn,2);var cy=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Qh=[0,2,8],UN=[8,7,6,4,4,2,2,2,1,1,1,1],VN=1;this.WebPDecodeRGBA=function(y,S,k,D,z){var G=$h,X=new _o,Z=new Gt;X.ba=Z,Z.S=G,Z.width=[Z.width],Z.height=[Z.height];var Q=Z.width,ue=Z.height,Se=new ci;if(Se==null||y==null)var je=2;else t(Se!=null),je=ko(y,S,k,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(je!=0?Q=0:(Q!=null&&(Q[0]=Se.width[0]),ue!=null&&(ue[0]=Se.height[0]),Q=1),Q){Z.width=Z.width[0],Z.height=Z.height[0],D!=null&&(D[0]=Z.width),z!=null&&(z[0]=Z.height);e:{if(D=new Kt,(z=new Hl).data=y,z.w=S,z.ha=k,z.kd=1,S=[0],t(z!=null),((y=ko(z.data,z.w,z.ha,null,null,null,S,null,z))==0||y==7)&&S[0]&&(y=4),(S=y)==0){if(t(X!=null),D.data=z.data,D.w=z.w+z.offset,D.ha=z.ha-z.offset,D.put=ui,D.ac=fn,D.bc=ji,D.ma=X,z.xa){if((y=di())==null){X=1;break e}if(function(Re,Te){var Qe=[0],He=[0],Ne=[0];t:for(;;){if(Re==null)return 0;if(Te==null)return Re.a=2,0;if(Re.l=Te,Re.a=0,fe(Re.m,Te.data,Te.w,Te.ha),!Et(Re.m,Qe,He,Ne)){Re.a=3;break t}if(Re.xb=ry,Te.width=Qe[0],Te.height=He[0],!br(Qe[0],He[0],1,Re,null))break t;return 1}return t(Re.a!=0),0}(y,D)){if(D=(S=Ga(D.width,D.height,X.Oa,X.ba))==0){t:{D=y;n:for(;;){if(D==null){D=0;break t}if(t(D.s.yc!=null),t(D.s.Ya!=null),t(0<D.s.Wb),t((k=D.l)!=null),t((z=k.ma)!=null),D.xb!=0){if(D.ca=z.ba,D.tb=z.tb,t(D.ca!=null),!$a(z.Oa,k,Gh)){D.a=2;break n}if(!za(D,k.width)||k.da)break n;if((k.da||en(D.ca.S))&&ke(),11>D.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),D.ca.f.kb.F!=null&&ke()),D.Pb&&0<D.s.ua&&D.s.vb.X==null&&!ft(D.s.vb,D.s.Wa.Xa)){D.a=1;break n}D.xb=0}if(!ti(D,D.V,D.Ba,D.c,D.i,k.o,xt))break n;z.Dc=D.Ma,D=1;break t}t(D.a!=0),D=0}D=!D}D&&(S=y.a)}else S=y.a}else{if((y=new Ll)==null){X=1;break e}if(y.Fa=z.na,y.P=z.P,y.qc=z.Sa,Qn(y,D)){if((S=Ga(D.width,D.height,X.Oa,X.ba))==0){if(y.Aa=0,k=X.Oa,t((z=y)!=null),k!=null){if(0<(Q=0>(Q=k.Md)?0:100<Q?255:255*Q/100)){for(ue=Se=0;4>ue;++ue)12>(je=z.pb[ue]).lc&&(je.ia=Q*UN[0>je.lc?0:je.lc]>>3),Se|=je.ia;Se&&(alert("todo:VP8InitRandom"),z.ia=1)}z.Ga=k.Id,100<z.Ga?z.Ga=100:0>z.Ga&&(z.Ga=0)}$n(y,D)||(S=y.a)}}else S=y.a}S==0&&X.Oa!=null&&X.Oa.fd&&(S=Wl(X.ba))}X=S}G=X!=0?null:11>G?Z.f.RGBA.eb:Z.f.kb.y}else G=null;return G};var uy=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(K,$){for(var ge="",W=0;W<4;W++)ge+=String.fromCharCode(K[$++]);return ge}function m(K,$){return(K[$+0]<<0|K[$+1]<<8|K[$+2]<<16)>>>0}function x(K,$){return(K[$+0]<<0|K[$+1]<<8|K[$+2]<<16|K[$+3]<<24)>>>0}new d;var A=[0],b=[0],P=[],I=new d,O=e,E=function(K,$){var ge={},W=0,B=!1,ee=0,te=0;if(ge.frames=[],!function(ne,oe,pe,he){for(var Pe=0;Pe<he;Pe++)if(ne[oe+Pe]!=pe.charCodeAt(Pe))return!0;return!1}(K,$,"RIFF",4)){var J,be;for(x(K,$+=4),$+=8;$<K.length;){var ve=f(K,$),fe=x(K,$+=4);$+=4;var Ce=fe+(1&fe);switch(ve){case"VP8 ":case"VP8L":ge.frames[W]===void 0&&(ge.frames[W]={}),(M=ge.frames[W]).src_off=B?te:$-8,M.src_size=ee+fe+8,W++,B&&(B=!1,ee=0,te=0);break;case"VP8X":(M=ge.header={}).feature_flags=K[$];var Ie=$+4;M.canvas_width=1+m(K,Ie),Ie+=3,M.canvas_height=1+m(K,Ie),Ie+=3;break;case"ALPH":B=!0,ee=Ce+8,te=$-8;break;case"ANIM":(M=ge.header).bgcolor=x(K,$),Ie=$+4,M.loop_count=(J=K)[(be=Ie)+0]<<0|J[be+1]<<8,Ie+=2;break;case"ANMF":var Ue,M;(M=ge.frames[W]={}).offset_x=2*m(K,$),$+=3,M.offset_y=2*m(K,$),$+=3,M.width=1+m(K,$),$+=3,M.height=1+m(K,$),$+=3,M.duration=m(K,$),$+=3,Ue=K[$++],M.dispose=1&Ue,M.blend=Ue>>1&1}ve!="ANMF"&&($+=Ce)}return ge}}(O,0);E.response=O,E.rgbaoutput=!0,E.dataurl=!1;var _=E.header?E.header:null,L=E.frames?E.frames:null;if(_){_.loop_counter=_.loop_count,A=[_.canvas_height],b=[_.canvas_width];for(var R=0;R<L.length&&L[R].blend!=0;R++);}var V=L[0],ie=I.WebPDecodeRGBA(O,V.src_off,V.src_size,b,A);V.rgba=ie,V.imgwidth=b[0],V.imgheight=A[0];for(var q=0;q<b[0]*A[0]*4;q++)P[q]=ie[q];return this.width=b,this.height=A,this.data=P,this}(function(e){var t=function(){return typeof n2=="function"},n=function(A,b,P,I){var O=4,E=o;switch(I){case e.image_compression.FAST:O=1,E=s;break;case e.image_compression.MEDIUM:O=6,E=u;break;case e.image_compression.SLOW:O=9,E=d}A=r(A,b,P,E);var _=n2(A,{level:O});return e.__addimage__.arrayBufferToBinaryString(_)},r=function(A,b,P,I){for(var O,E,_,L=A.length/b,R=new Uint8Array(A.length+L),V=m(),ie=0;ie<L;ie+=1){if(_=ie*b,O=A.subarray(_,_+b),I)R.set(I(O,P,E),_+ie);else{for(var q,K=V.length,$=[];q<K;q+=1)$[q]=V[q](O,P,E);var ge=x($.concat());R.set($[ge],_+ie)}E=O}return R},i=function(A){var b=Array.apply([],A);return b.unshift(0),b},s=function(A,b){var P,I=[],O=A.length;I[0]=1;for(var E=0;E<O;E+=1)P=A[E-b]||0,I[E+1]=A[E]-P+256&255;return I},o=function(A,b,P){var I,O=[],E=A.length;O[0]=2;for(var _=0;_<E;_+=1)I=P&&P[_]||0,O[_+1]=A[_]-I+256&255;return O},u=function(A,b,P){var I,O,E=[],_=A.length;E[0]=3;for(var L=0;L<_;L+=1)I=A[L-b]||0,O=P&&P[L]||0,E[L+1]=A[L]+256-(I+O>>>1)&255;return E},d=function(A,b,P){var I,O,E,_,L=[],R=A.length;L[0]=4;for(var V=0;V<R;V+=1)I=A[V-b]||0,O=P&&P[V]||0,E=P&&P[V-b]||0,_=f(I,O,E),L[V+1]=A[V]-_+256&255;return L},f=function(A,b,P){if(A===b&&b===P)return A;var I=Math.abs(b-P),O=Math.abs(A-P),E=Math.abs(A+b-P-P);return I<=O&&I<=E?A:O<=E?b:P},m=function(){return[i,s,o,u,d]},x=function(A){var b=A.map(function(P){return P.reduce(function(I,O){return I+Math.abs(O)},0)});return b.indexOf(Math.min.apply(null,b))};e.processPNG=function(A,b,P,I){var O,E,_,L,R,V,ie,q,K,$,ge,W,B,ee,te,J=this.decode.FLATE_DECODE,be="";if(this.__addimage__.isArrayBuffer(A)&&(A=new Uint8Array(A)),this.__addimage__.isArrayBufferView(A)){if(A=(_=new WR(A)).imgData,E=_.bits,O=_.colorSpace,R=_.colors,[4,6].indexOf(_.colorType)!==-1){if(_.bits===8){K=(q=_.pixelBitlength==32?new Uint32Array(_.decodePixels().buffer):_.pixelBitlength==16?new Uint16Array(_.decodePixels().buffer):new Uint8Array(_.decodePixels().buffer)).length,ge=new Uint8Array(K*_.colors),$=new Uint8Array(K);var ve,fe=_.pixelBitlength-_.bits;for(ee=0,te=0;ee<K;ee++){for(B=q[ee],ve=0;ve<fe;)ge[te++]=B>>>ve&255,ve+=_.bits;$[ee]=B>>>ve&255}}if(_.bits===16){K=(q=new Uint32Array(_.decodePixels().buffer)).length,ge=new Uint8Array(K*(32/_.pixelBitlength)*_.colors),$=new Uint8Array(K*(32/_.pixelBitlength)),W=_.colors>1,ee=0,te=0;for(var Ce=0;ee<K;)B=q[ee++],ge[te++]=B>>>0&255,W&&(ge[te++]=B>>>16&255,B=q[ee++],ge[te++]=B>>>0&255),$[Ce++]=B>>>16&255;E=8}I!==e.image_compression.NONE&&t()?(A=n(ge,_.width*_.colors,_.colors,I),ie=n($,_.width,1,I)):(A=ge,ie=$,J=void 0)}if(_.colorType===3&&(O=this.color_spaces.INDEXED,V=_.palette,_.transparency.indexed)){var Ie=_.transparency.indexed,Ue=0;for(ee=0,K=Ie.length;ee<K;++ee)Ue+=Ie[ee];if((Ue/=255)===K-1&&Ie.indexOf(0)!==-1)L=[Ie.indexOf(0)];else if(Ue!==K){for(q=_.decodePixels(),$=new Uint8Array(q.length),ee=0,K=q.length;ee<K;ee++)$[ee]=Ie[q[ee]];ie=n($,_.width,1)}}var M=function(ne){var oe;switch(ne){case e.image_compression.FAST:oe=11;break;case e.image_compression.MEDIUM:oe=13;break;case e.image_compression.SLOW:oe=14;break;default:oe=12}return oe}(I);return J===this.decode.FLATE_DECODE&&(be="/Predictor "+M+" "),be+="/Colors "+R+" /BitsPerComponent "+E+" /Columns "+_.width,(this.__addimage__.isArrayBuffer(A)||this.__addimage__.isArrayBufferView(A))&&(A=this.__addimage__.arrayBufferToBinaryString(A)),(ie&&this.__addimage__.isArrayBuffer(ie)||this.__addimage__.isArrayBufferView(ie))&&(ie=this.__addimage__.arrayBufferToBinaryString(ie)),{alias:P,data:A,index:b,filter:J,decodeParameters:be,transparency:L,palette:V,sMask:ie,predictor:M,width:_.width,height:_.height,bitsPerComponent:E,colorSpace:O}}}})(jt.API),function(e){e.processGIF89A=function(t,n,r,i){var s=new $R(t),o=s.width,u=s.height,d=[];s.decodeAndBlitFrameRGBA(0,d);var f={data:d,width:o,height:u},m=new gg(100).encode(f,100);return e.processJPEG.call(this,m,n,r,i)},e.processGIF87A=e.processGIF89A}(jt.API),ia.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ia.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Dn.log("bit decode error:"+n)}},ia.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var d=this.palette[s>>7-u&1];this.data[o+4*u]=d.blue,this.data[o+4*u+1]=d.green,this.data[o+4*u+2]=d.red,this.data[o+4*u+3]=255}n!==0&&(this.pos+=4-n)}},ia.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,u=s>>4,d=15&s,f=this.palette[u];if(this.data[o]=f.blue,this.data[o+1]=f.green,this.data[o+2]=f.red,this.data[o+3]=255,2*i+1>=this.width)break;f=this.palette[d],this.data[o+4]=f.blue,this.data[o+4+1]=f.green,this.data[o+4+2]=f.red,this.data[o+4+3]=255}t!==0&&(this.pos+=4-t)}},ia.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},ia.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&t)/t*255|0,u=(s>>5&t)/t*255|0,d=(s>>10&t)/t*255|0,f=s>>15?255:0,m=r*this.width*4+4*i;this.data[m]=d,this.data[m+1]=u,this.data[m+2]=o,this.data[m+3]=f}this.pos+=e}},ia.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(o&t)/t*255|0,d=(o>>5&n)/n*255|0,f=(o>>11)/t*255|0,m=i*this.width*4+4*s;this.data[m]=f,this.data[m+1]=d,this.data[m+2]=u,this.data[m+3]=255}this.pos+=e}},ia.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ia.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*n;this.data[u]=s,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=o}},ia.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new ia(t,!1),o=s.width,u=s.height,d={data:s.getData(),width:o,height:u},f=new gg(100).encode(d,100);return e.processJPEG.call(this,f,n,r,i)}}(jt.API),vb.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new vb(t),o=s.width,u=s.height,d={data:s.getData(),width:o,height:u},f=new gg(100).encode(d,100);return e.processJPEG.call(this,f,n,r,i)}}(jt.API),jt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),u=0,d=0,f=0;f<i;f+=4){var m=r[f],x=r[f+1],A=r[f+2],b=r[f+3];s[u++]=m,s[u++]=x,s[u++]=A,o[d++]=b}var P=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:P,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},jt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},$c=jt.API,Vf=$c.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:i.metadata.Unicode.widths,d=u.fof?u.fof:1,f=t.kerning?t.kerning:i.metadata.Unicode.kerning,m=f.fof?f.fof:1,x=t.doKerning!==!1,A=0,b=e.length,P=0,I=u[0]||d,O=[];for(n=0;n<b;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?O.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(A=x&&Tn(f[r])==="object"&&!isNaN(parseInt(f[r][P],10))?f[r][P]/m:0,O.push((u[r]||I)/d+A)),P=r;return O},gb=$c.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return $c.processArabic&&(e=$c.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:Vf.apply(this,arguments).reduce(function(s,o){return s+o},0)},mb=function(e,t,n,r){for(var i=[],s=0,o=e.length,u=0;s!==o&&u+t[s]<n;)u+=t[s],s++;i.push(e.slice(0,s));var d=s;for(u=0;s!==o;)u+t[s]>r&&(i.push(e.slice(d,s)),u=0,d=s),u+=t[s],s++;return d!==s&&i.push(e.slice(d,s)),i},xb=function(e,t,n){n||(n={});var r,i,s,o,u,d,f,m=[],x=[m],A=n.textIndent||0,b=0,P=0,I=e.split(" "),O=Vf.apply(this,[" ",n])[0];if(d=n.lineIndent===-1?I[0].length+2:n.lineIndent||0){var E=Array(d).join(" "),_=[];I.map(function(R){(R=R.split(/\s*\n/)).length>1?_=_.concat(R.map(function(V,ie){return(ie&&V.length?`
`:"")+V})):_.push(R[0])}),I=_,d=gb.apply(this,[E,n])}for(s=0,o=I.length;s<o;s++){var L=0;if(r=I[s],d&&r[0]==`
`&&(r=r.substr(1),L=1),A+b+(P=(i=Vf.apply(this,[r,n])).reduce(function(R,V){return R+V},0))>t||L){if(P>t){for(u=mb.apply(this,[r,i,t-(A+b),t]),m.push(u.shift()),m=[u.pop()];u.length;)x.push([u.shift()]);P=i.slice(r.length-(m[0]?m[0].length:0)).reduce(function(R,V){return R+V},0)}else m=[r];x.push(m),A=P+d,b=O}else m.push(r),A+=b+P,b=O}return f=d?function(R,V){return(V?E:"")+R.join(" ")}:function(R){return R.join(" ")},x.map(f)},$c.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var x=this.internal.getFont(m.fontName,m.fontStyle);return x.metadata.Unicode?{widths:x.metadata.Unicode.widths||{0:1},kerning:x.metadata.Unicode.kerning||{}}:{font:x.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var o=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var u,d,f=[];for(u=0,d=r.length;u<d;u++)f=f.concat(xb.apply(this,[r[u],o,s]));return f},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},i=0;i<t.length;i++)n[t[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=t[i];var s=function(x){return"0x"+parseInt(x,10).toString(16)},o=e.__fontmetrics__.compress=function(x){var A,b,P,I,O=["{"];for(var E in x){if(A=x[E],isNaN(parseInt(E,10))?b="'"+E+"'":(E=parseInt(E,10),b=(b=s(E).slice(2)).slice(0,-1)+r[b.slice(-1)]),typeof A=="number")A<0?(P=s(A).slice(3),I="-"):(P=s(A).slice(2),I=""),P=I+P.slice(0,-1)+r[P.slice(-1)];else{if(Tn(A)!=="object")throw new Error("Don't know what to do with value type "+Tn(A)+".");P=o(A)}O.push(b+P)}return O.push("}"),O.join("")},u=e.__fontmetrics__.uncompress=function(x){if(typeof x!="string")throw new Error("Invalid argument passed to uncompress.");for(var A,b,P,I,O={},E=1,_=O,L=[],R="",V="",ie=x.length-1,q=1;q<ie;q+=1)(I=x[q])=="'"?A?(P=A.join(""),A=void 0):A=[]:A?A.push(I):I=="{"?(L.push([_,P]),_={},P=void 0):I=="}"?((b=L.pop())[0][b[1]]=_,P=void 0,_=b[0]):I=="-"?E=-1:P===void 0?n.hasOwnProperty(I)?(R+=n[I],P=parseInt(R,16)*E,E=1,R=""):R+=I:n.hasOwnProperty(I)?(V+=n[I],_[P]=parseInt(V,16)*E,E=1,P=void 0,V=""):V+=I;return O},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},m={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(x){var A=x.font,b=m.Unicode[A.postScriptName];b&&(A.metadata.Unicode={},A.metadata.Unicode.widths=b.widths,A.metadata.Unicode.kerning=b.kerning);var P=f.Unicode[A.postScriptName];P&&(A.metadata.Unicode.encoding=P,A.encoding=P.codePages[0])}])}(jt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(Yd(u)),o.metadata=e.API.TTFFont.open(u),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(jt),function(e){function t(){return(Bt.canvg?Promise.resolve(Bt.canvg):yl(()=>import("./index.es-CCWaucdA.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}jt.API.addSvgAsImage=function(n,r,i,s,o,u,d,f){if(isNaN(r)||isNaN(i))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=s,m.height=o;var x=m.getContext("2d");x.fillStyle="#fff",x.fillRect(0,0,m.width,m.height);var A={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return t().then(function(P){return P.fromString(x,n,A)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(P){return P.render(A)}).then(function(){b.addImage(m.toDataURL("image/jpeg",1),r,i,s,o,d,f)})}}(),jt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},jt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(o),d=[],f=0,m=0,x=0;function A(P,I){var O,E=!1;for(O=0;O<P.length;O+=1)P[O]===I&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var b=u.length;for(x=0;x<b;x+=1)n[u[x]].value=n[u[x]].defaultValue,n[u[x]].explicitSet=!1}if(Tn(e)==="object"){for(i in e)if(s=e[i],A(u,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&A(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")d.push(String(s[f]-1));else if(s[f].length>1){for(m=0;m<s[f].length;m+=1)typeof s[f][m]!="number"&&(r=!1);r===!0&&d.push([s[f][0]-1,s[f][1]-1].join(" "))}n[i].value="["+d.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var P,I=[];for(P in n)n[P].explicitSet===!0&&(n[P].type==="name"?I.push("/"+P+" /"+n[P].value):I.push("/"+P+" "+n[P].value));I.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+I.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),d=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+o.length+u.length+i.length+d.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+u+d),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(jt.API),function(e){var t=e.API,n=t.pdfEscape16=function(s,o){for(var u,d=o.metadata.Unicode.widths,f=["","0","00","000","0000"],m=[""],x=0,A=s.length;x<A;++x){if(u=o.metadata.characterToGlyph(s.charCodeAt(x)),o.metadata.glyIdsUsed.push(u),o.metadata.toUnicode[u]=s.charCodeAt(x),d.indexOf(u)==-1&&(d.push(u),d.push([parseInt(o.metadata.widthOfGlyph(u),10)])),u=="0")return m.join("");u=u.toString(16),m.push(f[4-u.length],u)}return m.join("")},r=function(s){var o,u,d,f,m,x,A;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],x=0,A=(u=Object.keys(s).sort(function(b,P){return b-P})).length;x<A;x++)o=u[x],d.length>=100&&(m+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(f=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),d.push("<"+o+"><"+f+">"));return d.length&&(m+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(o){var u=o.font,d=o.out,f=o.newObject,m=o.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var x=u.metadata.Unicode.widths,A=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),b="",P=0;P<A.length;P++)b+=String.fromCharCode(A[P]);var I=f();m({data:b,addLength1:!0,objectId:I}),d("endobj");var O=f();m({data:r(u.metadata.toUnicode),addLength1:!0,objectId:O}),d("endobj");var E=f();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Zc(u.fontName)),d("/FontFile2 "+I+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/Flags "+u.metadata.flags),d("/StemV "+u.metadata.stemV),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d(">>"),d("endobj");var _=f();d("<<"),d("/Type /Font"),d("/BaseFont /"+Zc(u.fontName)),d("/FontDescriptor "+E+" 0 R"),d("/W "+e.API.PDFObject.convert(x)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+u.encoding+")"),d(">>"),d(">>"),d("endobj"),u.objectNumber=f(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+O+" 0 R"),d("/BaseFont /"+Zc(u.fontName)),d("/Encoding /"+u.encoding),d("/DescendantFonts ["+_+" 0 R]"),d(">>"),d("endobj"),u.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(o){var u=o.font,d=o.out,f=o.newObject,m=o.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var x=u.metadata.rawData,A="",b=0;b<x.length;b++)A+=String.fromCharCode(x[b]);var P=f();m({data:A,addLength1:!0,objectId:P}),d("endobj");var I=f();m({data:r(u.metadata.toUnicode),addLength1:!0,objectId:I}),d("endobj");var O=f();d("<<"),d("/Descent "+u.metadata.decender),d("/CapHeight "+u.metadata.capHeight),d("/StemV "+u.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+P+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),d("/FontName /"+Zc(u.fontName)),d("/ItalicAngle "+u.metadata.italicAngle),d("/Ascent "+u.metadata.ascender),d(">>"),d("endobj"),u.objectNumber=f();for(var E=0;E<u.metadata.hmtx.widths.length;E++)u.metadata.hmtx.widths[E]=parseInt(u.metadata.hmtx.widths[E]*(1e3/u.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+I+" 0 R/BaseFont/"+Zc(u.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),d("endobj"),u.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,u=s.text||"",d=s.x,f=s.y,m=s.options||{},x=s.mutex||{},A=x.pdfEscape,b=x.activeFontKey,P=x.fonts,I=b,O="",E=0,_="",L=P[I].encoding;if(P[I].encoding!=="Identity-H")return{text:u,x:d,y:f,options:m,mutex:x};for(_=u,I=b,Array.isArray(u)&&(_=u[0]),E=0;E<_.length;E+=1)P[I].metadata.hasOwnProperty("cmap")&&(o=P[I].metadata.cmap.unicode.codeMap[_[E].charCodeAt(0)]),o||_[E].charCodeAt(0)<256&&P[I].metadata.hasOwnProperty("Unicode")?O+=_[E]:O+="";var R="";return parseInt(I.slice(1))<14||L==="WinAnsiEncoding"?R=A(O,I).split("").map(function(V){return V.charCodeAt(0).toString(16)}).join(""):L==="Identity-H"&&(R=n(O,P[I])),x.isHex=!0,{text:R,x:d,y:f,options:m,mutex:x}};t.events.push(["postProcessText",function(s){var o=s.text||"",u=[],d={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var f=0;for(f=0;f<o.length;f+=1)Array.isArray(o[f])&&o[f].length===3?u.push([i(Object.assign({},d,{text:o[f][0]})).text,o[f][1],o[f][2]]):u.push(i(Object.assign({},d,{text:o[f]})).text);s.text=u}else s.text=i(Object.assign({},d,{text:o})).text}])}(jt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(jt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,o,u,d,f,m,x=t,A=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],P={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},I={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),_=!1,L=0;this.__bidiEngine__={};var R=function(W){var B=W.charCodeAt(),ee=B>>8,te=I[ee];return te!==void 0?x[256*te+(255&B)]:ee===252||ee===253?"AL":E.test(ee)?"L":ee===8?"R":"N"},V=function(W){for(var B,ee=0;ee<W.length;ee++){if((B=R(W.charAt(ee)))==="L")return!1;if(B==="R")return!0}return!1},ie=function(W,B,ee,te){var J,be,ve,fe,Ce=B[te];switch(Ce){case"L":case"R":_=!1;break;case"N":case"AN":break;case"EN":_&&(Ce="AN");break;case"AL":_=!0,Ce="R";break;case"WS":Ce="N";break;case"CS":te<1||te+1>=B.length||(J=ee[te-1])!=="EN"&&J!=="AN"||(be=B[te+1])!=="EN"&&be!=="AN"?Ce="N":_&&(be="AN"),Ce=be===J?be:"N";break;case"ES":Ce=(J=te>0?ee[te-1]:"B")==="EN"&&te+1<B.length&&B[te+1]==="EN"?"EN":"N";break;case"ET":if(te>0&&ee[te-1]==="EN"){Ce="EN";break}if(_){Ce="N";break}for(ve=te+1,fe=B.length;ve<fe&&B[ve]==="ET";)ve++;Ce=ve<fe&&B[ve]==="EN"?"EN":"N";break;case"NSM":if(o&&!u){for(fe=B.length,ve=te+1;ve<fe&&B[ve]==="NSM";)ve++;if(ve<fe){var Ie=W[te],Ue=Ie>=1425&&Ie<=2303||Ie===64286;if(J=B[ve],Ue&&(J==="R"||J==="AL")){Ce="R";break}}}Ce=te<1||(J=B[te-1])==="B"?"N":ee[te-1];break;case"B":_=!1,i=!0,Ce=L;break;case"S":s=!0,Ce="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":_=!1;break;case"BN":Ce="N"}return Ce},q=function(W,B,ee){var te=W.split("");return ee&&K(te,ee,{hiLevel:L}),te.reverse(),B&&B.reverse(),te.join("")},K=function(W,B,ee){var te,J,be,ve,fe,Ce=-1,Ie=W.length,Ue=0,M=[],ne=L?b:A,oe=[];for(_=!1,i=!1,s=!1,J=0;J<Ie;J++)oe[J]=R(W[J]);for(be=0;be<Ie;be++){if(fe=Ue,M[be]=ie(W,oe,M,be),te=240&(Ue=ne[fe][P[M[be]]]),Ue&=15,B[be]=ve=ne[Ue][5],te>0)if(te===16){for(J=Ce;J<be;J++)B[J]=1;Ce=-1}else Ce=-1;if(ne[Ue][6])Ce===-1&&(Ce=be);else if(Ce>-1){for(J=Ce;J<be;J++)B[J]=ve;Ce=-1}oe[be]==="B"&&(B[be]=0),ee.hiLevel|=ve}s&&function(pe,he,Pe){for(var Le=0;Le<Pe;Le++)if(pe[Le]==="S"){he[Le]=L;for(var Oe=Le-1;Oe>=0&&pe[Oe]==="WS";Oe--)he[Oe]=L}}(oe,B,Ie)},$=function(W,B,ee,te,J){if(!(J.hiLevel<W)){if(W===1&&L===1&&!i)return B.reverse(),void(ee&&ee.reverse());for(var be,ve,fe,Ce,Ie=B.length,Ue=0;Ue<Ie;){if(te[Ue]>=W){for(fe=Ue+1;fe<Ie&&te[fe]>=W;)fe++;for(Ce=Ue,ve=fe-1;Ce<ve;Ce++,ve--)be=B[Ce],B[Ce]=B[ve],B[ve]=be,ee&&(be=ee[Ce],ee[Ce]=ee[ve],ee[ve]=be);Ue=fe}Ue++}}},ge=function(W,B,ee){var te=W.split(""),J={hiLevel:L};return ee||(ee=[]),K(te,ee,J),function(be,ve,fe){if(fe.hiLevel!==0&&m)for(var Ce,Ie=0;Ie<be.length;Ie++)ve[Ie]===1&&(Ce=O.indexOf(be[Ie]))>=0&&(be[Ie]=O[Ce+1])}(te,ee,J),$(2,te,B,ee,J),$(1,te,B,ee,J),te.join("")};return this.__bidiEngine__.doBidiReorder=function(W,B,ee){if(function(J,be){if(be)for(var ve=0;ve<J.length;ve++)be[ve]=ve;u===void 0&&(u=V(J)),f===void 0&&(f=V(J))}(W,B),o||!d||f)if(o&&d&&u^f)L=u?1:0,W=q(W,B,ee);else if(!o&&d&&f)L=u?1:0,W=ge(W,B,ee),W=q(W,B);else if(!o||u||d||f){if(o&&!d&&u^f)W=q(W,B),u?(L=0,W=ge(W,B,ee)):(L=1,W=ge(W,B,ee),W=q(W,B));else if(o&&u&&!d&&f)L=1,W=ge(W,B,ee),W=q(W,B);else if(!o&&!d&&u^f){var te=m;u?(L=1,W=ge(W,B,ee),L=0,m=!1,W=ge(W,B,ee),m=te):(L=0,W=ge(W,B,ee),W=q(W,B),L=1,m=!1,W=ge(W,B,ee),m=te,W=q(W,B))}}else L=0,W=ge(W,B,ee);else L=u?1:0,W=ge(W,B,ee);return W},this.__bidiEngine__.setOptions=function(W){W&&(o=W.isInputVisual,d=W.isOutputVisual,u=W.isInputRtl,f=W.isOutputRtl,m=W.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(o=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?o.push([n.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):o.push([n.doBidiReorder(i[u])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(jt),jt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new bl(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new oM(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new GR(this.contents),this.head=new XR(this),this.name=new eM(this),this.cmap=new QS(this),this.toUnicode={},this.hhea=new KR(this),this.maxp=new tM(this),this.hmtx=new nM(this),this.post=new QR(this),this.os2=new ZR(this),this.loca=new aM(this),this.glyf=new rM(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,u,d,f;for(f=[],o=0,u=(d=this.bbox).length;o<u;o++)t=d[o],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,o,u;for(o=0,s=0,u=(t=""+t).length;0<=u?s<u:s>u;s=0<=u?++s:--s)i=t.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var ya,bl=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,o,u,d;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),u=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^u)+(255^d)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*u+d},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),GR=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,o,u,d,f,m,x,A,b,P,I;for(I in b=Object.keys(n).length,d=Math.log(2),x=16*Math.floor(Math.log(b)/d),o=Math.floor(x/d),m=16*b-x,(i=new bl).writeInt(this.scalarType),i.writeShort(b),i.writeShort(x),i.writeShort(o),i.writeShort(m),s=16*b,f=i.pos+s,u=null,P=[],n)for(A=n[I],i.writeString(I),i.writeInt(e(A)),i.writeInt(f),i.writeInt(A.length),P=P.concat(A),I==="head"&&(u=f),f+=A.length;f%4;)P.push(0),f++;return i.write(P),r=2981146554-e(i.data),i.pos=u+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,o;for(n=JS.call(n);n.length%4;)n.push(0);for(s=new bl(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),YR={}.hasOwnProperty,Ua=function(e,t){for(var n in t)YR.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};ya=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var XR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ua(t,ya),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new bl).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),wb=function(){function e(t,n){var r,i,s,o,u,d,f,m,x,A,b,P,I,O,E,_,L;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),x=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(b=t.readUInt16(),A=b/2,t.pos+=6,s=function(){var R,V;for(V=[],d=R=0;0<=A?R<A:R>A;d=0<=A?++R:--R)V.push(t.readUInt16());return V}(),t.pos+=2,I=function(){var R,V;for(V=[],d=R=0;0<=A?R<A:R>A;d=0<=A?++R:--R)V.push(t.readUInt16());return V}(),f=function(){var R,V;for(V=[],d=R=0;0<=A?R<A:R>A;d=0<=A?++R:--R)V.push(t.readUInt16());return V}(),m=function(){var R,V;for(V=[],d=R=0;0<=A?R<A:R>A;d=0<=A?++R:--R)V.push(t.readUInt16());return V}(),i=(this.length-t.pos+this.offset)/2,u=function(){var R,V;for(V=[],d=R=0;0<=i?R<i:R>i;d=0<=i?++R:--R)V.push(t.readUInt16());return V}(),d=E=0,L=s.length;E<L;d=++E)for(O=s[d],r=_=P=I[d];P<=O?_<=O:_>=O;r=P<=O?++_:--_)m[d]===0?o=r+f[d]:(o=u[m[d]/2+(r-P)-(A-d)]||0)!==0&&(o+=f[d]),this.codeMap[r]=65535&o}t.pos=x}return e.encode=function(t,n){var r,i,s,o,u,d,f,m,x,A,b,P,I,O,E,_,L,R,V,ie,q,K,$,ge,W,B,ee,te,J,be,ve,fe,Ce,Ie,Ue,M,ne,oe,pe,he,Pe,Le,Oe,et,Ge,ut;switch(te=new bl,o=Object.keys(t).sort(function(Ke,ft){return Ke-ft}),n){case"macroman":for(I=0,O=function(){var Ke=[];for(P=0;P<256;++P)Ke.push(0);return Ke}(),_={0:0},s={},J=0,Ce=o.length;J<Ce;J++)_[Oe=t[i=o[J]]]==null&&(_[Oe]=++I),s[i]={old:t[i],new:_[t[i]]},O[i]=_[t[i]];return te.writeUInt16(1),te.writeUInt16(0),te.writeUInt32(12),te.writeUInt16(0),te.writeUInt16(262),te.writeUInt16(0),te.write(O),{charMap:s,subtable:te.data,maxGlyphID:I+1};case"unicode":for(B=[],x=[],L=0,_={},r={},E=f=null,be=0,Ie=o.length;be<Ie;be++)_[V=t[i=o[be]]]==null&&(_[V]=++L),r[i]={old:V,new:_[V]},u=_[V]-i,E!=null&&u===f||(E&&x.push(E),B.push(i),f=u),E=i;for(E&&x.push(E),x.push(65535),B.push(65535),ge=2*($=B.length),K=2*Math.pow(Math.log($)/Math.LN2,2),A=Math.log(K/2)/Math.LN2,q=2*$-K,d=[],ie=[],b=[],P=ve=0,Ue=B.length;ve<Ue;P=++ve){if(W=B[P],m=x[P],W===65535){d.push(0),ie.push(0);break}if(W-(ee=r[W].new)>=32768)for(d.push(0),ie.push(2*(b.length+$-P)),i=fe=W;W<=m?fe<=m:fe>=m;i=W<=m?++fe:--fe)b.push(r[i].new);else d.push(ee-W),ie.push(0)}for(te.writeUInt16(3),te.writeUInt16(1),te.writeUInt32(12),te.writeUInt16(4),te.writeUInt16(16+8*$+2*b.length),te.writeUInt16(0),te.writeUInt16(ge),te.writeUInt16(K),te.writeUInt16(A),te.writeUInt16(q),Pe=0,M=x.length;Pe<M;Pe++)i=x[Pe],te.writeUInt16(i);for(te.writeUInt16(0),Le=0,ne=B.length;Le<ne;Le++)i=B[Le],te.writeUInt16(i);for(et=0,oe=d.length;et<oe;et++)u=d[et],te.writeUInt16(u);for(Ge=0,pe=ie.length;Ge<pe;Ge++)R=ie[Ge],te.writeUInt16(R);for(ut=0,he=b.length;ut<he;ut++)I=b[ut],te.writeUInt16(I);return{charMap:r,subtable:te.data,maxGlyphID:L+1}}},e}(),QS=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ua(t,ya),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new wb(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=wb.encode(n,r),(s=new bl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},t}(),KR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ua(t,ya),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),ZR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ua(t,ya),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),QR=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ua(t,ya),t.prototype.tag="post",t.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var u,d,f;for(f=[],o=u=0,d=this.file.maxp.numGlyphs;0<=d?u<d:u>d;o=0<=d?++u:--u)f.push(n.readUInt32());return f}).call(this)}},t}(),JR=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},eM=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ua(t,ya),t.prototype.tag="name",t.prototype.parse=function(n){var r,i,s,o,u,d,f,m,x,A,b;for(n.pos=this.offset,n.readShort(),r=n.readShort(),d=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+d+n.readShort()});for(f={},o=x=0,A=i.length;x<A;o=++x)s=i[o],n.pos=s.offset,m=n.readString(s.length),u=new JR(m,s),f[b=s.nameID]==null&&(f[b]=[]),f[s.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),tM=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ua(t,ya),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),nM=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ua(t,ya),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,i,s,o,u,d,f;for(n.pos=this.offset,this.metrics=[],r=0,d=this.file.hhea.numberOfMetrics;0<=d?r<d:r>d;r=0<=d?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,x;for(x=[],r=m=0;0<=s?m<s:m>s;r=0<=s?++m:--m)x.push(n.readInt16());return x}(),this.widths=(function(){var m,x,A,b;for(b=[],m=0,x=(A=this.metrics).length;m<x;m++)o=A[m],b.push(o.advance);return b}).call(this),i=this.widths[this.widths.length-1],f=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)f.push(this.widths.push(i));return f},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),JS=[].slice,rM=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ua(t,ya),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,i,s,o,u,d,f,m,x,A;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,u=(d=new bl(r.read(s))).readShort(),m=d.readShort(),A=d.readShort(),f=d.readShort(),x=d.readShort(),this.cache[n]=u===-1?new sM(d,m,A,f,x):new iM(d,u,m,A,f,x),this.cache[n]))},t.prototype.encode=function(n,r,i){var s,o,u,d,f;for(u=[],o=[],d=0,f=r.length;d<f;d++)s=n[r[d]],o.push(u.length),s&&(u=u.concat(s.encode(i)));return o.push(u.length),{table:u,offsets:o}},t}(),iM=function(){function e(t,n,r,i,s,o){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),sM=function(){function e(t,n,r,i,s){var o,u;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;u=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&u;)o.pos+=1&u?4:2,128&u?o.pos+=8:64&u?o.pos+=4:8&u&&(o.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new bl(JS.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),aM=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ua(t,ya),t.prototype.tag="loca",t.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,u=0;u<i.length;++u)if(i[u]=s,o<r.length&&r[o]==u){++o,i[u]=s;var d=this.offsets[u],f=this.offsets[u+1]-d;f>0&&(s+=f)}for(var m=new Array(4*i.length),x=0;x<i.length;++x)m[4*x+3]=255&i[x],m[4*x+2]=(65280&i[x])>>8,m[4*x+1]=(16711680&i[x])>>16,m[4*x]=(4278190080&i[x])>>24;return m},t}(),oM=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,o,u,d;for(i={},o=0,u=t.length;o<u;o++)i[s=t[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in d=this.glyphsFor(n))r=d[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,o,u,d,f,m,x,A,b,P,I,O,E;for(i in r=QS.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(t),b={0:0},E=r.charMap)b[(d=E[i]).old]=d.new;for(P in A=r.maxGlyphID,o)P in b||(b[P]=A++);return m=function(_){var L,R;for(L in R={},_)R[_[L]]=L;return R}(b),x=Object.keys(m).sort(function(_,L){return _-L}),I=function(){var _,L,R;for(R=[],_=0,L=x.length;_<L;_++)u=x[_],R.push(m[u]);return R}(),s=this.font.glyf.encode(o,I,b),f=this.font.loca.encode(s.offsets,I),O={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},e}();jt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var u,d,f;for(f=[],u=0,d=n.length;u<d;u++)r=n[u],f.push(t.convert(r));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+t.convert(o));return s.push(">>"),s.join(`
`)}return""+n},t}();var Vh={},lM=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},eN={},Is={};let Yx;const cM=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Is.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Is.getSymbolTotalCodewords=function(t){return cM[t]};Is.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Is.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Yx=t};Is.isKanjiModeEnabled=function(){return typeof Yx<"u"};Is.toSJIS=function(t){return Yx(t)};var W1={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}})(W1);function tN(){this.buffer=[],this.length=0}tN.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var uM=tN;function zh(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}zh.prototype.set=function(e,t,n,r){const i=e*this.size+t;this.data[i]=n,r&&(this.reservedBit[i]=!0)};zh.prototype.get=function(e,t){return this.data[e*this.size+t]};zh.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};zh.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var dM=zh,nN={};(function(e){const t=Is.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,u=[s-7];for(let d=1;d<i-1;d++)u[d]=u[d-1]-o;return u.push(6),u.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),o=s.length;for(let u=0;u<o;u++)for(let d=0;d<o;d++)u===0&&d===0||u===0&&d===o-1||u===o-1&&d===0||i.push([s[u],s[d]]);return i}})(nN);var rN={};const hM=Is.getSymbolSize,bb=7;rN.getPositions=function(t){const n=hM(t);return[[0,0],[n-bb,0],[0,n-bb]]};var iN={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let o=0,u=0,d=0,f=null,m=null;for(let x=0;x<s;x++){u=d=0,f=m=null;for(let A=0;A<s;A++){let b=i.get(x,A);b===f?u++:(u>=5&&(o+=t.N1+(u-5)),f=b,u=1),b=i.get(A,x),b===m?d++:(d>=5&&(o+=t.N1+(d-5)),m=b,d=1)}u>=5&&(o+=t.N1+(u-5)),d>=5&&(o+=t.N1+(d-5))}return o},e.getPenaltyN2=function(i){const s=i.size;let o=0;for(let u=0;u<s-1;u++)for(let d=0;d<s-1;d++){const f=i.get(u,d)+i.get(u,d+1)+i.get(u+1,d)+i.get(u+1,d+1);(f===4||f===0)&&o++}return o*t.N2},e.getPenaltyN3=function(i){const s=i.size;let o=0,u=0,d=0;for(let f=0;f<s;f++){u=d=0;for(let m=0;m<s;m++)u=u<<1&2047|i.get(f,m),m>=10&&(u===1488||u===93)&&o++,d=d<<1&2047|i.get(m,f),m>=10&&(d===1488||d===93)&&o++}return o*t.N3},e.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let d=0;d<o;d++)s+=i.data[d];return Math.abs(Math.ceil(s*100/o/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const o=s.size;for(let u=0;u<o;u++)for(let d=0;d<o;d++)s.isReserved(d,u)||s.xor(d,u,n(i,d,u))},e.getBestMask=function(i,s){const o=Object.keys(e.Patterns).length;let u=0,d=1/0;for(let f=0;f<o;f++){s(f),e.applyMask(f,i);const m=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(f,i),m<d&&(d=m,u=f)}return u}})(iN);var $1={};const il=W1,zf=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Hf=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];$1.getBlocksCount=function(t,n){switch(n){case il.L:return zf[(t-1)*4+0];case il.M:return zf[(t-1)*4+1];case il.Q:return zf[(t-1)*4+2];case il.H:return zf[(t-1)*4+3];default:return}};$1.getTotalCodewordsCount=function(t,n){switch(n){case il.L:return Hf[(t-1)*4+0];case il.M:return Hf[(t-1)*4+1];case il.Q:return Hf[(t-1)*4+2];case il.H:return Hf[(t-1)*4+3];default:return}};var sN={},G1={};const Xd=new Uint8Array(512),t1=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Xd[n]=t,t1[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Xd[n]=Xd[n-255]})();G1.log=function(t){if(t<1)throw new Error("log("+t+")");return t1[t]};G1.exp=function(t){return Xd[t]};G1.mul=function(t,n){return t===0||n===0?0:Xd[t1[t]+t1[n]]};(function(e){const t=G1;e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let u=0;u<i.length;u++)s[o+u]^=t.mul(r[o],i[u]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let d=0;d<i.length;d++)s[d]^=t.mul(i[d],o);let u=0;for(;u<s.length&&s[u]===0;)u++;s=s.slice(u)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}})(sN);const aN=sN;function Xx(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Xx.prototype.initialize=function(t){this.degree=t,this.genPoly=aN.generateECPolynomial(this.degree)};Xx.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=aN.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){const s=new Uint8Array(this.degree);return s.set(r,i),s}return r};var fM=Xx,oN={},Tl={},Kx={};Kx.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Va={};const lN="[0-9]+",pM="[A-Z $%*+\\-./:]+";let Ah="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ah=Ah.replace(/u/g,"\\u");const gM="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ah+`)(?:.|[\r
]))+`;Va.KANJI=new RegExp(Ah,"g");Va.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Va.BYTE=new RegExp(gM,"g");Va.NUMERIC=new RegExp(lN,"g");Va.ALPHANUMERIC=new RegExp(pM,"g");const mM=new RegExp("^"+Ah+"$"),xM=new RegExp("^"+lN+"$"),yM=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Va.testKanji=function(t){return mM.test(t)};Va.testNumeric=function(t){return xM.test(t)};Va.testAlphanumeric=function(t){return yM.test(t)};(function(e){const t=Kx,n=Va;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,o){if(e.isValid(s))return s;try{return r(s)}catch{return o}}})(Tl);(function(e){const t=Is,n=$1,r=W1,i=Tl,s=Kx,o=7973,u=t.getBCHDigit(o);function d(A,b,P){for(let I=1;I<=40;I++)if(b<=e.getCapacity(I,P,A))return I}function f(A,b){return i.getCharCountIndicator(A,b)+4}function m(A,b){let P=0;return A.forEach(function(I){const O=f(I.mode,b);P+=O+I.getBitsLength()}),P}function x(A,b){for(let P=1;P<=40;P++)if(m(A,P)<=e.getCapacity(P,b,i.MIXED))return P}e.from=function(b,P){return s.isValid(b)?parseInt(b,10):P},e.getCapacity=function(b,P,I){if(!s.isValid(b))throw new Error("Invalid QR Code version");typeof I>"u"&&(I=i.BYTE);const O=t.getSymbolTotalCodewords(b),E=n.getTotalCodewordsCount(b,P),_=(O-E)*8;if(I===i.MIXED)return _;const L=_-f(I,b);switch(I){case i.NUMERIC:return Math.floor(L/10*3);case i.ALPHANUMERIC:return Math.floor(L/11*2);case i.KANJI:return Math.floor(L/13);case i.BYTE:default:return Math.floor(L/8)}},e.getBestVersionForData=function(b,P){let I;const O=r.from(P,r.M);if(Array.isArray(b)){if(b.length>1)return x(b,O);if(b.length===0)return 1;I=b[0]}else I=b;return d(I.mode,I.getLength(),O)},e.getEncodedBits=function(b){if(!s.isValid(b)||b<7)throw new Error("Invalid QR Code version");let P=b<<12;for(;t.getBCHDigit(P)-u>=0;)P^=o<<t.getBCHDigit(P)-u;return b<<12|P}})(oN);var cN={};const c2=Is,uN=1335,vM=21522,Ab=c2.getBCHDigit(uN);cN.getEncodedBits=function(t,n){const r=t.bit<<3|n;let i=r<<10;for(;c2.getBCHDigit(i)-Ab>=0;)i^=uN<<c2.getBCHDigit(i)-Ab;return(r<<10|i)^vM};var dN={};const wM=Tl;function Fu(e){this.mode=wM.NUMERIC,this.data=e.toString()}Fu.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Fu.prototype.getLength=function(){return this.data.length};Fu.prototype.getBitsLength=function(){return Fu.getBitsLength(this.data.length)};Fu.prototype.write=function(t){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),t.put(i,10);const s=this.data.length-n;s>0&&(r=this.data.substr(n),i=parseInt(r,10),t.put(i,s*3+1))};var bM=Fu;const AM=Tl,mg=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Uu(e){this.mode=AM.ALPHANUMERIC,this.data=e}Uu.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Uu.prototype.getLength=function(){return this.data.length};Uu.prototype.getBitsLength=function(){return Uu.getBitsLength(this.data.length)};Uu.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=mg.indexOf(this.data[n])*45;r+=mg.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(mg.indexOf(this.data[n]),6)};var SM=Uu;const NM=Tl;function Vu(e){this.mode=NM.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Vu.getBitsLength=function(t){return t*8};Vu.prototype.getLength=function(){return this.data.length};Vu.prototype.getBitsLength=function(){return Vu.getBitsLength(this.data.length)};Vu.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var CM=Vu;const EM=Tl,_M=Is;function zu(e){this.mode=EM.KANJI,this.data=e}zu.getBitsLength=function(t){return t*13};zu.prototype.getLength=function(){return this.data.length};zu.prototype.getBitsLength=function(){return zu.getBitsLength(this.data.length)};zu.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=_M.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var TM=zu,hN={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var u=t.PriorityQueue.make();u.push(r,0);for(var d,f,m,x,A,b,P,I,O;!u.empty();){d=u.pop(),f=d.value,x=d.cost,A=n[f]||{};for(m in A)A.hasOwnProperty(m)&&(b=A[m],P=x+b,I=o[m],O=typeof o[m]>"u",(O||I>P)&&(o[m]=P,u.push(m,P),s[m]=f))}if(typeof i<"u"&&typeof o[i]>"u"){var E=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(E)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(hN);var IM=hN.exports;(function(e){const t=Tl,n=bM,r=SM,i=CM,s=TM,o=Va,u=Is,d=IM;function f(E){return unescape(encodeURIComponent(E)).length}function m(E,_,L){const R=[];let V;for(;(V=E.exec(L))!==null;)R.push({data:V[0],index:V.index,mode:_,length:V[0].length});return R}function x(E){const _=m(o.NUMERIC,t.NUMERIC,E),L=m(o.ALPHANUMERIC,t.ALPHANUMERIC,E);let R,V;return u.isKanjiModeEnabled()?(R=m(o.BYTE,t.BYTE,E),V=m(o.KANJI,t.KANJI,E)):(R=m(o.BYTE_KANJI,t.BYTE,E),V=[]),_.concat(L,R,V).sort(function(q,K){return q.index-K.index}).map(function(q){return{data:q.data,mode:q.mode,length:q.length}})}function A(E,_){switch(_){case t.NUMERIC:return n.getBitsLength(E);case t.ALPHANUMERIC:return r.getBitsLength(E);case t.KANJI:return s.getBitsLength(E);case t.BYTE:return i.getBitsLength(E)}}function b(E){return E.reduce(function(_,L){const R=_.length-1>=0?_[_.length-1]:null;return R&&R.mode===L.mode?(_[_.length-1].data+=L.data,_):(_.push(L),_)},[])}function P(E){const _=[];for(let L=0;L<E.length;L++){const R=E[L];switch(R.mode){case t.NUMERIC:_.push([R,{data:R.data,mode:t.ALPHANUMERIC,length:R.length},{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.ALPHANUMERIC:_.push([R,{data:R.data,mode:t.BYTE,length:R.length}]);break;case t.KANJI:_.push([R,{data:R.data,mode:t.BYTE,length:f(R.data)}]);break;case t.BYTE:_.push([{data:R.data,mode:t.BYTE,length:f(R.data)}])}}return _}function I(E,_){const L={},R={start:{}};let V=["start"];for(let ie=0;ie<E.length;ie++){const q=E[ie],K=[];for(let $=0;$<q.length;$++){const ge=q[$],W=""+ie+$;K.push(W),L[W]={node:ge,lastCount:0},R[W]={};for(let B=0;B<V.length;B++){const ee=V[B];L[ee]&&L[ee].node.mode===ge.mode?(R[ee][W]=A(L[ee].lastCount+ge.length,ge.mode)-A(L[ee].lastCount,ge.mode),L[ee].lastCount+=ge.length):(L[ee]&&(L[ee].lastCount=ge.length),R[ee][W]=A(ge.length,ge.mode)+4+t.getCharCountIndicator(ge.mode,_))}}V=K}for(let ie=0;ie<V.length;ie++)R[V[ie]].end=0;return{map:R,table:L}}function O(E,_){let L;const R=t.getBestModeForData(E);if(L=t.from(_,R),L!==t.BYTE&&L.bit<R.bit)throw new Error('"'+E+'" cannot be encoded with mode '+t.toString(L)+`.
 Suggested mode is: `+t.toString(R));switch(L===t.KANJI&&!u.isKanjiModeEnabled()&&(L=t.BYTE),L){case t.NUMERIC:return new n(E);case t.ALPHANUMERIC:return new r(E);case t.KANJI:return new s(E);case t.BYTE:return new i(E)}}e.fromArray=function(_){return _.reduce(function(L,R){return typeof R=="string"?L.push(O(R,null)):R.data&&L.push(O(R.data,R.mode)),L},[])},e.fromString=function(_,L){const R=x(_,u.isKanjiModeEnabled()),V=P(R),ie=I(V,L),q=d.find_path(ie.map,"start","end"),K=[];for(let $=1;$<q.length-1;$++)K.push(ie.table[q[$]].node);return e.fromArray(b(K))},e.rawSplit=function(_){return e.fromArray(x(_,u.isKanjiModeEnabled()))}})(dN);const Y1=Is,xg=W1,kM=uM,LM=dM,PM=nN,OM=rN,u2=iN,d2=$1,DM=fM,n1=oN,jM=cN,RM=Tl,yg=dN;function MM(e,t){const n=e.size,r=OM.getPositions(t);for(let i=0;i<r.length;i++){const s=r[i][0],o=r[i][1];for(let u=-1;u<=7;u++)if(!(s+u<=-1||n<=s+u))for(let d=-1;d<=7;d++)o+d<=-1||n<=o+d||(u>=0&&u<=6&&(d===0||d===6)||d>=0&&d<=6&&(u===0||u===6)||u>=2&&u<=4&&d>=2&&d<=4?e.set(s+u,o+d,!0,!0):e.set(s+u,o+d,!1,!0))}}function BM(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function FM(e,t){const n=PM.getPositions(t);for(let r=0;r<n.length;r++){const i=n[r][0],s=n[r][1];for(let o=-2;o<=2;o++)for(let u=-2;u<=2;u++)o===-2||o===2||u===-2||u===2||o===0&&u===0?e.set(i+o,s+u,!0,!0):e.set(i+o,s+u,!1,!0)}}function UM(e,t){const n=e.size,r=n1.getEncodedBits(t);let i,s,o;for(let u=0;u<18;u++)i=Math.floor(u/3),s=u%3+n-8-3,o=(r>>u&1)===1,e.set(i,s,o,!0),e.set(s,i,o,!0)}function vg(e,t,n){const r=e.size,i=jM.getEncodedBits(t,n);let s,o;for(s=0;s<15;s++)o=(i>>s&1)===1,s<6?e.set(s,8,o,!0):s<8?e.set(s+1,8,o,!0):e.set(r-15+s,8,o,!0),s<8?e.set(8,r-s-1,o,!0):s<9?e.set(8,15-s-1+1,o,!0):e.set(8,15-s-1,o,!0);e.set(r-8,8,1,!0)}function VM(e,t){const n=e.size;let r=-1,i=n-1,s=7,o=0;for(let u=n-1;u>0;u-=2)for(u===6&&u--;;){for(let d=0;d<2;d++)if(!e.isReserved(i,u-d)){let f=!1;o<t.length&&(f=(t[o]>>>s&1)===1),e.set(i,u-d,f),s--,s===-1&&(o++,s=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function zM(e,t,n){const r=new kM;n.forEach(function(d){r.put(d.mode.bit,4),r.put(d.getLength(),RM.getCharCountIndicator(d.mode,e)),d.write(r)});const i=Y1.getSymbolTotalCodewords(e),s=d2.getTotalCodewordsCount(e,t),o=(i-s)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const u=(o-r.getLengthInBits())/8;for(let d=0;d<u;d++)r.put(d%2?17:236,8);return HM(r,e,t)}function HM(e,t,n){const r=Y1.getSymbolTotalCodewords(t),i=d2.getTotalCodewordsCount(t,n),s=r-i,o=d2.getBlocksCount(t,n),u=r%o,d=o-u,f=Math.floor(r/o),m=Math.floor(s/o),x=m+1,A=f-m,b=new DM(A);let P=0;const I=new Array(o),O=new Array(o);let E=0;const _=new Uint8Array(e.buffer);for(let q=0;q<o;q++){const K=q<d?m:x;I[q]=_.slice(P,P+K),O[q]=b.encode(I[q]),P+=K,E=Math.max(E,K)}const L=new Uint8Array(r);let R=0,V,ie;for(V=0;V<E;V++)for(ie=0;ie<o;ie++)V<I[ie].length&&(L[R++]=I[ie][V]);for(V=0;V<A;V++)for(ie=0;ie<o;ie++)L[R++]=O[ie][V];return L}function qM(e,t,n,r){let i;if(Array.isArray(e))i=yg.fromArray(e);else if(typeof e=="string"){let f=t;if(!f){const m=yg.rawSplit(e);f=n1.getBestVersionForData(m,n)}i=yg.fromString(e,f||40)}else throw new Error("Invalid data");const s=n1.getBestVersionForData(i,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const o=zM(t,n,i),u=Y1.getSymbolSize(t),d=new LM(u);return MM(d,t),BM(d),FM(d,t),vg(d,n,0),t>=7&&UM(d,t),VM(d,o),isNaN(r)&&(r=u2.getBestMask(d,vg.bind(null,d,n))),u2.applyMask(r,d),vg(d,n,r),{modules:d,version:t,errorCorrectionLevel:n,maskPattern:r,segments:i}}eN.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=xg.M,i,s;return typeof n<"u"&&(r=xg.from(n.errorCorrectionLevel,xg.M),i=n1.from(n.version),s=u2.from(n.maskPattern),n.toSJISFunc&&Y1.setToSJISFunction(n.toSJISFunc)),qM(t,i,r,s)};var fN={},Zx={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const o=i.modules.size,u=i.modules.data,d=e.getScale(o,s),f=Math.floor((o+s.margin*2)*d),m=s.margin*d,x=[s.color.light,s.color.dark];for(let A=0;A<f;A++)for(let b=0;b<f;b++){let P=(A*f+b)*4,I=s.color.light;if(A>=m&&b>=m&&A<f-m&&b<f-m){const O=Math.floor((A-m)/d),E=Math.floor((b-m)/d);I=x[u[O*o+E]?1:0]}r[P++]=I.r,r[P++]=I.g,r[P++]=I.b,r[P]=I.a}}})(Zx);(function(e){const t=Zx;function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,o,u){let d=u,f=o;typeof d>"u"&&(!o||!o.getContext)&&(d=o,o=void 0),o||(f=r()),d=t.getOptions(d);const m=t.getImageWidth(s.modules.size,d),x=f.getContext("2d"),A=x.createImageData(m,m);return t.qrToImageData(A.data,s,d),n(x,f,m),x.putImageData(A,0,0),f},e.renderToDataURL=function(s,o,u){let d=u;typeof d>"u"&&(!o||!o.getContext)&&(d=o,o=void 0),d||(d={});const f=e.render(s,o,d),m=d.type||"image/png",x=d.rendererOpts||{};return f.toDataURL(m,x.quality)}})(fN);var pN={};const WM=Zx;function Sb(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function wg(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function $M(e,t,n){let r="",i=0,s=!1,o=0;for(let u=0;u<e.length;u++){const d=Math.floor(u%t),f=Math.floor(u/t);!d&&!s&&(s=!0),e[u]?(o++,u>0&&d>0&&e[u-1]||(r+=s?wg("M",d+n,.5+f+n):wg("m",i,0),i=0,s=!1),d+1<t&&e[u+1]||(r+=wg("h",o),o=0)):i++}return r}pN.render=function(t,n,r){const i=WM.getOptions(n),s=t.modules.size,o=t.modules.data,u=s+i.margin*2,d=i.color.light.a?"<path "+Sb(i.color.light,"fill")+' d="M0 0h'+u+"v"+u+'H0z"/>':"",f="<path "+Sb(i.color.dark,"stroke")+' d="'+$M(o,s,i.margin)+'"/>',m='viewBox="0 0 '+u+" "+u+'"',A='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+m+' shape-rendering="crispEdges">'+d+f+`</svg>
`;return typeof r=="function"&&r(null,A),A};const GM=lM,h2=eN,gN=fN,YM=pN;function Qx(e,t,n,r,i){const s=[].slice.call(arguments,1),o=s.length,u=typeof s[o-1]=="function";if(!u&&!GM())throw new Error("Callback required as last argument");if(u){if(o<2)throw new Error("Too few arguments provided");o===2?(i=n,n=t,t=r=void 0):o===3&&(t.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=r=void 0):o===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(d,f){try{const m=h2.create(n,r);d(e(m,t,r))}catch(m){f(m)}})}try{const d=h2.create(n,r);i(null,e(d,t,r))}catch(d){i(d)}}Vh.create=h2.create;Vh.toCanvas=Qx.bind(null,gN.render);Vh.toDataURL=Qx.bind(null,gN.renderToDataURL);Vh.toString=Qx.bind(null,function(e,t,n){return YM.render(e,n)});const XM=({order:e,onClose:t})=>{var s,o;const n=((s=e.tickets)==null?void 0:s.reduce((u,d)=>u+(d.quantity||0),0))||0,{events:r}=bo(),i=async()=>{var u,d;try{const f=new jt({unit:"pt",format:"a4"}),m=f.internal.pageSize.getWidth(),x=f.internal.pageSize.getHeight(),A=40;let b=A;f.setFillColor(17,24,39),f.rect(0,0,m,90,"F"),f.setTextColor(255,255,255),f.setFont("helvetica","bold"),f.setFontSize(22),f.text("Carnival LDN - Tickets",m/2,40,{align:"center"});const P=((u=r==null?void 0:r.find(O=>O.id===e.eventId))==null?void 0:u.title)||"Your Event";f.setFont("helvetica","normal"),f.setFontSize(13),f.text(P,m/2,62,{align:"center"}),b=110,f.setTextColor(55,65,81),f.setFontSize(12),f.text(`Order: ${e.id}`,A,b),b+=16,f.text(`Name: ${e.customerName||""}`,A,b),b+=16,f.text(`Email: ${e.customerEmail||""}`,A,b),b+=16,f.text(`Status: ${e.status}`,A,b),b+=16,f.text(`Total: £${((e.totalAmount||0)/100).toFixed(2)}`,A,b),b+=20;const I=e.tickets||[];for(let O=0;O<I.length;O++){const E=I[O];b+180>x-A&&(f.addPage(),b=A);const _=(()=>{var W;const $=r==null?void 0:r.find(B=>B.id===e.eventId),ge=(W=$==null?void 0:$.ticketTiers)==null?void 0:W.find(B=>B.id===E.ticketTierId);return(ge==null?void 0:ge.name)||E.ticketTierId})(),L=A,R=m-A*2,V=150;f.setDrawColor(229,231,235),f.setFillColor(249,250,251),f.rect(L,b,R,V,"FD");let ie=b+24;f.setTextColor(31,41,55),f.setFont("helvetica","bold"),f.setFontSize(14),f.text(`Ticket ${O+1}`,L+16,ie),ie+=18,f.setFont("helvetica","normal"),f.setFontSize(12),f.text(`Tier: ${_}`,L+16,ie),ie+=14,f.text(`Quantity: ${E.quantity}`,L+16,ie),ie+=14,f.text(`Unit: £${(E.unitPrice/100).toFixed(2)}   Total: £${(E.totalPrice/100).toFixed(2)}`,L+16,ie),ie+=18,f.setTextColor(75,85,99),f.text(`Order Ref: ${(d=e.id)==null?void 0:d.slice(0,8)}...`,L+16,ie);const q=JSON.stringify({orderId:e.id,ticketTierId:E.ticketTierId,quantity:E.quantity,customer:e.customerEmail}),K=await Vh.toDataURL(q,{width:120,margin:1,color:{dark:"#111827",light:"#FFFFFFFF"}});f.addImage(K,"PNG",m-A-136,b+15,120,120),b+=V+14}f.save(`tickets_${e.id}.pdf`)}catch(f){console.error("Failed to generate PDF:",f)}};return v.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsxs(lt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6 text-center",children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:v.jsx(yh,{className:"h-8 w-8 text-green-600"})}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Successful!"}),v.jsx("p",{className:"text-gray-600",children:"Your tickets have been purchased successfully! Check your email for the confirmation and attached PDF tickets."})]}),v.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:[v.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),v.jsxs("div",{className:"space-y-2 text-sm",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Order ID:"}),v.jsxs("span",{className:"font-mono text-gray-600",children:[((o=e.id)==null?void 0:o.slice(0,8))||"N/A","..."]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Total Tickets:"}),v.jsx("span",{className:"font-semibold",children:n})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Total Amount:"}),v.jsxs("span",{className:"font-semibold",children:["£",((e.totalAmount||0)/100).toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Status:"}),v.jsx("span",{className:"text-green-600 font-semibold capitalize",children:e.status||"completed"})]})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[v.jsx(Px,{className:"h-4 w-4"}),v.jsxs("span",{children:["Confirmation & tickets sent to ",e.customerEmail||"your email"]})]}),v.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-600",children:[v.jsx(L1,{className:"h-4 w-4"}),v.jsx("span",{children:"PDF tickets attached to your email"})]})]}),v.jsxs("div",{className:"flex gap-3 mt-6",children:[v.jsx("button",{onClick:t,className:"flex-1 px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:"Close"}),v.jsxs("button",{onClick:i,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[v.jsx(Lx,{className:"h-4 w-4"}),"Download"]})]})]})})},KM=()=>{var L,R;const{events:e,getEvents:t,isLoading:n}=bo(),[r,i]=me.useState(null),[s,o]=me.useState(!1),[u,d]=me.useState(null),[f]=A_(),[m,x]=me.useState(!1),[A,b]=me.useState(null),[P,I]=me.useState(!0),{glitchRef:O,isGlitching:E,glitchType:_}=Mh();return me.useEffect(()=>{(async()=>{try{await t(),console.log("Events loaded in EventsPage:",e)}catch(ie){console.error("Failed to load events:",ie)}})()},[t]),me.useEffect(()=>{if(e.length>0){const V=f.get("event");V&&e.find(q=>q.id===V)&&(d(V),setTimeout(()=>{var q;(q=document.getElementById("events-grid"))==null||q.scrollIntoView({behavior:"smooth",block:"start"})},500))}},[e,f]),me.useEffect(()=>{const V=()=>{window.scrollY>100&&I(!1)};return window.addEventListener("scroll",V),()=>window.removeEventListener("scroll",V)},[]),v.jsxs("div",{className:"min-h-screen relative overflow-hidden",children:[v.jsx(T6,{}),v.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden pt-16 sm:pt-20 md:pt-32 pb-12 sm:pb-16 md:pb-24 px-2 sm:px-4",children:[v.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[v.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-150",children:v.jsx("source",{src:"/vid.mp4",type:"video/mp4"})}),v.jsx("div",{className:"absolute inset-0 bg-black/60"})]}),v.jsx("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-6 lg:px-8 text-center",children:v.jsxs(lt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"space-y-4 md:space-y-6 lg:space-y-8",children:[v.jsx(lt.h1,{ref:O,animate:{backgroundPosition:["0% 50%","100% 50%","0% 50%"]},transition:{duration:8,repeat:1/0,ease:"linear"},className:`text-6xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-8xl 2xl:text-8xl glitch-text ${E?`glitch-active glitch-${_}`:""}`,"data-text":"EVENTS",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"EVENTS"}),v.jsx(lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"text-base sm:text-lg md:text-xl lg:text-xl font-light max-w-4xl mx-auto leading-relaxed px-2 text-white drop-shadow-lg",children:v.jsxs(lt.span,{className:"inline-block px-3 sm:px-4 md:px-6 py-2 sm:py-2.5 md:py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20 text-sm sm:text-base md:text-lg",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.5)"},animate:{boxShadow:["0 0 10px rgba(255, 255, 255, 0.1)","0 0 20px rgba(255, 255, 255, 0.2)","0 0 10px rgba(255, 255, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:[v.jsx("span",{className:"block sm:hidden",children:"⚡ Events that hit different ⚡"}),v.jsx("span",{className:"hidden sm:block",children:"⚡ From rooftop raves to underground vibes - events that hit different ⚡"})]})}),v.jsx(lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"text-white/80 text-base sm:text-lg md:text-xl",children:n?v.jsx("span",{children:"Loading events..."}):v.jsxs("span",{children:[((L=e==null?void 0:e.filter(V=>!V.isArchived))==null?void 0:L.length)||0," upcoming events"]})}),v.jsx(lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.6},className:"flex flex-col sm:flex-row gap-3 sm:gap-4 md:gap-6 justify-center items-center pt-4 sm:pt-6 md:pt-8 px-2 sm:px-4",children:v.jsxs(lt.button,{onClick:()=>{var V;(V=document.getElementById("events-grid"))==null||V.scrollIntoView({behavior:"smooth",block:"start"})},whileHover:{scale:1.05,boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},whileTap:{scale:.95},className:"bg-transparent hover:bg-white/90 text-white hover:text-gray-900 px-4 sm:px-6 md:px-8 py-2.5 sm:py-3 md:py-4 text-base sm:text-base md:text-lg font-semibold rounded-lg border-2 border-white/70 w-3/4 sm:w-auto transition-all backdrop-blur-sm group flex items-center justify-center gap-3",children:[v.jsx("span",{children:"Get Tickets"}),v.jsx(q0,{className:"w-3 h-3 sm:w-4 sm:h-4 md:w-5 md:h-5 group-hover:translate-x-1 transition-transform"})]})})]})}),P&&v.jsx(lt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.8},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 w-full flex justify-center",children:v.jsxs(lt.div,{animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"flex flex-col items-center space-y-2 cursor-pointer",onClick:()=>{var V;(V=document.getElementById("events-grid"))==null||V.scrollIntoView({behavior:"smooth",block:"start"})},children:[v.jsx(lt.div,{animate:{y:[0,8,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-6 h-10 border-2 border-white/50 rounded-full flex justify-center",children:v.jsx(lt.div,{animate:{y:[0,12,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"w-1 h-3 bg-white/70 rounded-full mt-2"})}),v.jsx(lt.p,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"text-white/70 text-xs font-medium",children:"Scroll to explore"})]})})]}),v.jsxs("section",{id:"events-grid",className:"py-16 md:py-20 relative px-4 overflow-hidden",children:[v.jsxs("div",{className:"absolute inset-0 w-full h-full",children:[v.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover scale-150",children:v.jsx("source",{src:"/vid-ev.mp4",type:"video/mp4"})}),v.jsx("div",{className:"absolute inset-0 bg-gray-900/70"})]}),v.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 md:px-6 lg:px-8",children:[v.jsxs(lt.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-center mb-12 md:mb-16",children:[v.jsx(lt.h2,{className:`text-5xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-4 md:mb-6 text-white glitch-text ${E?`glitch-active glitch-${_}`:""}`,"data-text":"WHAT'S ON",style:{textTransform:"uppercase",letterSpacing:"0.1em"},children:"WHAT'S ON"}),v.jsx("div",{className:"flex justify-center",children:v.jsx(lt.span,{className:"inline-block px-3 sm:px-4 md:px-6 py-2 sm:py-2.5 md:py-3 bg-black/20 backdrop-blur-sm rounded-full border border-white/20 text-sm sm:text-base md:text-lg text-white/80",whileHover:{scale:1.05,boxShadow:"0 0 20px rgba(255, 255, 255, 0.3)",borderColor:"rgba(255, 255, 255, 0.5)"},animate:{boxShadow:["0 0 10px rgba(255, 255, 255, 0.1)","0 0 20px rgba(255, 255, 255, 0.2)","0 0 10px rgba(255, 255, 255, 0.1)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"🎭  Check out our upcoming events  🎭"})})]}),n?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("div",{className:"text-white text-lg mb-4",children:"Loading events..."}),v.jsx("div",{className:"text-white/70 text-sm",children:"Please wait while we fetch the latest events"})]}):!e||e.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("div",{className:"text-white text-lg mb-4",children:"No events available"}),v.jsx("div",{className:"text-white/70 text-sm",children:"Check back later for upcoming events"})]}):e.filter(V=>!V.isArchived).length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx("div",{className:"text-white text-lg mb-4",children:"No upcoming events"}),v.jsx("div",{className:"text-white/70 text-sm",children:"All events are currently archived"})]}):v.jsx("div",{className:`grid gap-6 md:gap-8 ${e.filter(V=>!V.isArchived).length===1?"grid-cols-1 max-w-md mx-auto":e.filter(V=>!V.isArchived).length===2?"grid-cols-1 md:grid-cols-2 max-w-4xl mx-auto":"grid-cols-1 md:grid-cols-2 lg:grid-cols-3"}`,children:e.filter(V=>!V.isArchived).map((V,ie)=>v.jsxs(lt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:u===V.id?.2:ie*.1},whileHover:{y:-4},className:`group relative bg-gradient-to-br from-white via-gray-50 to-white border rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer backdrop-blur-sm ${u===V.id?"border-blue-500 shadow-blue-500/25 scale-105 ring-2 ring-blue-500/20":"border-gray-100"}`,children:[v.jsxs("div",{className:"relative h-48 md:h-56 overflow-hidden",onClick:()=>{i(V),o(!0)},children:[u===V.id&&v.jsx("div",{className:"absolute top-4 right-4 z-10 bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg animate-pulse",children:"⭐ Featured Event"}),v.jsx("img",{src:V.image,alt:V.title,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-110",onError:q=>{const K=q.target;K.src=`https://via.placeholder.com/400x300/6B7280/FFFFFF?text=${encodeURIComponent(V.title)}`}}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),v.jsx("div",{className:"absolute top-4 left-4 flex flex-wrap gap-2",children:V.tags.slice(0,2).map(q=>v.jsx("span",{className:"bg-white/95 backdrop-blur-sm px-3 py-1.5 rounded-full text-xs font-semibold text-gray-800 shadow-sm border border-white/20",children:q},q))}),V.ticketTiers&&V.ticketTiers.length>0&&V.ticketTiers.every(q=>q.capacity-q.soldCount<=0||q.isActive===!1)&&v.jsx("div",{className:"absolute top-4 right-4 bg-red-500 text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-lg",children:"Sold Out"}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-4",children:v.jsx("h3",{className:"text-xl md:text-2xl font-bold text-white mb-2 leading-tight drop-shadow-lg",children:V.title})})]}),v.jsxs("div",{className:"p-5 md:p-6 space-y-4",onClick:()=>{i(V),o(!0)},children:[v.jsx("p",{className:"text-gray-600 text-sm leading-relaxed line-clamp-2",children:V.description}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[v.jsx(As,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),v.jsx("span",{className:"text-sm font-semibold text-gray-900",children:V.date})]}),v.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[v.jsx(ju,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),v.jsx("span",{className:"text-sm font-semibold text-gray-900",children:V.time})]}),v.jsxs("div",{className:"flex items-center justify-center gap-3 p-2.5 bg-gray-50 rounded-xl",children:[v.jsx(bc,{className:"w-4 h-4 text-gray-600 flex-shrink-0"}),v.jsx("span",{className:"text-sm font-semibold text-gray-900",children:V.venue})]})]}),V.ticketTiers&&V.ticketTiers.length>0&&v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("h4",{className:"text-sm font-semibold text-gray-700",children:"Ticket Options"}),v.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:["From £",(Math.min(...V.ticketTiers.map(q=>q.price))/100).toFixed(2)]})]}),v.jsxs("div",{className:"space-y-1.5",children:[V.ticketTiers.slice(0,2).map(q=>v.jsxs("div",{className:"flex items-center justify-between p-2.5 bg-gradient-to-r from-gray-50 to-white rounded-lg border border-gray-100",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),v.jsx("span",{className:"text-sm font-medium text-gray-800",children:q.name})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[q.originalPrice&&q.originalPrice>q.price&&v.jsxs("span",{className:"text-xs text-gray-400 line-through",children:["£",(q.originalPrice/100).toFixed(2)]}),v.jsxs("span",{className:"text-lg font-bold text-gray-900",children:["£",(q.price/100).toFixed(2)]})]})]},q.id)),V.ticketTiers.length>2&&v.jsx("div",{className:"text-center",children:v.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-3 py-1.5 rounded-full",children:["+",V.ticketTiers.length-2," more options"]})})]})]}),v.jsxs(lt.button,{onClick:q=>{q.stopPropagation(),i(V),x(!0)},whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-gray-900 via-gray-800 to-gray-800 hover:from-gray-800 hover:via-gray-700 hover:to-gray-800 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 text-sm md:text-base flex items-center justify-center gap-3 shadow-lg hover:shadow-xl group-hover:shadow-2xl",children:[V.ticketTiers&&V.ticketTiers.length>0?"Get Tickets":"Book Now",v.jsx(q0,{className:"w-4 h-4 transition-transform group-hover:translate-x-1"})]})]})]},V.id))})]})]}),s&&r&&v.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",onClick:()=>o(!1),children:v.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full overflow-hidden",onClick:V=>V.stopPropagation(),children:[v.jsxs("div",{className:"relative h-48 overflow-hidden",children:[v.jsx("img",{src:r.image,alt:r.title,className:"w-full h-full object-cover"}),v.jsx("button",{className:"absolute top-3 right-3 bg-white/90 rounded-full p-1",onClick:()=>o(!1),children:v.jsx(Rh,{className:"w-5 h-5 text-gray-700"})})]}),v.jsxs("div",{className:"p-6 space-y-4",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900",children:r.title}),v.jsx("p",{className:"text-gray-600 text-sm",children:r.description}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm text-gray-600",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(As,{className:"w-4 h-4"}),v.jsx("span",{children:r.date})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(ju,{className:"w-4 h-4"}),v.jsx("span",{children:r.time})]}),v.jsxs("div",{className:"flex items-center gap-2 sm:col-span-2",children:[v.jsx(bc,{className:"w-4 h-4"}),v.jsx("span",{children:r.venue})]})]}),r.ticketTiers&&r.ticketTiers.length>0&&v.jsxs("div",{children:[v.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Ticket Tiers"}),v.jsx("div",{className:"space-y-2",children:r.ticketTiers.map(V=>{const ie=V.capacity-V.soldCount,q=ie<=0||V.isActive===!1;return v.jsxs("div",{className:"flex items-center justify-between text-sm",children:[v.jsx("span",{className:"text-gray-700",children:V.name}),q?v.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs bg-red-100 text-red-700",children:"Sold out"}):v.jsxs("div",{className:"flex items-center gap-2",children:[V.originalPrice&&V.originalPrice>V.price&&v.jsxs("span",{className:"text-gray-400 line-through",children:["£",(V.originalPrice/100).toFixed(2)]}),v.jsxs("span",{className:"font-semibold text-gray-900",children:["£",(V.price/100).toFixed(2)]}),v.jsxs("span",{className:"text-xs text-gray-500",children:["(",ie," left)"]})]})]},V.id)})})]}),v.jsx("button",{onClick:()=>{o(!1),i(r),x(!0)},disabled:(R=r.ticketTiers)==null?void 0:R.every(V=>V.capacity-V.soldCount<=0||V.isActive===!1),className:"w-full bg-gray-900 hover:bg-gray-800 disabled:bg-gray-300 disabled:cursor-not-allowed text-white px-4 py-2 rounded-lg text-sm",children:"Buy Tickets"})]})]})}),m&&r&&v.jsx(uR,{event:r,onClose:()=>x(!1),onSuccess:V=>{b(V),x(!1)}}),A&&v.jsx(XM,{order:A,onClose:()=>b(null)}),v.jsx(rS,{})]})},ZM=()=>v.jsx("div",{className:"min-h-screen bg-gray-50",children:v.jsx(Aj,{})});function QM(){const{getEvents:e,subscribeToEvents:t}=bo();return me.useEffect(()=>{e();const n=t();return()=>{n==null||n.unsubscribe()}},[e,t]),v.jsxs("div",{className:"relative min-h-screen overflow-hidden",children:[v.jsx(r9,{}),v.jsx(T6,{}),v.jsx(tP,{}),v.jsx(e9,{}),v.jsx(t9,{}),v.jsx(n9,{}),v.jsx(rS,{})]})}function JM({children:e}){const{isAuthenticated:t}=bo();return t?v.jsx(v.Fragment,{children:e}):v.jsx(g_,{to:"/admin",replace:!0})}function eB(){return v.jsxs(b_,{children:[v.jsxs(x_,{children:[v.jsx(Gc,{path:"/",element:v.jsx(QM,{})}),v.jsx(Gc,{path:"/events",element:v.jsx(KM,{})}),v.jsx(Gc,{path:"/admin",element:v.jsx(E9,{})}),v.jsx(Gc,{path:"/admin/dashboard",element:v.jsx(JM,{children:v.jsx(Cj,{})})}),v.jsx(Gc,{path:"/scanner",element:v.jsx(ZM,{})})]}),v.jsx(P_,{}),v.jsx(wT,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#1f2937",color:"#fff",borderRadius:"8px",padding:"12px 16px",fontSize:"14px",fontWeight:"500"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}bg.createRoot(document.getElementById("root")).render(v.jsx(Wt.StrictMode,{children:v.jsx(eB,{})}));export{Tn as _,mi as c,r1 as g};
